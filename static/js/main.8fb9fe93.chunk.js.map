{"version":3,"sources":["selectors/selectors.js","selectors/configSelectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/itemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/index.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","helpers/localStorageHelpers.js","resources/getting-started/GS-bonus-ic.png","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/dashboard/forms/ValidItemHoc.js","components/common/img/Img.js","components/common/img/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/CampaignReceipt.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","constants/actionTypes.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","helpers/formatters.js","services/store-data/analytics.js","services/store-data/loop.js","constants/targeting.js","services/translations/translations.js","helpers/sanitizer.js","services/crypto/crypto.js","constants/misc.js","store/initialState.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","constants/spinners.js","services/smart-contracts/ethers.js","resources/getting-started/GS-email-ic.png","resources/getting-started/GS-create-ic.png","resources/getting-started/GS-launch-ic.png","actions/common.js","actions/uiActions.js","helpers/errors.js","helpers/numbers.js","actions/itemActions.js","services/auth/auth.js","helpers/timeHelpers.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","actions/campaignActions.js","actions/newItemsActions.js","actions/index.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/channelsReducer.js","reducers/ensReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","helpers/miscHelpers.js","resources/metamask-logo.png","resources/demo-logo.png","services/wallet/wallet.js","resources/404-no.png","resources/404-yes.png","resources/video-placeholder.jpg","resources/getting-started/GS-fund-ic.png","resources/getting-started/GS-place-ic.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/adex-market/actions.js","services/smart-contracts/actions/identity.js","services/adex-relayer/actions.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectRelayerConfig","state","getState","persist","config","relayer","selectFeeTokenWhitelist","createSelector","_ref","feeTokenWhitelist","reduce","all","t","tokens","Object","objectSpread","address","selectRoutineWithdrawTokens","_ref2","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","_ref3","map","selectMainToken","relayerConfig","_ref4","mainToken","selectSaiToken","_ref5","saiAddr","selectMainFeeToken","_ref6","selectAccount","account","selectChannels","channels","selectAuth","wallet","identity","authSig","authType","selectWallet","selectEmail","email","selectAuthSig","split","selectWalletAddress","selectAuthType","selectAccountIdentity","_ref7","selectAccountIdentityAddr","_ref8","selectAccountStats","_ref9","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","deployData","selectChannelsWithUserBalancesEligible","_ref15","withOutstandingBalance","toConsumableArray","selectChannelsWithUserBalancesAll","_ref16","withBalanceAll","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectPublisherMinRevenueReached","_ref18","_ref19","totalRevenue","decimals","bigNumberify","gt","parseUnits","selectIdentity","memory","selectEnsAddressByAddr","ensAddresses","_","selectSide","nav","side","selectGlobalUi","ui","global","selectConfirm","confirm","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectCompanyData","companyData","selectSpinnerById","id","selectRegistrationAllowed","ids","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectHideGettingStarted","hideGettingStarted","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","_opts$components","components","translate","selectAnalytics","analytics","selectAdvancedAnalytics","advanced","selectAnalyticsTimeframe","timeframe","selectDemandAnalytics","demand","selectAdvancedAnalyticsByType","type","campaignAnalytics","selectTotalStatsByAdUnits","adUnitId","slicedToArray","analyticsByChannel","values","byChannelStats","acc","curr","reportChannelToAdUnit","selectPublisherStatsByType","advancedByType","publisherStats","selectPublisherTotalImpressions","reportPublisherToAdUnit","value","Number","selectCampaignAnalyticsByChannelStats","campaignId","analyticsByType","selectCampaignAnalyticsByChannelToAdUnit","selectAnalyticsDataAggr","Math","max","apply","eventType","metric","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","aggr","selectCampaignEventsCount","selectTotalImpressions","eventCounts","selectTotalClicks","_ref20","selectTotalMoney","_ref21","eventPayouts","_ref22","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref23","_ref24","_ref25","filter","c","find","e","time","_ref26","selectAverageCPM","_ref27","_ref28","totalMoney","totalImpressions","selectStatsChartData","_ref30","noLastOne","rest","objectWithoutProperties","data","_ref31","_ref31$data","slice","memo","item","labels","push","formatDateTime","datasets","_ref29","parseFloat","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref32","_ref33","selectChartDatapointsClicks","_ref35","_ref36","selectChartDatapointsPayouts","_ref38","_ref39","selectChartDatapointsCPM","_ref41","_ref42","_ref43","payouts","impressions","result","n","i","toFixed","selectValidations","validations","selectValidationsById","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewCampaign","Campaign","CampaignModel","selectNewAdSlot","AdUnit","AdUnitModel","AdSlot","AdSlotModel","selectItemsByType","items","itemType","selectItemsArrayByType","selectCampaigns","selectCampaignById","selectCampaignUnitsById","adUnits","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignsArray","selectAdUnits","selectAdUnitById","selectAdUnitsArray","selectAdSlots","adSlots","selectAdSlotsArray","selectAdSlotById","selectCampaignsTableData","_ref$decimals","depositAsset","_item$spec","spec","_item$adUnits","firstUnit","to","concat","toReceipt","media","mediaUrl","mediaMime","title","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","ctr","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","ipfs","fallbackUnit","replace","selectAdUnitsTableData","impressionsByAdUnit","clicksByAdUnit","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","keys","key","website","earnings","selectCampaignStatsMaxValues","channelId","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","dA","avgCPM","dB","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","selectHasAdSlotImpressions","selectHas5000Impressions","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","units","SIDES","advertiser","publisher","selectDashboardBreadcrumbs","_ref4$pathname","pathname","paths","x","sideDashboard","sideDashboardBC","join","restBC","prev","selector","bc","restCopy","receiptAt","indexOf","__webpack_require__","d","__webpack_exports__","configSelectors_selectRelayerConfig","translationsSelectors_t","privilegesNames","valueToKey","IdentityPrivilegeLevel","tokenAvailableBalance","token","balance","feeToken","min","mul","lte","getTotalAccountRevenue","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","_callee2","withdrawTokens","wrap","_context2","next","_callee","revenuePr","revenue","balanceMainToken","_args","_context","sent","minFinal","tokenInMainTokenValue","t0","abrupt","add","stop","_x2","this","Promise","resolve","_x","getWithdrawTokensBalances","_callee4","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","_context4","getEthers","_callee3","tokenContract","available","_context3","balanceOf","_x4","balanceData","_x3","getAddressBalances","_x5","_getAddressBalances","_callee6","provider","calls","_context6","getBalance","path","serializedPath","balanceEth","formatEther","toString","tokensBalances","getAccountStats","_x6","_getAccountStats","_callee7","_ref11$outstandingBal","outstandingBalanceMainToken","getIdentity","_selectMainToken","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","_context7","total","deployed","privileges","then","res","catch","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","availableIdentityBalanceMainToken","totalIdentityBalanceMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_x7","_getOutstandingBalance","_callee8","withBalance","bigZero","initial","allOutstanding","_context8","amounts","ch","outstanding","outstandingAvailable","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","getAllValidatorsAuthForIdentity","_x9","_getAllValidatorsAuthForIdentity","_callee11","validatorAuthTokens","allValidators","tokenCalls","allTokens","validatorsAuth","_context11","_objectSpread2","channel","leader","validators","follower","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_callee10","_context10","getValidatorAuthToken","validatorId","_x12","saiDaiConversion","_callee5","_context5","_x10","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_x11","_tokenInMainTokenValue","_callee12","_selectMainToken2","valueInMainToken","_context12","toLowerCase","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","showOnTrezor","getAddresses","asyncToGenerator","regenerator_default","_ref3$from","_ref3$to","success","payload","ethereumGetAddress","signTx","params","txProps","signature","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","r","s","v","serializeTransaction","Error","error","sendTransaction","txData","signMessage","message","_args4","ethereumSignMessage","hex","hash","mode","SignatureModes","GETH","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","password","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","getAddress","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","floor","random","MAX_SAFE_INTEGER","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","baseUrl","Requester","getRequesters","requester","url","validator","processResponse","json","text","handleRequesterErrorRes","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","existingAuth","era","Date","now","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","fetch","headers","authorization","results","authTokens","lastApprovedState","route","method","closeCampaign","body","JSON","stringify","events","Content-Type","identityAnalytics","leaderAuth","limit","segmentByChannel","aggregates","queryParams","identityCampaignsAnalytics","isEthAddressERC20","addr","contract","isEthAddress","ethers","Contract","ERC20TokenABI","totalSupply","AddressZero","allowance","isConnectionLost","eth","race","reject","setTimeout","getBlockNumber","urlRegex","passwordRegex","validUrl","test","validateNumber","numberStr","isNaN","isFinite","validName","msg","errMsgArgs","validPassword","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$ens","ens","ensAddress","resolveName","code","loadFromLocalStorage","localStorage","getItem","parse","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Confirm","children","_useState","useState","_useState2","setOpen","_useSelector","useSelector","onConfirm","onCancel","noActionBtns","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","confirmLabel","cancelLabel","useEffect","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","withReactRouterLink","Decorated","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","history","createHref","handleClick","event","_this$props","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","assign","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","underline","externalIcon","isExternal","getUrl","linkProps","draggable","rel","style","Link","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","styles","_navIconHide","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingBottom","&:last-child","paddingRight","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","paddingLeft","drawerPaper","content","palette","background","default","padding","paddingTop","marginLeft","contentInner","breadcrumbElement","sideIndex","0","1","handleChange","ev","execute","useStyles","makeStyles","activeColor","accentOne","main","accentTwo","minWidth","&$selected","selected","light","indicator","SideSwitch","Box","bgcolor","boxShadow","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","&:hover","adxLink","hint","sideSwitch","marginBottom","useCommonStyles","SideNav","commonClasses","routerLocation","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","Translate","_ref$isProp","_ref$args","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","RRLink","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","Breadcrumbs","noWrap","SaveBtn","spinner","dirtyProps","save","validationId","disabled","wrapper","Fab","Check_default","Save_default","size","fabProgress","spinnerId","buttonSuccess","buttonProgress","marginTop","mediaRoot","img","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","ValidationHoc","validateId","validate","isValid","_ref$err","_ref$dirty","dirty","_ref$removeAll","removeAll","invalidFields","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","bind","assertThisInitialized","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","RRButton","G404","Grid","xs","textTransform","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","container","justify","align","PageNotFound_G404","sm","img_Img","IMG_404_1","window","IMG_404_2","adSlotPut","schemas","adUnitPut","campaignPut","ItemHoc","Item","objModel","dp","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","_this$state3","updateItem","_authType","editImg","_activeInput","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","errMsg","_this$props4","Joi","_this$props5","description","_this$props6","matchId","page_not_found_PageNotFound","isDemo","canEdit","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","md","lg","htmlFor","multiline","rows","validateDescription","Info_default","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","ValidItemHoc","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","MUIDataTableEnhanced","columns","dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","mapStatusIcons","humanFriendlyStatus","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","cellImg","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","formatAbbrNum","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","ReloadData","handleReload","react","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","RRImg","getCols","maxDeposit","customBodyRender","includes","truncateString","commify","sortDirection","enterDelay","Visibility","Receipt","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceipts","CampaignsTable","_useTableData","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","_page$pageValidation","pageValidation","onValid","stepsId","dirtyErrors","dirtyErrs","getDirtyValidationErrors","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","onKeyPressed","onKeyPress","Paper","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","FormSteps","CancelBtn","onSave","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","forEach","goToNextPageIfValid","MaterialUiStepper","FormSteps_FormSteps","fullHeight","innerHeight","grey","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialog","iconButton","textButton","fabButton","fabVariant","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","Cancel_default","closeDialog","NewAdUnitHoc","ItemForm","newValues","updateNewItem","addUnit","resetNewItem","saved","formControl","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","required","noSrcLabel","IconComponent","inputLabel","useRef","_React$useState","_React$useState2","labelWidth","setLabelWidth","offsetWidth","Select","ListSubheader","spinners_InputLoading","adUnitPost","AdTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","temp","addUtmLink","addUtmParameters","withHttp","removeFromUrl","URL","protocol","host","newQuery","_i","_Object$entries","entries","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getCroppedImgUrl","objUrl","pixelCrop","fileName","cropCanvas","scaleCanvas","crossOrigin","crop","round","y","getContext","drawImage","toBlob","file","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","imgForm","header","dropzone","alignContent","react_image_crop_default","imageStyle","imgDropzonePreview","dist_es","ValidImageHoc","ValidImage","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","exact","checkExactishAspect","masgArgs","validateMedia","getMediaSize","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","errImg","_getWidAndHightFromTy2","forms_ImgForm_ImgForm","getSuggestions","inputValue","allowCreate","validateCreation","suggestion","newSuggestion","chip","inputRoot","multiple","validateAutocomplete","errorText","onInit","defaultValue","setInputValue","suggestions","selectedItem","Autocomplete","getOptionLabel","option","onInputChange","renderInput","inputProps","SourcesSelect","SOURCES","collection","tag","score","placeholder","AdUnitTargeting","handleTargetChange","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","splice","targetTag","_ref2$source","autocomplete_Autocomplete","openOnClick","suggestionMatch","showSuggestionsWhenValueIsSet","slider","markLabel","collections","tg","newCollection","targeting","tags","_ref4$source","_ref4$target","AddIcon","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","openCampaign","OPENING_CAMPAIGN","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedItemsIds","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","esm_DateTimePicker","InputProps","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","isNumberString","moment","MomentUtils","getTotalImpressions","dep","CampaignFinance","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","date","valueOf","errDepAmnt","errMin","errFrom","errTo","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","UnitsTable","NewCampaignFormPreview","_newItem$temp","feesFormatted","totalSpendFormatted","getCampaignActualFees","FormsCommon_WalletAction","CampaignFormPreview_UnitsTable","addSlot","AdSlotBasic","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_newItem$minPerImpres","UPDATING_SLOTS_DEMAND","updateSlotsDemandThrottled","errWebsite","errType","updateNewSlot","dangerouslySetInnerHTML","__html","NewAdSlotHoc","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","_id","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","mainTokenSymbol","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","onInvalid","validateNewCampaignAdUnits","validateNewCampaignFinance","CampaignFormPreview","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","AdUnitsTable_RRImg","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","_props$selected","setSelectorArgs","allRowsSelected","AdSlotsTable_RRImg","AdSlotsTable_RRIconButton","AdSlotsTable","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","canEditImg","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackMediaUrl","fallbackTargetUrl","CardContent","updateItemTemp","_ref2$prop","_ref2$value","_ref2$item","ValidatedSlotMinCPM","minCPM","validateAmount","ValidatedSlotWebsite","validateWebsite","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","CampaignProps","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","_useSelector2","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","whiteSpace","pageBreak","pageBreakAfter","campaignBreakdown","companyName","firstLastName","country","creator","mb","mt","Table","TableHead","TableRow","TableCell","TableBody","CompanyDetails","updateCompanyData","a4","hideOnMobile","hideOnDesktop","CampaignReceipt","invoice","useParams","selectedByPropsOrParams","receipts","Receipt_CompanyDetails","react_to_print_lib_default","trigger","containers_Receipt_Receipt","VIEW_MODE","context","handleTabChange","tabIndex","CampaignActions","statistics","scrollButtons","clone","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","CampaignItem","ownProps","rowsView","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","cpm","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y4Label","y4Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","_ref$y4Color","y4Color","Chart","pluginService","register","afterDraw","chart","tooltip","_active","activePoint","controller","ctx","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","yLabel","formatFloatNumberWithCommas","hover","xAxes","gridLines","scaleLabel","labelString","ticks","autoSkip","callback","tick","array","yAxes","beginAtZero","drawOnChartArea","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","progress","StatsCard","explain","deepOrange","amber","lime","contrastThreshold","tonalOffset","disabledBackground","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","themeMUI","responsiveFontSizes","factor","infoStatsContainer","dashboardCardBody","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","averageCPM","loadingImpressions","loadingMoney","loadingCPM","loadingClicks","dataInSync","DashboardStats_StatsCard","updateAnalyticsTimeframe","Infinity","simplified_SimpleStatistics","DashboardStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","updateImgInfoLabel","updateImgLabel","updateImgErrMsg","updateImgExact","WithdrawFromIdentity","_useSelector3","amountToWithdraw","withdrawTo","_useSelector4","errAmount","errAddr","updateNewTransaction","NewTransactionHoc","TransactionHoc","txId","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","getErrMsg","saveFn","log","txs","txResults","WithdrawAnyTokenFromIdentityForm","numStr","tokenAddress","withdrawToSpinner","balanceAnySpinner","tokenBalance","tokenDecimals","errToken","validateAddress","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPageForm","handleValidate","_timeout","setEns","validateENS","withdrawAmount","setEnsSpinner","noValidate","IdentityWithdrawPreview","feesData","fees","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","identityAvailable","previewWarnMsgs","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","validateIdentityWithdraw","TransactionPreview","_ref4$transaction","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","addrIdentityPrivilege","setIdentityPrivilege","getFeesOnly","WithdrawAnyTokenFromIdentity","WithdrawAnyTokenFromIdentityPage","identityWithdrawAny","_ref9$transaction","withdrawOtherTokensFromIdentity","SetAccountENS","SetAccountENSPage","setIdentityENS","username","addIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","canMakeTx","identityEnsName","localWalletDownloadHref","setLocalWalletDownloadHref","loadBackupHref","obj","getRecoveryWalletData","expanded","setExpanded","AccountInfo_AccountItem","transactions_SetAccountENS","py","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","square","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","SaveAlt_default","transactions_SetIdentityPrivilege","transactions_WithdrawAnyTokenFromIdentity","useColorlibStepIconStyles","transition","completed","star","ColorlibConnector","line","backgroundSize","StepConnector","ColorlibStepIcon","_clsx","clsx","backgroundImage","Stars","createAdUnitTutorial","confirmAction","fundAccountTutorial","anchor_ExternalAnchor","launchFirstCampaign","createAdSlot","placeAdSlot","instructions","GettingStarted","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","isGettingStartedHidden","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","indexOfFirstIncompleteStep","findIndex","setActiveStep","esm_ExpandMore","Star","StarBorder","Hidden","mdUp","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","smDown","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","esm_Close","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","dataLoaded","setDataLoaded","minPublisherRevenueReached","showTxPrivLevelWarning","_updateInitialData","loadAccountData","updateInitialData","stopAccountDataUpdate","resolveEnsAddress","updateNav","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","Alert","severity","updatePrivilegesWarningAccepted","Account","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","w","goTo","confirmLogout","toExecute","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","_useState5","_useState6","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState7","_useState8","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","updateIdentity","updateIdentityWallet","signType","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","accessWarningCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","owner","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","final","infoPaper","gutters","input","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","useUtils_cfb96ac9","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAccount","analyticsLoop","analyticsCampaignsLoop","campaignsLoop","statsLoop","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","Core","Interface","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","digest","Channel","tokenAddr","tokenAmount","validUntil","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","fee","feeNum","div","feeDen","feeAddr","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","getWithdrawnPerUserOutstanding","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","functions","withdrawnPerUser","sub","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","getAllCampaigns","byEarner","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","balanceNum","_x8","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","eligible","c1","c2","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","sum","lt","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","executeRoutines","encode","routinesSweepTxCount","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","isSweepTx","getSwapAmountsByToken","saiToken","swaps","swapsSumInMainToken","swapsByToken","getSweepingTxnsIfNeeded","_getSweepingTxnsIfNeeded","amountInMainTokenNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","approveTxns","channelOpenTx","txnsByFeeToken","totalBN","mtBalance","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","extraTxFeesCount","getApproveTxns","approveForAddress","approveAmount","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","processExecuteByFeeTokens","extraData","closeChannel","_closeChannel","textObj","statusText","AdexNodeRequester","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","joinSymbol","substring","parts","number","decPlaces","pow","abbrev","string","Loop","syncAction","_syncAction","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","updateAccountAnalytics","loopName","stopOn","_syncAction2","updateAccountCampaignsAnalytics","Looper","_ref$loopName","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","makeStopCheck","startLoop","checkLoop","start","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","genders","Genders","translations_translate","setLang","translations","adexTranslations","translation","tpl","pattern","RegExp","interpolated","isValidElement","cloneElement","every","interpolate","lng","getKeyHash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","BID_STATES","ExchangeConstants","TIMEOUTS","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","campaings","web3Transactions","ethNetwork","networkId","gasData","market","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","listen","gtag","page_path","LOOP_TIMEOUT","updateUserCampaigns","accountStatsLoop","updateAccountStats","QUICK_WALLET_BACKUP","UPDATING_ACCOUNT_IDENTITY","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","ethereum","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","ethereumNetworkId","networkVersion","isMetaMask","types","updateGlobalUi","category","updateUiByIdentity","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","changeLanguage","get","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","caches","notifyNewTOS","grant","accepted","getErrorMsg","numStringCPMtoImpression","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","resUnit","passback","postAdSlot","getAllItems","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","addSig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","fillEmptyTime","prevAggr","intervals","nowUTC","utc","lastSixHoursPeriod","startOf","lastHour","subtract","end","last24Hours","last7Days","thisWeek","endOf","lastWeek","thisMonth","lastMonth","intervalsMs","interval","ammount","newAggr","diff","unix","prevAggrInInterval","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","feeTokens","_aggr$sort$reduce","aggregations","_withdrawTokens$depos","minBalance","currentAggr","currentChannelValue","hasMinBalance","currentTimeValue","feeSubtracted","currentAvailable","currentAdded","points","curInnerAggr","accountChanged","allAnalytics","updateValidatorAuthTokens","newAuth","aggrByChannelSegments","isAccountChanged","updateSlotsDemand","throttle","demandAnalytics","leading","trailing","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","updateGasData","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","getIdentityData","isLimitedVolume","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","checkSession","skipErrToast","getSession","signerAddress","cfg","getRelayerConfigData","getNetworkId","_callee14","_context14","getNetwork","getNetworkData","_callee15","network","_context15","isMetamaskMatters","_callee16","doesItMatter","_context16","onMetamaskNetworkChange","_x13","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","identityContractOwner","_x14","_x15","metamaskAccountCheck","_x16","_x17","_callee9","_context9","_x18","_x19","on","accounts","_x20","_x21","hasBackup","_callee17","salt","encryptedWallet","_context17","generateSalt","getWalletHash","getQuickWallet","makeBackup","_callee18","walletSalt","walletHash","_context18","backupWallet","_selectWallet","isLocal","_x24","_x25","t4","t5","_x26","_x27","_callee13","_context13","_x28","_x29","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validateEmailCheck","validatePassword","validatePasswordCheck","validateTOS","validateWallet","validateIdentityContractOwner","validateAccessWarning","validateCampaignUnits","_x22","_x23","validateCampaignValidators","validateAmounts","_ref21$maxDeposit","validateWithdrawAmount","availableIdentityBalanceMainTokenRaw","availableIdentityBalanceMainTokenFormatted","errorMsg","amount","validateCampaignAmount","isValidNumber","deposit","isValidDeposit","isValidMin","_x30","_x31","getCampaignDatesValidation","_ref28$created","validateCampaignDates","_x32","_x33","validateCampaignTitle","_x34","_x35","validateEthAddress","_ref33$nonZeroAddr","_ref33$nonERC","_ref34","_callee19","_context19","_x36","_x37","validatePrivilegesAddress","_ref36$setAddr","_ref36$walletAddr","_ref37","_callee20","isCurrentAddress","_context20","_x38","_x39","validatePrivLevel","_callee21","_context21","_x40","_x41","validateSchemaProp","_ref40","_callee22","_context22","_x42","validateEmail","validateNotExisting","_callee23","existing","_context23","getEmail","_x43","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","abort","readAsText","withdrawFromIdentity","identityData","getOwnerIdentities","lookupAddress","_selectIdentity","identityTxData","registerAccount","regAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectAccountStatsRa","_selectAccountStatsFo","updateCampaignState","getHumanFriendlyName","_selectAccount","getCampaigns","closeCampaignMarket","currentCampaign","tempValidators","_campaign$temp2","totalSpend","adSlotPost","currentSlot","_slot$minPerImpressio","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","campaignActions","newItemsActions","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","calledOn","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","derive","publicExtendedKey","HDNode","fromExtendedKey","_ref4$from","_ref4$to","transport","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","isMoment","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","semverGreaterThan","versionA","versionB","versionsA","versionsB","cache","latestVersion","latestTOS","currentVersion","currentTOS","tosVersion","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","statuses","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","baseIdentityAddr","identityRecoveryAddr","routineAuthorizationsRaw","bytecode","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","totalAmountInMainTokenNeeded","_ref16$sweepTxns","_ref16$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minRecommended","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesSweepTxCo","_tx$extraTxFeesCount","txFeeAmount","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","txnsRaw","executeTx","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","services_requester__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/main.8fb9fe93.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n\r\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\t(a = [], b = []) => a.length === b.length\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken || {}\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector, selectMainToken } from 'selectors'\r\nimport { bigNumberify, parseUnits } from 'ethers/utils'\r\n\r\nconst MIN_PUBLISHER_REVENUE = '30'\r\n\r\nexport const selectAccount = state => state.persist.account || {}\r\nexport const selectChannels = state => state.persist.channels\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet || {}\r\n)\r\n\r\nexport const selectEmail = createSelector(\r\n\tselectAccount,\r\n\t({ email }) => email\r\n)\r\n\r\nexport const selectEmailProvider = createSelector(\r\n\tselectEmail,\r\n\temail => (!!email ? email.split('@')[1] : null)\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectWalletAddress = createSelector(\r\n\tselectWallet,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity || {}\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAccountIdentityDeployData = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) => relayerData.deployData\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesEligible = createSelector(\r\n\tselectChannels,\r\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesAll = createSelector(\r\n\tselectChannels,\r\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\r\n)\r\n\r\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\r\n)\r\n\r\nexport const selectWalletPrivileges = createSelector(\r\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\r\n\t(privileges = {}, address) => privileges[address] || 0\r\n)\r\n\r\nexport const selectPublisherMinRevenueReached = createSelector(\r\n\t[selectAccountStatsRaw, selectMainToken],\r\n\t({ totalRevenue }, { decimals }) =>\r\n\t\tbigNumberify(totalRevenue || 0).gt(\r\n\t\t\tparseUnits(MIN_PUBLISHER_REVENUE, decimals)\r\n\t\t)\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectIdentity = state => state.memory.identity\r\n\r\nexport const selectEnsAddresses = state => state.persist.ensAddresses\r\n\r\nexport const selectEnsAddressByAddr = createSelector(\r\n\t[selectEnsAddresses, (_, address) => address],\r\n\t(ensAddresses, address) => ensAddresses[address] || ''\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { selectAccountIdentityAddr } from './accountSelectors'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectGlobalUi = state => state.persist.ui.global\r\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\r\nexport const selectSelectedItems = state => state.memory.selectedItems\r\nexport const selectConfirm = state => state.memory.confirm\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectIdentityUi = createSelector(\r\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\r\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\r\n)\r\n\r\nexport const selectCompanyData = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ companyData }) => companyData || {}\r\n)\r\n\r\nexport const selectSpinnerById = createSelector(\r\n\t[selectSpinners, (_, id) => id],\r\n\t(spinners, id) => spinners[id]\r\n)\r\n\r\nexport const selectMultipleSpinnersByIds = createSelector(\r\n\t[selectSpinners, (_, ids) => ids],\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\r\n)\r\n\r\nexport const selectEasterEggsAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowEasterEggs }) => allowEasterEggs\r\n)\r\n\r\nexport const selectPrivilegesWarningAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\r\n)\r\n\r\nexport const selectHideGettingStarted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ hideGettingStarted }) => hideGettingStarted\r\n)\r\n\r\nexport const selectSelectedCampaigns = createSelector(\r\n\tselectSelectedItems,\r\n\t({ campaigns }) => campaigns || []\r\n)\r\n\r\nexport const selectLoginDirectSide = createSelector(\r\n\tselectGlobalUi,\r\n\t({ goToSide }) => goToSide || ''\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createSelector(\r\n\t[\r\n\t\tselectLang,\r\n\t\t(_, val, opts = {}) => {\r\n\t\t\treturn { val, opts }\r\n\t\t},\r\n\t],\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''], components = [] } = opts\r\n\t\treturn translate(val, { isProp, args, components }, lang)\r\n\t}\r\n)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\r\n\r\nexport const selectAnalytics = state => state.persist.analytics\r\n\r\nexport const selectAnalyticsData = createSelector(\r\n\t[selectAnalytics, (_, side) => side],\r\n\t(analytics, side) => {\r\n\t\treturn analytics[side] || {}\r\n\t}\r\n)\r\n\r\nexport const selectAdvancedAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\tanalytics => analytics.advanced || {}\r\n)\r\n\r\nexport const selectAnalyticsTimeframe = createSelector(\r\n\tselectAnalytics,\r\n\t({ timeframe }) => {\r\n\t\treturn timeframe\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ campaigns }) => campaigns || {}\r\n)\r\n\r\nexport const selectDemandAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ demand }) => demand || {}\r\n)\r\n\r\nexport const selectAdvancedAnalyticsByType = createSelector(\r\n\t[selectAdvancedAnalytics, (_, type) => type],\r\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\r\n)\r\n\r\nexport const selectTotalStatsByAdUnits = createSelector(\r\n\t(state, { type, adUnitId }) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\t{ adUnitId },\r\n\t],\r\n\t([analyticsByChannel, { adUnitId }]) =>\r\n\t\tObject.values(analyticsByChannel.byChannelStats || {}).reduce(\r\n\t\t\t(acc, curr) => acc + curr.reportChannelToAdUnit[adUnitId] || 0,\r\n\t\t\t0\r\n\t\t)\r\n)\r\n\r\nexport const selectPublisherStatsByType = createSelector(\r\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\r\n\tadvancedByType => advancedByType.publisherStats || {}\r\n)\r\nexport const selectPublisherTotalImpressions = createSelector(\r\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\r\n\t({ reportPublisherToAdUnit }) => {\r\n\t\tconst totalImpressions = reportPublisherToAdUnit\r\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\r\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: 0\r\n\r\n\t\treturn totalImpressions\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\r\n\t(state, { type, campaignId } = {}) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\tcampaignId,\r\n\t],\r\n\t([analyticsByType, campaignId]) =>\r\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\r\n\t(state, { type, campaignId } = {}) => [\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t],\r\n\t([{ reportChannelToAdUnit }]) => {\r\n\t\treturn reportChannelToAdUnit || {}\r\n\t}\r\n)\r\n\r\nexport const selectMaxAdUnitStatByChannel = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t({ reportChannelToAdUnit }) => {\r\n\t\treturn reportChannelToAdUnit\r\n\t\t\t? Math.max.apply(null, Object.values(reportChannelToAdUnit))\r\n\t\t\t: 0\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsDataAggr = createSelector(\r\n\t[selectAnalytics, (_, opts = {}) => opts],\r\n\t(analytics = {}, { side, eventType, metric, timeframe }) => {\r\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\r\n\t\t// NOTE: It was working fine with default initial state but\r\n\t\t// when eventType CLICK was added if you were logged and had\r\n\t\t// old analytics the initialState is not applied === boom.\r\n\r\n\t\tconst {\r\n\t\t\t[side]: {\r\n\t\t\t\t[eventType]: { [metric]: { [timeframe]: { aggr } = {} } = {} } = {},\r\n\t\t\t} = {},\r\n\t\t} = analytics\r\n\r\n\t\treturn aggr\r\n\t}\r\n)\r\n\r\nexport function selectCampaignEventsCount(type, campaignId) {\r\n\treturn Object.values(\r\n\t\t// TODO: fix this selector w/o using getState\r\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\r\n\t\t\ttype,\r\n\t\t\tcampaignId,\r\n\t\t})\r\n\t).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nexport const selectTotalImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalMoney = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalImpressionsWithPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\t],\r\n\t([eventCounts, eventPayouts]) =>\r\n\t\teventCounts && eventPayouts\r\n\t\t\t? eventCounts\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\r\n\t\t\t\t\t\t\t\t.value !== null\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAverageCPM = createSelector(\r\n\t[\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\r\n\t],\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createSelector(\r\n\t[\r\n\t\t(state, { noLastOne, ...rest } = {}) => {\r\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\r\n\t\t},\r\n\t],\r\n\t({ data = [], noLastOne, metric, ...rest }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tmemo.labels.push(formatDateTime(time))\r\n\t\t\t\tmemo.datasets.push(\r\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\r\n\t\t\t\t)\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectChartDatapointsImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([impressions]) => impressions\r\n)\r\n\r\nexport const selectChartDatapointsClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([clicks]) => clicks\r\n)\r\n\r\nexport const selectChartDatapointsPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([payouts]) => payouts\r\n)\r\n\r\nexport const selectChartDatapointsCPM = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\r\n\t],\r\n\t([payouts, impressions]) => {\r\n\t\tconst result = {\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t\tresult.labels = payouts.labels\r\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\r\n\t\t\treturn impressions.datasets[i] !== 0\r\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\r\n\t\t\t\t: n\r\n\t\t})\r\n\t\treturn result\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createSelector(\r\n\t[selectValidations, (_, id) => id],\r\n\t(validations, id) => validations[id]\r\n)\r\n\r\nexport const selectMultipleValidationsByIds = createSelector(\r\n\t[selectValidations, (_, ids) => ids],\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createSelector(\r\n\t[selectNewTransactions, (_, id) => id],\r\n\t(txns, id) => txns[id] || {}\r\n)\r\n","import {\r\n\tCampaign as CampaignModel,\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n} from 'adex-models'\r\n\r\nimport { createSelector } from 'reselect'\r\n\r\nexport const selectNewItems = state => state.memory.newItem\r\n\r\nexport const selectNewCampaign = createSelector(\r\n\tselectNewItems,\r\n\t({ Campaign }) => new CampaignModel(Campaign)\r\n)\r\n\r\nexport const selectNewAdUnit = createSelector(\r\n\tselectNewItems,\r\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\r\n)\r\n\r\nexport const selectNewAdSlot = createSelector(\r\n\tselectNewItems,\r\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { selectCampaignEventsCount } from 'selectors'\r\nexport const selectItems = state => state.persist.items\r\n\r\nexport const selectItemsByType = createSelector(\r\n\t[selectItems, (_, itemType) => itemType],\r\n\t(items, itemType) => items[itemType] || {}\r\n)\r\n\r\nexport const selectItemsArrayByType = createSelector(\r\n\t[selectItemsByType, (_, itemType) => itemType],\r\n\t(items = {}) => Object.values(items)\r\n)\r\n\r\nexport const selectCampaigns = createSelector(\r\n\tstate => selectItemsByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectCampaignById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => campaigns[id]\r\n)\r\n\r\nexport const selectCampaignUnitsById = createSelector(\r\n\t[selectCampaignById, (_, id) => id],\r\n\t({ adUnits } = {}) => adUnits || []\r\n)\r\n\r\nexport const selectCampaignWithAnalyticsById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => {\r\n\t\tconst campaign = { ...(campaigns[id] || {}) }\r\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\r\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\r\n\t\treturn campaign\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectAdUnits = createSelector(\r\n\tstate => selectItemsByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdUnitById = createSelector(\r\n\t[selectAdUnits, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectAdUnitsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdSlots = createSelector(\r\n\tstate => selectItemsByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotById = createSelector(\r\n\t[selectAdSlots, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignsArray,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAdSlotsArray,\r\n\tselectAdUnits,\r\n\tcreatArrayOnlyLengthChangeSelector,\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\tselectCampaignEventsCount,\r\n\tselectCampaignAnalyticsByChannelToAdUnit,\r\n\tselectTotalStatsByAdUnits,\r\n\tselectCampaignUnitsById,\r\n} from 'selectors'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nexport const selectCampaignsTableData = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\r\n\t(campaigns, tokens, side) =>\r\n\t\tcampaigns.map(item => {\r\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\r\n\t\t\tconst { id, spec = {}, adUnits = [] } = item\r\n\r\n\t\t\tconst firstUnit = adUnits[0] || {}\r\n\r\n\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\r\n\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tside,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\r\n\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\r\n\t\t\t\t\toriginalName: item.status.name,\r\n\t\t\t\t},\r\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\r\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\r\n\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', id),\r\n\t\t\t\tclicks: selectCampaignEventsCount('CLICK', id),\r\n\r\n\t\t\t\tctr:\r\n\t\t\t\t\t(selectCampaignEventsCount('CLICK', id) /\r\n\t\t\t\t\t\tselectCampaignEventsCount('IMPRESSION', id)) *\r\n\t\t\t\t\t\t100 || 0,\r\n\r\n\t\t\t\tminPerImpression: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tminPerImpression:\r\n\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\tformatUnits(\r\n\t\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\r\n\t\t\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t) * 1000,\r\n\t\t\t\t},\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\r\n\t\t\t\twithdrawPeriodStart:\r\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tside,\r\n\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tto,\r\n\t\t\t\t\ttoReceipt,\r\n\t\t\t\t\treceiptReady:\r\n\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\r\n\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\r\n\t\t\t\t\t\t\titem.status.name === 'Expired'),\r\n\t\t\t\t},\r\n\t\t\t\tid,\r\n\t\t\t\treceiptAvailable:\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\r\n\tselectCampaignsTableData,\r\n\tdata => data\r\n)\r\n\r\nexport const selectCampaignsMaxImpressions = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxClicks = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxDeposit = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\r\n\t(campaigns, tokens) =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\r\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\r\n\t\t\t})\r\n\t\t)\r\n)\r\n\r\nexport const selectAdSlotsTableData = createSelector(\r\n\t[selectAdSlotsArray, (_, side) => side],\r\n\t(slots, side) =>\r\n\t\tslots.map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/slots/${id}`\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: item.fallbackUnit ? `ipfs://${item.fallbackUnit}` : '', //TODO: provide fallback image to slot\r\n\t\t\t\t\tmediaMime: 'image/jpeg',\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type.replace('legacy_', ''),\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectAdUnitsTableData = createSelector(\r\n\t[\r\n\t\t(state, { side, campaignId }) => ({\r\n\t\t\tside,\r\n\t\t\titems: campaignId\r\n\t\t\t\t? selectCampaignUnitsById(state, campaignId)\r\n\t\t\t\t: selectAdUnits(state),\r\n\t\t\timpressionsByAdUnit: id =>\r\n\t\t\t\tcampaignId\r\n\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\r\n\t\t\t\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t  })[id]\r\n\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\r\n\t\t\t\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\t\t\t\tadUnitId: id,\r\n\t\t\t\t\t  }),\r\n\t\t\tclicksByAdUnit: id =>\r\n\t\t\t\tcampaignId\r\n\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\r\n\t\t\t\t\t\t\ttype: 'CLICK',\r\n\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t  })[id]\r\n\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\r\n\t\t\t\t\t\t\ttype: 'CLICK',\r\n\t\t\t\t\t\t\tadUnitId: id,\r\n\t\t\t\t\t  }),\r\n\t\t}),\r\n\t],\r\n\t({ side, items, impressionsByAdUnit, clicksByAdUnit }) =>\r\n\t\tObject.values(items).map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/units/${id}`\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: item.mediaUrl,\r\n\t\t\t\t\tmediaMime: item.mediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\timpressions: impressionsByAdUnit(id) || 0,\r\n\t\t\t\tclicks: clicksByAdUnit(id) || 0,\r\n\t\t\t\tctr: (clicksByAdUnit(id) / impressionsByAdUnit(id)) * 100 || 0,\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type,\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignStatsTableData = createSelector(\r\n\t(state, campaignId) => {\r\n\t\treturn {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\t},\r\n\t({ impressions, clicks }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\r\n\t\treturn Object.keys(imprStats).map(key => ({\r\n\t\t\twebsite: key,\r\n\t\t\timpressions: imprStats[key] || 0,\r\n\t\t\tctr:\r\n\t\t\t\t(((clickStats[key] || 0) / (imprStats[key] || 0)) * 100).toFixed(2) ||\r\n\t\t\t\t0,\r\n\t\t\tearnings: Number((earnStats[key] || 0).toFixed(2)),\r\n\t\t\tclicks: clickStats[key] || 0,\r\n\t\t}))\r\n\t}\r\n)\r\n\r\nexport const selectCampaignTotalValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalClicks += current.clicks\r\n\t\t\t\tnewResult.totalImpressions += current.impressions\r\n\t\t\t\tnewResult.totalEarnings += current.earnings\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectCampaignStatsMaxValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\tnewResult.maxEarnings = Math.max(\r\n\t\t\t\t\tcurrent.earnings,\r\n\t\t\t\t\tnewResult.maxEarnings\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectAdUnitsStatsMaxValues = createSelector(\r\n\t(state, { side, items, campaignId }) =>\r\n\t\tselectAdUnitsTableData(state, { side, items, campaignId }),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\r\n\r\nexport const selectCampaignDoughnutStats = createSelector(\r\n\t(state, { campaignId, chartColors, maxDataSets }) => {\r\n\t\tconst analytics = {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\r\n\t\treturn { ...analytics, chartColors, maxDataSets }\r\n\t},\r\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\r\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\r\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, key, i) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tif (i < maxDataSets) {\r\n\t\t\t\t\t\tnewData.labels.push(key)\r\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\r\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\r\n\r\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\r\n\r\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\r\n\t\t\t)\r\n\r\n\t\tconst data = {\r\n\t\t\tlabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: impressionsData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: clicksData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t}\r\n)\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\r\nimport { createSelector } from 'reselect'\r\nimport { constants } from 'adex-models'\r\n\r\nexport const selectSlotTypesSourceWithDemands = createSelector(\r\n\t[selectDemandAnalytics, selectMainToken],\r\n\t(demand, { symbol }) => {\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tlabel: type.split('_')[1],\r\n\t\t\t\tdemand: demand[type],\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\r\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\r\n\r\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst current = type\r\n\t\t\t\t\tif (index === 0 && type.demand) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\t!type.demand\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (current.demand) {\r\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\r\n\t\t\t)\r\n\t\treturn source\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectAdUnitById,\r\n\tselectAdSlotById,\r\n} from 'selectors'\r\n\r\nexport const selectLocation = state => state.router.location\r\n\r\nexport const selectSearch = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => search\r\n)\r\n\r\nexport const selectLocationQuery = createSelector(\r\n\tselectLocation,\r\n\t({ query }) => query || {}\r\n)\r\n\r\nexport const selectSearchParams = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => new URLSearchParams(search)\r\n)\r\n\r\nconst ITEMS_SELECTORS = {\r\n\tcampaigns: selectCampaignById,\r\n\treceipt: selectCampaignById,\r\n\tunits: selectAdUnitById,\r\n\tslots: selectAdSlotById,\r\n}\r\n\r\nconst SIDES = {\r\n\tadvertiser: true,\r\n\tpublisher: true,\r\n}\r\n\r\nexport const selectDashboardBreadcrumbs = createSelector(\r\n\t[selectLocation, state => state],\r\n\t({ pathname = '' }, state) => {\r\n\t\tconst paths = pathname.split('/').filter(x => !!x)\r\n\t\tconst sideDashboard = paths.slice(0, 2)\r\n\r\n\t\t// NOTE: no breadcrumbs if no side dashboard\r\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\tconst sideDashboardBC = {\r\n\t\t\tto: `/${sideDashboard.join('/')}`,\r\n\t\t\tlabel: 'dashboard',\r\n\t\t}\r\n\r\n\t\tconst rest = paths.slice(2)\r\n\r\n\t\tconst restBC = rest.map((x, index) => {\r\n\t\t\tconst prev = rest[index - 1]\r\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\r\n\r\n\t\t\tlet label = x\r\n\r\n\t\t\tif (selector) {\r\n\t\t\t\tconst { title } = selector(state, x) || {}\r\n\t\t\t\tlabel = title || label\r\n\t\t\t}\r\n\r\n\t\t\tconst bc = {\r\n\t\t\t\tlabel,\r\n\t\t\t}\r\n\r\n\t\t\tif (index < rest.length - 1) {\r\n\t\t\t\tconst restCopy = [...rest]\r\n\r\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\r\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\r\n\t\t\t\tif (receiptAt >= 0) {\r\n\t\t\t\t\trestCopy[receiptAt] = 'campaigns'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\r\n\t\t\t\t\t.slice(0, index + 1)\r\n\t\t\t\t\t.join('/')}`\r\n\t\t\t}\r\n\r\n\t\t\treturn bc\r\n\t\t})\r\n\r\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC]\r\n\r\n\t\treturn breadcrumbs || []\r\n\t}\r\n)\r\n","export * from './selectors'\r\nexport * from './configSelectors'\r\nexport * from './accountSelectors'\r\nexport * from './identitySelectors'\r\nexport * from './uiSelectors'\r\nexport * from './translationsSelectors'\r\nexport * from './analyticsSelectors'\r\nexport * from './validationsSelectors'\r\nexport * from './newTransactionSelectors'\r\nexport * from './newItemsSelectors'\r\nexport * from './itemsSelectors'\r\nexport * from './tablesDataSelectors'\r\nexport * from './chartsSelectors'\r\nexport * from './dataSelectors'\r\nexport * from './gettingStartedSelectors'\r\nexport * from './locationSelectors'\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { bigNumberify, formatEther } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\r\n\r\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\r\n\treturn isAvailable ? balance : bigNumberify(0)\r\n}\r\n\r\nexport const getTotalAccountRevenue = async ({ all }) => {\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst totalRevenue = await Object.values(all).reduce(\r\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\r\n\t\t\tconst revenue = await revenuePr\r\n\r\n\t\t\tconst token = withdrawTokens[depositAsset]\r\n\r\n\t\t\tconst hasMinBalance = bigNumberify(balance).gt(\r\n\t\t\t\tbigNumberify(token.minFinal)\r\n\t\t\t)\r\n\r\n\t\t\tconst balanceMainToken = hasMinBalance\r\n\t\t\t\t? await tokenInMainTokenValue({\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t  })\r\n\t\t\t\t: bigNumberify(0)\r\n\r\n\t\t\treturn revenue.add(balanceMainToken)\r\n\t\t},\r\n\t\tPromise.resolve(bigNumberify(0))\r\n\t)\r\n\r\n\treturn totalRevenue\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({\r\n\tauthType,\r\n\taddress,\r\n\tgetFullBalances,\r\n}) => {\r\n\tconst { getToken } = await getEthers(authType)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = getFullBalances\r\n\t\t\t? balance\r\n\t\t\t: tokenAvailableBalance({\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmainToken,\r\n\t\t\t\t\tbalance,\r\n\t\t\t  })\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, balanceData) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\tbalanceData.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (balanceData.token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\r\n\t\t\tmainTokenBalance: bigNumberify(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({\r\n\taddress,\r\n\tauthType,\r\n\tgetFullBalances,\r\n}) {\r\n\tconst { provider } = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({\r\n\t\t\tauthType,\r\n\t\t\taddress: address.address,\r\n\t\t\tgetFullBalances,\r\n\t\t}),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: bigNumberify('0'),\r\n\t\tavailable: bigNumberify('0'),\r\n\t},\r\n\tall,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(authType)\r\n\tconst { decimals } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ authType, address }),\r\n\t\tprivilegesAction,\r\n\t\tgetTotalAccountRevenue({ all }),\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t\ttotalRevenue,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t\ttotalRevenue,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalRevenue: formatTokenAmount(\r\n\t\t\traw.totalRevenue || '0',\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(\r\n\t\t\tbigNumberify(outstandingAvailable)\r\n\t\t)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst saiDaiConversion = async ({ token, balance }) => balance\r\n\r\nconst valueInMainTokenConversions = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\r\n\t\t// DAI\r\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\r\n\t},\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\r\n\t\t// SAI\r\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\r\n\t},\r\n}\r\n\r\nexport async function tokenInMainTokenValue({ token, balance }) {\r\n\tconst { address } = selectMainToken()\r\n\r\n\tif (address === token.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst valueInMainToken = await valueInMainTokenConversions[\r\n\t\taddress.toLowerCase()\r\n\t][token.address.toLowerCase()]({\r\n\t\ttoken,\r\n\t\tbalance,\r\n\t})\r\n\r\n\treturn valueInMainToken\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tthis._provider = provider\r\n\t\tthis._opts = opts\r\n\t}\r\n\r\n\tgetWallet = async () => {\r\n\t\tif (this._wallet) {\r\n\t\t\treturn this._wallet\r\n\t\t} else {\r\n\t\t\tconst { email, password, authType } = this._opts\r\n\t\t\tconst walletData = await getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\r\n\t\t\treturn this._wallet\r\n\t\t}\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn await this.getWallet().address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = await this.getWallet().sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst wallet = await this.getWallet()\r\n\r\n\t\tconst signature = await wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n\tsegmentByChannel,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/for-${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tlimit,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\teventType,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn { aggregates, metric }\r\n}\r\n\r\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/advanced`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n\r\nexport const campaignAnalytics = ({\r\n\tcampaign,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n}) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${campaign.id}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\n\r\nexport const isEthAddressERC20 = async (addr = '', authType) => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({\r\n\taddr = '',\r\n\tbalanceFor = '',\r\n\tauthType,\r\n}) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(authType)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\tconst notEthAddress = !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else {\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n\r\nexport const freeAdExENS = async ({ ens = '', authType }) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tif (ens === '') {\r\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\r\n\t\t} else {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst ensAddress = await provider.resolveName(\r\n\t\t\t\t`${ens}.${process.env.REVERSE_REGISTRAR_PARENT}`\r\n\t\t\t)\r\n\r\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error.code === 'INVALID_ARGUMENT') {\r\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\r\n\t\t} else {\r\n\t\t\tmsg = 'ERR_ENS_CHECK'\r\n\t\t}\r\n\t}\r\n\treturn { msg }\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/GS-bonus-ic.274db134.png\";","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tif (!nextToast) {\r\n\t\t\tthis.setState({ active: false, toast: {} })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t}\r\n\t}\r\n\r\n\tclose = id => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby='client-snackbar'\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\ttoast.action && toast.action,\r\n\t\t\t\t\t\t!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey='close'\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\r\n\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || [],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)',\r\n\t\t\t},\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00',\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722',\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectConfirm } from 'selectors'\r\n\r\nimport {\r\n\tDialog,\r\n\tButton,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from '@material-ui/core'\r\n\r\nexport function Confirm({ children }) {\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst {\r\n\t\tonConfirm,\r\n\t\tonCancel,\r\n\t\tactive,\r\n\t\t// calledOn,\r\n\t\tnoActionBtns,\r\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\r\n\t} = useSelector(selectConfirm)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpen(!!active)\r\n\t}, [active])\r\n\r\n\tconst confirm = () => {\r\n\t\tif (typeof onConfirm === 'function') {\r\n\t\t\tonConfirm()\r\n\t\t}\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\tconst cancel = () => {\r\n\t\tif (typeof onCancel === 'function') {\r\n\t\t\tonCancel()\r\n\t\t}\r\n\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog open={open}>\r\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t\t{children}\r\n\t\t\t</DialogContent>\r\n\t\t\t{!noActionBtns && (\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{cancelLabel && (\r\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{confirmLabel && (\r\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogActions>\r\n\t\t\t)}\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default Confirm\r\n","import React, { forwardRef } from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tforwardedRef,\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\tref={forwardedRef}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\thref={toLocation}\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst WithRouter = withRouter(Decorated)\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithRouter {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport Link from '@material-ui/core/Link'\r\nimport { OpenInNew } from '@material-ui/icons'\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({\r\n\thref,\r\n\ttarget,\r\n\tchildren,\r\n\tlabel,\r\n\tunderline,\r\n\texternalIcon,\r\n\tcolor,\r\n\t...rest\r\n}) => {\r\n\tconst isExternal = target && target === '_blank'\r\n\tconst url = isExternal ? getUrl(href) : href\r\n\r\n\tconst linkProps = {\r\n\t\tunderline: underline || 'none',\r\n\t\tcolor: color || 'inherit',\r\n\t\tdraggable: 'false',\r\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\r\n\t\ttarget,\r\n\t\thref: url,\r\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\r\n\t\t...rest,\r\n\t}\r\n\treturn (\r\n\t\t<Link {...linkProps}>\r\n\t\t\t{children || label}{' '}\r\n\t\t\t{externalIcon && <OpenInNew style={{ fontSize: 'small' }} />}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport const ExternalAnchor = ({ href, children, style }) => (\r\n\t<Anchor\r\n\t\tstyle={{ fontWeight: 'bold' }}\r\n\t\tunderline='always'\r\n\t\ttarget='_blank'\r\n\t\tcolor='primary'\r\n\t\texternalIcon\r\n\t\thref={href}\r\n\t>\r\n\t\t{children}\r\n\t</Anchor>\r\n)\r\n\r\nexport default Anchor\r\n","const drawerWidth = 250\r\nconst lastRowRightReserved = 240\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: lastRowRightReserved,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t\tmarginLeft: -theme.spacing(2),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\t...theme.mixins.toolbar,\r\n\t\t\tpaddingLeft: theme.spacing(2),\r\n\t\t\tpaddingRight: theme.spacing(2),\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\tpaddingTop: theme.spacing(4),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1600,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 36,\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tbreadcrumbElement: {\r\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\r\n\t\t\t\t\tdrawerWidth +\r\n\t\t\t\t\tlastRowRightReserved}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nconst sideIndex = {\r\n\tadvertiser: 0,\r\n\tpublisher: 1,\r\n\t'0': 'advertiser',\r\n\t'1': 'publisher',\r\n}\r\n\r\nconst handleChange = (ev, index) => {\r\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\r\n}\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.light\r\n\t\t\t: theme.palette.accentTwo.light\r\n\treturn {\r\n\t\t// TODO: keep it everywhere in case of components update\r\n\t\troot: {\r\n\t\t\tminWidth: 30,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tindicator: {\r\n\t\t\tbackgroundColor: activeColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst SideSwitch = ({ side, className }) => {\r\n\tconst classes = useStyles({ side })\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\tvalue={sideIndex[side]}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\taria-label='side select'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\r\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { styles } from './styles'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport Box from '@material-ui/core/Box'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.contrastText\r\n\t\t\t: theme.palette.accentTwo.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\tconst hoverActiveBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.light\r\n\t\t\t: theme.palette.accentTwo.light\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 100,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: hoverActiveBgColor,\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsideSwitch: {\r\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useCommonStyles = makeStyles(styles)\r\n\r\nfunction SideNav(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst commonClasses = useCommonStyles()\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<div className={classes.navigation}>\r\n\t\t\t<List\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\troot: classes.navListRoot,\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={classes.navList}\r\n\t\t\t\tcomponent='nav'\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tbgcolor='background.paper'\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tcommonClasses.toolbar,\r\n\t\t\t\t\t\t\tclasses.sideNavToolbar\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t</div>\r\n\t\t\t</List>\r\n\t\t\t<div className={classes.version}>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx Network OÜ\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md.'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState } from 'react'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [active, setActive] = useState(false)\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\tconst open = Boolean(anchorEl)\r\n\r\n\tconst handleButtonClick = () => {\r\n\t\tsetActive(!active)\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-owns={id}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={open}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t// anchorOrigin={{\r\n\t\t\t\t// \tvertical: 'top',\r\n\t\t\t\t// \thorizontal: 'right',\r\n\t\t\t\t// }}\r\n\t\t\t\t// transformOrigin={{\r\n\t\t\t\t// \tvertical: 'top',\r\n\t\t\t\t// \thorizontal: 'right',\r\n\t\t\t\t// }}\r\n\t\t\t\tonClick={handleButtonClick}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\treturn ledgerLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tBreadcrumbs,\r\n\tIconButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tLink,\r\n\tMenuItem,\r\n} from '@material-ui/core'\r\n\r\nimport classnames from 'classnames'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { selectAccount, selectDashboardBreadcrumbs } from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst RRLink = withReactRouterLink(Link)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst account = useSelector(selectAccount)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t{/* <AdexIconTxt\r\n\t\t\t\t\tclassName={classes.icon}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\r\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t\tactive={true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\r\n\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\r\n\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\r\n\t\t\t\t\t\t\t\tto ? (\r\n\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\r\n\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t</RRLink>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\r\n\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\r\n\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Breadcrumbs>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnames'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\r\nclass SaveBtn extends Component {\r\n\trender() {\r\n\t\tlet {\r\n\t\t\tspinner,\r\n\t\t\tclasses,\r\n\t\t\tsuccess,\r\n\t\t\tdirtyProps,\r\n\t\t\tsave,\r\n\t\t\tvalidations,\r\n\t\t\tvalidationId,\r\n\t\t\tdisabled,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.position}>\r\n\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t<Fab\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t// className={buttonClassname}\r\n\t\t\t\t\t\tonClick={() => save()}\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tdisabled ||\r\n\t\t\t\t\t\t\tspinner ||\r\n\t\t\t\t\t\t\t!dirtyProps.length ||\r\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// {...other}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n\tspinnerId: PropTypes.string,\r\n\tvalidationId: PropTypes.string,\r\n\titemId: PropTypes.string,\r\n\tvalidations: PropTypes.object,\r\n\tdisabled: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\tspinner: memory.spinners[props.spinnerId],\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SaveBtn)))\r\n","import color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: 40,\r\n\t\tzIndex: theme.zIndex.appBar + 1,\r\n\t},\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { execute, validate } from 'actions'\r\nimport { selectValidationsById } from 'selectors'\r\n\r\nexport default function ValidationHoc(Decorated) {\r\n\tconst ValidItem = props => {\r\n\t\tconst validations =\r\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\r\n\r\n\t\tconst makeValidation = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tconst { validateId } = props\r\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Decorated\r\n\t\t\t\t{...props}\r\n\t\t\t\tvalidate={makeValidation}\r\n\t\t\t\tinvalidFields={validations}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\tValidItem.propTypes = {\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\treturn ValidItem\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\nclass Img extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null,\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = src => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = ev => {\r\n\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = nextProps => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = fallback => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null,\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\r\n\t\t\tthis,\r\n\t\t\tfallback\r\n\t\t)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<video\r\n\t\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t></video>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\talt,\r\n\t\t\tallowFullscreen,\r\n\t\t\tclassName,\r\n\t\t\tclasses,\r\n\t\t\tfullScreenOnClick,\r\n\t\t\tonClick,\r\n\t\t} = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn imgSrc || videoSrc ? (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\r\n\t\t\t>\r\n\t\t\t\t{!!imgSrc ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\r\n\t\t\t\t\t></video>\r\n\t\t\t\t)}\r\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t<span className={classes.circular}>\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content',\r\n\t},\r\n})\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404_1 from 'resources/404-no.png'\r\nimport IMG_404_2 from 'resources/404-yes.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst G404 = ({ size }) => (\r\n\t<Grid item xs={size}>\r\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\r\n\t\t\t{t('404')}\r\n\t\t</Typography>\r\n\t</Grid>\r\n)\r\n\r\nclass PageNotFound extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\r\n\t\t\t\t\t\t\t{t(title || '404')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={4} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\t\t\t\t\t<G404 size={1} />\r\n\t\t\t\t\t<G404 size={5} />\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport {\r\n\tGrid,\r\n\tIconButton,\r\n\tInput,\r\n\tInputLabel,\r\n\tInputAdornment,\r\n\tFormControl,\r\n\tChip,\r\n} from '@material-ui/core'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport { schemas, Joi } from 'adex-models'\r\nimport { Prompt } from 'react-router'\r\nimport Translate from 'components/translate/Translate'\r\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport InfoOutlineIcon from '@material-ui/icons/Info'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { styles } from './styles'\r\nimport { validName } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { selectSide } from 'selectors'\r\n\r\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass Item extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.save = this.save.bind(this)\r\n\t\t\tthis.state = {\r\n\t\t\t\tactiveFields: {},\r\n\t\t\t\titem: null,\r\n\t\t\t\tinitialItemState: {},\r\n\t\t\t\tdirtyProps: [],\r\n\t\t\t\teditImg: false,\r\n\t\t\t\t_activeInput: null,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tconst { item, objModel } = this.props\r\n\r\n\t\t\tconst initialItemState = new objModel(item)\r\n\r\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\r\n\t\t}\r\n\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t\t//     return diffProps || diffState\r\n\t\t// }\r\n\r\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item } = this.state\r\n\t\t\tlet currentItemInst = new objModel(item || {})\r\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\r\n\t\t\t// TODO: check the above\r\n\t\t\tlet nextItem = nextProps.item\r\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\r\n\r\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\r\n\t\t\t\t// if (\r\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\r\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\r\n\t\t\t\t// ) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titem: nexItemInst.plainObj(),\r\n\t\t\t\t\tinitialItemState: nexItemInst,\r\n\t\t\t\t\tactiveFields: {},\r\n\t\t\t\t\tdirtyProps: [],\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tif (this.state.item) {\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[name] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (dp.indexOf(name) < 0) {\r\n\t\t\t\tdp.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t}\r\n\r\n\t\treturnPropToInitialState = propName => {\r\n\t\t\tconst { objModel, actions } = this.props\r\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\r\n\t\t\tconst initialItemStateValue = initialItemState[propName]\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemStateValue\r\n\r\n\t\t\tconst dp = dirtyProps.filter(dp => {\r\n\t\t\t\treturn dp !== propName\r\n\t\t\t})\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t\t// TEMP fix, we assume that the initial values are validated\r\n\t\t\tactions.resetValidationErrors(item.id, propName)\r\n\t\t}\r\n\r\n\t\tsetActiveFields = (field, value) => {\r\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\r\n\t\t\tnewActiveFields[field] = value\r\n\t\t\tthis.setState({ activeFields: newActiveFields })\r\n\t\t}\r\n\r\n\t\t//TODO: Do not save if not dirty!\r\n\t\tsave = () => {\r\n\t\t\tconst { itemType, spinner, actions } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tif (dirtyProps.length && !spinner) {\r\n\t\t\t\tactions.updateItem({\r\n\t\t\t\t\titemType,\r\n\t\t\t\t\titem,\r\n\t\t\t\t})\r\n\t\t\t\tthis.setState({ dirtyProps: [] })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisDirtyProp(prop) {\r\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\r\n\r\n\t\t\tif (isDemo) return\r\n\r\n\t\t\tlet active = this.state.editImg\r\n\t\t\tthis.setState({ editImg: !active })\r\n\t\t}\r\n\r\n\t\tisNameValid(name) {\r\n\t\t\tconst { msg } = validName(name)\r\n\t\t\treturn !msg\r\n\t\t}\r\n\r\n\t\tvalidateTitle(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tschema = campaignPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('title', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvalidateDescription(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('description', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tvalidations,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\taccount,\r\n\t\t\t\titemType,\r\n\t\t\t\tobjModel,\r\n\t\t\t\tmatchId,\r\n\t\t\t\tside,\r\n\t\t\t\tinvalidFields,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst propsItem = this.props.item\r\n\r\n\t\t\tif (!propsItem) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PageNotFound\r\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\t\t\targs: [itemType.toUpperCase(), matchId],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tgoToPath={`/dashboard/${side}`}\r\n\t\t\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\r\n\t\t\t * in this case there is no need to make instance inside them\r\n\t\t\t */\r\n\r\n\t\t\tconst isDemo = account._authType === 'demo'\r\n\t\t\tconst item = new objModel(this.state.item || {})\r\n\t\t\tlet canEdit = itemType === 'AdSlot'\r\n\r\n\t\t\tconst titleErr = invalidFields['title']\r\n\t\t\tconst descriptionErr = invalidFields['description']\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Prompt\r\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\r\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\r\n\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\r\n\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\r\n\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{itemType !== 'Campaign' && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\r\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\r\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\r\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\r\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<SaveBtn\r\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\r\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\r\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\r\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\r\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\r\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\r\n\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tisDemo={isDemo}\r\n\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItem.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\titem: PropTypes.object.isRequired,\r\n\t\tspinner: PropTypes.bool,\r\n\t\titemType: PropTypes.string.isRequired,\r\n\t\tobjModel: PropTypes.func.isRequired,\r\n\t}\r\n\r\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\r\n\t\tlet keys = Object.keys(items)\r\n\r\n\t\tfor (let index = 0; index < keys.length; index++) {\r\n\t\t\tconst key = keys[index]\r\n\t\t\tconst item = items[key]\r\n\r\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist } = state\r\n\t\t// const memory = state.memory\r\n\t\tconst items = persist.items[props.itemType]\r\n\t\tconst id = props.match.params.itemId\r\n\t\tlet item = items[id]\r\n\r\n\t\tif (!item && props.itemType !== undefined) {\r\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\titem: item,\r\n\t\t\tvalidateId: 'update-' + (item ? item.id || item.ipfs : 'notfound'),\r\n\t\t\tmatchId: id,\r\n\t\t\tside: selectSide(state),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\r\n}\r\n","import React from 'react'\r\nimport MUIDataTable from 'mui-datatables'\r\nimport { t } from 'selectors'\r\n\r\nconst generalTableOptions = {\r\n\trowsPerPage: 5,\r\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\r\n\tsetTableProps: () => {\r\n\t\treturn {\r\n\t\t\tpadding: 'default',\r\n\t\t\tsize: 'small',\r\n\t\t\twidth: '100%',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t},\r\n\ttextLabels: {\r\n\t\tbody: {\r\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\r\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\r\n\t\t\tcolumnHeaderTooltip: column =>\r\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\r\n\t\t\t\t\targs: [column.label || column],\r\n\t\t\t\t})}`,\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tnext: t('TABLE_NEXT'),\r\n\t\t\tprevious: t('TABLE_PREV'),\r\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\r\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tsearch: t('TABLE_SEARCH'),\r\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\r\n\t\t\tprint: t('TABLE_PRINT'),\r\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\r\n\t\t\tfilterTable: t('TABLE_FILTER'),\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tall: t('TABLE_FILTER_ALL'),\r\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\r\n\t\t\treset: t('TABLE_FILTER_RESET'),\r\n\t\t},\r\n\t\tviewColumns: {\r\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\r\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\r\n\t\t},\r\n\t\tselectedRows: {\r\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\r\n\t\t\tdelete: t('TABLE_DELETE'),\r\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\r\n\t\t},\r\n\t},\r\n}\r\nexport default function MUIDataTableEnhanced(props) {\r\n\tconst { title, data, columns, options } = props\r\n\r\n\treturn (\r\n\t\t<MUIDataTable\r\n\t\t\ttitle={title}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={{\r\n\t\t\t\t...generalTableOptions,\r\n\t\t\t\t...options,\r\n\t\t\t\televation: 2,\r\n\t\t\t\tsearch: !props.noSearch,\r\n\t\t\t\tdownload: !props.noDownload,\r\n\t\t\t\tprint: !props.noPrint,\r\n\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\r\n\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\n\r\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\r\n\tconst icon = {\r\n\t\txs: { fontSize: 10 },\r\n\t\tmd: { fontSize: 15 },\r\n\t\tls: { fontSize: 20 },\r\n\t}\r\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\r\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\r\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\r\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\r\n\t\treturn waitIcon\r\n\tswitch (status.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn doneIcon\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn waitIcon\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn warningIcon\r\n\t\tcase 'withdraw':\r\n\t\t\treturn cashIcon\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nexport { mapStatusIcons }\r\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 60,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n})\r\n","import React from 'react'\r\nimport { Typography, Slider, Box } from '@material-ui/core'\r\nimport { formatAbbrNum, formatNumberWithoutCommas } from 'helpers/formatters'\r\n\r\nconst getSliderStep = (min, max, steps, precision = 2) => {\r\n\tconst diff = max - min\r\n\tconst step = diff / steps\r\n\tconst fixed = parseFloat(step.toFixed(precision))\r\n\r\n\treturn fixed\r\n}\r\n\r\nexport const sliderFilterOptions = ({\r\n\tinitial = [],\r\n\tfilterTitle = '',\r\n\tstepsCount = 20,\r\n\tstepsPrecision = 2,\r\n}) => {\r\n\tconst min = initial[0] || 0\r\n\tconst max = initial[1] || 100\r\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\r\n\treturn {\r\n\t\tfilter: true,\r\n\t\tdisplay: 'true',\r\n\t\tfilterType: 'custom',\r\n\t\tcustomFilterListOptions: {\r\n\t\t\trender: v =>\r\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\r\n\t\t\tupdate: (filterList, filterPos, index) => {\r\n\t\t\t\tfilterList[index] = []\r\n\t\t\t\treturn filterList\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tfilterOptions: {\r\n\t\t\tnames: [],\r\n\t\t\tlogic: (rowNumber, filters) => {\r\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\r\n\t\t\t\tif (filters.length > 0) {\r\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\tdisplay: (filterList, onChange, index, column) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\r\n\t\t\t\t\t\t\t{filterTitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\r\n\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\t\tmarks={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: min,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\r\n\t\t\t\t\t\t\t\tstep={step}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\r\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\r\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport function useTableData({ selector, selectorArgs, getColumns }) {\r\n\tconst [data, setData] = useState([])\r\n\tconst [columns, setColumns] = useState([])\r\n\r\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\r\n\r\n\tconst reloadData = useCallback(() => {\r\n\t\tsetData(selectedData)\r\n\t\tsetColumns(getColumns())\r\n\t}, [getColumns, selectedData])\r\n\r\n\tuseEffect(() => {\r\n\t\treloadData()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedData.length, selector, selectorArgs])\r\n\r\n\treturn { data, columns, reloadData }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tIconButton,\r\n\tTooltip,\r\n\tBox,\r\n\tButton,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\r\nimport { t, selectSpinnerById } from 'selectors'\r\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport function ReloadData({ handleReload }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleReload}>\r\n\t\t\t\t\t<Refresh />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\r\n\t\t\t\t\t<Receipt />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\r\n\tconst classes = useStyles()\r\n\tconst receiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\r\n\t\t\t\t<Box ml={2} mr={2}>\r\n\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{receiptsSpinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility, Receipt } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectCampaignsTableData,\r\n\tselectMainToken,\r\n\tselectSide,\r\n\tselectCampaignsMaxImpressions,\r\n\tselectCampaignsMaxClicks,\r\n\tselectCampaignsMaxDeposit,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { commify } from 'ethers/utils'\r\nimport { execute, handlePrintSelectedReceipts } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData, PrintAllReceipts } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tsymbol,\r\n\tmaxImpressions,\r\n\tmaxDeposit,\r\n\tmaxClicks,\r\n}) => [\r\n\t{\r\n\t\tname: 'id',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'receiptAvailable',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tdownload: false,\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t// TODO: Images issue some stop displaying\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'status',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tfilterOptions: {\r\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\r\n\t\t\t\tlogic: (status, filters) => {\r\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName, id }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t{humanFriendlyName}{' '}\r\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t\t// TODO: Sorting issue\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'depositAmount',\r\n\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: depositAmount => (\r\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxDeposit],\r\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'fundsDistributedRatio',\r\n\t\tlabel: t('PROP_SERVED'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\r\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'minPerImpression',\r\n\t\tlabel: t('PROP_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ({ minPerImpression, id }) => (\r\n\t\t\t\t<Fragment key={id}>{`${minPerImpression.toFixed(\r\n\t\t\t\t\t2\r\n\t\t\t\t)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'activeFrom',\r\n\t\tlabel: t('PROP_STARTS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'withdrawPeriodStart',\r\n\t\tlabel: t('PROP_ENDS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\r\n\t\t\t\tformatDateTime(withdrawPeriodStart),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\treceiptReady\r\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\r\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\r\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\t\tto={toReceipt}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='receip'\r\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'grey'} />\r\n\t\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0],\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2],\r\n\t\t\ti.data[3].humanFriendlyName,\r\n\t\t\t`${i.data[4]} ${symbol}`,\r\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\r\n\t\t\ti.data[6],\r\n\t\t\ti.data[7],\r\n\t\t\ti.data[8],\r\n\t\t\tformatDateTime(i.data[9]),\r\n\t\t\tformatDateTime(i.data[10]),\r\n\t\t\tformatDateTime(i.data[11]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst selectedItems = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[0])\r\n\t\treturn (\r\n\t\t\t<PrintAllReceipts\r\n\t\t\t\thandlePrintAllReceipts={() =>\r\n\t\t\t\t\texecute(handlePrintSelectedReceipts(selectedItems))\r\n\t\t\t\t}\r\n\t\t\t\tdisabled={selectedItems.length === 0}\r\n\t\t\t/>\r\n\t\t)\r\n\t},\r\n})\r\n\r\nfunction CampaignsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\r\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\r\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tdecimals,\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ decimals, symbol, reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable\r\n\t\t\ttoolbarEnabled\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CampaignsTable\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Box from '@material-ui/core/Box'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tinitialPage = 0,\r\n\t\tpages = [],\r\n\t\t// ...props\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\r\n\tconst canReverse = pages.length > currentPage && currentPage > 0\r\n\r\n\tconst page = pages[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst { pageValidation = null, onValid, stepsId } = page\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tif (pageValidation) {\r\n\t\t\tpageValidation({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [\r\n\t\tcurrentPage,\r\n\t\tgoToPage,\r\n\t\tisValidPage,\r\n\t\tonValid,\r\n\t\tpageValidation,\r\n\t\tstepsId,\r\n\t\tvalidateId,\r\n\t])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (pageValidation) {\r\n\t\t\tpageValidation({ stepsId, validateId, dirty: false })\r\n\t\t}\r\n\t}, [currentPage, pageValidation, stepsId, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<StepperNav\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tpages={pages}\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t/>\r\n\t\t\t</Paper>\r\n\t\t\t<br />\r\n\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.pageContent}>\r\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\r\n\r\n\t\t\t\t\t{!!dirtyErrors && (\r\n\t\t\t\t\t\t<Box color='error.main'>\r\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\r\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\r\n\r\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\r\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\r\n\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tpages: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\t// display: 'flex',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 115,\r\n\t\t},\r\n\t\tpageContent: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 20,\r\n\t\t\tleft: 20,\r\n\t\t\tright: 20,\r\n\t\t\tbottom: 50,\r\n\t\t\tpadding: 20,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t\t'@media(max-width:500px)': {\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\tpaddingRight: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 5,\r\n\t\t\tleft: 20,\r\n\t\t\tright: 20,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\twidth: '100%',\r\n\t\t\t'& div': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '10px',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepLabel: {\r\n\t\t\t'& span': {\r\n\t\t\t\tfontSize: '24px',\r\n\t\t\t\tmargin: '14px auto',\r\n\t\t\t},\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: errColor,\r\n\t\t\t},\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { t } from 'selectors'\r\n\r\nclass FormSteps extends Component {\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pages = []\r\n\t\tconst {\r\n\t\t\tSaveBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tcancelFunction,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages,\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\tconst cancelButton = () => (\r\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t)\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tstepsPages.forEach((page, index) => {\r\n\t\t\tpages.push({\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: !page.pageValidation\r\n\t\t\t\t\t? ValidItemHoc(page.page || page)\r\n\t\t\t\t\t: page.page || page,\r\n\t\t\t\tpageValidation: page.pageValidation,\r\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\r\n\t\t\t\tstepsId,\r\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tpages.push({\r\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\r\n\t\t\tcompleteBtn: () => (\r\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t),\r\n\t\t\tcancelBtn: cancelButton,\r\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\r\n\t\t\tstepsId,\r\n\t\t\tprops: {\r\n\t\t\t\t...this.props,\r\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t// <div style={{ textAlign: 'left' }}>\r\n\t\t\t<MaterialStepper pages={pages} />\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\titemPages: PropTypes.arrayOf(PropTypes.func),\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n\t<FormSteps {...props} forwardedRef={ref} />\r\n))\r\n","import grey from '@material-ui/core/colors/grey'\r\n\r\nexport const styles = theme => {\r\n\tconst spacing = theme.spacing(3)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: grey[200], // TODO: color,\r\n\t\t\t// maxHeight: `${fullHeight}`,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 0,\r\n\t\t\t// left: 0,\r\n\t\t\t// bottom: 0,\r\n\t\t\t// right: 0,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: 40,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t},\r\n\t\tfullContentMessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction='up' ref={ref} {...props} />\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\tforwardedRef,\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tfabVariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\tonBeforeOpen,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tvariant,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst handleClick = async ev => {\r\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\t\tawait handleToggle()\r\n\t\t\tif (onClick) onClick()\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = null\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t} else {\r\n\t\t\tButtonComponent = Button\r\n\t\t\tbtnProps.fullWidth = fullWidth\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = btnLabel\r\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={ev => handleClick(ev)}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle disableTypography>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(title)}\r\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\r\n\t\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</DialogTitle>{' '}\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithDialog {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdUnit',\r\n\t\t\t\tAdUnit\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\t\t\tactions.addUnit(newItem)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dropdown(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst {\r\n\t\tonChange,\r\n\t\tlabel = '',\r\n\t\tvalue,\r\n\t\tsource = [],\r\n\t\thtmlId = 'some-id',\r\n\t\tdisabled = false,\r\n\t\terror = false,\r\n\t\thelperText,\r\n\t\t// margin = '',\r\n\t\tfullWidth = false,\r\n\t\tclassName,\r\n\t\trequired,\r\n\t\tloading,\r\n\t\tnoSrcLabel,\r\n\t\tvariant,\r\n\t\tIconComponent,\r\n\t} = props\r\n\r\n\tconst inputLabel = React.useRef(null)\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0)\r\n\tReact.useEffect(() => {\r\n\t\tsetLabelWidth(inputLabel.current.offsetWidth)\r\n\t}, [])\r\n\r\n\tconst handleChange = event => {\r\n\t\tonChange(event.target.value)\r\n\t}\r\n\r\n\t// TODO: add native renderer for mobile devices when supported\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\tdisabled={disabled}\r\n\t\t\terror={error}\r\n\t\t\tfullWidth={fullWidth}\r\n\t\t\tvariant={variant}\r\n\t\t>\r\n\t\t\t<InputLabel ref={inputLabel} htmlFor={htmlId} required={required}>\r\n\t\t\t\t{label}\r\n\t\t\t</InputLabel>\r\n\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tlabelWidth={labelWidth}\r\n\t\t\t\t\tIconComponent={IconComponent}\r\n\t\t\t\t>\r\n\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\treturn src.group ? (\r\n\t\t\t\t\t\t\t<ListSubheader key={src.group.name || src.group}>\r\n\t\t\t\t\t\t\t\t{src.group.name || src.group}\r\n\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Select>\r\n\t\t\t) : !loading ? (\r\n\t\t\t\t<Input disabled value={noSrcLabel} />\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\r\n\t\t\t\t\t<InputLoading />\r\n\t\t\t\t</>\r\n\t\t\t)}{' '}\r\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n\tIconComponent: PropTypes.elementType,\r\n}\r\n\r\nexport default Dropdown\r\n","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdUnitBasic extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { newItem } = props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\r\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\r\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\r\n\t\t) {\r\n\t\t\tthis.addUtmParameters()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateTargetUrl(targetUrl, dirty) {\r\n\t\tconst withHttp = url => (!/^https?:\\/\\//i.test(url) ? `http://${url}` : url)\r\n\t\tconst result = Joi.validate(withHttp(targetUrl), adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t\tif (!result.error) this.addUtmParameters(withHttp(targetUrl))\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adUnitPost.type)\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\taddUtmParameters(targetUrl) {\r\n\t\tconst { handleChange, newItem } = this.props\r\n\t\tconst { title, type, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tif (!!targetUrl) {\r\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\tcampaign: title,\r\n\t\t\t\tcontent: type,\r\n\t\t\t\tremoveFromUrl: !addUtmLink,\r\n\t\t\t})\r\n\t\t\thandleChange('targetUrl', newTargetUrl)\r\n\t\t}\r\n\t}\r\n\r\n\thandleChangeAddUtmLink(ev) {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.addUtmLink = ev.target.checked\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\r\n\t\tconst { targetUrl, type, title, description, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errTargetUrl = invalidFields['targetUrl']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\r\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\r\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\r\n\r\nexport default Translate(NewAdUnitBasic)\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({\r\n\ttargetUrl,\r\n\tcampaign,\r\n\tcontent,\r\n\tremoveFromUrl,\r\n}) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport CropIcon from '@material-ui/icons/Crop'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass ImgForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size, imgSrc, mime } = props\r\n\t\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: imgSrc || '',\r\n\t\t\tmime: mime || '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect },\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = e => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = crop => {\r\n\t\tthis.setState({ crop })\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize,\r\n\t\t}).then(croppedBlob => {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = e => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst { t, classes, label, additionalInfo } = this.props\r\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div className={classes.imgForm}>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.header,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t{imgSrc && imgName ? (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdropzone: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport default function ValidImageHoc(Decorated) {\r\n\tclass ValidImage extends Component {\r\n\t\tvalidate = ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaHeight,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmime,\r\n\t\t\ttempUrl,\r\n\t\t}) => {\r\n\t\t\tlet isValid = true\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\r\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\r\n\r\n\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: msg, args: masgArgs },\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst resMedia = {\r\n\t\t\t\twidth: mediaWidth,\r\n\t\t\t\theight: mediaHeight,\r\n\t\t\t\tmime,\r\n\t\t\t\ttempUrl,\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof onChange === 'function') {\r\n\t\t\t\tonChange(propsName, resMedia)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidateMedia = async (\r\n\t\t\t{\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t} = {},\r\n\t\t\tmedia\r\n\t\t) => {\r\n\t\t\tif (!required && !media.tempUrl && onChange) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: true,\r\n\t\t\t\t\terr: { msg: msg, args: [] },\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\t// TODO: fix this\r\n\t\t\t\tonChange(propsName, media)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (!media.mime || !media.tempUrl) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: false,\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\r\n\t\t\tthis.validate({\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmediaWidth: size.width,\r\n\t\t\t\tmediaHeight: size.height,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t\tmime: media.mime,\r\n\t\t\t\ttempUrl: media.tempUrl,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\r\n\t\t}\r\n\t}\r\n\r\n\tValidImage.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidImage))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || ''\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdUnitMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem, validate, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl, mime } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (tempUrl) {\r\n\t\t\tvalidateMedia(\r\n\t\t\t\t{\r\n\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\texact: true,\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { newItem, t, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\tmime={temp.mime || ''}\r\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\r\n\r\nexport default Translate(NewAdUnitMedia)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { translate } from 'services/translations/translations'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\nexport const renderInput = inputProps => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({\r\n\tsuggestion,\r\n\tindex,\r\n\tstyle,\r\n\titemProps,\r\n\thighlightedIndex,\r\n\tselectedItem,\r\n\tshowSelected,\r\n}) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected =\r\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\r\n\t\t\tsuggestion.value\r\n\t\t) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={style}>\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\t{...itemProps}\r\n\t\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\t\tselected={isHighlighted}\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ListItemText primary={suggestion.label} />\r\n\t\t\t</ListItem>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = inputValue => {\r\n\treturn {\r\n\t\tlabel: `${translate(\r\n\t\t\t'CREATE_TAG_LABEL'\r\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim(),\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (\r\n\tinputValue = '',\r\n\tsource,\r\n\tallowCreate,\r\n\tvalidateCreation\r\n) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (\r\n\t\t\t\t!inputValue ||\r\n\t\t\t\tsuggestion.label\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.indexOf(inputValue) !== -1\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map(item => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (\r\n\t\t\t!values.includes(inputValue) &&\r\n\t\t\tallowCreate &&\r\n\t\t\t(!validateCreation || validateCreation(inputValue))\r\n\t\t) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\r\nimport { getSuggestions } from './common'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst {\r\n\t\tid,\r\n\t\tclasses,\r\n\t\tsource,\r\n\t\tmultiple,\r\n\t\tvalue,\r\n\t\tlabel,\r\n\t\tvariant,\r\n\t\tallowCreate,\r\n\t\tvalidateCreation,\r\n\t\tvalidateAutocomplete,\r\n\t\terror,\r\n\t\terrorText,\r\n\t\tonInit,\r\n\t\tonChange,\r\n\t\tdefaultValue,\r\n\t\t...rest\r\n\t} = props\r\n\tconst [inputValue, setInputValue] = useState('')\r\n\r\n\tconst suggestions = getSuggestions(\r\n\t\tinputValue,\r\n\t\tsource,\r\n\t\tallowCreate,\r\n\t\tvalidateCreation\r\n\t)\r\n\tuseEffect(() => {\r\n\t\tonInit()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst handleChange = item => {\r\n\t\tconst selectedItem = item ? item.value || item.label : item\r\n\t\tonChange(selectedItem)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.container}>\r\n\t\t\t\t<AutocompleteMUI\r\n\t\t\t\t\tmultiple={multiple}\r\n\t\t\t\t\toptions={suggestions}\r\n\t\t\t\t\tgetOptionLabel={option => option.label}\r\n\t\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\r\n\t\t\t\t\tonInputChange={(_, newValue) => setInputValue(newValue)}\r\n\t\t\t\t\tdefaultValue={defaultValue}\r\n\t\t\t\t\trenderInput={params => {\r\n\t\t\t\t\t\tif (defaultValue) params.inputProps.value = defaultValue\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t\t{errorText}\r\n\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)\r\n","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\t// TODO: fix the component and do nou use z-index\r\n\t\tzIndex: 1000,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'hidden',\r\n\t\theight: 150,\r\n\t\twidth: '100%',\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { SOURCES } from 'constants/targeting'\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdUnitTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: [...(targets || [])],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\thandleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource = [],\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalidateAutocomplete={this.validateAutocomplete}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tdefaultValue={target.tag || null}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsource = '',\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\t\ttarget = {},\r\n\t\t\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\tIconComponent={AddIcon}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\r\n\r\nexport default Translate(NewAdUnitTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\nconst targetIcon = {\r\n\tlocation: LocationOnIcon,\r\n\tgender: WcIcon,\r\n\tage: ChildCareIcon,\r\n}\r\n\r\nconst getTargetType = tag => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nclass UnitTargets extends Component {\r\n\ttargetArrayValues = (target, type, t, index) => {\r\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\t\treturn (\r\n\t\t\t<span key={target.tag + target.score + index}>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\r\n\t\t\t\t\t\tsecondary={target.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\r\n\t\t<List\r\n\t\t\tdense\r\n\t\t\tsubheader={\r\n\t\t\t\tsubHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{targets.map(target => {\r\n\t\t\t\tconst type = getTargetType(target.tag)\r\n\t\t\t\treturn this.targetArrayValues(target, type, t)\r\n\t\t\t})}\r\n\t\t</List>\r\n\t)\r\n\r\n\trender() {\r\n\t\treturn <this.TargetsList {...this.props} />\r\n\t}\r\n}\r\n\r\nUnitTargets.propTypes = {\r\n\ttargets: PropTypes.array.isRequired,\r\n\tsubHeader: PropTypes.string,\r\n\tt: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default UnitTargets\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\n// TODO: fix responsive styles\r\nconst propRow = ({\r\n\tclasses,\r\n\tleft,\r\n\tright,\r\n\tclassName,\r\n\tclassNameLeft,\r\n\tclassNameRight,\r\n\tstyle = {},\r\n}) => (\r\n\t<Grid\r\n\t\titem\r\n\t\tcontainer\r\n\t\tspacing={2}\r\n\t\txs={12}\r\n\t\tclassName={classnames(className)}\r\n\t\tstyle={style}\r\n\t>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={4}\r\n\t\t\tlg={3}\r\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\r\n\t\t>\r\n\t\t\t{left}\r\n\t\t</Grid>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={8}\r\n\t\t\tlg={9}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tclasses.rightCol,\r\n\t\t\t\tclasses.breakLong,\r\n\t\t\t\tclassNameRight\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t{right}\r\n\t\t</Grid>\r\n\t</Grid>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\tclassName={className}\r\n\t>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<Box flexGrow={1} className={className}>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nconst fullContentMessage = ({\r\n\tchildren,\r\n\tmsgs = [],\r\n\tspinner,\r\n\tcolor = 'primary',\r\n}) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\talignItems='center'\r\n\t\tjustifyContent='center'\r\n\t\tbgcolor={`${color}.main`}\r\n\t\tcolor={`${color}.contrastText`}\r\n\t>\r\n\t\t{spinner && (\r\n\t\t\t<Box p={4}>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tcolor={`${color}.contrastText`}\r\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\r\n\t\t\t\t\tsize={69}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t{children}\r\n\t\t{msgs\r\n\t\t\t.filter(x => !!x && x.message)\r\n\t\t\t.map((msg, index) => {\r\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={index} component='div'>\r\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t</Box>\r\n)\r\n\r\nexport const PropRow = withStyles(styles)(propRow)\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nclass AdUnitFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, targeting } = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{targeting && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Campaign } from 'adex-models'\r\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\r\n\r\nexport default function NewCampaignHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'Campaign',\r\n\t\t\t\tCampaign\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = async () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\t\t\tconst { temp } = newItem\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.waitingAction = true\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tawait actions.openCampaign({ campaign: newItem })\r\n\r\n\t\t\tnewTemp.waitingAction = false\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\r\n\t\tconst adUnits = persist.items['AdUnit'] || {}\r\n\t\tconst adUnitsArray = Object.values(adUnits) || []\r\n\t\treturn {\r\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\r\n\t\t\tadUnits,\r\n\t\t\tadUnitsArray,\r\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsArray,\r\n\tselectAdUnits,\r\n\tselectNewCampaign,\r\n} from 'selectors'\r\nimport { updateNewCampaign, execute } from 'actions'\r\n\r\nfunction CampaignUnits(props) {\r\n\tconst { temp } = useSelector(selectNewCampaign)\r\n\tconst { selectedUnits } = temp\r\n\tconst allAdUnits = useSelector(selectAdUnits)\r\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\r\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\r\n\r\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\r\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\r\n\t\t\treturn allAdUnits[value]\r\n\t\t})\r\n\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.selectedUnits = selectedIndexes\r\n\r\n\t\texecute(updateNewCampaign('adUnits', units))\r\n\t\texecute(updateNewCampaign('temp', newTemp))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t>\r\n\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\tselected={selectedUnits}\r\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\r\n\t\t\t\t\t\t\t\tvalidate={props.validate}\r\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\r\n\t\t\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\trowSelectable\r\n\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CampaignUnits\r\n","import React, { Component } from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/DateRange'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <CalendarIcon />,\r\n\ticonColor,\r\n\tonIconClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DateTimePicker extends Component {\r\n\trender() {\r\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDateTimePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectMainToken,\r\n\tselectNewCampaign,\r\n\tselectValidationsById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\nimport { validations } from 'adex-models'\r\nconst { isNumberString } = validations\r\n\r\nconst moment = new MomentUtils()\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\r\n\ttry {\r\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\r\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\r\n\t\tif (!dep) {\r\n\t\t\treturn t('DEPOSIT_NOT_SET')\r\n\t\t} else if (!min) {\r\n\t\t\treturn t('CPM_NOT_SET')\r\n\t\t} else {\r\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\r\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nfunction CampaignFinance({ validateId }) {\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst campaign = useSelector(selectNewCampaign)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// depositAsset,\r\n\t\tactiveFrom,\r\n\t\twithdrawPeriodStart,\r\n\t\tminTargetingScore,\r\n\t\ttemp = {},\r\n\t} = campaign\r\n\r\n\tconst { maxChannelFees, maxDepositFormatted } = temp\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst from = activeFrom || undefined\r\n\tconst to = withdrawPeriodStart || undefined\r\n\tconst now = moment.date().valueOf()\r\n\r\n\tconst errTitle = invalidFields['title']\r\n\tconst errDepAmnt = invalidFields['depositAmount']\r\n\tconst errMin = invalidFields['minPerImpression']\r\n\tconst errFrom = invalidFields['activeFrom']\r\n\tconst errTo = invalidFields['withdrawPeriodStart']\r\n\r\n\tconst impressions = getTotalImpressions({\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t})\r\n\r\n\tconst leader = validators[0] || {}\r\n\tconst follower = validators[1] || {}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\r\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\r\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\r\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\r\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty ? errDepAmnt.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignFinance\r\n","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport { Grid, CircularProgress } from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, getCampaignActualFees } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\n\r\nconst UnitsTable = ({ items }) => {\r\n\treturn (\r\n\t\t<Grid item sm={12}>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<AdUnitsTable items={items} noSearch noActions noDownload noPrint />\r\n\t\t\t</ContentBody>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nfunction CampaignFormPreview({ newItem } = {}) {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst mainToken = useSelector(selectMainToken)\r\n\tconst { symbol } = mainToken\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\t// targeting,\r\n\t\tadUnits,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// maxPerImpression,\r\n\t\t// depositAsset,\r\n\t\twithdrawPeriodStart,\r\n\t\tactiveFrom,\r\n\t\tminTargetingScore,\r\n\t\t// nonce\r\n\t\ttemp = {},\r\n\t} = newItem\r\n\r\n\tconst { feesFormatted, totalSpendFormatted } = temp\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getCampaignActualFees())\r\n\t}, [])\r\n\r\n\treturn spinner ? (\r\n\t\t<FullContentSpinner />\r\n\t) : (\r\n\t\t<ContentBox>\r\n\t\t\t{temp.waitingAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\tright={<UnitsTable items={adUnits} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('FEES')}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\tfeesFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\r\n\t\t\t\t\t\tright={maxPerImpression}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t/>\r\n\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(created)}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t<br />\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nCampaignFormPreview.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewCampaignFormPreview = NewCampaignHoc(CampaignFormPreview)\r\nexport default NewCampaignFormPreview\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdSlot',\r\n\t\t\t\tAdSlot\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\r\n\t\t\tactions.addSlot(newItem)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectSlotTypesSourceWithDemands,\r\n} from 'selectors'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tvalidateNumberString,\r\n\tupdateNewSlot,\r\n\texecute,\r\n} from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst newItem = useSelector(selectNewAdSlot)\r\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\r\n\tconst {\r\n\t\ttitle = '',\r\n\t\tdescription = '',\r\n\t\twebsite = '',\r\n\t\ttype = '',\r\n\t\tminPerImpression = '',\r\n\t} = newItem\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\r\n\t)\r\n\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateSlotsDemandThrottled())\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\twebsite: errWebsite,\r\n\t\ttype: errType,\r\n\t\tminPerImpression: errMin,\r\n\t} = invalidFields\r\n\r\n\tconst { symbol } = selectMainToken\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\t\t\t\t\tname='website'\r\n\t\t\t\t\t\t\tvalue={website}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\r\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\r\n\t\t\t\t\t\t\tsource={adTypesSource}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdSlotMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tconst { temp, targetUrl } = newItem\r\n\t\tconst { useFallback } = temp\r\n\r\n\t\tif (useFallback) {\r\n\t\t\tthis.validateImage(useFallback)\r\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateImage = useFallback => {\r\n\t\tconst { newItem, validate, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl, mime } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (!useFallback) {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\terr: {\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t},\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t} else if (tempUrl) {\r\n\t\t\tvalidateMedia(\r\n\t\t\t\t{\r\n\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\texact: true,\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !useFallback || !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleFallbackChange = useFallback => {\r\n\t\tconst { temp, targetUrl } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.useFallback = useFallback\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\r\n\t\tthis.validateImage(useFallback)\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tvalidateMedia,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, temp } = newItem\r\n\t\tconst useFallback = temp.useFallback || false\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\r\n\r\nexport default Translate(NewAdSlotMedia)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\ttags: { src: AcTags, collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags' },\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdSlotTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || [],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource = [],\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsource = '',\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\t\ttarget = {},\r\n\t\t\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\tIconComponent={AddIcon}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\r\n\r\nexport default Translate(NewAdSlotTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { Typography } from '@material-ui/core'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { selectMainToken } from 'selectors'\r\n\r\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass AdSlotPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\twebsite,\r\n\t\t\ttemp,\r\n\t\t\ttags,\r\n\t\t\ttargetUrl,\r\n\t\t\tminPerImpression,\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\r\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.useFallback && (\r\n\t\t\t\t\t\t<SlotFallback\r\n\t\t\t\t\t\t\timg={temp}\r\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{tags && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={tags}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotPreview.propTypes = {\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\r\n\t}\r\n}\r\n\r\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\n// import CampaignTargeting from './Campaign/CampaignTargeting'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateNewCampaignFinance,\r\n\tvalidateNewCampaignAdUnits,\r\n\tvalidateNewSlotBasics,\r\n} from 'actions'\r\n\r\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button color='primary' onClick={save}>\r\n\t\t\t{/*TODO: withStyles */}\r\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t{t('SAVE')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={newItem.temp.waitingAction}\r\n\t\t>\r\n\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\r\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\r\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\r\n}\r\n\r\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\r\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\r\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\r\n\r\nconst dialogCommon = {\r\n\tdarkerBackground: true,\r\n\ticon: <AddIcon />,\r\n}\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdUnit}\r\n\t\tCancelBtn={CancelBtnWithItem}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdUnit'}\r\n\t\tstepsId={'new-adunit-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\r\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\r\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: AdUnitFormPreview,\r\n\t\t}}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon color='primary' />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithCampaign}\r\n\t\tCancelBtn={CancelBtnWithCampaign}\r\n\t\tvalidateIdBase={'new-Campaign-'}\r\n\t\titemType={'Campaign'}\r\n\t\tstepsId={'new-campaign-'}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\r\n\t\t\t\tpage: CampaignUnits,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignAdUnits({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t// NOTE: Only at ad units at the moment\r\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\r\n\t\t\t\tpage: CampaignFinance,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignFinance({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: CampaignFormPreview,\r\n\t\t}}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdSlot}\r\n\t\tCancelBtn={CancelBtnWithAdSlot}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdSlot'}\r\n\t\tstepsId={'new-slot-'}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\r\n\t\t\t\tpage: AdSlotBasic,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewSlotBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n","import React, { useEffect, useState, useCallback, Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { commify } from 'ethers/utils'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectSide,\r\n\tselectAdUnitsStatsMaxValues,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tnoActions,\r\n\tnoClone,\r\n\tmaxImpressions,\r\n\tmaxClicks,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR.toFixed(2)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Fragment key={item.id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst { noActions, noClone, campaignId, handleSelect, selected = [] } = props\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { side, campaignId })\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, campaignId })\r\n\t}, [side, campaignId])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\twidth: 320,\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\t'@media(max-width:380px)': {\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tmarginBottom: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\r\n\t\t\ttop: 0,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport Img from 'components/common/img/Img'\r\nimport { validUrl } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { validations, schemas, Joi } from 'adex-models'\r\nimport { utils } from 'ethers'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { selectMainToken } from 'selectors'\r\n\r\nconst FallbackAdData = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\r\n\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false}>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\r\n\t\t\t\t\talt={item.fallbackTargetUrl}\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t/>\r\n\t\t\t</CardMedia>\r\n\t\t\t{/* <Fab\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleFallbackImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\tdisabled={isDemo}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Fab> */}\r\n\t\t\t<CardContent>\r\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t// required\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\r\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\r\n\t\t\t\t\t\t// maxLength={1024}\r\n\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\r\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\r\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\r\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{/* <span>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className={classes.error}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\r\n\r\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\r\n\tconst { temp } = item\r\n\tconst newTemp = { ...temp }\r\n\tnewTemp[prop] = value\r\n\r\n\treturn newTemp\r\n}\r\n\r\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\r\n\tconst isValidNumber = validations.isNumberString(value)\r\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\tvalidate(prop, {\r\n\t\tisValid: isValid,\r\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\tdirty: dirty,\r\n\t})\r\n}\r\n\r\nconst validateWebsite = (value = '', prop, dirty, errMsg, validate) => {\r\n\tconst result = Joi.validate(value, schemas.adSlotPut.website)\r\n\r\n\tconst isValid = !result.error\r\n\r\n\tvalidate(prop, {\r\n\t\tisValid: isValid,\r\n\t\terr: { msg: errMsg || 'SLOT_WEBSITE_ERR' },\r\n\t\tdirty: dirty,\r\n\t})\r\n}\r\n\r\nconst SlotMinCPM = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errMin = invalidFields['minPerImpression']\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst minCPM = formatTokenAmount(\r\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\r\n\t\tdecimals,\r\n\t\ttrue\r\n\t)\r\n\r\n\tconst minPerImpression =\r\n\t\titem.temp.minPerImpression !== undefined\r\n\t\t\t? item.temp.minPerImpression\r\n\t\t\t: minCPM\r\n\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tfullWidth\r\n\t\t\tclassName={classes.textField}\r\n\t\t\tmargin='dense'\r\n\t\t\terror={!!errMin}\r\n\t\t>\r\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\r\n\t\t\t<Input\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoFocus\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname={'minPerImpression'}\r\n\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\tonChange={ev => {\r\n\t\t\t\t\tvalidateAmount(\r\n\t\t\t\t\t\tev.target.value,\r\n\t\t\t\t\t\t'minPerImpression',\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t'',\r\n\t\t\t\t\t\tvalidate\r\n\t\t\t\t\t)\r\n\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\tupdateItemTemp({\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tmaxLength={1024}\r\n\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={!activeFields.minPerImpression}\r\n\t\t\t\tendAdornment={\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<FormHelperText>\r\n\t\t\t\t{errMin && !!errMin.errMsg\r\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\r\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\r\n\t\t\t</FormHelperText>\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\r\n\r\nconst SlotWebsite = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errWebsite = invalidFields['website']\r\n\r\n\tconst website = item.temp.website\r\n\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tfullWidth\r\n\t\t\tclassName={classes.textField}\r\n\t\t\tmargin='dense'\r\n\t\t\terror={!!errWebsite && activeFields.website}\r\n\t\t>\r\n\t\t\t<InputLabel>{t('SLOT_WEBSITE')}</InputLabel>\r\n\t\t\t<Input\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoFocus\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname={'website'}\r\n\t\t\t\tvalue={website || item.website || ''}\r\n\t\t\t\tonChange={ev => {\r\n\t\t\t\t\tvalidateWebsite(ev.target.value, 'website', true, '', validate)\r\n\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\tupdateItemTemp({\r\n\t\t\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tmaxLength={1024}\r\n\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\tsetActiveFields('website', false)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={!!item.website || !activeFields.website}\r\n\t\t\t\tendAdornment={\r\n\t\t\t\t\t!item.website && (\r\n\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tdisabled={activeFields.website || isDemo}\r\n\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\tonClick={ev => setActiveFields('website', true)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<FormHelperText component='div'>\r\n\t\t\t\t{errWebsite && !!errWebsite.errMsg && activeFields.website ? (\r\n\t\t\t\t\tt(errWebsite.errMsg, { args: errWebsite.errMsgArgs })\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{activeFields.website && (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</FormHelperText>\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nconst ValidatedSlotWebsite = ValidItemHoc(SlotWebsite)\r\n\r\nconst MediaCard = ({\r\n\tclasses,\r\n\tmediaUrl,\r\n\tmediaMime,\r\n\ttitle,\r\n\tcanEditImg,\r\n\ttoggleImgEdit,\r\n\turl,\r\n}) => (\r\n\t<Card className={classes.card} raised={false}>\r\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t<Img\r\n\t\t\t\tallowFullscreen={true}\r\n\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\talt={title}\r\n\t\t\t\tclassName={classes.img}\r\n\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\tallowVideo\r\n\t\t\t/>\r\n\t\t</CardMedia>\r\n\t\t{canEditImg && (\r\n\t\t\t<Button\r\n\t\t\t\tvariant='fab'\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Button>\r\n\t\t)}\r\n\r\n\t\t{url && (\r\n\t\t\t<CardContent>\r\n\t\t\t\t<Anchor href={url} target='_blank'>\r\n\t\t\t\t\t{url}\r\n\t\t\t\t</Anchor>\r\n\t\t\t</CardContent>\r\n\t\t)}\r\n\t</Card>\r\n)\r\n\r\nconst basicProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\tactiveFields,\r\n\tvalidateId,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst mediaMime = item.mediaMime\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\r\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\r\n\t\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\r\n\t\t\t\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<ValidatedSlotWebsite\r\n\t\t\t\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\tvalue={item.type}\r\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\r\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\r\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\trows={7}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t{rightComponent}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const BasicProps = withStyles(styles)(basicProps)\r\n\r\nconst campaignProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst status = item.status || {}\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className={classes.basicInfo}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\r\n\t\t\t\t\t{rightComponent}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\r\nexport const CampaignProps = withStyles(styles)(campaignProps)\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={450}\r\n\t\t\theight={450}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\t// responsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas(earnings || 0)} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 20,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction Receipt({ campaignId } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box mb={5} className={classnames(classes.pageBreak)}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4'>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5'>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2'>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={5}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_PAID')}</Typography>\r\n\t\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE_EARNINGS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classnames(classes.breakAll)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>{stats.website}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nReceipt.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Receipt\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Card, Typography, TextField } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={3} mt={3}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography variant='h4'>{'Company Details'}</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Card>\r\n\t\t\t\t<Box p={3}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</Box>\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Card, Button, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport classnames from 'classnames'\r\nimport { Print, Visibility } from '@material-ui/icons'\r\nimport Receipt from './Receipt'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport { t, selectSelectedCampaigns } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\thideOnMobile: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\thideOnDesktop: {\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n})\r\nfunction CampaignReceipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst { itemId } = useParams()\r\n\tconst items = useSelector(state => selectSelectedCampaigns(state))\r\n\t// TODO: render back button\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receipts = selectedByPropsOrParams ? [selectedByPropsOrParams] : items\r\n\tif (receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnDesktop)}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={5}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Visibility />\r\n\t\t\t\t\t\t\t<Typography variant='overline' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_PREVIEW_ONLY_DESKTOP')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnMobile)}>\r\n\t\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t\t<Box ref={invoice} className={classnames(classes.a4)}>\r\n\t\t\t\t\t\t\t\t{receipts.map(campaignId => (\r\n\t\t\t\t\t\t\t\t\t<Receipt campaignId={campaignId} key={campaignId} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Card>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { CampaignReceipt }\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\r\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\r\nimport { CampaignReceipt } from 'components/dashboard/containers/Receipt/CampaignReceipt'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nconst VIEW_MODE = 'campaignRowsView'\r\n\r\nexport class Campaign extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tstatistics: {},\r\n\t\t}\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tCampaignActions = ({ campaign, actions, t }) => {\r\n\t\tconst humanFriendlyName = campaign.status.humanFriendlyName\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={humanFriendlyName === 'Closed'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\titem,\r\n\t\t\t// handleChange,\r\n\t\t\t// activeFields,\r\n\t\t\t// isDemo,\r\n\t\t\tactions,\r\n\t\t\thistory,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\t\tconst campaign = new CampaignModel(item)\r\n\t\tconst status = (campaign.status || {}).name\r\n\t\tconst humanFriendlyName = campaign.status.humanFriendlyName\r\n\t\tconst leader = campaign.spec.validators[0]\r\n\t\tconst follower = campaign.spec.validators[1]\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignProps\r\n\t\t\t\t\titem={campaign}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t// <UnitTargets\r\n\t\t\t\t\t\t// \t{...rest}\r\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\r\n\t\t\t\t\t\t// \tt={t}\r\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\r\n\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t(status === 'Ready' ||\r\n\t\t\t\t\t\t\tstatus === 'Active' ||\r\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\r\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\r\n\t\t\t\t\t\t\t<this.CampaignActions\r\n\t\t\t\t\t\t\t\tcampaign={campaign}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default' className={classes.appBar}>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\r\n\t\t\t\t\t\t\t{(humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\t\thumanFriendlyName === 'Completed') && (\r\n\t\t\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 2, md: 2, lg: 1 }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item lg={8} md={12} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={item.id} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 1, md: 1, lg: 2 }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item lg={4} md={12} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={item.id} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<AdUnitsTable campaignId={campaign.id} noClone />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 3 && <CampaignReceipt itemId={campaign.id} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tunits: PropTypes.object.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\tunits: persist.items['AdUnit'],\r\n\t\trowsView: !!persist.ui.global[VIEW_MODE],\r\n\t\tobjModel: CampaignModel,\r\n\t\titemType: 'Campaign',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(CampaignItem))\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tappBar: {\r\n\t\t\tzIndex: theme.zIndex.appBar - 1,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\r\n\t</g>,\r\n\r\n\t'AdexPublisher',\r\n\t'0 0 114 110'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\r\n\t</g>,\r\n\t'AdexAdvertiser',\r\n\t'0 0 109 94'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({\r\n\tsalePoints = [],\r\n\tlinkTitle,\r\n\ticon,\r\n\ttitle,\r\n\tdisabled,\r\n\tclasses,\r\n\t...other\r\n}) => (\r\n\t<div\r\n\t\t{...other}\r\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\r\n\t>\r\n\t\t<div className={classes.icon}>{icon}</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function(point, key) {\r\n\t\t\t\treturn <li key={key}> {point} </li>\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<AdvertiserLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<PublisherLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1,\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectStatsChartData, selectMainToken } from 'selectors'\r\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0.1,\r\n\tborderWidth: 0,\r\n\tpointRadius: 3,\r\n\tpointHitRadius: 10,\r\n}\r\n\r\nexport const SimpleStatistics = ({\r\n\tside,\r\n\ttimeframe = '',\r\n\teventType,\r\n\tpayouts,\r\n\timpressions,\r\n\tclicks,\r\n\tcpm,\r\n\toptions = {},\r\n\tt,\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty3Label = 'DATA3',\r\n\ty4Label = 'DATA4',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n\ty3Color = CHARTS_COLORS[3],\r\n\ty4Color = CHARTS_COLORS[4],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tafterDraw: function(chart) {\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\r\n\t\t\t\t\tif (chartScalesy1) {\r\n\t\t\t\t\t\tconst topY = chartScalesy1.top\r\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\r\n\t\t\t\t\t\tctx.save()\r\n\t\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\t\tctx.lineWidth = 1 // line width\r\n\t\t\t\t\t\tctx.setLineDash([1, 5])\r\n\t\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\r\n\t\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\t\tctx.restore()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: payouts.labels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: payouts.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: impressions.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tlabel: y3Label,\r\n\t\t\t\tdata: clicks.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-3',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tpointBackgroundColor: y4Color,\r\n\t\t\t\tlabel: y4Label,\r\n\t\t\t\tdata: cpm.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-4',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tanimation: false,\r\n\t\tresponsive: true,\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: true,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel =\r\n\t\t\t\t\t\txLabel === y1Label\r\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\r\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tautoSkip: false,\r\n\t\t\t\t\t\tcallback: function(tick, index, array) {\r\n\t\t\t\t\t\t\treturn index % Math.floor(array.length / 12) ? '' : tick\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y1Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y2Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// grid line settings\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y3Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-3',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// grid line settings\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t\tlabelString: y4Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-4',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn <Line height={500} data={chartData} options={linesOptions} />\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport classnames from 'classnames'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor })\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\t// raised\r\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{title && (\r\n\t\t\t\t\t<Typography variant='h5' noWrap>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{subtitle && (\r\n\t\t\t\t\t<Typography component='p' noWrap>\r\n\t\t\t\t\t\t{subtitle}{' '}\r\n\t\t\t\t\t\t{explain && (\r\n\t\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\r\n\t\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{children}\r\n\t\t\t</CardContent>\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\r\nimport lime from '@material-ui/core/colors/lime'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nconst WHITE = '#fff'\r\nexport const PRIMARY = '#1B75BC'\r\nexport const SECONDARY = '#FFAC00'\r\nexport const ALEX_GREY = '#3f3e3e'\r\nexport const ACCENT_ONE = '#57467B'\r\nexport const ACCENT_ONE_LIGHT = '#ceccde'\r\nexport const ACCENT_TWO = '#7CB4B8'\r\nexport const ACCENT_TWO_LIGHT = '#dfecee'\r\n\r\nconst palette = {\r\n\tprimary: { main: PRIMARY, contrastText: WHITE },\r\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: deepOrange,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n\taction: {\r\n\t\tdisabledBackground: grey[300],\r\n\t\tdisabled: grey[600],\r\n\t},\r\n}\r\n\r\nexport const theme = createMuiTheme({\r\n\ttypography: {\r\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\t\tfontSize: 13,\r\n\t},\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: { borderRadius: 0 },\r\n\t\t},\r\n\t\tMuiSelect: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiInputLabel: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiOutlinedInput: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAlert: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// },\r\n\t\tMuiTableFooter: {\r\n\t\t\troot: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflex: 0,\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAppBar: {\r\n\t\t\tcolorDefault: {\r\n\t\t\t\tbackgroundColor: palette.appBar.main,\r\n\t\t\t\tcolor: palette.appBar.contrastText,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTablePagination: {\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableFilter: {\r\n\t\t\troot: {\r\n\t\t\t\tmaxWidth: '400px',\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Think of accessing an element not a class\r\n\t\tMuiGridListTile: {\r\n\t\t\troot: {\r\n\t\t\t\twidth: '100% !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBodyCell: {\r\n\t\t\tstackedCommon: {\r\n\t\t\t\theight: '80px !important',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport const themeMUI = responsiveFontSizes(theme, {\r\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateAnalyticsTimeframe } from 'actions'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tPRIMARY,\r\n\tSECONDARY,\r\n\tACCENT_ONE,\r\n\tACCENT_TWO,\r\n\tALEX_GREY,\r\n} from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n\tselectTotalClicks,\r\n\tselectChartDatapointsCPM,\r\n\tselectChartDatapointsImpressions,\r\n\tselectChartDatapointsClicks,\r\n\tselectChartDatapointsPayouts,\r\n} from 'selectors'\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = t(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst metrics = {\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_TWO,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CTR'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_ONE,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n}\r\n\r\nconst timeHints = {\r\n\thour: 'SHOWING_LAST_HOUR',\r\n\tday: 'SHOWING_LAST_24_HOURS',\r\n\tweek: 'SHOWING_LAST_7_DAYS',\r\n}\r\n\r\nexport function BasicStats({ side }) {\r\n\tconst useStyles = makeStyles(styles)\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalClicks = useSelector(state =>\r\n\t\tselectTotalClicks(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst loadingImpressions = totalImpressions === null\r\n\tconst loadingMoney = totalMoney === null\r\n\tconst loadingCPM = averageCPM === null\r\n\tconst loadingClicks = totalClicks === null\r\n\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst impressions = useSelector(state =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst clicks = useSelector(state =>\r\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst cpm = useSelector(state =>\r\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst dataInSync =\r\n\t\t(clicks.labels[clicks.labels.length - 1] ===\r\n\t\t\timpressions[impressions.labels.length - 1]) ===\r\n\t\tpayouts[payouts.labels.length - 1]\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t\t<StatsCard>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\r\n\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={loadingImpressions && !dataInSync}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='secondary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\r\n\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\tloadingClicks &&\r\n\t\t\t\t\t\t\tloadingImpressions &&\r\n\t\t\t\t\t\t\t!dataInSync &&\r\n\t\t\t\t\t\t\ttotalClicks / totalImpressions !== Infinity\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\r\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\r\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\r\n\t\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\r\n\t\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={loadingCPM && !dataInSync}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\tside={side}\r\n\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\ttitle:\r\n\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tpayouts={payouts}\r\n\t\t\t\t\timpressions={impressions}\r\n\t\t\t\t\tclicks={clicks}\r\n\t\t\t\t\tcpm={cpm}\r\n\t\t\t\t\ty1Label={metrics[side][0].label}\r\n\t\t\t\t\ty1Color={metrics[side][0].color}\r\n\t\t\t\t\ty2Label={metrics[side][1].label}\r\n\t\t\t\t\ty2Color={metrics[side][1].color}\r\n\t\t\t\t\ty3Label={metrics[side][2].label}\r\n\t\t\t\t\ty3Color={metrics[side][2].color}\r\n\t\t\t\t\ty4Label={metrics[side][3].label}\r\n\t\t\t\t\ty4Color={metrics[side][3].color}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper } from '@material-ui/core'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport { BasicStats } from './BasicStats'\r\nimport { t, selectSide } from 'selectors'\r\n\r\nexport function DashboardStats(props) {\r\n\tconst side = useSelector(selectSide)\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\r\n\t\t<SideSelect active={true} />\r\n\t) : (\r\n\t\t<Paper elevation={2}>\r\n\t\t\t<Box p={1}>\r\n\t\t\t\t<BasicStats side={side} />\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default DashboardStats\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnit } from 'adex-models'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Translate from 'components/translate/Translate'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\n\r\nexport class Unit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcloseDialog: false,\r\n\t\t}\r\n\t}\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t//     return diffProps || diffState\r\n\t// }\r\n\trender() {\r\n\t\tconst { item, t, ...rest } = this.props\r\n\r\n\t\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnit.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\treturn {\r\n\t\tobjModel: AdUnit,\r\n\t\titemType: 'AdUnit',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst UnitItem = ItemHoc(Unit)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(UnitItem))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\nimport copy from 'copy-to-clipboard'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport url from 'url'\r\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = account.identity.address\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\tonCopy && onCopy()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport class Slot extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\teditFallbackImg: false,\r\n\t\t\ttabIndex: 0,\r\n\t\t}\r\n\t\tthis.tabsFocus = React.createRef()\r\n\t}\r\n\r\n\thandleFallbackImgUpdateToggle = () => {\r\n\t\tconst active = this.state.editFallbackImg\r\n\t\tthis.setState({ editFallbackImg: !active })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index }, () => {\r\n\t\t\tif (this.tabsFocus.current) {\r\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t\tblock: 'start',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\tcanEditImg={!isDemo}\r\n\t\t\t\t\trightComponent={null}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\r\n\t\t\t\t\t\t\tref={this.tabsFocus}\r\n\t\t\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\r\n\t\t\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<IntegrationCode\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\t\tslot={item}\r\n\t\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* {tabIndex === 0 && null} */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSlot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tobjModel: AdSlot,\r\n\t\titemType: 'AdSlot',\r\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\r\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\r\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\r\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\r\n\t\tupdateImgExact: true,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SlotItem)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectAccountStatsFormatted,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\n\r\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst { amountToWithdraw: errAmount, withdrawTo: errAddr } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t{' '}\r\n\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\r\n\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\tname='withdrawTo'\r\n\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t// onChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t<TextField\r\n\t\t\t\ttype='text'\r\n\t\t\t\tfullWidth\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawFromIdentity\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n\r\n// const { TX_STATUS } = ExchangeConstants\r\n\r\nexport default function NewTransactionHoc(Decorated) {\r\n\t// TODO: make it common for bids and items\r\n\tclass TransactionHoc extends Component {\r\n\t\tcomponentWillMount() {\r\n\t\t\t// console.log('TransactionHoc')\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\r\n\t\t}\r\n\r\n\t\t// addTx = (tx) => {\r\n\t\t//     let txData = { ...tx }\r\n\t\t//     txData.status = TX_STATUS.Pending.id\r\n\t\t//     txData.sendingTime = Date.now()\r\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\r\n\t\t// }\r\n\r\n\t\tonSave = (err, tx, manyTxs) => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTransaction()\r\n\t\t}\r\n\r\n\t\tresetTransaction = () => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.resetNewTransaction({ tx: txId })\r\n\t\t}\r\n\r\n\t\thandleSaveRes = ({ err, res }) => {\r\n\t\t\tconst { t, actions } = this.props\r\n\t\t\t// const areManyTxs = Array.isArray(res)\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tactions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.onSave(err, res, Array.isArray(res))\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tthis.handleChange('waitingForWalletAction', true)\r\n\t\t\tthis.props\r\n\t\t\t\t.saveFn({\r\n\t\t\t\t\tacc: this.props.account,\r\n\t\t\t\t\ttransaction: this.props.transaction,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res = {}) => {\r\n\t\t\t\t\tconsole.log('res on save', res)\r\n\r\n\t\t\t\t\tconst txs = res.txResults || res\r\n\t\t\t\t\tconst err = res.err || null\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error = {}) => {\r\n\t\t\t\t\tconsole.log('err on save', error)\r\n\t\t\t\t\tconst res = error.txResults || null\r\n\t\t\t\t\tconst err = error.err || error\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\t// TODO: take a look at onSave if change something\r\n\t\t\tthis.onSave(null, null)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tlet transaction = this.props.transaction || {}\r\n\t\t\tlet props = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\ttransaction={transaction}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tresetTransaction={this.resetTransaction}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTransactionHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tlabel: PropTypes.string,\r\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t\t.isRequired,\r\n\t\ttransaction: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tsaveFn: PropTypes.func,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\tconst txId = props.stepsId\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\t\ttxId: txId,\r\n\t\t\tspinner: memory.spinners[txId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(TransactionHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { validateNumber } from 'helpers/validators'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nclass WithdrawAnyTokenFromIdentity extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { validate, transaction } = this.props\r\n\t\t// If nothing entered will validate\r\n\t\tif (!transaction.amountToWithdraw) {\r\n\t\t\tvalidate('amountToWithdraw', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.withdrawTo) {\r\n\t\t\tvalidate('withdrawTo', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.tokenAddress) {\r\n\t\t\tvalidate('tokenAddress', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\r\n\t\tthis.props.validate('amountToWithdraw', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: msg },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tvalidate,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\twithdrawToSpinner,\r\n\t\t\tbalanceAnySpinner,\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\twithdrawTo,\r\n\t\t\tamountToWithdraw,\r\n\t\t\ttokenAddress,\r\n\t\t\ttokenBalance,\r\n\t\t\ttokenDecimals,\r\n\t\t} = transaction || {}\r\n\t\tconst errAmount = invalidFields['amountToWithdraw']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\t\tconst errToken = invalidFields['tokenAddress']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={balanceAnySpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\t\tname='tokenAddress'\r\n\t\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: tokenAddress,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'tokenAddress',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: tokenAddress,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'tokenAddress',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errToken && !!errToken.dirty}\r\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\r\n\t\t\t\t\tname='tokenDecimals'\r\n\t\t\t\t\tvalue={tokenDecimals || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('tokenDecimals', ev.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={withdrawToSpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t\tnonERC20: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t\tnonERC20: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_AMOUNT_TO_WITHDRAW')}\r\n\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('amountToWithdraw', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(amountToWithdraw, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(amountToWithdraw, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\r\n\t\t\t\t\t\t\t? errAmount.errMsg\r\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\r\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\r\n\tWithdrawAnyTokenFromIdentity\r\n)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawAnyTokenFromIdentityForm)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport Box from '@material-ui/core/Box'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport { constants } from 'adex-models'\r\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\r\n\treturn {\r\n\t\tvalue,\r\n\t\tlabel: t(`PRIV_${value}_LABEL`),\r\n\t\tinfo: t(`PRIV_${value}_INFO`),\r\n\t}\r\n})\r\n\r\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\r\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\r\n\t\tstate => selectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsetAddr: errAddr,\r\n\t\tsetAddrWarning: warning,\r\n\t\tprivLevel: errPrivLvl,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}</div>\r\n\t\t\t<TextField\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\tname='setAddr'\r\n\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t<Dropdown\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\tonChange={val =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'privLevel',\r\n\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\tfullWidth\r\n\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\r\n\t\t\t\t\t\t? errPrivLvl.errMsg\r\n\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<Box marginTop={2}>\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tkey={x.value}\r\n\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t))}\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{(warning || warningAccepted || warningMsg) && (\r\n\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvalue='warningAccepted'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormControl>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SeAddressPrivilege\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nclass SetAccountENSPage extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { transaction, validate } = this.props\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('setEns', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleValidate = () => {\r\n\t\tif (this._timeout) {\r\n\t\t\t//if there is already a timeout in process cancel it\r\n\t\t\tclearTimeout(this._timeout)\r\n\t\t}\r\n\t\tthis._timeout = setTimeout(() => {\r\n\t\t\tthis._timeout = null\r\n\t\t\tconst { actions, transaction, validate } = this.props\r\n\t\t\tconst { setEns } = transaction || {}\r\n\t\t\tactions.validateENS({\r\n\t\t\t\tens: setEns,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tvalidate,\r\n\t\t\t\tname: 'setEns',\r\n\t\t\t})\r\n\t\t}, 500)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\tsetEnsSpinner,\r\n\t\t} = this.props\r\n\t\tconst { setEns } = transaction || {}\r\n\t\t// const errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['setEns']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div> {t('SET_ENS_MAIN_INFO')}</div>\r\n\t\t\t\t<form noValidate>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\r\n\t\t\t\t\t\tname='setEns'\r\n\t\t\t\t\t\tvalue={setEns || ''}\r\n\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\thandleChange('setEns', ev.target.value.toLowerCase())\r\n\t\t\t\t\t\t\tthis.handleValidate()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{setEnsSpinner ? <InputLoading /> : null}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSetAccountENSPage.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\tsetEnsSpinner: memory.spinners['setEns'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SetAccountENSPageForm = NewTransactionHoc(SetAccountENSPage)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SetAccountENSPageForm)\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tt,\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetENSPreview = ({\r\n\tt,\r\n\tsetEns,\r\n\taddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='addr'\r\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\r\n\t\t\tright={(address || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='setEns'\r\n\t\t\tleft={t('setEns', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tfeesData.fees,\r\n\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tSetENSPreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\n\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\nimport { execute, updateSpinner } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst {\r\n\t\tgetFeesFn,\r\n\t\thandleChange,\r\n\t\tidentityAvailable,\r\n\t\tpreviewWarnMsgs,\r\n\t\tstepsId,\r\n\t} = props\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { address } = account.identity\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst transaction = useSelector(state =>\r\n\t\tselectNewTransactionById(state, txId)\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\r\n\r\n\tuseEffect(() => {\r\n\t\tif (getFeesFn && Object.keys(transaction).length) {\r\n\t\t\texecute(updateSpinner(txId, true))\r\n\t\t\tgetFeesFn({ account, transaction })\r\n\t\t\t\t.then(feesData => {\r\n\t\t\t\t\thandleChange('feesData', feesData)\r\n\t\t\t\t\t// if (feesData.toGet) {\r\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\r\n\t\t\t\t\t// }\r\n\t\t\t\t\texecute(updateSpinner(txId, false))\r\n\r\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\r\n\t\t\t\t\t\thandleChange('errors', [\r\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\r\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\texecute(updateSpinner(txId, false))\r\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\twithdrawAmount,\r\n\t\tamountToWithdraw,\r\n\t\tsetAddr,\r\n\t\tsetEns,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = transaction\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setENS' && (\r\n\t\t\t\t\t\t\t<SetENSPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\tsetEns={setEns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\r\nexport default TransactionPreviewForm\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport SetAccountENSPage from './SetAccountENSPage'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport Button from '@material-ui/core/Button'\r\nimport TransactionHoc from './TransactionHoc'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { t } from 'selectors'\r\n// import SaveIcon from '@material-ui/icons/Save'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n\taddIdentityENS,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddrIdentityPrivilege,\r\n\tidentityWithdraw,\r\n\tsetIdentityENS,\r\n\tvalidatePrivilegesChange,\r\n\tidentityWithdrawAny,\r\n\tvalidateIdentityWithdraw,\r\n\texecute,\r\n} from 'actions'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst SaveBtn = ({\r\n\tsave,\r\n\tsaveBtnLabel,\r\n\tsaveBtnIcon,\r\n\tt,\r\n\ttransaction,\r\n\twaitingForWalletAction,\r\n\tspinner,\r\n\t...other\r\n}) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={\r\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\r\n\t\t\t\t!!transaction.waitingForWalletAction ||\r\n\t\t\t\t!!spinner\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || ''\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\r\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\r\n}\r\n\r\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\r\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\r\n\r\nconst txCommon = {\r\n\tSaveBtn: SaveBtnWithTransaction,\r\n\tCancelBtn: CancelBtnWithTransaction,\r\n\tvalidateIdBase: 'tx-',\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawFromIdentity,\r\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateIdentityWithdraw({\r\n\t\t\t\t\t\t\tstepsId,\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction: { amountToWithdraw, withdrawTo } } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tidentityWithdraw({\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\tstepsId='setIdentityPrivilege'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\tpage: SeAddressPrivilege,\r\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidatePrivilegesChange({\r\n\t\t\t\t\t\t\tstepsId,\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\taddrIdentityPrivilege({\r\n\t\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction, account } = {}) => {\r\n\t\t\treturn setIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(identityWithdrawAny(transaction))\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction = {}, account } = {}) => {\r\n\t\t\treturn withdrawOtherTokensFromIdentity({\r\n\t\t\t\t...transaction,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetAccountENS = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\r\n\t\tstepsId='setENS'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\r\n\t\t\t\tpage: SetAccountENSPage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tsetIdentityENS({\r\n\t\t\t\t\tusername: transaction.setEns,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ account } = {}) => {\r\n\t\t\treturn addIdentityENS({\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tWithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n\tSetAccountENS,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectMainToken,\r\n\tselectEasterEggsAllowed,\r\n\tselectEnsAddressByAddr,\r\n} from 'selectors'\r\nimport { execute, addToast } from 'actions'\r\nimport { formatAddress } from 'helpers/formatters'\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nconst AccountItem = props => (\r\n\t<ListItem>\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexWrap={'wrap'}\r\n\t\t\tflex='1'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\talignItems='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow='8'\r\n\t\t\t\tflexBasis='700px'\r\n\t\t\t\tmr={1}\r\n\t\t\t\tflexWrap={'nowrap'}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t>\r\n\t\t\t\t<Box flex='1'>{props.left}</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\r\n\t\t\t\t{props.right}\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t</ListItem>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType = '', email, password } = useSelector(selectWallet)\r\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst canMakeTx = privileges > 1\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst identityEnsName = useSelector(state =>\r\n\t\tselectEnsAddressByAddr(state, identityAddress)\r\n\t)\r\n\r\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\r\n\r\n\tconst [localWalletDownloadHref, setLocalWalletDownloadHref] = useState('')\r\n\r\n\tconst loadBackupHref = async () => {\r\n\t\tconst obj = await getRecoveryWalletData({ email, password, authType })\r\n\t\tif (obj && obj.wallet) {\r\n\t\t\tconst data =\r\n\t\t\t\t'data:text/json;charset=utf-8,' +\r\n\t\t\t\tencodeURIComponent(JSON.stringify(obj))\r\n\r\n\t\t\tsetLocalWalletDownloadHref(data)\r\n\t\t}\r\n\t}\r\n\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\tloadBackupHref()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst displayRampWidget = () => {\r\n\t\tconst widget = new RampInstantSDK({\r\n\t\t\thostAppName: 'AdExNetwork',\r\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\t\tvariant: 'auto',\r\n\t\t\tswapAsset: symbol,\r\n\t\t\tuserAddress: identityAddress,\r\n\t\t})\r\n\t\twidget.domNodes.overlay.style.zIndex = 1000\r\n\t\twidget.show()\r\n\t}\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List className={classes.root}>\r\n\t\t\t\t<ListSubheader>{t('ADEX_ACCOUNT')}</ListSubheader>\r\n\t\t\t\t<AccountItem\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t{...(identityEnsName && {\r\n\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\r\n\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t{...(!identityEnsName && {\r\n\t\t\t\t\t\t\t\t\tprimary: identityAddress,\r\n\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t!!identityAddress && (\r\n\t\t\t\t\t\t\t<SetAccountENS\r\n\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<AccountItem\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\r\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\ttoken={symbol}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={handleExpandChange}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\r\n\t\t\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\tlocalWalletDownloadHref && (\r\n\t\t\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t></AccountItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t{allowEasterEggs && (\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t\tflexGrow: 0,\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { Stars } from '@material-ui/icons'\r\nimport { PRIMARY, SECONDARY } from 'components/App/themeMUi'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tzIndex: 1,\r\n\t\twidth: props => props.size || 80,\r\n\t\theight: props => props.size || 80,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `3px solid ${theme.palette.grey[300]}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `3px solid ${PRIMARY} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `3px solid ${SECONDARY}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: 40,\r\n\t},\r\n\tline: {\r\n\t\theight: 3,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, #fff 50%), ${\r\n\t\t\ttheme.palette.grey[300]\r\n\t\t}`,\r\n\t\tbackgroundSize: `16px 2px, 100% 2px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <Stars className={clsx(classes.star)} color='secondary' />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { confirmAction, execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nexport const createAdUnitTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 8; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const fundAccountTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const launchFirstCampaign = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 5; i++) {\r\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const createAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 7; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const placeAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 2; i++) {\r\n\t\tsteps.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://webcusp.com/iframe-wordpress-plugins-and-tutorials/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tStepButton,\r\n\tMobileStepper,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tTypography,\r\n\tHidden,\r\n\tLink,\r\n\tExpansionPanel,\r\n\tExpansionPanelDetails,\r\n\tExpansionPanelSummary,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n\tKeyboardArrowLeft,\r\n\tKeyboardArrowRight,\r\n\tExpandMore,\r\n\tClose,\r\n\tStar,\r\n\tStarBorder,\r\n} from '@material-ui/icons'\r\nimport EmailEddie from 'resources/getting-started/GS-email-ic.png'\r\nimport FundEddie from 'resources/getting-started/GS-fund-ic.png'\r\nimport CreateEddie from 'resources/getting-started/GS-create-ic.png'\r\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic.png'\r\nimport PlaceEddie from 'resources/getting-started/GS-place-ic.png'\r\nimport BonusEddie from 'resources/getting-started/GS-bonus-ic.png'\r\nimport {\r\n\tt,\r\n\tselectHasCreatedAdUnit,\r\n\tselectHasCreatedCampaign,\r\n\tselectHasConfirmedEmail,\r\n\tselectHasFundedAccount,\r\n\tselectHasAdSlotImpressions,\r\n\tselectHas5000Impressions,\r\n\tselectHasCreatedAdSlot,\r\n\tselectHideGettingStarted,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\r\nimport { hideGettingStarted, execute } from 'actions'\r\nimport {\r\n\tcreateAdUnitTutorial,\r\n\tfundAccountTutorial,\r\n\tlaunchFirstCampaign,\r\n\tcreateAdSlot,\r\n\tplaceAdSlot,\r\n} from './Tutorials'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tflex: 1,\r\n\t},\r\n\tbutton: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n\tinstructions: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tmarginBottom: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nexport default function GettingStarted(props) {\r\n\tconst classes = useStyles()\r\n\tconst { side } = props\r\n\r\n\tconst hasCreatedAdUnit = useSelector(selectHasCreatedAdUnit)\r\n\tconst hasCreatedCampaign = useSelector(selectHasCreatedCampaign)\r\n\tconst hasCreatedAdSlot = useSelector(selectHasCreatedAdSlot)\r\n\tconst hasConfirmedEmail = useSelector(selectHasConfirmedEmail)\r\n\tconst hasFundedAccount = useSelector(selectHasFundedAccount)\r\n\tconst hasImpressions = useSelector(selectHasAdSlotImpressions)\r\n\tconst has5000Impressions = useSelector(selectHas5000Impressions)\r\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\r\n\t// const emailProvider = useSelector(selectEmailProvider)\r\n\tconst [expanded, setExpanded] = useState(true)\r\n\r\n\tconst steps = {\r\n\t\tadvertiser: [\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\t\tcontent: (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\t\ticon: EmailEddie,\r\n\t\t\t\tcheck: hasConfirmedEmail,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\r\n\t\t\t\ticon: CreateEddie,\r\n\t\t\t\tcheck: hasCreatedAdUnit,\r\n\t\t\t\ttutorial: createAdUnitTutorial,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\r\n\t\t\t\ticon: FundEddie,\r\n\t\t\t\tcheck: hasFundedAccount,\r\n\t\t\t\ttutorial: fundAccountTutorial,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\r\n\t\t\t\ticon: LaunchEddie,\r\n\t\t\t\tcheck: hasCreatedCampaign,\r\n\t\t\t\ttutorial: launchFirstCampaign,\r\n\t\t\t},\r\n\t\t\t// {\r\n\t\t\t// \tlabel: 'Receive your bonus',\r\n\t\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t\t// \ticon: BonusEddie,\r\n\t\t\t// \tcheck: false,\r\n\t\t\t// },\r\n\t\t],\r\n\t\tpublisher: [\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\t\tcontent: (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\t\ticon: EmailEddie,\r\n\t\t\t\tcheck: hasConfirmedEmail,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\r\n\t\t\t\ticon: CreateEddie,\r\n\t\t\t\tcheck: hasCreatedAdSlot,\r\n\t\t\t\ttutorial: createAdSlot,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\r\n\t\t\t\ticon: PlaceEddie,\r\n\t\t\t\tcheck: hasImpressions,\r\n\t\t\t\ttutorial: placeAdSlot,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\r\n\t\t\t\ticon: LaunchEddie,\r\n\t\t\t\tcheck: has5000Impressions,\r\n\t\t\t},\r\n\t\t\t// {\r\n\t\t\t// \tlabel: 'Receive your bonus',\r\n\t\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t\t// \ticon: BonusEddie,\r\n\t\t\t// \tcheck: false,\r\n\t\t\t// },\r\n\t\t],\r\n\t}\r\n\tconst indexOfFirstIncompleteStep = steps[side].findIndex(step => !step.check)\r\n\tconst [activeStep, setActiveStep] = React.useState(0)\r\n\r\n\tconst handleStep = step => () => {\r\n\t\tsetActiveStep(step)\r\n\t}\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep(activeStep + 1)\r\n\t}\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep(activeStep - 1)\r\n\t}\r\n\r\n\tconst handleDismiss = () => {\r\n\t\tsetActiveStep(0)\r\n\t\texecute(hideGettingStarted())\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tsetActiveStep(\r\n\t\t\tindexOfFirstIncompleteStep !== -1\r\n\t\t\t\t? indexOfFirstIncompleteStep\r\n\t\t\t\t: steps[side].length - 1\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [indexOfFirstIncompleteStep])\r\n\t// TODO: wait for the data to be loaded before displaying the getting started\r\n\treturn (\r\n\t\t!isGettingStartedHidden &&\r\n\t\t(steps[side] && (\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={() => setExpanded(!expanded)}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\r\n\t\t\t\t\t\taria-controls='expand-getting-started'\r\n\t\t\t\t\t\tid='getting-started-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\r\n\t\t\t\t\t\t\t\t{t('GETTING_STARTED_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{steps[side].map(({ label, icon, check }, index) => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = check ? Star : StarBorder\r\n\t\t\t\t\t\t\t\t\tconst color = check ? 'secondary' : 'inherit'\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={label} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon color={color} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\r\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\r\n\t\t\t\t\t\t\t\t\t\ticon={steps[side][activeStep].icon}\r\n\t\t\t\t\t\t\t\t\t\tcompleted={steps[side][activeStep].check}\r\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\t\t\t\tclassName={classes.root}\r\n\t\t\t\t\t\t\t\t\tsteps={steps[side].length}\r\n\t\t\t\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tnextButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === steps[side].length - 1}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbackButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\t\t\t\tnonLinear\r\n\t\t\t\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{steps[side].map(({ label, icon, check }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\r\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveStep + 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsteps[side][activeStep].label || '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].check ? t('COMPLETED') : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].check ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].contentCompleted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].content}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].tutorial &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsteps[side][activeStep].tutorial()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</Box>\r\n\t\t))\r\n\t)\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign, {\r\n\tCampaignReceipt,\r\n} from 'components/dashboard/containers/Campaign'\r\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tCampaignsTable,\r\n\tAdSlotsTable,\r\n\tAdUnitsTable,\r\n} from 'components/dashboard/containers/Tables'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Box from '@material-ui/core/Box'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\texecute,\r\n\tresolveEnsAddress,\r\n\tupdatePrivilegesWarningAccepted,\r\n\tloadAccountData,\r\n\tstopAccountDataUpdate,\r\n\tupdateNav,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectPrivilegesWarningAccepted,\r\n\tselectPublisherMinRevenueReached,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport GettingStarted from '../getting-started/GettingStarted'\r\n\r\nconst Campaigns = () => {\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst disabled = privileges <= 1\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<NewCampaignDialog\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tfabButton\r\n\t\t\t\tvariant='extended'\r\n\t\t\t\taccent\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t/>\r\n\t\t\t<CampaignsTable />\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdUnits = () => (\r\n\t<>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t/>\r\n\t\t<AdUnitsTable />\r\n\t</>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\taccent\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t/>\r\n\t\t<AdSlotsTable />\r\n\t</>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\tconst [dataLoaded, setDataLoaded] = useState(false)\r\n\tconst address = useSelector(selectAccountIdentityAddr)\r\n\tconst minPublisherRevenueReached = useSelector(\r\n\t\tselectPublisherMinRevenueReached\r\n\t)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\r\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function updateInitialData() {\r\n\t\t\tawait execute(loadAccountData())\r\n\t\t\tsetDataLoaded(true)\r\n\t\t}\r\n\r\n\t\tupdateInitialData()\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(stopAccountDataUpdate())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(resolveEnsAddress({ address }))\r\n\t}, [address])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t\t{showTxPrivLevelWarning && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\r\n\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && !minPublisherRevenueReached && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Alert variant='outlined' severity='warning'>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{t('PUBLISHER_REVENUE_NOTICE', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='publisher-revenue-notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tunderline='always'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012285459-Mandatory-verification-for-publishers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{<strong>{t('HERE')}</strong>}\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\r\n\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\r\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\r\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\r\n\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet, identity } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\tlogOut()\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\r\n\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto='/side-select'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport Box from '@material-ui/core/Box'\r\nimport {\r\n\taddToast,\r\n\tupdateIdentity,\r\n\tupdateIdentityWallet,\r\n\texecute,\r\n} from 'actions'\r\nimport { t, selectIdentity } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthMetamask(props) {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\r\n\tconst { address } = wallet\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\t// const [stats, setStats] = useState(null)\r\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\r\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProvider()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\tconst checkMetamask = async () => {\r\n\t\tsetWaitingAddrsData(true)\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: authType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tauthType,\r\n\t\t\t\tgetFullBalances: true,\r\n\t\t\t})\r\n\r\n\t\t\texecute(updateIdentity('stats', stats))\r\n\t\t\tsetWaitingAddrsData(false)\r\n\r\n\t\t\texecute(\r\n\t\t\t\tupdateIdentityWallet({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Error: catch', err)\r\n\t\t\tsetWaitingMetamaskAction(false)\r\n\t\t\tsetWaitingAddrsData(false)\r\n\t\t\texecute(\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingMetamaskAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'metamask logo'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthMetamask\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions, { execute, login } from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\t// componentDidUpdate = () => {\r\n\t\t// \tconst { account } = this.props\r\n\t\t// \tif (account.wallet.authSig) {\r\n\t\t// \t\texecute(push('/side-select'))\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tsave = async () => {\r\n\t\t\texecute(login())\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\texecute(push('/'))\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\r\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t{!this.state.waitingAddrsData &&\r\n\t\t\t\t\t\t\t\t\t!this.state.waitingTrezorAction && (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography variant='subtitle1'>{t('LEDGER_INFO')}</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\tkey='auth-ledger'\r\n\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocationQuery } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod() {\r\n\tconst classes = useStyles()\r\n\tconst query = useSelector(selectLocationQuery)\r\n\tconst method = query['external']\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\r\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\r\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport {\r\n\texecute,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tupdateIdentity,\r\n} from 'actions'\r\n\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\r\n\t]\r\n\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\tpassword,\r\n\t\tpasswordCheck,\r\n\t\ttosCheck,\r\n\t\taccessWarningCheck,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner || sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\r\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_QUICK_CHECK')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\texecute,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tupdateIdentity,\r\n} from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst FulInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet = {} } = identity\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\t// Errors\r\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{walletAddress}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\r\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\r\n\t]\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { push } from 'connected-react-router'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\texecute,\r\n\tupdateIdentity,\r\n\townerIdentities as updateOwnerIdentities,\r\n} from 'actions'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectIdentity,\r\n\tt,\r\n\tselectSearchParams,\r\n\tselectRegistrationAllowed,\r\n} from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: id.ens\r\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\r\n\t\t\t\t  })\r\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\r\n\t\t\t\t  }),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst {\r\n\t\twalletAddr,\r\n\t\twallet = {},\r\n\t\townerIdentities,\r\n\t\tidentityContractAddress,\r\n\t} = identity\r\n\tconst walletAddress = wallet.address || walletAddr\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\r\n\t)\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\r\n\tconst searchParams = useSelector(selectSearchParams)\r\n\tsearchParams.set('step', '1')\r\n\r\n\tconst search = searchParams.toString()\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(\r\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\r\n\t\t)\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{showRegistration && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { selectLocationQuery } from 'selectors'\r\n\r\nclass IdentitySteps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tpages: this.mapPages(),\r\n\t\t}\r\n\r\n\t\t// TODO: Check if it is possible to need state update\r\n\t}\r\n\r\n\tmapPages = () => {\r\n\t\tconst {\r\n\t\t\tGoBtn,\r\n\t\t\tcancelFunction,\r\n\t\t\tt,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages = [],\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tconst pages = stepsPages.map((page, index) => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelFunction,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page),\r\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\r\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\r\n\t\t\t\tpageValidation: page.pageValidation,\r\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\r\n\t\t\t\tcompleteBtn: page.final\r\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t\t\t: undefined,\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn pages\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { initialPage } = this.props\r\n\t\treturn (\r\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentitySteps.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\treturn {\r\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentitySteps)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: spacing,\r\n\t\t\tbottom: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh',\r\n\t\t},\r\n\t\tformControl: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\tinfoPaper: {\r\n\t\t\t...theme.mixins.gutters(),\r\n\t\t\tpaddingTop: spacing * 2,\r\n\t\t\tpaddingBottom: spacing * 2,\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tdisplay: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport AuthMethod from './ownerAuth/AuthMethod'\r\nimport QuickInfo from './QuickInfo'\r\nimport FullInfo from './FullInfo'\r\nimport QuickLogin from './QuickLogin'\r\nimport FullLogin from './FullLogin'\r\nimport IdentitySteps from './IdentitySteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateFullInfo,\r\n\tvalidateContractOwner,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<IdentitySteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tstepsPages={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tpage: AuthMethod,\r\n\t\t\t\t\tpageValidation: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tpage: FullLogin,\r\n\t\t\t\t\tpageValidation: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateStandardIdentity = props => {\r\n\treturn (\r\n\t\t<IdentitySteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-create'\r\n\t\t\tstepsPages={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tpage: AuthMethod,\r\n\t\t\t\t\tpageValidation: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'FULL_INFO',\r\n\t\t\t\t\tpage: FullInfo,\r\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\r\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tpage: QuickInfo,\r\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tpage: QuickLogin,\r\n\t\t\t\tpageValidation: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialog: {\r\n\t\theight: '100vh',\r\n\t\twidth: theme.maxWidth || 1200,\r\n\t\tmaxWidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n\tupdateEasterEggsAllowed,\r\n\thandleRedirectParams,\r\n\thandleSignupLink,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\tLoginStandardIdentity,\r\n\tCreateStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedCreateStandardIdentity = ConnectHoc(\r\n\tJustDialog(CreateStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = async wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tawait migrateLegacyWallet({ email, password })\r\n\t\tawait removeLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getRelayerConfig())\r\n\t\texecute(metamaskChecks())\r\n\t\texecute(handleRedirectParams(location.search))\r\n\t\texecute(handleSignupLink(location.search))\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t\texecute(updateEasterEggsAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\r\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/quick'\r\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/full'\r\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<PageNotFound />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import React, { Component } from 'react'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI } from './themeMUi'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\n\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\r\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\r\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\r\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\r\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\r\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\r\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n\tresetChannelsWithBalanceAll,\r\n\tresetChannelsWithOutstandingBalance,\r\n\tresetAllNewTransaction,\r\n} from 'actions'\r\n\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tanalyticsCampaignsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\n\r\nexport const logOut = skipRedirect => {\r\n\texecute(resetAccount())\r\n\tanalyticsLoop.stop()\r\n\tanalyticsCampaignsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAnalytics())\r\n\texecute(resetChannelsWithBalanceAll())\r\n\texecute(resetChannelsWithOutstandingBalance())\r\n\texecute(resetAllNewTransaction())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport AdExENSManager from './abi/AdExENSManager.json'\r\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExENSManager: {\r\n\t\taddress: process.env.ADEX_ENS_ADDR,\r\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\r\n\t\tabi: AdExENSManager,\r\n\t},\r\n\tReverseRegistrar: {\r\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\r\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\r\n\t\tabi: ReverseRegistrar,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import crypto from 'crypto'\r\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tgetAddress,\r\n} from 'ethers/utils'\r\nimport {\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n\tselectMainToken,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\r\nimport { getState } from 'store'\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst IdentityInterface = new Interface(IdentityABI)\r\n\r\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\r\nconst VALID_UNTIL_COEFFICIENT = 0.5\r\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\r\nconst OUTSTANDING_STATUSES = {\r\n\tActive: true,\r\n\tReady: true,\r\n\tExhausted: true,\r\n\tOffline: true,\r\n\tUnhealthy: true,\r\n\tWithdraw: true,\r\n}\r\n\r\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - activeFrom\r\n\tconst validUntil =\r\n\t\twithdrawPeriodStart +\r\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(\r\n\t\tnewCampaign.activeFrom,\r\n\t\tnewCampaign.withdrawPeriodStart\r\n\t)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = parseUnits(\r\n\t\tnewCampaign.depositAmount || '0',\r\n\t\tmainToken.decimals\r\n\t).toString()\r\n\r\n\tconst validators = newCampaign.validators.map(v => {\r\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\r\n\t\tconst fee = deposit\r\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\r\n\t\t\t.div(bigNumberify(v.feeDen || 1))\r\n\t\t\t.toString()\r\n\r\n\t\tconst validator = {\r\n\t\t\tid: v.id,\r\n\t\t\turl: v.url,\r\n\t\t\tfee,\r\n\t\t}\r\n\r\n\t\tif (v.feeAddr) {\r\n\t\t\tvalidator.feeAddr = v.feeAddr\r\n\t\t}\r\n\r\n\t\treturn validator\r\n\t})\r\n\r\n\tnewCampaign.validators = validators\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(\r\n\t\tnewCampaign.minPerImpression || '0',\r\n\t\tmainToken.decimals\r\n\t)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Active',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tAdExCore,\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\treturn bigNumberify(balance).sub(\r\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\r\n\t)\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\r\n\tconst { authType } = wallet\r\n\tconst channels = await getAllCampaigns({ all: true, byEarner: identityAddr })\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst allChannels = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ bTree }) => {\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(\r\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\r\n\t\t\t\t\t//  mTree,\r\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\tAdExCore,\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tconst outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t\toutstanding,\r\n\t\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\r\n\tconst all = Object.assign(\r\n\t\t{},\r\n\t\t...allChannels.map(c => {\r\n\t\t\tconst { channel, balance } = c\r\n\t\t\tconst { id, depositAmount, depositAsset, status } = channel\r\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\treturn {\r\n\t\t\t\t[c.channel.id.toLowerCase()]: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tdepositAsset,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\tstatus: status.name,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n\r\n\tconst withOutstandingBalance = allChannels.filter(x => {\r\n\t\treturn (\r\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\r\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\r\n\t\t\t\tDate.now() &&\r\n\t\t\tx.outstanding.gt(\r\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\r\n\t\t\t) &&\r\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\r\n\t\t)\r\n\t})\r\n\r\n\treturn { all, withOutstandingBalance }\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\r\n\tconst { eligible } = withBalance\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\r\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\r\n\t\t\t)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\tlastApprovedBalances,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\r\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction is41identity(routineAuthTuple) {\r\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\r\n\r\n\treturn is41\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\tis41identity(routineAuthTuple) &&\r\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { wallet, identity } = account\r\n\t// TODO: pass withBalance as prop\r\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\r\n\r\n\tconst { AdExCore } = await getEthers(wallet.authType)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twithBalance,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\toutstanding,\r\n\t\t\t// outstandingAvailable,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\t// TODO: currently work only for SAI to DAI swap\r\n\t\t\tif (\r\n\t\t\t\tbalance.token.address !== mainToken.address &&\r\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\r\n\t\t\t\tbalance.token.address === saiToken.address\r\n\t\t\t) {\r\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\t\tbalance.balanceMainToken\r\n\t\t\t\t)\r\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\t}\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: bigNumberify(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\r\n\tconst {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\r\n\r\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\r\n\r\n\tconst txns = []\r\n\r\n\tif (hasIdentityChannelOpen) {\r\n\t\tconst identityChannelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: identityAddr,\r\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\r\n\t\t\t\tAdExCore.address,\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t\textraTxFeesCount: 1,\r\n\t\t}\r\n\t\ttxns.push(identityChannelOpenTx)\r\n\t} else {\r\n\t\tconst approveTxns = await getApproveTxns({\r\n\t\t\tgetToken,\r\n\t\t\ttoken: mainToken,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tapproveForAddress: AdExCore.address,\r\n\t\t\tapproveAmount: depositAmount,\r\n\t\t})\r\n\r\n\t\tconst channelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\r\n\t\t}\r\n\t\ttxns.push(...approveTxns, channelOpenTx)\r\n\t}\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\r\n\tconst bigZero = bigNumberify(0)\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\r\n\t\t? bigZero\r\n\t\t: mtBalance.sub(totalBN)\r\n\tconst maxAvailableFormatted = formatTokenAmount(\r\n\t\tmaxAvailable.toString(),\r\n\t\tmainToken.decimals || 18,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfeesFormatted: total,\r\n\t\t\tfees: totalBN,\r\n\t\t\tmaxAvailable,\r\n\t\t\tmaxAvailableFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\tconst storeCampaign = { ...readyCampaign }\r\n\tstoreCampaign.spec = { ...openReady.spec }\r\n\treturn {\r\n\t\tresult,\r\n\t\tstoreCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\nimport { t } from 'selectors'\r\n\r\nexport const handleRequesterErrorRes = ({ res, text }) => {\r\n\tlet message = text\r\n\ttry {\r\n\t\tconst textObj = JSON.parse(text)\r\n\t\tmessage =\r\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\r\n\t} catch {}\r\n\r\n\tthrow new Error(\r\n\t\tt('SERVICE_ERROR_MSG', {\r\n\t\t\targs: [res.url, res.status, res.statusText, message],\r\n\t\t})\r\n\t)\r\n}\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\nexport * from './requester'\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n\r\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString,\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\t// We want truncated not rounded\r\n\t\treturn parseFloat(formatted)\r\n\t\t\t.toFixed(toFixed + 4)\r\n\t\t\t.slice(0, -4)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '', joinSymbol = '...') => {\r\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n\r\nexport const formatFloatNumberWithCommas = x => {\r\n\tconst parts = x.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n\treturn parts.join('.')\r\n}\r\n\r\nexport const formatNumberWithoutCommas = x => {\r\n\treturn x\r\n\t\t.toString()\r\n\t\t.split(',')\r\n\t\t.join('')\r\n}\r\n\r\nexport const formatAbbrNum = (number, decPlaces) => {\r\n\t// 2 decimal places => 100, 3 => 1000, etc\r\n\tdecPlaces = Math.pow(10, decPlaces)\r\n\r\n\t// Enumerate number abbreviations\r\n\tvar abbrev = ['k', 'm', 'b', 't']\r\n\r\n\t// Go through the array backwards, so we do the largest first\r\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\r\n\t\t// Convert array index to \"1000\", \"1000000\", etc\r\n\t\tvar size = Math.pow(10, (i + 1) * 3)\r\n\r\n\t\t// If the number is bigger or equal do the abbreviation\r\n\t\tif (size <= number) {\r\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\r\n\t\t\t// This gives us nice rounding to a particular decimal place.\r\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\r\n\r\n\t\t\t// Handle special case where we round up to the next abbreviation\r\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\r\n\t\t\t\tnumber = 1\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\r\n\t\t\t// Add the letter for the abbreviation\r\n\t\t\tnumber += abbrev[i]\r\n\r\n\t\t\t// We are done... stop\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn number\r\n}\r\n\r\nexport const truncateString = (string, maxLength = 50) => {\r\n\tif (!string) return ''\r\n\tif (string.length <= maxLength) return string\r\n\treturn `${string.substring(0, maxLength).trim()}...`\r\n}\r\n","import Loop from './loop'\r\nimport {\r\n\texecute,\r\n\tupdateAccountAnalytics,\r\n\tupdateAccountCampaignsAnalytics,\r\n} from 'actions'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\n\r\nconst LOOP_TIMEOUT = 120 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\r\n\tloopName: '_ANALYTICS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nconst analyticsCampaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) &&\r\n\t\t(await execute(updateAccountCampaignsAnalytics())),\r\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { analyticsLoop, analyticsCampaignsLoop }\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t\tthis.loopName = loopName\r\n\t\tthis.stopOn = stopOn\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tthis.makeStopCheck()\r\n\t\tawait this.syncAction()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tmakeStopCheck = () => {\r\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\r\n\t\t\tthis.stop()\r\n\t\t}\r\n\t}\r\n\r\n\tstart = async () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tawait this.startLoop()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n","import adexTranslations from 'adex-translations'\r\nimport { removeTags } from 'helpers/sanitizer'\r\nimport { isValidElement, cloneElement } from 'react'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\r\n\tconst parts = tpl.split(pattern)\r\n\r\n\tconst interpolated = parts.map((p, i) => {\r\n\t\tconst element = args[p] || p\r\n\t\tif (isValidElement(element) && !element.key) {\r\n\t\t\tconst withKey = cloneElement(element, { key: i })\r\n\r\n\t\t\treturn withKey\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t})\r\n\r\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\r\n\t\treturn interpolated.join('')\r\n\t}\r\n\r\n\treturn interpolated\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''] } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = removeTags(translations[language][key] || val)\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\tconst translatedArgs = args.map(a => {\r\n\t\t\tif (typeof a === 'string') {\r\n\t\t\t\treturn translations[language][a] || a\r\n\t\t\t} else {\r\n\t\t\t\treturn a\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","export const removeTags = dirty => {\r\n\tif (!dirty || typeof dirty !== 'string') return ''\r\n\r\n\treturn (\r\n\t\tdirty\r\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\r\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\r\n\t\t\t// Strip any remaining HTML tags\r\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\r\n\t\t\t// Replace {strong} ... with <strong> ...\r\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\r\n\t)\r\n}\r\n","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = async (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = async (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\r\n\t'IMPRESSION', //\r\n\t'CLICK',\r\n]\r\n\r\n// TEMP: disable long periods\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t// { label: 'LABEL_MONTH', value: 'month' },\r\n\t// { label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n\r\nexport const WALLET_ACTIONS_MSGS = {\r\n\t[AUTH_TYPES.METAMASK.name]: [\r\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\r\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\r\n\t],\r\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.QUICK.name]: [\r\n\t\t{ message: 'QUICK_WAITING_MSG' },\r\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\r\n\t],\r\n\t[AUTH_TYPES.GRANT.name]: [\r\n\t\t{ message: 'GRANT_WAITING_MSG' },\r\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\r\n\t],\r\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\r\n}\r\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj(),\r\n\t},\r\n\tcurrentItem: {},\r\n\tselectedItems: {\r\n\t\tcampaings: [],\r\n\t\tadUnits: [],\r\n\t\tslots: [],\r\n\t},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {\r\n\t\tglobal: {},\r\n\t\tbyIdentity: {},\r\n\t},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: { timeframe: 'day' },\r\n\tchannels: {\r\n\t\twithBalanceAll: {},\r\n\t\twithOutstandingBalance: [],\r\n\t},\r\n\tensAddresses: {},\r\n}\r\n\r\nexport default initialState\r\n","import { createHashHistory } from 'history'\r\n\r\nconst history = createHashHistory()\r\n\r\nhistory.listen(location => {\r\n\twindow.gtag &&\r\n\t\twindow.gtag('config', process.env.GA_CODE, {\r\n\t\t\tpage_path: location.pathname + location.search,\r\n\t\t})\r\n})\r\n\r\nexport default history\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\n// 30 seconds = market statusLoopTick\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\r\n\tloopName: '_CAMPAIGNS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { campaignsLoop }\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport default accountStatsLoop\r\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","export const CREATING_SESSION = 'CREATING_SESSION'\r\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\r\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\r\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\r\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\r\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\r\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\r\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\r\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\r\n","import { ethers, utils, Contract } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\nethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst localWeb3 = () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(\r\n\t\tprocess.env.WEB3_NODE_ADDR\r\n\t)\r\n\treturn getEthersResult(provider)\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3,\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst injectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3\r\n\tlet provider = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait ethereum.enable()\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\t// TODO: we just have to throw or show notification\r\n\t// At the moment if it throws it will show error toast but not always.\r\n\telse if (web3) {\r\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = async () => {\r\n\t// console.log('getLocalWeb3')\r\n\treturn localWeb3()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3()\r\n\t} else {\r\n\t\treturn getLocalWeb3()\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (ethereum) {\r\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProvider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport { getEthers, ethereumNetworkId, getEthereumProvider }\r\n","module.exports = __webpack_public_path__ + \"static/media/GS-email-ic.7f647acc.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic.8de20f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-launch-ic.b4a8f505.png\";","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectCompanyData, selectAccountIdentityAddr } from 'selectors'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGlobalUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUiByIdentity(item, value, category) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\r\n\t\t\tidentity,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{\r\n\t\tconfirmLabel = '',\r\n\t\tcancelLabel = '',\r\n\t\ttitle = '',\r\n\t\ttext = '',\r\n\t\tnoCancel = false,\r\n\t\tnoConfirm = false,\r\n\t} = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn async function(dispatch) {\r\n\t\treturn await dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tnoCancel: noCancel,\r\n\t\t\t\t\tnoConfirm: noConfirm,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateCompanyData(newData) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst companyData = selectCompanyData(getState())\r\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\r\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_COMPANY_DATA'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateSelectedItems(collection, selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\r\n\t\t\tselectedItems,\r\n\t\t\tcollection,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateSelectedCampaigns(selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version }) {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (caches) {\r\n\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{translate('REFRESH')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\targs: [version],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function notifyNewTOS() {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{translate('TOS_CHECK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: translate('NOTIFICATION_NEW_TOS', {\r\n\t\t\t\t\targs: [translate('TOS_CHECK')],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function handleRedirectParams(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('confirm-email')\r\n\t\tconst identity = searchParams.get('confirm-identity')\r\n\t\tconst grant = searchParams.get('confirm-grant')\r\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\r\n\r\n\t\tif (email && identity && !grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\r\n\t\t\t\t\targs: [email, identity],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} else if (email && identity && grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\r\n\t\t\t\t\targs: [email, identity, grant],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateEasterEggsAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (\r\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\r\n\t\t\tprocess.env.EASTER_EGGS_VALUE\r\n\t\t) {\r\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updatePrivilegesWarningAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function hideGettingStarted() {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('hideGettingStarted', true)(dispatch, getState)\r\n\t}\r\n}\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import { parseUnits, bigNumberify } from 'ethers/utils'\r\n\r\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\r\n\tif (numStr === null || numStr === undefined) {\r\n\t\treturn numStr\r\n\t}\r\n\r\n\treturn parseUnits(numStr, decimals)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tuploadImage,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n} from 'services/adex-market/actions'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\n\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\r\n\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectAuthSig,\r\n\tselectMainToken,\r\n\tselectAccount,\r\n\tselectAuth,\r\n} from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// register item\r\nexport function addUnit(item) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function addSlot(item) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tif (newItem.minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\r\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\r\n\r\n\t\t\tif (selectAuth(getState())) {\r\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, itemType } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { id } = item\r\n\t\tupdateSpinner('update' + id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { mainToken } = selectRelayerConfig()\r\n\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tif (typeof newItem.temp.minPerImpression === 'string') {\r\n\t\t\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\t\tnumStr: newItem.temp.minPerImpression,\r\n\t\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof newItem.temp.website === 'string') {\r\n\t\t\t\t\t\tnewItem.website = newItem.temp.website\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// In case newItem.website is null (very few slots)\r\n\t\t\t\t\tnewItem.website = newItem.website || ''\r\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\r\n\t\t\t\t\t\t.campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\r\n\t\terrMsg: 'ERR_RESTORING_ITEM',\r\n\t})\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import moment from 'moment'\r\n\r\nexport const intervalsMs = () => {\r\n\tconst nowUTC = moment.utc()\r\n\r\n\t// TODO: Make it dynamic\r\n\tconst lastSixHoursPeriod = Math.floor(\r\n\t\t(nowUTC.clone().valueOf() - nowUTC.clone().startOf('day')) /\r\n\t\t\t(6 * 60 * 60 * 1000)\r\n\t)\r\n\treturn {\r\n\t\tlastHour: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.startOf('minute')\r\n\t\t\t\t.add(1, 'minute')\r\n\t\t\t\t.subtract(1, 'hours'),\r\n\t\t\tend: moment().startOf('minute'),\r\n\t\t},\r\n\t\tlast24Hours: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'day')\r\n\t\t\t\t.startOf('hour')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.startOf('hour')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlast7Days: {\r\n\t\t\tstart: nowUTC\r\n\t\t\t\t.clone()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\r\n\t\t\t\t.subtract(7, 'days')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: nowUTC\r\n\t\t\t\t.clone()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\r\n\t\t\t\t.add(2, 'hours')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tthisWeek: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.utc()\r\n\t\t\t\t.startOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.utc()\r\n\t\t\t\t.endOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlastWeek: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'week')\r\n\t\t\t\t.startOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.subtract(1, 'week')\r\n\t\t\t\t.endOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tthisMonth: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.startOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.endOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlastMonth: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'month')\r\n\t\t\t\t.startOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.subtract(1, 'month')\r\n\t\t\t\t.endOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const fillEmptyTime = (prevAggr, timeframe, defaultValue = 0) => {\r\n\tconst intervals = intervalsMs()\r\n\tconst time = {\r\n\t\tinterval: intervals.lastHour,\r\n\t\tstep: { ammount: 1, unit: 'minute' },\r\n\t}\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\ttime.interval = intervals.lastHour\r\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\ttime.interval = intervals.last24Hours\r\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\ttime.interval = intervals.last7Days\r\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\treturn prevAggr\r\n\t}\r\n\tconst newAggr = []\r\n\tfor (\r\n\t\tvar m = moment(time.interval.start);\r\n\t\tm.diff(time.interval.end) <= 0;\r\n\t\tm.add(time.step.ammount, time.step.unit)\r\n\t) {\r\n\t\tnewAggr.push({ value: defaultValue, time: m.unix() * 1000 })\r\n\t}\r\n\r\n\tconst prevAggrInInterval = prevAggr.filter(a => {\r\n\t\tconst m = moment(a.time)\r\n\t\treturn m.diff(time.interval.start) >= 0 && m.diff(time.interval.end) <= 0\r\n\t})\r\n\r\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\r\n\t\tconst newData = { ...data }\r\n\t\tconst value = data[a.time] || a.value || defaultValue\r\n\t\tnewData[a.time] = value\r\n\r\n\t\treturn newData\r\n\t}, {})\r\n\r\n\tconst result = Object.entries(data)\r\n\t\t.map(([key, value]) => ({\r\n\t\t\tvalue,\r\n\t\t\ttime: +key,\r\n\t\t}))\r\n\t\t.sort((a, b) => a.time - b.time)\r\n\r\n\treturn result\r\n}\r\n\r\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\r\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n\r\nimport { getAllCampaigns } from './actions'\r\n\r\nexport async function getUnitsStatsByType() {\r\n\tconst { decimals } = selectMainToken()\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst allChannels = await getAllCampaigns()\r\n\r\n\tconst channels = allChannels.filter(\r\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\r\n\t)\r\n\r\n\tconst unitsByType = channels.reduce((units, channel) => {\r\n\t\tconst byType = { ...units }\r\n\t\tchannel.spec.adUnits.forEach(unit => {\r\n\t\t\tbyType[unit.type] = byType[unit.type] || []\r\n\t\t\tbyType[unit.type].push(channel)\r\n\t\t})\r\n\r\n\t\treturn byType\r\n\t}, {})\r\n\r\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\r\n\t\tasync (prevStats, key) => {\r\n\t\t\tconst stats = await prevStats\r\n\t\t\tconst channelsByType = unitsByType[key]\r\n\r\n\t\t\tlet totalPerImpression = bigNumberify('0')\r\n\t\t\tlet totalVolume = bigNumberify('0')\r\n\r\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\r\n\t\t\t\tconst channel = channelsByType[index]\r\n\r\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\r\n\t\t\t\t})\r\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\r\n\t\t\t\t})\r\n\r\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\r\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\r\n\t\t\t}\r\n\r\n\t\t\tconst avgPerImpression = totalPerImpression.div(\r\n\t\t\t\tbigNumberify(channelsByType.length)\r\n\t\t\t)\r\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\r\n\r\n\t\t\tconst statsByType = { ...stats }\r\n\t\t\tstatsByType[key] = {}\r\n\t\t\tstatsByType[key].raw = {\r\n\t\t\t\ttotalVolume,\r\n\t\t\t\tavgPerImpression,\r\n\t\t\t\tavgCPM,\r\n\t\t\t}\r\n\r\n\t\t\tstatsByType[key].formatted = {\r\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\r\n\t\t\t\tavgPerImpression: formatTokenAmount(\r\n\t\t\t\t\tavgPerImpression,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\r\n\t\t\t}\r\n\r\n\t\t\treturn statsByType\r\n\t\t},\r\n\t\tPromise.resolve({})\r\n\t)\r\n\r\n\treturn unitsByTypeStats\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport throttle from 'lodash.throttle'\r\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n\tidentityCampaignsAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { fillEmptyTime } from 'helpers/timeHelpers'\r\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectSide,\r\n\tselectAccount,\r\n\tselectAnalyticsTimeframe,\r\n} from 'selectors'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = (timeframe, side) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t\t...(side === 'publisher' &&\r\n\t\t\t\t\tmetric === 'eventPayouts' && { segmentByChannel: true }),\r\n\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\nconst analyticsCampaignsParams = () => {\r\n\tconst callsParams = []\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tcallsParams.push({ eventType })\r\n\t)\r\n\treturn callsParams\r\n}\r\n\r\nfunction aggrByChannelsSegments({\r\n\taggr,\r\n\tallChannels,\r\n\tfeeTokens,\r\n\twithdrawTokens,\r\n}) {\r\n\tif (!Object.keys(allChannels).length) {\r\n\t\treturn []\r\n\t}\r\n\t// NOTE: No need to sort them again because fillEmptyTime\r\n\t// is sorting by time after adding the empty time values\r\n\tconst { aggregations, all } = aggr\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\t\t.reduce(\r\n\t\t\t(data, a) => {\r\n\t\t\t\tconst { time } = a\r\n\t\t\t\tconst { aggregations, channels, all } = data\r\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\r\n\r\n\t\t\t\tconst { depositAmount, balanceNum, depositAsset, status } =\r\n\t\t\t\t\tallChannels[channelId] || {}\r\n\r\n\t\t\t\tconst { minPlatform, minFinal } = withdrawTokens[depositAsset]\r\n\t\t\t\tconst { min } = feeTokens[depositAsset]\r\n\t\t\t\tconst isExpired = status === 'Expired'\r\n\t\t\t\tconst minBalance = isExpired ? minFinal : minPlatform\r\n\r\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\r\n\r\n\t\t\t\tconst value = bigNumberify(a.value || 0)\r\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\r\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\r\n\r\n\t\t\t\tcurrent.aggr.push({ value, time })\r\n\r\n\t\t\t\tconst currentAggr = aggregations[time] || {\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t}\r\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\r\n\r\n\t\t\t\tconst hasMinBalance = currentChannelValue.gt(bigNumberify(minBalance))\r\n\t\t\t\tconst currentTimeValue = currentAggr.value\r\n\r\n\t\t\t\tcurrent.value = currentChannelValue\r\n\r\n\t\t\t\tif (hasMinBalance && !current.feeSubtracted) {\r\n\t\t\t\t\tcurrent.feeSubtracted = true\r\n\t\t\t\t\tconst currentAvailable = currentChannelValue.sub(bigNumberify(min))\r\n\t\t\t\t\tconst currentAdded = bigNumberify(0)\r\n\t\t\t\t\tconst points = current.aggr\r\n\r\n\t\t\t\t\tfor (let index = points.length - 1; index >= 0; index--) {\r\n\t\t\t\t\t\tconst point = points[index]\r\n\t\t\t\t\t\tcurrentAdded.add(point.value)\r\n\r\n\t\t\t\t\t\tconst curInnerAggr = aggregations[point.time] || {\r\n\t\t\t\t\t\t\ttime,\r\n\t\t\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (currentAdded.lt(currentAvailable)) {\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(point.value)\r\n\t\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(\r\n\t\t\t\t\t\t\t\tcurrentAdded.sub(currentAvailable)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (hasMinBalance && current.feeSubtracted) {\r\n\t\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchannels[channelId] = current\r\n\t\t\t\taggregations[time] = currentAggr\r\n\t\t\t\tall[time] = a.value || all[time]\r\n\r\n\t\t\t\treturn { aggregations, channels, all }\r\n\t\t\t},\r\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\r\n\t\t)\r\n\r\n\t// NOTE: force to null values when value under limits but not naturally 0\r\n\tconst aggrWithNullValues = Object.values(aggregations).map(\r\n\t\t({ time, value }) => {\r\n\t\t\tconst isNull =\r\n\t\t\t\tall[time] === undefined ||\r\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\r\n\t\t\treturn { time, value: isNull ? null : value }\r\n\t\t}\r\n\t)\r\n\r\n\treturn aggrWithNullValues\r\n}\r\n\r\nexport function updateAccountAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\r\n\t\tconst side = selectSide(state)\r\n\t\tconst timeframe = selectAnalyticsTimeframe(state)\r\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\r\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\r\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams(timeframe, side)\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t\tleaderAuth,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(({ aggregates, metric }) => {\r\n\t\t\t\t\t\tconst aggrByChannelSegments =\r\n\t\t\t\t\t\t\tside === 'publisher' && metric === 'eventPayouts'\r\n\t\t\t\t\t\tlet aggr = aggrByChannelSegments\r\n\t\t\t\t\t\t\t? aggrByChannelsSegments({\r\n\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\r\n\t\t\t\t\t\t\t\t\tallChannels,\r\n\t\t\t\t\t\t\t\t\tfeeTokens,\r\n\t\t\t\t\t\t\t\t\twithdrawTokens,\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: aggregates.aggr\r\n\r\n\t\t\t\t\t\tconst defaultValue = aggrByChannelSegments ? null : 0\r\n\r\n\t\t\t\t\t\taggregates.aggr = fillEmptyTime(aggr, timeframe, defaultValue)\r\n\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\tvalue: { ...aggregates },\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountCampaignsAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsCampaignsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = await identityCampaignsAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\treturn { opts, value }\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tconst data = await Promise.all(allAnalytics)\r\n\r\n\t\t\tif (!accountChanged) {\r\n\t\t\t\tdata\r\n\t\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t\t.forEach(({ opts, value }) =>\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\r\n\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsTimeframe(timeframe) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\r\n\t\t\t\tvalue: timeframe,\r\n\t\t\t})\r\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateSlotsDemand = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\r\n\t\t\t\tvalue: demandAnalytics,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateSlotsDemandThrottled = () => dispatch => {\r\n\treturn updateSlotsDemand(dispatch)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner, updateGlobalUi } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport { addToast, confirmAction } from './uiActions'\r\nimport { getAllItems } from './itemActions'\r\nimport { updateSlotsDemandThrottled } from './analyticsActions'\r\nimport {\r\n\tgetEthers,\r\n\tgetEthereumProvider,\r\n\tethereumNetworkId,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectSearchParams,\r\n\tselectAuthType,\r\n\tselectAccountIdentity,\r\n\tselectLoginDirectSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n\tCREATING_SESSION,\r\n\tQUICK_WALLET_BACKUP,\r\n\tUPDATING_ACCOUNT_IDENTITY,\r\n} from 'constants/spinners'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tanalyticsCampaignsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithBalanceAll(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithBalanceAll() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithOutstandingBalance(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithOutstandingBalance() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nexport function isAccountChanged(getState, account) {\r\n\tconst hasAuth = selectAuth(getState())\r\n\tconst accountCheck = selectAccount(getState())\r\n\tconst accountChanged =\r\n\t\t!hasAuth ||\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tconst { identity, wallet } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t\twallet,\r\n\t\t\t})\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twallet,\r\n\t\t\t\taddress,\r\n\t\t\t\twithBalance: withOutstandingBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t\tall,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tawait updateChannelsWithBalanceAll(all)(dispatch)\r\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tawait updateAccount({\r\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountIdentityData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t\tconst identity = selectAccountIdentity(getState())\r\n\r\n\t\ttry {\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identity.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst updatedIdentity = { ...identity }\r\n\r\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\r\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\r\n\t\t\tupdatedIdentity.relayerData = relayerData\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { identity: updatedIdentity },\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tawait removeLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst side = selectLoginDirectSide(getState())\r\n\r\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\r\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(push('/side-select'))\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function getNetworkId() {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\treturn networkId\r\n}\r\n\r\nasync function getNetworkData({ id }) {\r\n\tconst networkId = id || (await getNetworkId())\r\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\r\n\r\n\treturn network\r\n}\r\n\r\nasync function isMetamaskMatters(getState) {\r\n\tconst state = getState()\r\n\tconst searchParams = selectSearchParams(state)\r\n\tconst authType = selectAuthType(state)\r\n\r\n\tconst doesItMatter =\r\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t(!authType &&\r\n\t\t\tsearchParams.get('external') === 'metamask' &&\r\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name)\r\n\r\n\treturn doesItMatter\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (\r\n\t\t\t(await isMetamaskMatters(getState)) &&\r\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = (accountAddress = '') => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address = '' } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress ||\r\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tif (await isMetamaskMatters(getState)) {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\r\n\t\t\t// NOTE: using provider with ethereum.enable() seems to work\r\n\t\t\tonMetamaskAccountChange(provider.provider.selectedAddress)(_, getState)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(_, getState) {\r\n\t\tmetamaskNetworkCheck()(_, getState)\r\n\t\tmetamaskAccountCheck()(_, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('networkChanged', network => {\r\n\t\t\t\tconsole.log('networkChanged', network)\r\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = await getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = await getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function loadAccountData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await updateAccountIdentityData()(dispatch, getState))\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await getAllItems()(dispatch, getState))\r\n\r\n\t\t!isAccountChanged(getState, account) && (await statsLoop.start())\r\n\t\t!isAccountChanged(getState, account) && (await analyticsLoop.start())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await analyticsCampaignsLoop.start())\r\n\t\t!isAccountChanged(getState, account) && (await campaignsLoop.start())\r\n\r\n\t\tupdateSlotsDemandThrottled()(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function stopAccountDataUpdate() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tanalyticsLoop.stop()\r\n\t\tanalyticsCampaignsLoop.stop()\r\n\t\tcampaignsLoop.stop()\r\n\t\tstatsLoop.stop()\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { updateSpinner } from './uiActions'\r\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\nimport { bigNumberify, parseUnits } from 'ethers/utils'\r\nimport { validations, Joi, schemas, constants } from 'adex-models'\r\nimport { validPassword } from 'helpers/validators'\r\nimport { t, selectAuthType } from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getEmail } from 'services/adex-relayer/actions'\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst { campaignPut, account } = schemas\r\nconst { isNumberString } = validations\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst authType = selectAuthType(getState())\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (validate) {\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const handleAfterValidation = async ({\r\n\tisValid,\r\n\tonValid,\r\n\tonInvalid,\r\n}) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tawait onValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tawait onInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateENS({ ens, dirty, validate, name }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { authType } = getState().persist.account.wallet\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await freeAdExENS({\r\n\t\t\t\tens,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\t\t\tupdateSpinner(name, false)(dispatch)\r\n\t\t\tif (validate)\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ENS_ADDRESS', error)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ENS_ADDRESS', { args: [error] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\nexport function validateWallet(validateId, wallet, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!wallet && !!wallet.address\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateIdentityContractOwner(\r\n\tvalidateId,\r\n\tidentityContractOwner,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!identityContractOwner\r\n\t\tvalidate(validateId, 'identityContractOwner', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateAccessWarning(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'accessWarningCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignUnits(validateId, adUnits, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!adUnits && adUnits.length\r\n\t\tvalidate(validateId, 'adUnits', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!!validators &&\r\n\t\t\tvalidators.length === 2 &&\r\n\t\t\t!!validators[0] &&\r\n\t\t\t!!validators[1] &&\r\n\t\t\t!!validators[0].id &&\r\n\t\t\t!!validators[0].url &&\r\n\t\t\tvalidators[0].feeNum !== undefined &&\r\n\t\t\tvalidators[0].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined &&\r\n\t\t\t!!validators[1].id &&\r\n\t\t\t!!validators[1].url &&\r\n\t\t\tvalidators[1].feeNum !== undefined &&\r\n\t\t\tvalidators[1].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined\r\n\r\n\t\tvalidate(validateId, 'validators', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst validateAmounts = ({\r\n\tmaxDeposit = bigNumberify(0),\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n}) => {\r\n\tlet error = null\r\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\r\n\t\t\tprop: 'depositAmount',\r\n\t\t}\r\n\t}\r\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t}\r\n\tif (depositAmount.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t}\r\n\tif (minPerImpression.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateWithdrawAmount({\r\n\tvalidateId,\r\n\tamountToWithdraw,\r\n\tavailableIdentityBalanceMainTokenRaw,\r\n\tavailableIdentityBalanceMainTokenFormatted,\r\n\tdecimals,\r\n\tsymbol,\r\n\terrorMsg,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = isNumberString(amountToWithdraw)\r\n\r\n\t\tlet msg = errorMsg || 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet args = []\r\n\t\tlet amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\r\n\t\tif (errorMsg) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = errorMsg\r\n\t\t} else if (isValid && amount.isZero()) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\r\n\t\t} else if (\r\n\t\t\tisValid &&\r\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'amountToWithdraw', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateNumberString({ validateId, prop, value, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = isNumberString(value)\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_INVALID_AMOUNT' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAmount({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\terrMsg,\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n\tmaxDeposit,\r\n\tdecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValidNumber = isNumberString(value)\r\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\r\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\r\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\r\n\r\n\t\t\tconst isValidDeposit = isNumberString(deposit)\r\n\t\t\tconst isValidMin = isNumberString(min)\r\n\r\n\t\t\tif (isValidDeposit && isValidMin) {\r\n\t\t\t\tconst result = validateAmounts({\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\r\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\r\n\t\t\t\t})\r\n\r\n\t\t\t\tisValid = !result.error\r\n\t\t\t\tmsg = result.error ? result.error.message : ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\r\n\r\nconst getCampaignDatesValidation = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\r\n\t} else if (\r\n\t\twithdrawPeriodStart &&\r\n\t\tactiveFrom &&\r\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\r\n\t) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\r\n\t\t\targs: ['1', 'HOUR'],\r\n\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t}\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateCampaignDates({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n\tcreated,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst withdraw =\r\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\r\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\r\n\r\n\t\tconst result = getCampaignDatesValidation({\r\n\t\t\twithdrawPeriodStart: withdraw,\r\n\t\t\tactiveFrom: from,\r\n\t\t\tcreated,\r\n\t\t})\r\n\r\n\t\tvalidate(validateId, 'activeFrom', {\r\n\t\t\tisValid: !!from,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\r\n\t\t\terr: {\r\n\t\t\t\tmsg: result.error ? result.error.message : '',\r\n\t\t\t\targs: result.error && (result.error.args || []),\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignTitle({ validateId, title, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst result = Joi.validate(title, campaignPut.title)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tvalidate(validateId, 'title', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEthAddress({\r\n\tvalidateId,\r\n\tprop,\r\n\taddr,\r\n\tnonZeroAddr = true,\r\n\tnonERC20 = true,\r\n\tdirty,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { msg } = await validEthAddress({\r\n\t\t\taddr,\r\n\t\t\tnonZeroAddr,\r\n\t\t\tnonERC20,\r\n\t\t\tauthType,\r\n\t\t})\r\n\r\n\t\tconst isValid = !msg\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesAddress({\r\n\tvalidateId,\r\n\tsetAddr = '',\r\n\twalletAddr = '',\r\n\tprivLevel,\r\n\tauthType,\r\n\twarningAccepted,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isCurrentAddress =\r\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\r\n\t\tlet isValid = warningAccepted || !isCurrentAddress\r\n\r\n\t\tlet msg = ''\r\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\r\n\t\tif (isCurrentAddress && privLevel === 0) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\r\n\t\t} else if (isCurrentAddress && privLevel === 1) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\r\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\r\n\t\t\tisValid = true\r\n\t\t} else if (!isCurrentAddress) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'setAddrWarning', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn { isValid, msg }\r\n\t}\r\n}\r\n\r\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\r\n\t\tawait validate(validateId, 'privLevel', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(value, schema)\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(email, account.email)\r\n\t\tlet isValid = !result.error\r\n\t\tlet msg = result.error ? result.error.message : ''\r\n\r\n\t\tif (validateNotExisting && isValid) {\r\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\r\n\t\t\tisValid = existing === false\r\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { createSession } from './accountActions'\r\n\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\taddIdentityENS,\r\n\tsetIdentityPrivilege,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport { selectAccount, selectIdentity, selectAuthType } from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tvalidateWallet,\r\n\tvalidateIdentityContractOwner,\r\n\tvalidateAccessWarning,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tGETTING_OWNER_IDENTITIES,\r\n\tUPLOADING_ACCOUNT_DATA,\r\n} from 'constants/spinners'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = ev => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function setIdentityENS({ username }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await addIdentityENS({\r\n\t\t\t\tusername,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('ENS_SETUP_NOTIFICATION', { args: [username] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SETTING_ENS', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdrawAny({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t\ttokenDecimals,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner, authType }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst data = Object.entries(identityData).map(\r\n\t\t\t\tasync ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tens,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail: email.toLowerCase(),\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\taddress: relayerData.deployData._id,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\r\n\t\t\tawait createSession({\r\n\t\t\t\tidentity,\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = await getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = await getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, wallet } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\r\n\t\t\tif (!identityAddr && wallet && !!email) {\r\n\t\t\t\tconst walletAddr = wallet.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, password } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && email && password\r\n\r\n\t\t\tif (!identityAddr && email && password) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = await createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\r\n\t\t\t\tconst identityAddr = txData.identityAddr\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityAddr,\r\n\t\t\t\t})\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = !!identityAddr\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\twallet,\r\n\t\t\tidentityContractOwner,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\ttosCheck,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t// validate wallet again in case of step skip\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\r\n\t\t\t// validate step fields\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateFullDeploy({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tskipSpinnerUpdate: true,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateContractOwner({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityContractOwner, wallet } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityWallet({\r\n\taddress,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\thdWalletAddrIdx,\r\n\tpath,\r\n\tchainId,\r\n\tsignType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst wallet = {\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}\r\n\r\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\r\n\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handleSignupLink(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('signup-email')\r\n\r\n\t\tif (email) {\r\n\t\t\tupdateIdentity('email', email)(dispatch)\r\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resolveEnsAddress({ address }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst authType = selectAuthType(state)\r\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst name = await provider.lookupAddress(address)\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\r\n\t\t\t\titem: address,\r\n\t\t\t\tvalue: name,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_RESOLVING_ENS_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tupdateSpinner,\r\n\taddToast,\r\n\thandleAfterValidation,\r\n\tvalidate,\r\n\tupdateAccountIdentityData,\r\n\tvalidateEthAddress,\r\n\tvalidatePrivilegesAddress,\r\n\tvalidatePrivLevel,\r\n\tvalidateWithdrawAmount,\r\n} from 'actions'\r\nimport {\r\n\tselectNewTransactionById,\r\n\tselectWalletAddress,\r\n\tselectAuthType,\r\n\tselectAccount,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountStatsRaw,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nimport { withdrawFromIdentity } from 'services/smart-contracts/actions/identity'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewTransaction() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\ttxId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: setAddr,\r\n\t\t\t\tprop: 'setAddr',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidatePrivLevel({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst validation = await validatePrivilegesAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\twalletAddr,\r\n\t\t\t\twarningAccepted,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t\tauthType,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tisValid = validation.isValid\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'warningMsg',\r\n\t\t\t\tvalue: validation.msg,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdraw({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\r\n\t\t// const walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateWithdrawAmount({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\ttry {\r\n\t\t\t\tconst feesData = await withdrawFromIdentity({\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewTransaction({\r\n\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\tkey: 'feesData',\r\n\t\t\t\t\tvalue: feesData,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tisValid = false\r\n\r\n\t\t\t\tawait validateWithdrawAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tsymbol,\r\n\t\t\t\t\terrorMsg: getErrorMsg(err),\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\texecute,\r\n\taddToast,\r\n\tupdateSpinner,\r\n\tupdateItems,\r\n\tupdateValidatorAuthTokens,\r\n\tupdateNewItem,\r\n\thandleAfterValidation,\r\n\tvalidateCampaignValidators,\r\n\tvalidateCampaignAmount,\r\n\tvalidateCampaignTitle,\r\n\tvalidateCampaignDates,\r\n\tvalidateCampaignUnits,\r\n\tconfirmAction,\r\n\tupdateSelectedCampaigns,\r\n} from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { parseUnits, bigNumberify } from 'ethers/utils'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\nimport { closeCampaignMarket } from 'services/adex-market/actions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectAccount,\r\n\tselectNewCampaign,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { Campaign } from 'adex-models'\r\nimport {\r\n\tOPENING_CAMPAIGN,\r\n\tGETTING_CAMPAIGNS_FEES,\r\n\tPRINTING_CAMPAIGNS_RECEIPTS,\r\n} from 'constants/spinners'\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\r\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\r\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\r\n\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\r\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\r\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\r\n\r\nexport function openCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { storeCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: storeCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\r\n\t\t\t\t\targs: [storeCampaign.id],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Pending':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\treturn 'Active'\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\treturn 'Completed'\r\n\t\tdefault:\r\n\t\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst { wallet, identity } = selectAccount(state)\r\n\t\tconst { authSig } = wallet\r\n\t\tconst { address } = identity\r\n\r\n\t\tif (hasAuth && authSig && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\r\n\t\t\t\tlet campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: campaignsMapped,\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\r\n\t\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.status = {\r\n\t\t\t\t...newCampaign.status,\r\n\t\t\t\thumanFriendlyName: 'Closed',\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\r\n\t\t\tupdateUserCampaigns(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewCampaign(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst currentCampaign = selectNewCampaign(getState())\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentCampaign,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\t'Campaign',\r\n\t\t\tCampaign\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\r\n\t},\r\n]\r\n\r\nexport function validateNewCampaignAdUnits({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst campaign = selectNewCampaign(state)\r\n\t\tconst { adUnits } = campaign\r\n\r\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewCampaignFinance({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst {\r\n\t\t\t\tvalidators,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\ttitle,\r\n\t\t\t\tactiveFrom,\r\n\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\tcreated,\r\n\t\t\t\ttemp = {},\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\r\n\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\r\n\t\t\tif (!validators || !validators.length) {\r\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\r\n\t\t\t\tnewCampaign.validators = tempValidators\r\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\tvalue: depositAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'activeFrom',\r\n\t\t\t\t\tvalue: activeFrom,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t\t\t\tvalue: withdrawPeriodStart,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (typeof maxChannelFees !== 'string') {\r\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\r\n\t\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesFormatted,\r\n\t\t\t\t\tmaxAvailable,\r\n\t\t\t\t\tmaxAvailableFormatted,\r\n\t\t\t\t} = await openChannel({\r\n\t\t\t\t\tcampaign: { ...newCampaign },\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\tgetMaxFees: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst newTemp = { ...temp }\r\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\r\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\r\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getCampaignActualFees() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst mainToken = selectMainToken(state)\r\n\t\t\tconst { temp = {}, depositAmount } = campaign\r\n\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\tconst { feesFormatted, fees } = await openChannel({\r\n\t\t\t\tcampaign: { ...campaign },\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\r\n\r\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\r\n\t\t\t\ttotalSpend.toString(),\r\n\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\tfalse,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.feesFormatted = feesFormatted\r\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\r\n\r\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handlePrintSelectedReceipts(selected) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\r\n\t\tconfirmAction(\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSelectedCampaigns(selected)(dispatch, getState)\r\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\tconfirmLabel: t('OK'),\r\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\r\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\r\n\t\t\t}\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\tupdateNewItem,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { selectMainToken, selectNewAdSlot } from 'selectors'\r\nimport { AdSlot, schemas } from 'adex-models'\r\n\r\nconst { adSlotPost } = schemas\r\n\r\nexport function updateNewSlot(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst currentSlot = selectNewAdSlot(state)\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentSlot,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\t'AdSlot',\r\n\t\t\tAdSlot\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewSlotBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst mainToken = selectMainToken()\r\n\t\tconst state = getState()\r\n\t\tconst slot = selectNewAdSlot(state)\r\n\t\tconst { title, description, type, website, minPerImpression = null } = slot\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: title,\r\n\t\t\t\tprop: 'title',\r\n\t\t\t\tschema: adSlotPost.title,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: description,\r\n\t\t\t\tprop: 'description',\r\n\t\t\t\tschema: adSlotPost.description,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tprop: 'type',\r\n\t\t\t\tschema: adSlotPost.type,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: website,\r\n\t\t\t\tprop: 'website',\r\n\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\tvalue: minPerImpression || '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\tschema: adSlotPost.minPerImpression,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as itemActions from './itemActions'\r\nimport * as uiActions from './uiActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as analyticsActions from './analyticsActions'\r\nimport * as campaignActions from './campaignActions'\r\nimport * as newItemsActions from './newItemsActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...itemActions,\r\n\t...uiActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...validationActions,\r\n\t...analyticsActions,\r\n\t...campaignActions,\r\n\t...newItemsActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './itemActions'\r\nexport * from './uiActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './validationActions'\r\nexport * from './analyticsActions'\r\nexport * from './campaignActions'\r\nexport * from './newItemsActions'\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport channels from './channelsReducer'\r\nimport selectedItems from './selectedItemsReducer'\r\nimport ensAddresses from './ensReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttags,\r\n\tethNetwork,\r\n\tconfig,\r\n\tanalytics,\r\n\tchannels,\r\n\tensAddresses,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tselectedItems,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tADD_ITEM_TO_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase ADD_ITEM_TO_ITEM:\r\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, {})\r\n\r\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GLOBAL_UI, UPDATE_UI_BY_IDENTITY } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI_BY_IDENTITY:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...newState.byIdentity[action.identity],\r\n\t\t\t}\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\r\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\r\n\t\t\t\t}\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\r\n\t\t\t\t\taction.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_GLOBAL_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.global = { ...newState.global }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState.global[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.global[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TAGS:\r\n\t\t\tnewState = { ...state, ...action.tags }\r\n\t\t\treturn newState\r\n\t\tcase ADD_NEW_TAG:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.tag] = action.tag\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_GAS_DATA:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.gasData = { ...action.gasData }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n\tUPDATE_ADVANCED_ANALYTICS,\r\n\tUPDATE_DEMAND_ANALYTICS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.advanced = { ...newState.advanced }\r\n\t\t\tnewState.advanced[action.eventType] = {\r\n\t\t\t\t...action.value,\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_DEMAND_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.demand = action.value\r\n\t\t\treturn newState\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\r\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function channelsReducer(state = initialState.channels, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = { ...action.channels }\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance =\r\n\t\t\t\tinitialState.channels.withOutstandingBalance\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function ensReducer(state = initialState.ensAddresses, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tnewState[action.itemType] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\t\tnewState[action.item] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tconst newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SELECTED_ITEMS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n\tRESET_ALL_NEW_TRANSACTIONS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\r\n\t\t\tnewState = initialState.newTransactions\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/lib/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst persistConfig = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t]\r\n\r\n\tif (process.env.BUILD_TYPE === 'staging') {\r\n\t\tmiddlewares.push(logger)\r\n\t}\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from '@ledgerhq/hw-app-eth'\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}\r\n\t) => {\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\r\n\t\t\tthis.path,\r\n\t\t\tfalse,\r\n\t\t\ttrue\r\n\t\t)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\r\n\t\t\tfrom,\r\n\t\t\tto,\r\n\t\t})\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv,\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t * TODO: may not work.\r\n\t * The ledger device or u2f seems to broken\r\n\t * Can list the addresses\r\n\t * Can sign messages\r\n\t * Signs transactions\r\n\t * Actually it show the tx but does not return value after\r\n\t * confirmation on the device\r\n\t */\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof message === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tpbkdf2.pbkdf2(\r\n\t\t\tpass,\r\n\t\t\tsalt,\r\n\t\t\titerations,\r\n\t\t\tkeylen,\r\n\t\t\tdigiset,\r\n\t\t\t(err, derivedKey) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn reject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst res = derivedKey.toString(encoding)\r\n\r\n\t\t\t\treturn resolve(res)\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}\r\n\r\nasync function getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport async function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path,\r\n\t}\r\n}\r\n\r\nasync function encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn await encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport async function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\r\n\t\treturn legacyEncrypted\r\n\t} else {\r\n\t\tconst encrypted = await encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t\treturn encrypted\r\n\t}\r\n}\r\n\r\nexport async function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = await decrypt(\r\n\t\t\tdata,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport async function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = await generateWallet(mnemonic)\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst data = await encrData({ data: walletData, email, password, authType })\r\n\tawait saveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = await getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = await encrKey({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\r\n\t\t})\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport async function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = await encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport async function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = await encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport async function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport async function getLocalWallet({\r\n\temail,\r\n\tpassword,\r\n\tauthType,\r\n\tgetEncrypted,\r\n}) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst walletKeys = Object.keys(wallet)\r\n\r\n\t\tconst decrypts = walletKeys.map(async key => {\r\n\t\t\t// props[key] = await decrData({\r\n\t\t\t// \tdata: wallet[key],\r\n\t\t\t// \temail,\r\n\t\t\t// \tpassword,\r\n\t\t\t// \tauthType,\r\n\t\t\t// })\r\n\r\n\t\t\tconst decryptedData = await decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn decryptedData\r\n\t\t})\r\n\r\n\t\tconst decryptedData = await Promise.all(decrypts)\r\n\r\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\r\n\t\t\tprops[key] = decryptedData[index]\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn decryptedWallet\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport async function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/GS-fund-ic.a3c1ce2c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MWE5YjZhZS0zYjg3LWZlNDAtYjc2Zi05ZWQwZGY2M2IzOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjAyOTAwYy1mYWQxLTZkNDctYmMyZi0wZDg0ZTg5MDgzZDUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTk2YjBhMi02OWJjLTVjNGUtOTIxZS1hNjcwMGNjZjIzYjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowODoxMSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq0lBPoAABGCSURBVHja7d0JlBT1ncDx8TauuyYRdxVdTXY3Hk9WfZrEczUx3jMwI/c9HIJBOQSCQECQWwGVQ2PkUkCQYNQowWON0c0q66pI9OGiAkEuueWQ4Zb/VrUzzdycAz09n99739cw0wNidX1e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\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute, notifyNewTOS } from 'actions'\r\nglobal.meta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA = '', versionB = '') => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = global.meta || {}\r\n\t\t\t\tconst shouldForceRefresh =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestVersion, currentVersion)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst shouldNotifyNewTOS =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestTOS, currentTOS)\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow, skipRedirect) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut(skipRedirect)\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\thandleRequesterErrorRes({ res, text })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig, creator }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = ({ all, statuses, byEarner } = {}) => {\r\n\tconst queryParams = {\r\n\t\t...(all && { all: true }),\r\n\t\t...(statuses && { status: statuses.join(',') }),\r\n\t\tbyEarner,\r\n\t}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract } from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\tgetAddress,\r\n\tInterface,\r\n\tkeccak256,\r\n\tid,\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n\tt,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nconst { AdExENSManager, ReverseRegistrar } = contracts\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\r\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\r\n\tif (fees.totalBN.gt(mtBalance)) {\r\n\t\tthrow new Error(\r\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t`${formatTokenAmount(\r\n\t\t\t\t\t\tmtBalance.toString(),\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t)} ${symbol}`,\r\n\t\t\t\t\t`${fees.total} ${symbol}`,\r\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\r\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\r\n\t\t\t\ttx,\r\n\t\t\t]\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: AdExENSManager.address,\r\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\r\n\t\t\tAdExENSManager.publicResolver,\r\n\t\t\tid(username),\r\n\t\t\tidentityAddr,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: ReverseRegistrar.address,\r\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\r\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { total } = await getIdentityTxnsTotalFees({\r\n\t\ttxnsByFeeToken,\r\n\t\tmainToken,\r\n\t})\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\r\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\tconst feesForMainTxns = txns.length\r\n\t\t? bigNumberify(\r\n\t\t\t\t!initialNonce\r\n\t\t\t\t\t? mainTokenWithFees.minDeploy\r\n\t\t\t\t\t: mainTokenWithFees.minRecommended\r\n\t\t  ).add(\r\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\r\n\t\t\t\t\tbigNumberify(txns.length - 1)\r\n\t\t\t\t)\r\n\t\t  )\r\n\t\t: bigNumberify(0)\r\n\r\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\r\n\t\tbigNumberify(amountInMainTokenNeeded)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\r\n\r\n\t\taccount,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\r\n\r\n\t\t\tconst minFeeAmount = bigNumberify(\r\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\r\n\t\t\t)\r\n\r\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.minRecommended)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = minFeeAmount\r\n\t\t\t\t.add(sweepRoutinesFeeAmount)\r\n\t\t\t\t.add(extraFeesAmount)\r\n\t\t\t\t.toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\r\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\r\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = bigNumberify('0')\r\n\tconst feesData = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\r\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\r\n\r\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\r\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\r\n\t\t\t\t).add(txFeeAmount)\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{ total: bigZero, byToken: {} }\r\n\t\t)\r\n\r\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst fees = {\r\n\t\t// TODO: change to return total as BN and add totalFormatted\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\tfeesData.total.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalBN: feesData.total,\r\n\t\tbyToken,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\r\n\t\t\tprocess.env.NODE_ENV === 'development'\r\n\t\t) {\r\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n\r\nexport async function withdrawOtherTokensFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\tconst decimals = parseInt(tokenDecimals, 10)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tto: tokenAddress,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n"],"sourceRoot":""}