{"version":3,"sources":["resources/home-wallpaper.jpg","constants/actionTypes.js","store/initialState.js","helpers/miscHelpers.js","services/translations/translations.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/history.js","store/configureStore.js","actions/common.js","services/store-data/auth.js","services/requester/index.js","services/requester/requester.js","services/adex-market/actions.js","actions/uiActions.js","services/auth/auth.js","services/adex-relayer/actions.js","services/smart-contracts/contractsCfg.js","constants/misc.js","services/smart-contracts/ethers.js","services/smart-contracts/signers/trezor.js","services/crypto/crypto.js","helpers/localStorageHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","actions/transactionActions.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","actions/accountActions.js","services/smart-contracts/actions/core.js","actions/itemActions.js","helpers/formatters.js","services/smart-contracts/actions/identity.js","actions/identityActions.js","actions/bidActions.js","actions/index.js","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","helpers/mediaHelpers.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","helpers/validators.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/containers/Lists/styles.js","components/dashboard/containers/Lists/Controls.js","components/dashboard/containers/Lists/ListWithControls.js","components/dashboard/collection/Rows.js","components/dashboard/containers/ItemsList/ItemsList.js","components/dashboard/containers/ItemsList/styles.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/dashboard/charts/options.js","components/dashboard/charts/slot/styles.js","components/dashboard/charts/slot/bidsStatus.js","components/dashboard/charts/slot/bidsLegend.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/dashboard/charts/revenue.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Items/Items.js","components/dashboard/containers/Transactions/Transactions.js","components/dashboard/containers/Transactions/styles.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/common/dialog/styles.js","components/common/dialog/content.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/stepper/MaterialUiStepper.js","components/dashboard/forms/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/WithDialog.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/DownshiftMultiple.js","components/common/autocomplete/DownshiftSingle.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","services/store-data/transactions.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/styles.js","components/signin/identity/IdentityContractAddressEthDeploy.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/IdentityContractOwner.js","components/signin/identity/GrantInfo.js","components/signin/identity/GrantDeploy.js","components/signin/identity/GrantLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/ExternalWalletConnect.js","components/common/stepper/styles.js","components/common/stepper/MaterialUiStepper.js","components/signin/identity/IdentitySteps.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/themeMUi.js","components/App/App.js","serviceWorker.js","index.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","../../adex-translations/index.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404.png","resources/rekt-eddie.png","resources/download-metamask.png","resources/adex-logo-txt-sm.svg","resources/eddie/eddie-20.png"],"names":["module","exports","__webpack_require__","p","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","initialState","account","Account","signin","name","email","password","passConfirm","seed","publicKey","seedCheck","authenticated","newItem","Campaign","plainObj","AdUnit","AdSlot","currentItem","items","spinners","ui","toasts","confirm","data","nav","side","language","validations","newTransactions","default","web3Transactions","tags","identity","ethNetwork","networkId","gasData","wallet","config","relayer","market","validators","miscHelpers","hexToRgbaColorString","hex","alpha","Error","length","substr","hexToDec","h","parseInt","r","g","b","concat","getErrMsg","err","stack","message","toString","split","error","isInt","int","shuffleArray","array","Object","toConsumableArray","sort","Math","random","replace","c","prefix","substring","min","max","floor","this","getRandomInt","obj","keys","maxDaysPast","maxDaysAhead","initialMoment","initial","moment","isMoment","valueOf","undefined","add","queryParams","map","key","encodeURIComponent","join","translations","adexTranslations","lang","translate","val","arguments","_ref","_ref$isProp","isProp","_ref$args","args","toUpperCase","translation","Array","isArray","tpl","_","v","arg","component","renderToString","interpolate","setLang","lng","persistReducers","newState","state","action","objectSpread","type","Base","updateObject","item","newValues","objModel","filterActions","newCollection","collectionId","collection","defineProperty","id","itemType","Item","addItem","_id","toAdd","prop","newCol","removeCollectionProp","removeItem","toRemove","newItems","reduce","index","currentItems","ipfs","match","category","value","types","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","_ref2","pTxs","status","indexOf","hash","push","filter","tx","addr","updateObj","txHash","tag","memoryReducers","newSignin","newidentity","newWallet","spinner","newToast","toast","Helper","getGuid","added","Date","now","t","onConfirm","onCancel","active","calledOn","routing","routerReducer","LOCATION_CHANGE","CALL_HISTORY_METHOD","newErrors","errors","hasOwnProperty","updateTx","history","createHistory","reduxRouterMiddleware","routerMiddleware","configStorage","storage","localStorage","rootReducer","combineReducers","persist","persistCombineReducers","memory","configureStore","middlewares","thunk","store","createStore","compose","applyMiddleware","apply","persistor","persistStore","execute","dispatch","logOut","actions","resetAccount","resetAllItems","resetAllBids","isDemoMode","getState","_authType","requester","AdexNodeRequester","_this","baseUrl","classCallCheck","getAuthHeaders","authSig","acc","X-User-Address","_addr","X-User-Signature","_authSig","X-Auth-Token","_authToken","getUrl","base","route","query","url","fetch","_ref3","_ref3$route","_ref3$queryParams","_ref3$method","method","body","_ref3$headers","headers","_ref3$authSig","userAddr","qp","authToken","demo","getQuery","hdrs","Requester","process","processResponse","res","dontThrow","json","text","then","statusText","getSession","mode","signature","typedData","signerAddress","JSON","stringify","Content-Type","checkSession","skipErrToast","convertItemToJSON","itemToConvert","created","unix","getAdUnits","_ref4","postAdUnit","_ref5","unit","getAdSlots","_ref7","postAdSlot","_ref8","slot","getCampaigns","_ref10","getAllCampaigns","all","updateSpinner","updateUi","addToast","_ref$label","label","_ref$timeout","timeout","unclosable","anchorOrigin","top","removeToast","toastId","confirmAction","_ref2$confirmLabel","confirmLabel","_ref2$cancelLabel","cancelLabel","_ref2$title","title","_ref2$text","updateNav","changeLanguage","updateValidationErrors","resetValidationErrors","addSig","_ref$addr","sig","expiryTime","_ref$identity","setItem","toLowerCase","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","time","grantAccount","ownerAddr","mail","couponCode","getOwnerIdentities","owner","registerFullIdentity","privileges","sendOpenChannel","txnsRaw","signatures","channel","identityAddr","registerExpectedIdentity","_ref9","relayerConfig","executeTx","setAddrPriv","_ref11","privLevel","setAddr","contracts","Identity","abi","AdExCore","address","DAI","Dai","decimals","IdentityFactory","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","constants","AdTypes","AdUnitsTypes","SORT_PROPERTIES_ITEMS","FILTER_PROPERTIES_ITEMS","labelIsProp","values","AUTH_TYPES","METAMASK","signType","GETH","limit","TREZOR","LEDGER","DEMO","GRANT","SEED","SORT_PROPERTIES_CAMPAIGN","FILTER_PROPERTIES_CAMPAIGN","status.name","localWeb3","asyncToGenerator","regenerator_default","a","mark","_callee","provider","adexCore","dai","identityFactory","results","wrap","_context","prev","next","ethers","providers","JsonRpcProvider","Contract","abrupt","stop","loadInjectedWeb3","Promise","resolve","reject","window","addEventListener","ethereum","web3","getInjectedWeb3","_callee2","enabled","_results","_context2","sent","enable","console","log","Web3Provider","t0","currentProvider","getLocalWeb3","getEthers","_callee3","injected","_context3","_x","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","opts","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","to","bundle","path","showOnTrezor","getAddresses","_ref3$from","_ref3$to","success","payload","_args","ethereumGetAddress","signTx","params","txProps","_ref6","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","s","serializeTransaction","sendTransaction","txData","_x2","signMessage","_callee4","_args4","_context4","ethereumSignMessage","_x3","connect","_provider","_path","Signer","crypto","require","encrypt","cipher","createCipher","crypted","update","final","decrypt","decipher","createDecipher","dec","loadFromLocalStorage","parse","saveToLocalStorage","serialized","warn","generateWallet","mnemonic","randomEntropy","randomBytes","HDNode","entropyToMnemonic","getRandomMnemonic","Wallet","fromMnemonic","privateKey","encrKey","encrData","addDataToWallet","_ref5$email","_ref5$password","_ref5$dataKey","dataKey","_ref5$dataValue","dataValue","getLocalWallet","props","decrData","LocalSigner","getAddress","_wallet","signetTx","sign","arrayify","walletData","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","updateNewTransaction","resetNewTransaction","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","prepareTx","_prepareTx","sender","gasLimit","gasPrice","pTx","populateTransaction","toHexString","nonce","processTx","_processTx","fromType","txRes","settings","receipt","txSuccessData","nextNonce","updateAccount","wait","_getSigner","authType","signer","_signer2","_signer3","LedgerSigner","getTypedDataHash","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","getAuthSig","_x4","_getAuthSig","Number","MAX_SAFE_INTEGER","getTransactionsReceipts","_x5","_getTransactionsReceipts","_callee5","_ref6$txHashes","txHashes","receipts","_context5","getTransactionReceipt","_x6","_signTx","_callee6","_context6","Transaction","hashHex","splitSig","getMultipleTxSignatures","_x7","_getMultipleTxSignatures","_callee7","txns","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context7","Symbol","iterator","done","return","finish","getRequesters","campaign","leader","spec","follower","validator","getAuthToken","existingAuth","token","validatorAuthTokens","era","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","authTokens","lastApprovedState","closeCampaign","events","eventsAggregates","agrArgs","formatEther","formatUnits","privilegesNames","valueToKey","IdentityPrivilegeLevel","getAddressBalances","_getAddressBalances","calls","balances","formatted","getBalance","balanceOf","serializedPath","balanceEth","balanceDai","getAccountStats","_getAccountStats","_identity$status","identityContract","privilegesAction","walletBalanceEth","walletBalanceDai","identityBalanceDai","walletPrivileges","validatorsData","_validatorsData$outst","outstandingBalanceDai","_validatorsData$aggre","aggregates","raw","deployed","getValidatorData","catch","e","slicedToArray","totalIdentityBalanceDai","walletAddress","walletAuthType","identityAddress","getAllChannels","channels","_ref12","lastApproved","balancesTree","allLeafs","mTree","msg","k","Channel","getBalanceLeaf","MerkleTree","_x9","getAllChannelsWhereHasBalance","allActive","_ref13","_ref14","balance","getOutstandingBalance","withBalance","_ref15","withOutstanding","totalOutstanding","_ref17","_ref16","outstanding","bigNumberify","withdrawnPerUser","sub","_x10","sum","ch","getIdentityStatistics","_callee9","allCalls","_context9","_ref19","_callee8","_ref18","stats","_context8","_x11","ag","getAllChannelsForIdentity","_callee10","_context10","_callee11","_context11","updateSignin","resetSignin","createAccount","meta","updateGasData","updateAccountStats","createSession","sessionSignature","getRelayerConfig","cfg","Core","Interface","ERC20","feeAmountApprove","feeAmountOpen","timeframe","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","totalFeesFormatted","toEthereumChannel","specHash","createHash","digest","creator","tokenAddr","depositAsset","tokenAmount","depositAmount","validUntil","getReadyCampaign","newCampaign","withdrawPeriodStart","period","getValidUntil","adUnits","parseUnits","minPerImpression","div","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","openChannel","_openChannel","readyCampaign","openReady","ethChannel","initialNonce","feeTokenAddr","tx1","tx2","result","toNumber","temp","feeAmount","functions","approve","encode","channelOpen","toSolidityTuple","closeChannel","_closeChannel","toastStr","AddToastUi","getImgsIpfsFromBlob","tempUrl","resp","blob","imgBlob","URL","revokeObjectURL","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","updateNewItem","resetNewItem","imageIpfs","resItem","mediaUrl","mediaMime","mime","marketAdd","addSlot","fallbackUnit","resUnit","useFallback","targetUrl","description","targeting","passback","getAllItems","units","slots","campaigns","resUnits","resSlots","resCampaigns","campaignsMapped","updateItems","openCampaign","removeItemFromItem","addItemToItem","updateItem","successMsg","errMsg","deleteItem","_deleted","restoreItem","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","_ref20","updateCampaignState","_ref21","_ref22","_ref23","_ref24","_ref25","newIdentity","newTokens","_x8","MomentUtils","formatDateTime","timestamp","format","date","formatTokenAmount","amountString","pretty","commify","IDENTITY_BASE_ADDR","IDENTITY_FACTORY_ADDR","GAS_LIMIT_DEPLOY_CONTRACT","feeAmountTransfer","feeAmountSetPrivileges","getIdentityBytecode","_getIdentityBytecode","bytecode","getProxyDeployBytecode","privSlot","solc","getIdentityDeployData","_getIdentityDeployData","salt","expectedAddr","generateAddress2","deployIdentityContract","_deployIdentityContract","identityFactoryWithSigner","deploy","withdrawFromIdentity","_withdrawFromIdentity","amountToWithdraw","withdrawTo","getFeesOnly","toWithdraw","fees","mul","toGet","transfer","setIdentityPrivilege","_setIdentityPrivilege","identityInterface","setAddrPrivilege","updateIdentity","resetIdentity","updateWallet","resetWallet","getGrantAccount","walletAddr","coupon","identityData","deployFullIdentity","identityTxData","getFullIdentityTxData","getRegisterExpectedIdentity","onUploadLocalWallet","event","file","reader","onError","target","files","FileReader","onload","ev","onerror","abort","onabort","readAsText","identityWithdraw","ownerIdentities","addrIdentityPrivilege","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","src_actions","common","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","close","setState","inherits","createClass","nextProps","_this2","nextToast","setTimeout","_classnames","_this3","classes","Icon","vertical","horizontal","react_default","createElement","Snackbar","open","autoHideDuration","onClose","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","IconButton","aria-label","color","onClick","Close_default","snackbar","Component","bindActionCreators","withStyles","theme","spacing","border","borderRadius","backgroundColor","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","Translated","assign","bind","Confirm","assertThisInitialized","visible","Dialog","DialogTitle","DialogContent","DialogContentText","children","DialogActions","Button","autoFocus","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","_key","resolveToLocation","handleClick","preventDefault","_this$props","rest","location","staticContext","objectWithoutProperties","toLocation","href","React","withRouter","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","d","Anchor","draggable","rel","style","styles","_appBar","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","drawerPaper","content","palette","background","padding","marginLeft","contentInner","navigation","paper","version","bottom","borderTopWidth","borderTopColor","divider","borderTopStyle","navList","overflowY","overflowX","navListRoot","secondary","sideNavToolbar","sntPadding","white","primary","light","&:focus","newItemBtn","adxLink","hint","&:hover","bar","actionCount","marginTop","RRSwitch","ListItem","ListItemText","ListItemSecondaryAction","anchor_anchor","Switch_Switch","SideSwitch","checked","pathname","fill","RRListItem","SideNav","nextState","langChanged","sideChanged","locationChanged","transactionsChanged","transactions","bidsAwaitingActionChanged","bidsAwaitingActionCount","isAdvertiser","List","AdexIconTxt","Divider","button","ListItemIcon","Dashboard_default","Fragment","CampaignIcon","Icon_Icon","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","anchorEl","handleButtonClick","handleMenuHide","handleMenu","currentTarget","handleClose","btnStyle","iconStyle","Boolean","leftIcon","leftIconSrc","ButtonMenuMui_ImgIcon","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","demoLogo","RRMenuItem","MenuItem","TopNav","auth","handleDrawerToggle","navTitle","imgSrc","btnMenueLabel","AppBar","Toolbar","ButtonMenuMui","ExpandMore_default","caption","Typography","variant","noWrap","isVideoMedia","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$props2","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","CircularProgress","cursor","@media(max-width:744px)","minWidth","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","crop","x","round","y","getContext","drawImage","toBlob","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","onChange","onRemove","preventBubbling","onCropChange","saveCropped","croppedBlob","cropMode","stopPropagation","nativeEvent","stopImmediatePropagation","UploadInfo","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","droppedImgContainer","react_image_crop_default","imageStyle","imgDropzonePreview","gutterBottom","disabled","Save_default","dist_es","img_Img","marginBottom","grey","textAlign","alignSelf","@media(max-width:768px)","@media(max-width:500px)","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","exact","required","isValid","targetAspect","parseFloat","toFixed","checkExactish","masgArgs","dirty","getVideoSize","video","videoWidth","videoHeight","getImageSize","validateMedia","media","getSize","validateId","NewItemHoc","ValidItemHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","handleChange","onOk","vals","forEach","onChangeReady","errImg","imgPropName","Cancel_default","forms_ImgForm_ImgForm","imgLabel","SaveBtn","dirtyProps","save","validationId","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","main","textField","flexWrap","changesLine","changeChip","editIcon","urlRegex","emailRegex","passwordRegex","couponRegex","validUrl","validEmail","validateNumber","numberStr","isNaN","isFinite","validName","errMsgArgs","validQuickAccountCoupon","isEthAddress","RRButton","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","Grid","container","justify","sm","inline","textTransform","IMG_404","AdSizesByValue","ItemsConstants","ItemHoc","dp","slice","returnPropToInitialState","propName","initialItemState","initialItemStateValue","setActiveFields","field","newActiveFields","activeFields","editImg","_activeInput","matchId","currentItemInst","nexItemInst","_this$props4","page_not_found_PageNotFound","isDemo","canEdit","fallbackMediaUrl","titleErr","Prompt","when","containers_ImgDialog_ImgDialog","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","Info_default","Chip","onDelete","xs","md","lg","FormControl","fullWidth","InputLabel","Input","maxLength","onBlur","helperText","endAdornment","InputAdornment","Edit_default","FormHelperText","htmlFor","multiline","rows","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","fabButton","containers_SaveBtn_SaveBtn","isNameValid","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","Dropdown","_this$props$label","source","_this$props$htmlId","htmlId","_this$props$name","_this$props$disabled","_this$props$error","_this$props$fullWidth","formControl","Select","input","selectEmpty","flexItem","rowButton","rwoButtonRoot","row","bottomControls","listRoot","controlsRoot","pageSize","Pagination","page","pages","goToPrevPage","goToNextPage","goToPage","dropdown_Dropdown","getAllPagedValues","ChevronLeft_default","ChevronRight_default","current","INT_STRING","mapFilterProps","_ref$filterProps","filterProps","labelArgs","mapSortProperties","_ref2$sortProps","sortProps","ListWithControls","context","newStateValue","filterByValues","filterProperties","filterByValueFilter","handleChangeRxState","uiStateId","changePageSize","newPageSize","itemsLength","search","searchMatch","regex","RegExp","matchString","exec","filterItems","sortProperty","sortOrder","filterBy","filterArchived","filtered","i","isItem","archived","o","propA","propB","lt","gt","filteredLength","maxPages","ceil","sortProperties","filteredItems","renderItems","renderRows","startAdornment","Search_default","ArrowUpward_default","ArrowDownward_default","goToLastPage","goToFirstPage","rowsView","viewModeId","Rows","handleRowSelect","selected","newSelected","Table","tableHeadRenderer","TableBody","u","rowRenderer","TableCell","TableCell_TableCell","RRTableCell","ItemsList","renderTableHead","selectedItems","selectMode","noActions","TableHead","TableRow","ItemsList_TableCell","renderCampaignTableHead","renderTableRow","onSelect","Checkbox","cellImg","fallbackMediaiUrl","renderActions","renderCampaignTableRow","fundsDistributedRatio","activeFrom","Tooltip","enterDelay","ItemsList_RRButton","_this$props5","collection_Rows","_this$props6","noControls","Lists_ListWithControls","archive","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","toggleFallbackImgEdit","CardContent","TextField","onFocus","MediaCard","BasicProps","ItemCommon_MediaCard","score","CampaignProps","VIEW_MODE","componentDidMount","handleTabChange","tabIndex","CampaignActions","statistics","CampaignModel","Tabs","scrollable","scrollButtons","indicatorColor","textColor","Tab","subheader","ListSubheader","containers_ItemsList_ItemsList","removeFromItem","AdUnitModel","CampaignItem","datepicker","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","hoi","merge","defaults","global","legendList","listStyle","legendSpan","float","legendListItem","fontFamily","chartParent","chartLabel","@media(min-width:650px) and (max-width:1279px)","chartContainer","chartTitle","BidsStatusPie","componentWillUpdate","pieData","forceUpdate","doughnut","createRef","onPieClick","cutoutPercentage","legend","legendCallback","chart","bidsLegend","callbacks","tooltipItem","labels","count","datasets","datasetIndex","totalCount","maintainAspectRatio","chartData","hoverBackgroundColor","borderWidth","chartInstance","generateLegend","react_chartjs_2_es","ref","getElementAtEvent","BidsLegend","legendItems","textDecoration","toggleChartItem","toggleLabelCross","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","infoStatsContainer","infoCard","linkCard","&:hover, &:focus","dashboardCardBody","getChannelName","amount","cpm","PublisherStatistics","_ref$options","dataKeys","defaultValues","labelsWithData","sets","memo","step","labelsKeys","set","commonDsProps","lineTension","pointRadius","pointHitRadius","stacked","linesOptions","scales","xAxes","gridLines","scaleLabel","labelString","yAxes","PublisherStats","_ref$aggregates","hourly","daily","_a$aggr","aggr","_a$channel","channelData","channelHourly","channelDaily","year","month","day","hour","getHourId","dayId","getDayId","mapAggregates","revenue_PublisherStatistics","BidStatesLabels","DashboardStats","goToAccount","mapBidsToStats","bids","initialValue","bid","_amount","mapClosedBidsToStats","_state","Canceled","canceled","Expired","expired","Completed","completed","getLabel","extraLabel","mapData","_ref$action","_ref$active","_ref$closed","closed","_ref$open","PieLabels","PieDataCount","PieDataAmount","tabs","Accepted","activeCount","openCount","DoesNotExist","completedCount","canceledCount","expiredCount","BidsStateChart","bidsStatus","_index","goToBids","InfoStats","DashboardStats_StatsCard","bidsData","bidsStats","side_select_SideSelect","PublisherStats_PublisherStats","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","TargetsList","_ref$targets","targets","subHeader","dense","UnitItem","Unit","closeDialog","adUrl","containers_UnitTargets_UnitTargets","ADVIEW_URL","adviewUrl","origin","protocol","host","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","onCopy","sizes","publisherAddr","whitelistedToken","whitelistedType","randomize","minTargetingScore","iframeStr","integrationLabel","copy","FileCopy_default","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","Slot_IntegrationCode","SlotItem","whiteSpace","Items","SORT_PROPERTIES","Transactions","multiSelectable","selectable","sendingTime","Transactions_TableCell","txMethod","compactCol","reduced","itm","listMode","delete","NewTransactionHoc","TransactionHoc","txId","onSave","manyTxs","resetTransaction","handleSaveRes","saveFn","txs","txResults","stepsId","WithdrawFromIdentityForm","validateAmount","numStr","identityAvailable","validateAddress","withdrawAmount","errAmount","errAddr","PRIV_LEVELS_SRC","SeAddressPrivilegeForm","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","contentStickyTop","TopLoading","FullContentSpinner","WalletAction","IdentityWithdrawPreview","SetPrivilegePreview","TransactionPreviewForm","TransactionPreview","gas","getFeesFn","_this$props2$transact","previewWarnMsgs","_transaction$fees","waitingForWalletAction","FormsCommon_WalletAction","Error_default","Warning_default","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","A700","centralSpinner","imgPreview","boxShadow","shadows","StepperNav","currentPage","innerWidth","StepLabel","mobileStepLabel","MobileStepper","activeStep","steps","mobileStepper","Stepper","alternativeLabel","Step","MaterialStepper","nextStep","canAdvance","canAdvanceNextToPage","canGoBack","setPageIndex","Comp","MaterialUiStepper_StepperNav","stepperNav","pagePaper","pageContent","canReverse","cancelBtn","completeBtn","isValidPage","WithMaterialStepper","withStepper","&$active","WebkitOverflowScrolling","@media(max-width:475px)","& div","& span","MyMaterialStepper","stepper","CancelBtn","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","MaterialUiStepper","TextBtn","Transition","Slide","direction","WithDialog","renderDemoModeAction","paragraph","DEMO_IMAGE","iconButton","textButton","fabVariant","btnLabelArgs","dialogActions","ButtonComponent","btnProps","btnLabel","first","second","TransitionComponent","disableTypography","FormStepsWithDialog","FormSteps","txCommon","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","cancelBtnLabel","darkerBackground","WithdrawTokenFromIdentity","WithdrawFromExchangePage","SetIdentityPrivilege","SeAddressPrivilege","AccountInfo","localWalletDownloadHref","_account$wallet","getRecoveryWalletData","handleExpandChange","expanded","walletJsonData","_account$wallet2","download","SaveAlt_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","actionBtn","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","NewAdUnitHoc","ItemForm","addTo","saved","adUnitPost","schemas","AdUnitBasic","validateAndUpdateType","Joi","validateTitle","validateDescription","validateTargetUrl","errTitle","errDescription","errTargetUrl","getWidAndHightFromType","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","renderInput","inputProps","InputProps","inputRef","inputRoot","renderSuggestion","suggestion","itemProps","highlightedIndex","selectedItem","showSelected","isHighlighted","isSelected","fontWeight","getSuggestions","inputValue","allowCreate","validateCreation","trim","includes","newSuggestion","DownshiftMultiple","handleKeyDown","keycode","newItemValue","handleInputChange","handleDelete","splice","placeholder","openOnClick","allValues","downshift_esm","itemToString","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","toggleMenu","chip","onKeyDown","square","DownshiftSingle","multiple","autocomplete_DownshiftMultiple","autocomplete_DownshiftSingle","SOURCES","locations","AllCountries","country","genders","Genders","PredefinedTags","custom","SourcesSelect","AdUnitTargeting","handleTargetChange","newValue","newTargets","updateNewItemCollections","newTarget","targetTag","autocomplete_Autocomplete","suggestionMatch","showSuggestionsWhenValueIsSet","Slider","aria-labelledby","valueLabelDisplay","collections","tg","newTemp","_ref3$target","slider","imgPreviewWrapper","AdUnitFormPreview","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","adUnitsArray","CampaignUnits","handleSelect","validateUnits","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","DateTimePicker_CalendarIconAdor","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","underline","AdvPlatformValidators","fee","PubPlatformValidators","VALIDATOR_SOURCES","AdvValidatorsSrc","PubValidatorsSrc","validateCampaignDates","_ref2$created","validateAndUpdateValidator","newValidators","handleDates","isNumberString","_ref3$maxDeposit","maxDeposit","maxDep","dep","validateAmounts","errDepAmnt","errMin","errFrom","errTo","impressions","getTotalImpressions","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","FormControlLabel","control","CampaignFormPreview","AdUnitsTable","NewCampaignFormPreview","adSlotPost","NewAdSlotHoc","validateImage","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Collapse","in","AdSlotTargeting","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","NewCampaignStepsWithDialog","CampaignFinance","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","AdSlotBasic","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","transactionsCheckTimeout","clearTransactionsTimeout","syncTransactions","_store$getState$persi","rec","transactionHash","checkTransactions","checkTransactionsLoop","store_data_transactions","Dashboard","mobileOpen","toggleDrawerActive","drawerActive","toggleDrawerPinned","drawerPinned","toggleSidebar","sidebarPinned","renderAdUnits","containers_Items_Items","NewItems_NewUnitDialog","renderCampaigns","NewItems_NewCampaignDialog","accent","renderAdSlots","NewItems_NewSlotDialog","AdSlotModel","handleDrawerOpen","handleDrawerClose","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Switch","locatiom","Route","renderChannels","withTheme","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","buttons","adxVersion","adexLogoTop","logo","noBg","AuthSelect","AuthSelect_RRButton","metamaskBtn","btnLogo","trezorBtn","btnLogoNoTxt","ConnectHoc","Connect","noBackground","Box","auth_select_AuthSelect","IdentityHoc","IdentityForm","componentDidUpdate","registerExpected","ready","waitingExpected","waiting","waitingUpload","buttonProgressWrapper","infoPaper","gutters","IdentityContractAddressStep","validateIdentity","getIdentityContractData","_this$props$identity","emailCheck","code","validateEmail","validateEmailCheck","validateCode","prevProps","currIdentity","isValidFormat","waitingCheck","checkAccessCode","cpn","exist","used","AuthHoc","Auth","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","checkMetamask","waitingAddrsData","metamaskSigner","waitingMetamaskAction","tabBox","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","alignContent","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","validateContractOwner","identityContractOwner","currOwner","ownerAuth_AuthMethod","IdentityGrantInfoStep","passwordCheck","tosCheck","validatePassword","validatePasswordCheck","validateCoupon","validateTOS","validPassword","checkCoupon","accepted","IdentityGrantDeployStep","initLocalWallet","_ref4$email","_ref4$password","_ref4$mnemonic","createLocalWallet","getIdentity","waitingGrant","grantAmount","IdentityGrantLoginStep","validateWallet","identityPrivileges","getIdentitiesForDropdown","balanceDAI","identityDataSplit","identityContractAddress","_identity$ownerIdenti","useStyles","makeStyles","ExternalConnect","_useState","useState","_useState2","connectType","setConnectType","FullLogin","identity_IdentityContractAddressEthDeploy","stepperWrapper","stepper_MaterialUiStepper_StepperNav","MaterialUiStepper_WithMaterialStepper","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","stepper_MaterialUiStepper","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateGrantIdentity","JustDialog","identity_IdentitySteps","GrantInfo","GrantDeploy","ConnectedGrantLogin","GrantLogin","ConnectedCreateFullIdentity","IdentityContractOwner","IdentityContractAddressEthDeploy","ConnectedLoginStandardIdentity","ConnectedRoot","ADEX_LOGO","PrivateRoute","render","Redirect","Root","checkForMetamaskAccountChange","onMetamaskNetworkChanged","authChanged","contrastText","deepOrange","amber","lime","contrastThreshold","tonalOffset","themeMUI","createMuiTheme","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","onBeforeLift","CssBaselineStyled","@global","html","CssBaseline","globalStyles","App","MuiThemeProvider","es","integration_react","react_router_redux_es","HashRouter","App_Root","toast_Toast","confirm_Confirm","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","_i","_Object$keys","ReactDOM","components_App_App","getElementById","response","contentType","get","unregister","reload","checkValidServiceWorker","bg-BG","de-DE","en-US","es-ES","fr-FR","hr-HR","hu-HU","it-IT","nl-NL","pt-BR","pt-PT","ru-RU","se-SE","sr-RS","zh-CN","onlyTranslated","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","Buffer","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","eth","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","_args5","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","__webpack_exports__","payloadEncoded","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module"],"mappings":"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","file":"static/js/main.ca562db6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_UI = 'UPDATE_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit().plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj()\r\n\t},\r\n\tcurrentItem: {},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {}\r\n\t},\r\n\tspinners: {},\r\n\tui: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {}\r\n\t},\r\n\tnav: {\r\n\t\tside: ''\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {}\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {\r\n\t},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {}\r\n\t},\r\n\twallet: {\r\n\t},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {}\r\n\t}\r\n}\r\n\r\nexport default initialState\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n\t\t\tvar r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8) // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n\t\t\tvar r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8); // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + (h.substring(prefix.length))\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min);\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[keys.length * Math.random() << 0]];\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[keys.length * Math.random() << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment) ?\r\n\t\t\tinitialMoment.valueOf() : undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || (typeof hex !== 'string')) {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = (h) => {\r\n\t\t\treturn parseInt(\"0x\" + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (!queryParams ||\r\n\t\t\t((typeof queryParams === 'object') &&\r\n\t\t\t\t!Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn '?' + Object.keys(queryParams).map((key) => {\r\n\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(queryParams[key])\r\n\t\t}, '').join('&') || ''\r\n\t}\r\n\r\n\tgetErrMsg = (err) => {\r\n\t\tlet stack = ((err.message || err || '').toString()).split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + (stack[0]).toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = (int) => {\r\n\t\treturn typeof int === 'number' && (int % 1 === 0)\r\n\t}\r\n\r\n\tshuffleArray = (array) => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","import adexTranslations from 'adex-translations'\r\nimport { renderToString } from 'react-dom/server'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\n// TODO: sanitization\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\t\r\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\r\n\t\tlet arg = args[v]\r\n\t\tif (typeof arg === 'object' && arg.component) {\r\n\t\t\treturn renderToString(arg.component)\r\n\t\t} else {\r\n\t\t\treturn arg\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const translate = (val = '', { isProp = false, args = [''] } = {}, language = lang) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + (key.replace(/^_/, ''))\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = translations[language][key] || val\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\ttranslation = interpolate(translation, args)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = (lng) => {\r\n\tlang = lng\r\n}","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport { routerReducer, LOCATION_CHANGE, CALL_HISTORY_METHOD } from 'react-router-redux'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\t// signin: signin,\r\n\taccount: account,\r\n\titems: filterActions(items, (action => action.type.match(/_ITEM/))),\r\n\t// newItem: filterActions(newItem, (action => action.type.match(/_NEWITEM/))),\r\n\t// spinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\tui: filterActions(ui, [types.UPDATE_UI]),\r\n\t// toasts: toasts,\r\n\t// confirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\t// nav: filterActions(nav, [types.UPDATE_NAV]),\r\n\t// routing: filterActions(routerReducer, [LOCATION_CHANGE, CALL_HISTORY_METHOD]),\r\n\tlanguage: language,\r\n\t// validations: validations,\r\n\tweb3Transactions: web3Transactions,\r\n\ttags: tags,\r\n\tethNetwork: ethNetwork\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tsignin: signin,\r\n\tidentity: identity,\r\n\twallet: wallet,\r\n\t// account: account,\r\n\t// items: filterActions(items, (action => action.type.match(/_ITEM/))),\r\n\tnewItem: filterActions(newItem, (action => action.type.match(/_NEWITEM/))),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\t// ui: filterActions(ui, [types.UPDATE_UI]),\r\n\ttoasts: toasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\trouting: filterActions(routerReducer, [LOCATION_CHANGE, CALL_HISTORY_METHOD]),\r\n\t// language: language,\r\n\tvalidations: validations,\r\n\tnewTransactions: newTransactions\r\n}\r\n","import { CREATE_ACCOUNT, RESET_ACCOUNT, UPDATE_ACCOUNT } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase CREATE_ACCOUNT:\r\n\t\tnewAccount = { ...action.account }\r\n\t\tnewState = newAccount\r\n\t\treturn newState\r\n\tcase RESET_ACCOUNT:\r\n\t\tnewAccount = initialState.account\r\n\t\tnewState = newAccount\r\n\t\treturn newState\r\n\tcase UPDATE_ACCOUNT:\r\n\t\tnewAccount = Base.updateObject({ item: newState, newValues: { ...action.newValues }, objModel: Account })\r\n\t\tnewState = newAccount\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_ITEM, DELETE_ITEM, UPDATE_ITEM, REMOVE_ITEM_FROM_ITEM, ADD_ITEM_TO_ITEM, UPDATE_ALL_ITEMS, RESET_ALL_ITEMS } from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\tcase ADD_ITEM:\r\n\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t// id is going to be set when it comes here\r\n\t\tnewItem = item\r\n\t\tnewCollection = collection(newState[collectionId], { ...action, item: newItem })\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase ADD_ITEM_TO_ITEM:\r\n\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\tnewCollection = collection(newState[collectionId], { ...action, item: newItem })\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase DELETE_ITEM:\r\n\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\tnewItem = Item.removeItem(newState[collectionId][item._id], action.toRemove)\r\n\t\tnewCollection = collection(newState[collectionId], { ...action, item: newItem })\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase UPDATE_ITEM:\r\n\t\tnewItem = item\r\n\t\tnewCollection = collection(newState[collectionId], { ...action, item: newItem })\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase UPDATE_ALL_ITEMS:\r\n\t\tnewState = { ...state }\r\n\t\tconst newItems = action.items.reduce((items, item, index) => {\r\n\t\t\tconst currentItems = {...items}\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\treturn currentItems\r\n\t\t}, newState[action.itemType])\r\n\r\n\t\tnewState[action.itemType] = newItems\r\n\t\treturn newState\r\n\tcase RESET_ALL_ITEMS:\r\n\t\tnewState = { ...initialState.items }\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\tcase UPDATE_UI:\r\n\t\tnewState = { ...state }\r\n\t\tif (action.category) {\r\n\t\t\tnewState[action.category] = { ...newState[action.category]}\r\n\t\t\tnewState[action.category][action.item] = action.value\r\n\t\t} else {\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t}\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\tcase CHANGE_LANGUAGE:\r\n\t\tlet newLang = action.lang || state\r\n\t\tsetLang(newLang)\r\n\t\treturn newLang\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_WEB3_TRANSACTION, UPDATE_WEB3_TRANSACTION, RESET_WEB3_TRANSACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(state = initialState.web3Transactions, action) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({pTxs, newTx}) => {\r\n\t\tif(newTx.status === 0 && pTxs.indexOf(newTx.hash)){\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t}else {\r\n\t\t\tpTxs = pTxs.filter((tx)=> tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif(!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = {...newState[action.addr] || {}}\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\tcase ADD_WEB3_TRANSACTION:\r\n\t\tnewTx = { ...action.value }  \r\n\t\tnewAddrTxs[action.tx] = newTx\r\n\t\tnewAddrTxs.pendingTxs = updatePendingTxs({pTxs: pendingTxs, newTx: newTx})\r\n\t\tnewState[action.addr] = newAddrTxs\r\n\t\treturn newState\r\n\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\tnewAddrTxs[action.tx] = newTx\r\n\t\tnewAddrTxs.pendingTxs = updatePendingTxs({pTxs: pendingTxs, newTx: newTx})\r\n\t\tnewState[action.addr] = newAddrTxs\r\n\t\treturn newState\r\n\tcase RESET_WEB3_TRANSACTION:\r\n\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\tnewAddrTxs[action.tx] = newTx\r\n\t\tnewAddrTxs.pendingTxs = updatePendingTxs({pTxs: pendingTxs, newTx: {txHash: action.tx}})\r\n\t\tnewState[action.tx] = newTx\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_TAGS:\r\n\t\tnewState = {...state, ...action.tags}\r\n\t\treturn newState\r\n\tcase ADD_NEW_TAG:\r\n\t\tnewState = {...state}\r\n\t\tnewState[action.tag] = action.tag\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_GAS_DATA:\r\n\t\tnewState = {...state}\r\n\t\tnewState.gasData = {...action.gasData}\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_SIGNIN:\r\n\t\tnewSignin = { ...newState }\r\n\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t} else {\r\n\t\t\tnewSignin[action.prop] = action.value\r\n\t\t}\r\n\r\n\t\tnewState = newSignin\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_SIGNIN:\r\n\t\tnewSignin = { ...initialState.signin }\r\n\t\tnewState = newSignin\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\r\n\tlet newState\r\n\tlet newidentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_IDENTITY:\r\n\t\tnewidentity = newState\r\n\t\tif (Array.isArray(newidentity[action.prop])) {\r\n\t\t\tnewidentity[action.prop] = [...action.value]\r\n\t\t} else {\r\n\t\t\tnewidentity[action.prop] = action.value\r\n\t\t}\r\n\r\n\t\tnewState = newidentity\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_IDENTITY:\r\n\t\tnewidentity = { ...initialState.identity }\r\n\t\tnewState = newidentity\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_WALLET:\r\n\t\tnewWallet = newState\r\n\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t} else {\r\n\t\t\tnewWallet[action.prop] = action.value\r\n\t\t}\r\n\r\n\t\tnewState = newWallet\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_WALLET:\r\n\t\tnewWallet = { ...initialState.wallet }\r\n\t\tnewState = newWallet\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}","import { UPDATE_NEW_ITEM, RESET_NEW_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_NEW_ITEM:\r\n\t\tnewState = { ...state }\r\n\t\tnewItem = { ...action.item }\r\n\t\tnewState[action.itemType] = newItem\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_NEW_ITEM:\r\n\t\tnewState = { ...state }\r\n\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\tnewState[action.item] = newItem\r\n\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_SPINNER:\r\n\t\tnewState[action.spinner] = action.value\r\n\r\n\t\treturn newState\r\n\tcase UPDATE_ITEM:\r\n\t\tnewState['update' + action.item._id] = false\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { items as ItemsConstants } from 'adex-constants'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\t// const toasts = (state = [], action) => {\r\n\t// \tlet newToast = action\r\n\t// \tnewToast.id = Helper.getGuid()\r\n\t// \tnewToast.added = Date.now()\r\n\t// \t// Force to re render the same toast instead to satay at the queue\r\n\t// \tif (state[0] && (newToast.label === state[0].label)) {\r\n\t// \t\treturn [newToast, ...(state.slice(0, 0))]\r\n\t// \t} else {\r\n\t// \t\treturn [newToast, ...state]\r\n\t// \t}\r\n\t// }\r\n\r\n\tswitch (action.type) {\r\n\tcase ADD_TOAST:\r\n\t\tnewToast = { ...action.toast }\r\n\t\tnewToast.id = Helper.getGuid()\r\n\t\tnewToast.added = Date.now()\r\n\t\tnewState = [newToast, ...state,]\r\n\t\treturn newState\r\n\r\n\tcase REMOVE_TOAST:\r\n\t\tnewState = state.filter((t) => t.id !== action.toast)\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\tcase CONFIRM_ACTION:\r\n\t\tnewState = { ...state }\r\n\t\tnewState.data = { ...action.confirm.data }\r\n\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\tnewState.active = true\r\n\r\n\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\tnewState.calledOn = Date.now()\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_NAV:\r\n\t\tnewState = { ...state }\r\n\t\tnewState[action.item] = action.value\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_ITEM_VALIDATION, RESET_ITEM_VALIDATION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(state = initialState.validations, action) {\r\n\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_ITEM_VALIDATION:\r\n\t\tnewState = { ...state }\r\n\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\tnewState[action.item] = newErrors\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_ITEM_VALIDATION:\r\n\t\tnewState = { ...state }\r\n\t\tnewErrors = { ...newState[action.item] }\r\n\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\tdelete newErrors[action.key]\r\n\t\t} else if (newErrors && !action.key) {\r\n\t\t\tnewErrors = {}\r\n\t\t}\r\n\r\n\t\tnewState[action.item] = newErrors\r\n\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NEW_TRANSACTION, RESET_NEW_TRANSACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(state = initialState.newTransactions, action) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_NEW_TRANSACTION:\r\n\t\tnewTx = { ...(newState[action.tx] || initialState.newTransactions.default) }\r\n\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t// console.log('newTx', newTx)\r\n\t\tnewState[action.tx] = newTx\r\n\t\treturn newState\r\n\tcase RESET_NEW_TRANSACTION:\r\n\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\tnewState[action.tx] = newTx\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import createHistory from 'history/createBrowserHistory'\r\n\r\nconst history = createHistory()\r\n\r\nexport default history\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware } from 'react-router-redux'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/es/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst configStorage = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(configStorage, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\t// logger\r\n\t]\r\n\r\n\tlet store = createStore(rootReducer, initialState, compose(\r\n\t\tapplyMiddleware(...middlewares)\r\n\t))\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger\r\n\t];\r\n\r\n\tconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\r\n\tconst store = createStore(rootReducer, initialState, composeEnhancers(\r\n\t\tapplyMiddleware(...middlewares)\r\n\t)\r\n\t);\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default; // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore = process.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from 'store/configureStore'\r\nconst { store } = configureStore\r\n\r\nexport const execute = (action) => {\r\n\taction(store.dispatch)\r\n}\r\n","// import configureStore from 'store/configureStore'\r\nimport actions from 'actions'\r\nimport configureStore from 'store/configureStore'\r\nconst { store } = configureStore\r\n\r\nexport const logOut = () => {\r\n\tactions.execute(actions.resetAccount())\r\n\tactions.execute(actions.resetAllItems())\r\n\tactions.execute(actions.resetAllBids())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn store.getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn store.getState().persist.account\r\n}","import requester from './requester'\r\n\r\nexport default requester","import Helper from 'helpers/miscHelpers'\r\nimport { isDemoMode, getAccount } from 'services/store-data/auth'\r\n\r\nclass AdexNodeRequester {\r\n\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst acc = getAccount()\r\n\t\treturn {\r\n\t\t\t'X-User-Address': acc._addr,\r\n\t\t\t'X-User-Signature': authSig || acc._authSig,\r\n\t\t\t'X-Auth-Token': acc._authToken,\r\n\t\t}\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({ route = '', queryParams = {}, method = 'GET', body, headers = {}, userAddr, authSig = '', authToken }) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tlet query = Helper.getQuery(qp)\r\n\t\tlet url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tlet hdrs = {\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers\r\n\t\t}\r\n\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n\r\n","import Requester from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res\r\n\t\t.text()\r\n\t\t.then(text => {\r\n\t\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\t\tlogOut()\r\n\t\t\t}\r\n\t\t\tif (!dontThrow) {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\ttranslate('SERVICE_ERROR_MSG',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tres.url,\r\n\t\t\t\t\t\t\t\tres.status,\r\n\t\t\t\t\t\t\t\tres.statusText,\r\n\t\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}))\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'auth/',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tidentity,\r\n\t\t\tmode,\r\n\t\t\tsignature,\r\n\t\t\tauthToken,\r\n\t\t\thash,\r\n\t\t\ttypedData,\r\n\t\t\tsignerAddress\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'session',\r\n\t\tmethod: 'GET',\r\n\t\tauthSig,\r\n\t\tskipErrToast\r\n\t}).then((res) => processResponse(res, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester.fetch({\r\n\t\troute: 'media',\r\n\t\tmethod: 'POST',\r\n\t\tbody: formData,\r\n\t\tauthSig\r\n\t}).then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = (item) => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'units',\r\n\t\tmethod: 'GET',\r\n\t\tqueryParams: { identity }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'units',\r\n\t\tmethod: 'POST',\r\n\t\tbody: convertItemToJSON(unit),\r\n\t\tauthSig,\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'units',\r\n\t\tmethod: 'PUT',\r\n\t\tbody: convertItemToJSON(unit),\r\n\t\tauthSig,\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'slots',\r\n\t\tmethod: 'GET',\r\n\t\tqueryParams: { identity }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'slots',\r\n\t\tmethod: 'POST',\r\n\t\tbody: convertItemToJSON(slot),\r\n\t\tauthSig,\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'slots',\r\n\t\tmethod: 'PUT',\r\n\t\tbody: convertItemToJSON(slot),\r\n\t\tauthSig,\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'campaigns/by-owner',\r\n\t\tmethod: 'GET',\r\n\t\tauthSig\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = (all) => {\r\n\tconst queryParams = all ? {\r\n\t\tall: true\r\n\t} : {}\r\n\r\n\treturn requester.fetch({\r\n\t\troute: 'campaigns',\r\n\t\tmethod: 'GET',\r\n\t\tqueryParams\r\n\t}).then(processResponse)\r\n}","import * as types from 'constants/actionTypes'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUi(item, value, category) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({ type, action, label = '', timeout = false, unclosable, anchorOrigin, top }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: { type, action, label, timeout, unclosable, anchorOrigin, top }\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(onConfirm, onCancel,\r\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {}) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem: item,\r\n\t\t\terrors: newErrors\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem: item,\r\n\t\t\tkey: key\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({ addr = '', sig, mode, expiryTime, identity = 'notset' }) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem('addr-' + mode + '-' + addr.toLowerCase() + '-' + identity, sig + '-' + expiryTime)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem('addr-' + mode + '-' + addr.toLowerCase() + '-' + identity)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || (parseInt(time, 10) <= Date.now())) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = (res) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res\r\n\t\t.text()\r\n\t\t.then(text => {\r\n\t\t\tthrow new Error(\r\n\t\t\t\ttranslate('SERVICE_ERROR_MSG',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tres.url,\r\n\t\t\t\t\t\t\tres.status,\r\n\t\t\t\t\t\t\tres.statusText,\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}))\r\n\t\t})\r\n}\r\n\r\nexport const identityToEmail = ({ identity, privileges, mail }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/info-mail',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tidentity,\r\n\t\t\tprivileges,\r\n\t\t\tmail\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const grantAccount = ({ ownerAddr, mail, couponCode }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/grant-account',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tmail,\r\n\t\t\townerAddr,\r\n\t\t\tcouponCode\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const checkCoupon = ({ coupon }) => {\r\n\treturn requester.fetch({\r\n\t\troute: `identity/valid-coupon/${coupon}`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const checkAccessCode = ({ code }) => {\r\n\treturn requester.fetch({\r\n\t\troute: `identity/valid-accesscode/${code}`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester.fetch({\r\n\t\troute: `identity/owners/${owner}`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const identityBytecode = ({ owner, privLevel, identityBaseAddr }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/identity-bytecode',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\towner,\r\n\t\t\tprivLevel,\r\n\t\t\tidentityBaseAddr\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const registerFullIdentity = ({\r\n\ttxHash, identity, privileges, mail }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/register-identity',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttxHash,\r\n\t\t\tidentity,\r\n\t\t\tprivileges,\r\n\t\t\tmail\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const sendOpenChannel = ({ txnsRaw, signatures, channel, identityAddr }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'channel/open',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tchannel,\r\n\t\t\tidentityAddr\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const registerExpectedIdentity = ({ owner, mail }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/register-expected',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\towner,\r\n\t\t\tmail\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const relayerConfig = () => {\r\n\treturn requester.fetch({\r\n\t\troute: 'relayer/cfg',\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/execute',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const setAddrPriv = ({ txnsRaw, signatures, identityAddr, privLevel, setAddr }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/set-addr-privilege',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\t\t\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi\r\n\t}\r\n}\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes\r\n\t.map(type => {\r\n\t\treturn {\r\n\t\t\tvalue: type,\r\n\t\t\tlabel: type.split('_')[1]\r\n\t\t}\r\n\t})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' }\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: { label: '_state', labelIsProp: true, values: Object.keys(BID_STATES).map((key) => { return { value: BID_STATES[key].id, label: BID_STATES[key].label } }) },\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS }\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\t'type': { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 }\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed'\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\t\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t]\r\n\t},\r\n}","import { ethers } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nconst { AdExCore, Identity, DAI, IdentityFactory } = contracts\r\nconst localWeb3 = async () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(process.env.WEB3_NODE_ADDR)\r\n\tconst adexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\tconst dai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\tconst identityFactory = new ethers.Contract(\r\n\t\tIdentityFactory.address,\r\n\t\tIdentityFactory.abi,\r\n\t\tprovider)\r\n\r\n\tconst results = {\r\n\t\tprovider: provider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: dai,\r\n\t\tIdentityFactory: identityFactory\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst getInjectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\r\n\tlet provider = null\r\n\t// let mode = null // metamask, and as some point trezor, ledger, ...\r\n\tlet adexCore = null\r\n\tlet dai = null\r\n\tlet identityFactory = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tconst enabled = await ethereum.enable()\r\n\t\t\tconsole.log('Injected ethereum detected.', enabled)\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\t\t\tadexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\t\t\tdai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\t\t\tidentityFactory = new ethers.Contract(\r\n\t\t\t\tIdentityFactory.address,\r\n\t\t\t\tIdentityFactory.abi,\r\n\t\t\t\tprovider)\r\n\t\t\tconst results = {\r\n\t\t\t\tprovider: provider,\r\n\t\t\t\tAdExCore: adexCore,\r\n\t\t\t\tIdentity: Identity,\r\n\t\t\t\tDai: dai,\r\n\t\t\t\tIdentityFactory: identityFactory\r\n\t\t\t}\r\n\r\n\t\t\treturn results\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\telse if (web3) {\r\n\t\tprovider = new ethers.providers.Web3Provider(window.web3.currentProvider)\r\n\t\tadexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\t\tdai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\t\tidentityFactory = new ethers.Contract(\r\n\t\t\tIdentityFactory.address,\r\n\t\t\tIdentityFactory.abi,\r\n\t\t\tprovider)\r\n\r\n\t\tconsole.log('Injected legacy web3 detected.')\r\n\t\tconst results = {\r\n\t\t\tprovider: provider,\r\n\t\t\tAdExCore: adexCore,\r\n\t\t\tIdentity: Identity,\r\n\t\t\tDai: dai,\r\n\t\t\tIdentityFactory: identityFactory\r\n\t\t}\r\n\r\n\t\treturn results\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tthrow new Error('Non-Ethereum browser detected.')\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = new Promise(function (resolve, reject) {\r\n\tconsole.log('getLocalWeb3')\r\n\tresolve(localWeb3())\r\n})\r\n\r\nconst getEthers = async (mode) => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t*   and this results in Trezor popup block by the browser\r\n\t*/\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst injected = await getInjectedWeb3()\r\n\t\treturn injected\r\n\t} else {\r\n\t\treturn getLocalWeb3\r\n\t}\r\n}\r\n\r\nexport {\r\n\tgetEthers\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network'\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() { return this._path }\r\n\tget provider() { return this._provider }\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect\r\n\t\t\t.ethereumGetAddress(this.getAddsParams({ from, to }))\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async (params) => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect\r\n\t\t\t.ethereumSignTransaction({\r\n\t\t\t\tpath: this.path,\r\n\t\t\t\ttransaction: txProps\r\n\t\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v)\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(\r\n\t\t\t\ttxProps,\r\n\t\t\t\tsignature\r\n\t\t\t)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async (params) => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect\r\n\t\t\t.ethereumSignMessage({\r\n\t\t\t\tpath: this.path,\r\n\t\t\t\tmessage: message,\r\n\t\t\t\thex: !!opts.hex\r\n\t\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t* NOTE: SignatureTypes.GETH\r\n\t\t\t\t* Current TrezorConnect window does not\r\n\t\t\t\t* accept device with old firmware \r\n\t\t\t\t*/\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = (provider) => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}","// Nodejs encryption with CTR\r\nvar crypto = require('crypto'),\r\n\talgorithm = 'aes-256-ctr',\r\n\tdefault_password = 'kaipahH5' // temp\r\n\r\nexport const encrypt = (text, password = default_password) => {\r\n\tif (!text) return ''\r\n\tvar cipher = crypto.createCipher(algorithm, password)\r\n\tvar crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decrypt = (text, password = default_password) => {\r\n\tif (!text) return ''\r\n\tvar decipher = crypto.createDecipher(algorithm, password)\r\n\tvar dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}","export const loadFromLocalStorage = (key) => {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}","import { ethers, utils } from 'ethers'\r\nimport { encrypt, decrypt } from 'services/crypto/crypto'\r\nimport { loadFromLocalStorage, saveToLocalStorage } from 'helpers/localStorageHelpers'\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path\r\n\t}\r\n}\r\n\r\nfunction encrKey({ email, password }) {\r\n\tconst key = encrypt(email, password)\r\n\treturn key\r\n}\r\n\r\nfunction encrData({ email, password, data }) {\r\n\tconst encr = encrypt(JSON.stringify(data), email + password)\r\n\treturn encr\r\n}\r\n\r\nfunction decrData({ email, password, data }) {\r\n\tconst decr = JSON.parse(decrypt(data, email + password))\r\n\treturn decr\r\n}\r\n\r\nexport function createLocalWallet({ email = '', password = '', mnemonic = '' }) {\r\n\tconst walletData = generateWallet(mnemonic)\r\n\tconst key = encrKey({ email, password })\r\n\tconst data = encrData({ data: walletData, email, password })\r\n\tsaveToLocalStorage({ data }, key)\r\n\r\n\treturn walletData\r\n}\r\n\r\nexport function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '' }) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('Invalid data key')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('Wallet not found')\r\n\t}\r\n\r\n\tconst data = encrData({ data: dataValue, email, password })\r\n\twallet[dataKey] = data\r\n\t\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport function getRecoveryWalletData({email, password}) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet\r\n\t}\r\n}\r\n\r\nexport function getLocalWallet({ email, password }) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('email and password are required')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tconst data = Object.keys(wallet)\r\n\t\t\t.reduce((props, key) => {\r\n\t\t\t\tprops[key] = decrData({\r\n\t\t\t\t\tdata: wallet[key],\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword\r\n\t\t\t\t})\r\n\r\n\t\t\t\treturn props\r\n\t\t\t}, {})\r\n\r\n\t\treturn data\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\r\n\t\tconst walletData = getLocalWallet({\r\n\t\t\temail: opts.email,\r\n\t\t\tpassword: opts.password\r\n\t\t})\r\n\r\n\t\tthis._wallet = new Wallet(\r\n\t\t\twalletData.data.privateKey,\r\n\t\t\tprovider\r\n\t\t)\r\n\t}\r\n\r\n\tget provider() { return this._provider }\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._wallet.address\r\n\t}\r\n\r\n\tsignTx = async (params) => {\r\n\t\tconst signetTx = this._wallet.sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async (params) => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider\r\n\t\t\t.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._wallet\r\n\t\t\t.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: this._wallet.address\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = (provider) => {\r\n\t\treturn new LocalSigner(\r\n\t\t\tprovider,\r\n\t\t\t{\r\n\t\t\t\temail: this.email,\r\n\t\t\t\tpassword: this.password\r\n\t\t\t})\r\n\t}\r\n}","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() { return this._provider }\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async (params) => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer\r\n\t\t\t.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress()\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = (provider) => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function (dispatch) {\r\n\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr\r\n\t\t})\r\n\t}\r\n}","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { translate } from 'services/translations/translations'\r\nimport { execute } from 'actions/common'\r\nimport {\r\n\t// addWeb3Transaction,\r\n\tupdateWeb3Transaction\r\n} from 'actions/transactionActions'\r\nimport { addToast } from 'actions/uiActions'\r\nimport { updateAccount } from 'actions/accountActions'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\n/** \r\n * NOTE: DO NOT CALL WITH CONNECTED SIGNER\r\n * Will fill missing props gasLimit, nonce, chainId, etc..  * \r\n * */\r\nexport async function prepareTx({ tx, provider, sender, gasLimit, gasPrice }) {\r\n\tconst pTx = await utils.populateTransaction(\r\n\t\ttx,\r\n\t\tprovider,\r\n\t\tsender\r\n\t)\r\n\r\n\t// TO work with all signers\r\n\tpTx.gasLimit = gasLimit || pTx.gasLimit.toHexString()\r\n\tpTx.gasPrice = gasPrice || pTx.gasPrice.toHexString()\r\n\tpTx.value = pTx.value || utils.hexlify(0)\r\n\tpTx.nonce = utils.hexlify(pTx.nonce)\r\n\r\n\treturn pTx\r\n}\r\n\r\nexport async function processTx({\r\n\ttx,\r\n\ttxSuccessData,\r\n\tfrom,\r\n\tfromType,\r\n\taccount\r\n}) {\r\n\ttry {\r\n\t\tconst txRes = await tx\r\n\t\t// const txData = {\r\n\t\t// \t// id: txRes.hash,\r\n\t\t// \thash: txRes.hash,\r\n\t\t// \tnonce: txRes.nonce,\r\n\t\t// \t...txSuccessData,\r\n\t\t// \tstatus: 'pending',\r\n\t\t// \tsendingTime: Date.now(),\r\n\t\t// \ttxData: txRes\r\n\t\t// }\r\n\r\n\t\t// execute(\r\n\t\t// \taddWeb3Transaction({ tx: txData, addr: from })\r\n\t\t// )\r\n\t\texecute(\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: 'X',\r\n\t\t\t\tlabel: translate(\r\n\t\t\t\t\t'TRANSACTION_SENT_MSG',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\targs: [txRes.hash]\r\n\t\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\tconst settings = { ...account.settings }\r\n\t\tsettings[fromType] = { ...settings[fromType] } || {}\r\n\t\tsettings[fromType].nextNonce = txRes.nonce + 1\r\n\t\texecute(\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { settings }\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\t// TODO: catch and toast\r\n\t\tconst receipt = await txRes.wait()\r\n\t\texecute(\r\n\t\t\tupdateWeb3Transaction({\r\n\t\t\t\ttx: txRes.hash,\r\n\t\t\t\tkey: 'status',\r\n\t\t\t\tvalue: ((receipt.status === 1) || (receipt.status === '0x1') || (receipt.status === true))\r\n\t\t\t\t\t? 'success'\r\n\t\t\t\t\t: 'failed',\r\n\t\t\t\taddr: from\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t} catch (err) {\r\n\t\tconsole.error(err)\r\n\t\texecute(\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\taction: 'X',\r\n\t\t\t\tlabel: translate(\r\n\t\t\t\t\t'TRANSACTION_ERR_MSG',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\targs: [err]\r\n\t\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.GRANT.name) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'} \r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map((entry) => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\r\n\tconst schema = typedData.map((entry) => { return utils.toUtf8Bytes(entry.type + ' ' + entry.name) })\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\r\n\tconst hash = utils.keccak256(schemaHash, valuesHash)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = (Math.floor(Math.random() * Number.MAX_SAFE_INTEGER))\r\n\t\t.toString()\r\n\tconst typedData = [\r\n\t\t{ type: 'uint', name: 'Auth token', value: authToken }\r\n\t]\r\n\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx =>\r\n\t\tprovider.getTransactionReceipt(tx)\r\n\t)\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer, }) {\r\n\tconst sig = await signer\r\n\t\t.signMessage(new Transaction(tx).hashHex(), { hex: true })\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer, }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = new Requester({ baseUrl: leader.url })\r\n\tconst followerRequester = new Requester({ baseUrl: follower.url })\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower }\r\n\t}\r\n}\r\n\r\nconst processResponse = (res) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res\r\n\t\t.text()\r\n\t\t.then(text => {\r\n\t\t\tthrow new Error(\r\n\t\t\t\ttranslate('SERVICE_ERROR_MSG',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tres.url,\r\n\t\t\t\t\t\t\tres.status,\r\n\t\t\t\t\t\t\tres.statusText,\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}))\r\n\t\t})\r\n}\r\n\r\nconst getAuthToken = async ({ account, validator }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validator.id]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validator.id,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000)\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ account, campaign, options }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getAuthToken({ account, validator: follower.validator })\r\n\tconst leaderAuthToken = await getAuthToken({ account, validator: leader.validator })\r\n\tconst followerResult = await follower.requester.fetch({\r\n\t\t...options,\r\n\t\theaders: { ...options.headers, authorization: BEARER_PREFIX + followerAuthToken }\r\n\t}).then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester.fetch({\r\n\t\t...options,\r\n\t\theaders: { ...options.headers, authorization: BEARER_PREFIX + leaderAuthToken }\r\n\t}).then(processResponse)\r\n\r\n\r\n\treturn {\r\n\t\tauthTokens: {\r\n\t\t\t[follower.validator.id]: followerAuthToken,\r\n\t\t\t[leader.validator.id]: leaderAuthToken,\r\n\t\t},\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester.fetch({\r\n\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ account, campaign }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}\r\n\r\n\treturn sendMessage({ account, campaign, options })\r\n}\r\n\r\nexport const eventsAggregates = ({ agrArgs, campaign }) => {\r\n\tconst { follower } = getRequesters({ campaign })\r\n\r\n\treturn follower.requester.fetch({\r\n\t\troute: `channel/${campaign.id}/events-aggregates/${agrArgs}`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { utils, Contract } from 'ethers'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport { lastApprovedState, eventsAggregates } from 'services/adex-validator/actions'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { Channel, MerkleTree } from 'adex-protocol-eth/js'\r\n\r\nconst { formatEther, formatUnits } = utils\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport async function getAddressBalances({ address, authType }) {\r\n\tconst {\r\n\t\tprovider,\r\n\t\tDai\r\n\t} = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tDai.balanceOf(address.address)\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: balances[0].toString(),\r\n\t\tbalanceDai: balances[1].toString()\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({ account }) {\r\n\tconst { wallet, identity } = account\r\n\tconst {\r\n\t\tprovider,\r\n\t\tDai,\r\n\t\tIdentity\r\n\t} = await getEthers(wallet.authType)\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = new Contract(identity.address, Identity.abi, provider)\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(wallet.address),\r\n\t\tDai.balanceOf(wallet.address),\r\n\t\tDai.balanceOf(identity.address),\r\n\t\tprivilegesAction,\r\n\t\tgetValidatorData({ wallet, identity })\r\n\t]\r\n\r\n\tconst [\r\n\t\twalletBalanceEth,\r\n\t\twalletBalanceDai,\r\n\t\tidentityBalanceDai,\r\n\t\twalletPrivileges,\r\n\t\tvalidatorsData\r\n\t]\r\n\t\t= await Promise.all(calls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => { return {} })\r\n\t\t))\r\n\r\n\tconst { outstandingBalanceDai = 0, aggregates = [] } = validatorsData\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\twalletBalanceEth,\r\n\t\twalletBalanceDai,\r\n\t\tidentityBalanceDai,\r\n\t\twalletPrivileges,\r\n\t\toutstandingBalanceDai,\r\n\t\ttotalIdentityBalanceDai: identityBalanceDai.add(outstandingBalanceDai),\r\n\t\taggregates\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\twalletBalanceEth: formatEther(walletBalanceEth),\r\n\t\twalletBalanceDai: formatUnits(walletBalanceDai, 18),\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceDai: formatUnits(identityBalanceDai, 18),\r\n\t\toutstandingBalanceDai: formatUnits(outstandingBalanceDai, 18),\r\n\t\ttotalIdentityBalanceDai: formatUnits(raw.totalIdentityBalanceDai, 18),\r\n\t\taggregates\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted\r\n\t}\r\n}\r\n\r\nasync function getAllChannels() {\r\n\tconst channels = await getAllCampaigns(true)\r\n\treturn Promise.all(channels.map(async channel => {\r\n\t\tconst { lastApproved } = await lastApprovedState({ campaign: channel })\r\n\r\n\t\tif (lastApproved) {\r\n\t\t\tconst balancesTree = lastApproved.newState.msg.balances\r\n\t\t\tconst allLeafs = Object.keys(balancesTree).map(k => Channel.getBalanceLeaf(k, balancesTree[k]))\r\n\t\t\tconst mTree = new MerkleTree(allLeafs)\r\n\t\t\treturn { lastApproved, mTree, channel }\r\n\t\t} else {\r\n\t\t\treturn { lastApproved: null, mTree: null, channel }\r\n\t\t}\r\n\t}))\r\n}\r\n\r\nasync function getAllChannelsWhereHasBalance(allActive, addr) {\r\n\treturn allActive\r\n\t\t.filter(({ lastApproved }) => lastApproved && !!lastApproved.newState.msg.balances[addr])\r\n\t\t.map(({ channel, lastApproved }) => ({ channel, balance: lastApproved.newState.msg.balances[addr] }))\r\n}\r\n\r\nasync function getOutstandingBalance({ wallet, address, withBalance }) {\r\n\tconst { authType } = wallet\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\r\n\tconst withOutstanding = await Promise.all(withBalance.map(async ({ channel, balance }) => {\r\n\t\tconst outstanding = bigNumberify(balance).sub(await AdExCore.withdrawnPerUser(channel.id, address))\r\n\t\treturn { channel, outstanding }\r\n\t}))\r\n\r\n\tconst totalOutstanding = withOutstanding.reduce((sum, ch) => {\r\n\t\tconst currentSum = sum.add(ch.outstanding)\r\n\t\treturn currentSum\r\n\t}, bigNumberify('0'))\r\n\r\n\treturn totalOutstanding || bigNumberify('0')\r\n}\r\n\r\nasync function getIdentityStatistics({ withBalance, address }) {\r\n\tconst allCalls = withBalance.map(async ({ channel }) => {\r\n\t\tconst agrArgs = `${address}?timeframe=hour`\r\n\t\tconst stats = await eventsAggregates({ agrArgs, campaign: channel })\r\n\t\treturn stats\r\n\t})\r\n\r\n\tconst aggregates = await Promise.all(allCalls.map(ag =>\r\n\t\tag\r\n\t\t\t.then(res => res)\r\n\t\t\t.catch(e => { return {} })\r\n\t))\r\n\treturn aggregates\r\n}\r\n\r\nasync function getAllChannelsForIdentity({ address }) {\r\n\tconst allActive = await getAllChannels()\r\n\tconst withBalance = await getAllChannelsWhereHasBalance(allActive, address)\r\n\r\n\treturn withBalance\r\n}\r\n\r\nasync function getValidatorData({ wallet, identity }) {\r\n\tconst { address } = identity\r\n\tconst withBalance = await getAllChannelsForIdentity({ address })\r\n\tconst outstandingBalanceDai = await getOutstandingBalance({ wallet, address, withBalance })\r\n\tconst aggregates = await getIdentityStatistics({ withBalance, address })\r\n\r\n\treturn {\r\n\t\toutstandingBalanceDai,\r\n\t\taggregates\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport { relayerConfig } from 'services/adex-relayer/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport { getAccountStats } from 'services/smart-contracts/actions/stats'\r\nimport { addToast } from './uiActions'\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function (dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst stats = await getAccountStats({ account })\r\n\r\n\t\t\tupdateAccount({ newValues: { stats } })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({ wallet, identity, email }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('creating-session', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature = getSig({\r\n\t\t\t\taddr: newWallet.address,\r\n\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\tidentity: identity.address\r\n\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession = !!sessionSignature\r\n\t\t\t\t&& (await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature: signature,\r\n\t\t\t\t\tauthToken: authToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: {\r\n\t\t\t\t\temail: email,\r\n\t\t\t\t\twallet: newWallet,\r\n\t\t\t\t\tidentity: identity\r\n\t\t\t\t}\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('creating-session', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function (dispatch) {\r\n\t\tconst cfg = await relayerConfig()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg\r\n\t\t})\r\n\t}\r\n}\r\n","\r\nimport crypto from 'crypto'\r\nimport {\r\n\tChannel,\r\n\t// splitSig,\r\n\t// Transaction\r\n} from 'adex-protocol-eth/js'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner, getMultipleTxSignatures } from 'services/smart-contracts/actions/ethers'\r\nimport { contracts } from '../contractsCfg'\r\nimport { sendOpenChannel } from 'services/adex-relayer/actions'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tformatUnits\r\n} from 'ethers/utils'\r\nimport { Contract } from 'ethers'\r\n\r\nconst { AdExCore, DAI } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst ERC20 = new Interface(DAI.abi)\r\nconst feeAmountApprove = '150000000000000000'\r\nconst feeAmountOpen = '160000000000000000'\r\nconst timeframe = 15000 // 1 event per 15 seconds\r\nconst VALID_UNTIL_COEFFICIENT = 1.5\r\nconst VALID_UNTIL_MIN_PERIOD = 7 * 24 * 60 * 60 * 1000// 7 days in ms\r\n\r\nexport const totalFeesFormatted = formatUnits(\r\n\tbigNumberify(feeAmountApprove)\r\n\t\t.add(bigNumberify(feeAmountOpen))\r\n\t\t.toString(),\r\n\t18)\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(created, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - created\r\n\tconst validUntil = withdrawPeriodStart + Math.max((period * VALID_UNTIL_COEFFICIENT), VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, Dai) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(newCampaign.created, newCampaign.withdrawPeriodStart)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => (new AdUnit(unit)).spec)\r\n\tnewCampaign.depositAmount = parseUnits(newCampaign.depositAmount, DAI.decimals).toString()\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(newCampaign.minPerImpression, DAI.decimals)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = newCampaign.depositAsset || Dai.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{ uids: [newCampaign.creator, newCampaign.validators[0].id, newCampaign.validators[1].id] },\r\n\t\t\t{ uids: null, rateLimit: { type: \"ip\", timeframe } }\r\n\t\t]\r\n\t}\r\n\r\n\tnewCampaign.status = { name: 'Pending', lastChecked: Date.now() }\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nexport async function openChannel({ campaign, account }) {\r\n\tconst { wallet, identity } = account\r\n\tconst {\r\n\t\tprovider,\r\n\t\tAdExCore,\r\n\t\tDai,\r\n\t\tIdentity\r\n\t} = await getEthers(wallet.authType)\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, Dai)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address)\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst identityContract = new Contract(\r\n\t\tidentityAddr,\r\n\t\tIdentity.abi,\r\n\t\tprovider\r\n\t)\r\n\tconst initialNonce = (await identityContract.nonce())\r\n\t\t.toNumber()\r\n\r\n\tconst feeTokenAddr = campaign.temp.feeTokenAddr || Dai.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: feeAmountApprove,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.approve\r\n\t\t\t.encode([AdExCore.address, channel.depositAmount])\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce + 1,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: feeAmountOpen,\r\n\t\tto: AdExCore.address,\r\n\t\tdata: Core.functions.channelOpen\r\n\t\t\t.encode([ethChannel.toSolidityTuple()])\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tchannel,\r\n\t\tidentityAddr: identity.address\r\n\t}\r\n\r\n\tconst result = await sendOpenChannel(data)\r\n\treadyCampaign.id = channel.id\r\n\treturn {\r\n\t\tresult,\r\n\t\treadyCampaign\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { uploadImage, postAdUnit, postAdSlot } from 'services/adex-market/actions'\r\nimport { Base, AdSlot, AdUnit } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\nimport { updateAccount } from './accountActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAdUnits, getAdSlots, getCampaigns } from 'services/adex-market/actions'\r\nimport { openChannel, closeChannel } from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({ dispatch: dispatch, type: type, action: 'X', label: translate(toastStr, { args: args }), timeout: 5000 })(dispatch)\r\n}\r\n\r\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then((resp) => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then((imgBlob) => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({ imageBlob: imgBlob, imageName: 'image.jpeg', authSig: authSig })\r\n\t\t})\r\n}\r\n\r\n// const uploadImages = ({ item, authSig }) => {\r\n// \tlet imgIpfsProm = Promise.resolve()\r\n// \tlet fallbackImgIpfsProm = Promise.resolve()\r\n\r\n// \tif (item._meta.img.tempUrl) {\r\n// \t\timgIpfsProm = getImgsIpfsFromBlob({ tempUrl: item._meta.img.tempUrl, authSig: authSig })\r\n// \t}\r\n\r\n// \tif (item._fallbackAdImg && item._fallbackAdImg.tempUrl) {\r\n// \t\tfallbackImgIpfsProm = getImgsIpfsFromBlob({ tempUrl: item._fallbackAdImg.tempUrl, authSig: authSig })\r\n// \t}\r\n\r\n// \treturn Promise.all([imgIpfsProm, fallbackImgIpfsProm])\r\n// \t\t.then(([imgIpf, fallbackImgIpfs]) => {\r\n// \t\t\tif (imgIpf) {\r\n// \t\t\t\titem._meta.img = { ipfs: imgIpf.ipfs }\r\n// \t\t\t}\r\n\r\n// \t\t\tif (fallbackImgIpfs) {\r\n// \t\t\t\titem._fallbackAdImg = { ipfs: fallbackImgIpfs.ipfs }\r\n// \t\t\t}\r\n\r\n// \t\t\treturn item\r\n// \t\t})\r\n// }\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_ITEM,\r\n\t\t\titem: item\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// register item\r\nexport function addItem(item, itemType, authSig) {\r\n\tconst newItem = { ...item }\r\n\treturn async function (dispatch) {\r\n\r\n\t\ttry {\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit'\r\n\t\t\t})\r\n\r\n\t\t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_CREATING_ITEM', args: ['AdUnit', newItem.title] })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_CREATING_ITEM', args: ['AdUnit', err] })\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function addSlot(item, itemType, authSig) {\r\n\tconst newItem = { ...item }\r\n\treturn async function (dispatch) {\r\n\r\n\t\ttry {\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot'\r\n\t\t\t})\r\n\r\n\t\t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_CREATING_ITEM', args: ['AdSlot', newItem.title] })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_CREATING_ITEM', args: ['AdSlot', err] })\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function (dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\t\t\tconst campaigns = getCampaigns({ authSig })\r\n\r\n\t\t\tconst [resUnits, resSlots, resCampaigns]\r\n\t\t\t\t= await Promise.all([units, slots, campaigns])\r\n\r\n\t\t\tconst campaignsMapped = resCampaigns.map(c => {\r\n\t\t\t\treturn { ...c, ...c.spec }\r\n\t\t\t})\r\n\r\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\r\n\t\t\tupdateItems({ items: campaignsMapped, itemType: 'Campaign' })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [err]\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function openCampaign({ campaign, account }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('opening-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { readyCampaign } = await openChannel({ campaign, account })\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: readyCampaign,\r\n\t\t\t\titemType: 'Campaign'\r\n\t\t\t})\r\n\t\t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'OPENING_CAMPAIGN_SENT_TO_RELAYER', args: [readyCampaign.id] })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_OPENING_CAMPAIGN',\r\n\t\t\t\targs: [err]\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('opening-campaign', false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport function removeItemFromItem({ item, toRemove, authSig } = {}) {\r\n\treturn function (dispatch) {\r\n\t\t// removeItmFromItm({ item: item._id, collection: toRemove._id || toRemove, authSig: authSig })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_REMOVE_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, ItemTypesNames[toRemove._type], toRemove._meta.fullName,] })\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.REMOVE_ITEM_FROM_ITEM,\r\n\t\t// \t\t\titem: item,\r\n\t\t// \t\t\ttoRemove: toRemove,\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_REMOVE_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], ItemTypesNames[toRemove._type], err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\nexport function addItemToItem({ item, toAdd, authSig } = {}) {\r\n\treturn function (dispatch) {\r\n\t\t// addItmToItm({ item: item._id, collection: toAdd._id || toAdd, authSig: authSig })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\t//TODO: use response and UPDATE_ITEM\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_ADD_ITEM_TO_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, ItemTypesNames[toAdd._type], toAdd._meta.fullName,] })\r\n\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.ADD_ITEM_TO_ITEM,\r\n\t\t// \t\t\titem: item,\r\n\t\t// \t\t\ttoAdd: toAdd,\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_ADD_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], ItemTypesNames[toAdd._type], err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, authSig, successMsg, errMsg } = {}) {\r\n\treturn function (dispatch) {\r\n\t\t// uploadImages({ item: { ...item }, authSig: authSig })\r\n\t\t// \t.then((updatedItem) => {\r\n\t\t// \t\treturn updateItm({ item: updatedItem, authSig })\r\n\t\t// \t})\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\tdispatch({\r\n\t\t// \t\t\ttype: types.UPDATE_ITEM,\r\n\t\t// \t\t\titem: res\r\n\t\t// \t\t})\r\n\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: successMsg || 'SUCCESS_UPDATING_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName] })\r\n\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t// \t\t\tspinner: 'update' + res._id,\r\n\t\t// \t\t\tvalue: false\r\n\t\t// \t\t})\r\n\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: errMsg || 'ERR_UPDATING_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_RESTORE_ITEM', errMsg: 'ERR_RESTORING_ITEM' })\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_ARCHIVING_ITEM', errMsg: 'ERR_ARCHIVING_ITEM' })\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_UNARCHIVING_ITEM', errMsg: 'ERR_UNARCHIVING_ITEM' })\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign'\r\n\t\t\t})\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_GETTING_CAMPAIGN_LAST_STATUS', args: [err] })\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function (dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\r\n\t\t\tconst newIdentity = { ...account.identity }\r\n\t\t\tconst newTokens = { ...newIdentity.validatorAuthTokens, authTokens }\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLOSING_CAMPAIGN',\r\n\t\t\t\targs: [err]\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n\r\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif(!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (amountString, decimals = 18, pretty) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tprepareTx,\r\n\tprocessTx,\r\n\tgetMultipleTxSignatures\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tethers,\r\n\tContract,\r\n} from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\t// randomBytes,\r\n\tgetAddress,\r\n\thexlify,\r\n\tInterface,\r\n\tkeccak256\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport {\r\n\t// identityBytecode,\r\n\texecuteTx,\r\n\tsetAddrPriv\r\n} from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { contracts } from '../contractsCfg'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\n// import FactoryABI from 'adex-protocol-eth/abi/IdentityFactory'\r\n// const Factory = new Interface(FactoryABI)\r\n\r\nimport solc from 'solcBrowser'\r\n\r\nconst { DAI } = contracts\r\n\r\nconst {\r\n\tIDENTITY_BASE_ADDR,\r\n\tIDENTITY_FACTORY_ADDR,\r\n} = process.env\r\n\r\nconst GAS_LIMIT_DEPLOY_CONTRACT = 150000\r\nconst feeAmountTransfer = '150000000000000000'\r\nconst feeAmountSetPrivileges = '150000000000000000'\r\nconst ERC20 = new Interface(DAI.abi)\r\n/*\r\nexport async function getIdentityBytecode({ owner, privLevel }) {\r\n\tconst res = await identityBytecode({\r\n\t\towner,\r\n\t\tprivLevel,\r\n\t\tidentityBaseAddr: IDENTITY_BASE_ADDR\r\n\t})\r\n\treturn res.bytecode\r\n}\r\n\r\nexport async function getIdentityDeployData({ owner, privLevel }) {\r\n\tconst bytecode = await getIdentityBytecode({ owner, privLevel })\r\n\tconst salt =\r\n\t\t`0x${Buffer.from(randomBytes(32)).toString('hex')}`\r\n\tconst expectedAddr = getAddress(\r\n\t\t`0x${generateAddress2(IDENTITY_FACTORY_ADDR, salt, bytecode)\r\n\t\t\t.toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\texpectedAddr\r\n\t}\r\n}\r\n*/\r\n\r\nexport async function getIdentityBytecode({ owner, privLevel }) {\r\n\r\n\tconst privileges = [\r\n\t\t[owner, 3]\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tIDENTITY_BASE_ADDR,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\treturn bytecode\r\n}\r\n\r\nexport async function getIdentityDeployData({ owner, privLevel }) {\r\n\tconst bytecode = await getIdentityBytecode({ owner, privLevel })\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst expectedAddr = getAddress(\r\n\t\t`0x${generateAddress2(IDENTITY_FACTORY_ADDR, salt, bytecode)\r\n\t\t\t.toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tIDENTITY_FACTORY_ADDR,\r\n\t\tIDENTITY_BASE_ADDR,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\texpectedAddr\r\n\t}\r\n}\r\n\r\nexport async function deployIdentityContract({\r\n\twallet, bytecode, salt, expectedAddr }) {\r\n\r\n\tconst { provider, IdentityFactory } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst pTx = await prepareTx({\r\n\t\ttx: IdentityFactory.deploy(\r\n\t\t\tbytecode,\r\n\t\t\tsalt\r\n\t\t),\r\n\t\tprovider,\r\n\t\tsender: wallet.address,\r\n\t\tgasLimit: hexlify(GAS_LIMIT_DEPLOY_CONTRACT)\r\n\t})\r\n\r\n\tpTx.gasLimit = hexlify(GAS_LIMIT_DEPLOY_CONTRACT)\r\n\tconst identityFactoryWithSigner = IdentityFactory.connect(signer)\r\n\r\n\tconst tx = identityFactoryWithSigner.deploy(\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tpTx\r\n\t)\r\n\r\n\tprocessTx({\r\n\t\ttx,\r\n\t\ttxSuccessData: {},\r\n\t\tfrom: wallet.address,\r\n\t\taccount: {}\r\n\t})\r\n\r\n\treturn tx\r\n}\r\n\r\nexport function getPrivileges({\r\n\twalletAddr,\r\n\tidentityAddr,\r\n\twalletAuthType\r\n}) {\r\n\treturn getEthers(walletAuthType)\r\n\t\t.then(({ provider, Identity }) => {\r\n\t\t\tconst contract = new ethers\r\n\t\t\t\t.Contract(identityAddr, Identity.abi, provider)\r\n\t\t\treturn contract.privileges(walletAddr)\r\n\t\t})\r\n}\r\n\r\nexport async function sendDaiToIdentity({\r\n\taccount,\r\n\tamountToSend,\r\n\t// gas,\r\n\testimateGasOnly\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst daiWithSigner = Dai.connect(signer)\r\n\tconst tokenAmount = parseUnits(amountToSend, 18).toString()\r\n\r\n\tconst pTx = await prepareTx({\r\n\t\ttx: Dai.transfer(identity.address, tokenAmount),\r\n\t\tprovider,\r\n\t\t// gasLimit,\r\n\t\tsender: wallet.address\r\n\t})\r\n\r\n\tif (estimateGasOnly) {\r\n\t\treturn pTx.gasLimit\r\n\t}\r\n\r\n\tprocessTx({\r\n\t\ttx: daiWithSigner.transfer(identity.address, tokenAmount, pTx),\r\n\t\ttxSuccessData: { txMethod: 'TX_SEND_DAI_TO_IDENTITY' },\r\n\t\tfrom: wallet.address,\r\n\t\tfromType: 'wallet',\r\n\t\taccount\r\n\t})\r\n\r\n\treturn {}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly\r\n}) {\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, 18)\r\n\tconst fees = bigNumberify(feeAmountTransfer).mul(bigNumberify('2'))\r\n\tconst tokenAmount = toWithdraw.sub(fees).toString()\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: formatTokenAmount(fees.toString(), 18),\r\n\t\t\ttoGet: formatTokenAmount(tokenAmount, 18)\r\n\t\t}\r\n\t}\r\n\r\n\tconst { wallet, identity } = account\r\n\tconst {\r\n\t\tprovider,\r\n\t\tDai,\r\n\t\tIdentity } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityContract = new Contract(\r\n\t\tidentityAddr,\r\n\t\tIdentity.abi,\r\n\t\tprovider\r\n\t)\r\n\r\n\tconst initialNonce = (await identityContract.nonce())\r\n\t\t.toNumber()\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountTransfer,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.approve\r\n\t\t\t.encode([identityAddr, tokenAmount])\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce + 1,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountTransfer,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.transfer\r\n\t\t\t.encode([withdrawTo, tokenAmount])\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tidentityAddr: identity.address\r\n\t}\r\n\r\n\tconst result = await executeTx(data)\r\n\r\n\treturn {\r\n\t\tresult\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly\r\n}) {\r\n\tconst fees = bigNumberify(feeAmountSetPrivileges)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: formatTokenAmount(fees.toString(), 18)\r\n\t\t}\r\n\t}\r\n\r\n\tconst { wallet, identity } = account\r\n\tconst {\r\n\t\tprovider,\r\n\t\tDai,\r\n\t\tIdentity } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityContract = new Contract(\r\n\t\tidentityAddr,\r\n\t\tIdentity.abi,\r\n\t\tprovider\r\n\t)\r\n\r\n\tconst identityInterface = new Interface(\r\n\t\tIdentity.abi\r\n\t)\r\n\r\n\tconst initialNonce = (await identityContract.nonce())\r\n\t\t.toNumber()\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountSetPrivileges,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface\r\n\t\t\t.functions\r\n\t\t\t.setAddrPrivilege\r\n\t\t\t.encode([setAddr, privLevel])\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tidentityAddr: identity.address,\r\n\t\tsetAddr,\r\n\t\tprivLevel\r\n\t}\r\n\r\n\tconst result = await setAddrPriv(data)\r\n\r\n\treturn {\r\n\t\tresult\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { grantAccount } from 'services/adex-relayer/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { deployIdentityContract } from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\tregisterFullIdentity,\r\n\tregisterExpectedIdentity,\r\n\tgetOwnerIdentities\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { addDataToWallet } from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function getGrantAccount({ walletAddr, email, password, coupon }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('getting-grant-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await grantAccount({\r\n\t\t\t\townerAddr: walletAddr,\r\n\t\t\t\tmail: email,\r\n\t\t\t\tcouponCode: coupon\r\n\t\t\t})\r\n\r\n\t\t\t// TODO: validate identityData\r\n\r\n\t\t\tif (identityData) {\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityData.address\r\n\t\t\t\t})\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges\r\n\t\t\t\t})\r\n\t\t\t\tupdateIdentity('identityAddr', identityData.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTER_GRANT_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTER_GRANT_IDENTITY',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('getting-grant-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deployFullIdentity({ wallet, email, identityTxData, identityAddr }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('getting-full-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst tx = await deployIdentityContract({\r\n\t\t\t\t...identityTxData,\r\n\t\t\t\twallet\r\n\t\t\t})\r\n\r\n\t\t\tconst regInfo = await registerFullIdentity({\r\n\t\t\t\ttxHash: tx.hash,\r\n\t\t\t\tidentity: identityAddr,\r\n\t\t\t\tprivileges: [wallet.address, 3],\r\n\t\t\t\tmail: email\r\n\t\t\t})\r\n\r\n\t\t\tif (regInfo) {\r\n\t\t\t\tupdateIdentity('isRegistered', true)(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_REGISTER_IDENTITY',\r\n\t\t\t\t\t\t{ args: [tx.hash] }),\r\n\t\t\t\t\ttimeout: 20000\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tconsole.error('ERR_REGISTER_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTER_IDENTITY',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-full-identity', false)(dispatch)\r\n\r\n\t}\r\n}\r\n\r\nexport function getFullIdentityTxData({ owner, privLevel }) {\r\n\treturn async function (dispatch) {\r\n\t\ttry {\r\n\t\t\tconst txData = await getIdentityDeployData({ owner, privLevel })\r\n\t\t\tupdateIdentity('identityAddr', txData.expectedAddr)(dispatch)\r\n\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GET_IDENTITY_TX_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GET_IDENTITY_TX_DATA',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getRegisterExpectedIdentity({ owner, mail }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('getting-expected-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await registerExpectedIdentity({ owner, mail })\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTERING_EXPECTED_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTERING_EXPECTED_IDENTITY',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-expected-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = (ev) => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (!obj || !obj.key || !obj.wallet || !obj.wallet.data || !obj.wallet.identity || !obj.wallet.privileges) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA',\r\n\t\t\t\t\t\t{ args: [err.message] }),\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = (err) => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', { args: [err] }),\r\n\t\t\t\ttimeout: 5000\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = (ev) => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = (ev) => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function (dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION',\r\n\t\t\t\t\t{ args: [result] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('getting-owner-identities', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tupdateIdentity('ownerIdentities', identityData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-owner-identities', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function (dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION',\r\n\t\t\t\t\t{ args: [result] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}","import * as common from './common'\r\nimport * as itemActions from './itemActions'\r\nimport * as uiActions from './uiActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\n\r\nexport default {\r\n\t...common,\r\n\t...itemActions,\r\n\t...uiActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tlet isNewToast = !!nextToast && (toast.id !== nextToast.id)\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\t// this.setState({ active: true, toast: nextToast })\r\n\t\t\tthis.setState({ active: false }, () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.props.actions.removeToast(nextToast.id)\r\n\t\t\t\t\t}, 800)\r\n\t\t\t\t}, 800)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tclose = (id) => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby=\"client-snackbar\"\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id=\"client-snackbar\" className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\t!toast.unclosable &&\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tkey=\"close\"\r\n\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t</IconButton>,]}\r\n\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclasses.snackbar,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || []\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)'\r\n\t\t\t},\r\n\t\t\tmargin: spacing\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00'\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722'\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676'\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all'\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw'\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport default function Translate(Decorated) {\r\n\tclass Translated extends Component {\r\n\r\n\t\tt(val, { isProp = false, args = [''] } = {}) {\r\n\r\n\t\t\tconst translation = translate(val, { isProp, args }, this.props.language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated {...this.props} t={this.t.bind(this)} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTranslated.propTypes = {\r\n\t\tlanguage: PropTypes.string.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tconst { persist } = state\r\n\t\treturn {\r\n\t\t\tlanguage: persist.language\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tnull\r\n\t)(Translated)\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Button from '@material-ui/core/Button'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport class Confirm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.cancel = this.cancel.bind(this)\r\n\t\tthis.confirm = this.confirm.bind(this)\r\n\t\tthis.state = {\r\n\t\t\tactive: false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tthis.setState({ active: nextProps.visible })\r\n\t}\r\n\r\n\tconfirm() {\r\n\t\tif (typeof this.props.confirm === 'function') {\r\n\t\t\tthis.props.confirm()\r\n\t\t}\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\tcancel() {\r\n\t\tif (typeof this.props.cancel === 'function') {\r\n\t\t\tthis.props.cancel()\r\n\t\t}\r\n\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{this.props.title}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t{this.props.text}\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.cancel} color=\"primary\">\r\n\t\t\t\t\t\t{this.props.cancelLabel || this.props.t('CANCEL')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={this.confirm} color=\"primary\" autoFocus>\r\n\t\t\t\t\t\t{this.props.confirmLabel || this.props.t('OK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nConfirm.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tcancelLabel: PropTypes.string,\r\n\tconfirmLabel: PropTypes.string,\r\n\ttitle: PropTypes.string.isRequired,\r\n\ttext: PropTypes.string,\r\n\tconfirm: PropTypes.func,\r\n\tcancel: PropTypes.func,\r\n\tvisible: PropTypes.bool,\r\n\tcalledOn: PropTypes.number\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n\tstate = state.memory\r\n\treturn {\r\n\t\tcancelLabel: state.confirm.data.cancelLabel,\r\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\r\n\t\ttitle: state.confirm.data.title || '',\r\n\t\ttext: state.confirm.data.text || '',\r\n\t\tconfirm: state.confirm.onConfirm,\r\n\t\tcancel: state.confirm.onCancel,\r\n\t\tvisible: state.confirm.active || false,\r\n\t\tcalledOn: state.confirm.calledOn\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Confirm))\r\n","import React from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\r\n\tclass Decorated extends React.Component {\r\n\r\n    resolveToLocation = to => {\r\n    \treturn typeof to === 'object' ? to['pathname'] : to\r\n    }\r\n\r\n    handleClick = event => {\r\n    \tevent.preventDefault()\r\n    \tconst { to } = this.props\r\n\r\n    \tthis.props.history.push(to)\r\n    }\r\n\r\n    // TODO: check if it works without infinite loops\r\n    // shouldComponentUpdate(nextProps, nextState) {\r\n    //   // const { to } = this.props;\r\n    //   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n    // }\r\n\r\n    render() {\r\n    \tconst { to, match, location, history, staticContext, ...rest } = this.props\r\n    \tconst toLocation = this.resolveToLocation(to)\r\n    \treturn (\r\n    \t\t<Component\r\n    \t\t\t{...rest}\r\n\r\n    \t\t\thref={toLocation}\r\n    \t\t\tonClick={this.handleClick}\r\n    \t\t/>\r\n    \t)\r\n    }\r\n\t}\r\n\r\n\treturn withRouter(Decorated)\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon\r\n\t\t\tviewBox={viewBox}\r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g >\r\n\t\t<path d=\"M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z\" />\r\n\t\t<path d=\"M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z\" />\r\n\t</g>\r\n\r\n\t, 'Campaign', '0 0 26.12 17.37')","import React from 'react'\r\n\r\nconst getUrl = (url) => {\r\n\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({ href, target, children, label, ...rest }) => {\r\n\tlet url = target && target === '_blank' ? getUrl(href) : href\r\n\treturn (\r\n\t\t<a\r\n\t\t\tdraggable='false'\r\n\t\t\trel='noopener noreferrer'\r\n\t\t\t{...rest}\r\n\t\t\ttarget={target}\r\n\t\t\thref={url}\r\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\r\n\t\t>\r\n\t\t\t{children || label}\r\n\t\t</a>\r\n\t)\r\n}\r\n\r\nexport default Anchor","const drawerWidth = 250\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#eee',\r\n\t\t\tcolor: '#000'\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingTop: theme.spacing(0.5),\r\n\t\t\tpaddingBottom: theme.spacing(0.5),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: 100,\r\n\t\t\t\tpaddingTop: theme.spacing(1.5),\r\n\t\t\t\tpaddingBottom: theme.spacing(1.5),\r\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end'\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start'\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\t...theme.mixins.toolbar\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff'\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t\tpaddingTop: theme.spacing(5),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1600,\r\n\t\t\tmargin: 'auto'\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 36,\r\n\t\t\twidth: 'auto',\r\n\t\t\t// marginRight: 10,\r\n\t\t\t// paddingLeft: theme.spacing(1.5),\r\n\t\t\t// [theme.breakpoints.down('xs')]: {\r\n\t\t\t//     display: 'none',\r\n\t\t\t// },\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper\r\n\t\t},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid'\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 80,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\tsideNavToolbar: {\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\t\t}\r\n\t\t},\r\n\t\tnewItemBtn: {\r\n\t\t\twidth: '200px' // TODO\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary\r\n\t\t\t}\r\n\t\t},\r\n\t\tbar: {\r\n\t\t\topacity: 0.5\r\n\t\t},\r\n\t\tactionCount: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst RRSwitch = withReactRouterLink((props) =>\r\n\t<ListItem>\r\n\t\t<ListItemText primary={props.label} />\r\n\t\t<ListItemSecondaryAction>\r\n\t\t\t<Anchor {...props}>\r\n\t\t\t\t<Switch {...props} />\r\n\t\t\t</Anchor>\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n)\r\n\r\nconst sideSwitch = ({ side, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* Keep both if there is no valid side and force react to rerender at the same time */}\r\n\t\t\t{side !== 'advertiser' &&\r\n                <RRSwitch\r\n                \tcolor='default'\r\n                \tchecked={true}\r\n                \tvalue='account'\r\n                \tto={{ pathname: '/dashboard/advertiser' }}\r\n                \tlabel={t('PUBLISHER')}\r\n                \tclasses={{\r\n                \t\tbar: classes.bar\r\n                \t}}\r\n                />}\r\n\t\t\t{side !== 'publisher' &&\r\n                <RRSwitch\r\n                \tcolor='default'\r\n                \tchecked={false}\r\n                \tto={{ pathname: '/dashboard/publisher' }}\r\n                \tlabel={t('ADVERTISER')}\r\n                \tclasses={{\r\n                \t\tbar: classes.bar\r\n                \t}}\r\n                />}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const SideSwitch = withStyles(styles)(sideSwitch)","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g >\r\n\t\t<path fill=\"rgb(60, 60, 59)\"\r\n\t\t\td=\"M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z\" />\r\n\t\t<path fill=\"rgb(27, 117, 188)\"\r\n\t\t\td=\"M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z\" />\r\n\t\t<path fill=\"rgb(60, 60, 59)\"\r\n\t\t\td=\"M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z\" />\r\n\t</g>\r\n\t, 'AdexIcon', '0 0 185 72')","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { SideSwitch } from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\n// import Badge from '@material-ui/core/Badge'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nclass SideNav extends Component {\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tlet langChanged = this.props.language !== nextProps.language\r\n\t\tlet sideChanged = this.props.side !== nextProps.side\r\n\t\tlet locationChanged = this.props.location.pathname !== nextProps.location.pathname\r\n\t\tlet transactionsChanged = (this.props.transactions.pendingTxs || []).length !== (nextProps.transactions.pendingTxs || []).length\r\n\t\tlet bidsAwaitingActionChanged = this.bidsAwaitingActionCount !== nextProps.bidsAwaitingActionCount\r\n\t\treturn langChanged || sideChanged || locationChanged || transactionsChanged || bidsAwaitingActionChanged\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tside,\r\n\t\t\tidentity,\r\n\t\t\tt,\r\n\t\t\t// transactions,\r\n\t\t\tclasses\r\n\t\t} = this.props\r\n\t\tif (side !== 'advertiser' && side !== 'publisher') {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\t// TODO: test location\r\n\t\tconst location = this.props.location.pathname.split('/')[3]\r\n\t\tconst isAdvertiser = side === 'advertiser'\r\n\t\tconst items = (isAdvertiser ? 'units' : 'slots')\r\n\t\tconst itemsIcon = (isAdvertiser ? 'format_list_bulleted' : 'format_list_bulleted')\r\n\t\t// const pendingTrsCount = (transactions.pendingTxs || []).length\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classes.navigation}\r\n\t\t\t>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\t\troot: classes.navListRoot\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={classes.navList}\r\n\t\t\t\t\tcomponent='nav'\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.toolbar, classes.sideNavToolbar)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<AdexIconTxt\r\n\t\t\t\t\t\t\t\t\tclassName={classes.icon}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<SideSwitch\r\n\t\t\t\t\t\t\t\tside={side}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{side === 'advertiser' &&\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === 'campaigns' })}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<Icon>{itemsIcon}</Icon>\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t{/* <RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/transactions' }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === 'transactions' })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{pendingTrsCount > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\t\t\tbadgeContent={pendingTrsCount <= 9 ? pendingTrsCount : '9+'}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.actionCount)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Badge> : <SwapHorizontalIcon />}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n                        </RRListItem> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Anchor target='_blank' href='https://medium.com/adex-network-tips-and-tricks' >\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === 'account' })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classes.version}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t\t<small> &copy; {(new Date()).getFullYear()}  &nbsp;\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdEx Network OÜ\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSideNav.propTypes = {\r\n\tactions: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist, /*memory*/ } = state\r\n\r\n\treturn {\r\n\t\t// account: persist.account,\r\n\t\ttransactions: persist.web3Transactions[persist.account._addr] || {},\r\n\t\tidentity: persist.account.identity.address\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SideNav)))","import React, { Component } from 'react'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img src={src} height={36} width='auto' alt='logo' style={{ marginRight: 5 }} />\r\n\t)\r\n}\r\n\r\nclass ButtonMenu extends Component {\r\n  state = {\r\n  \tactive: false,\r\n  \tanchorEl: null,\r\n  }\r\n\r\n  handleButtonClick = () => this.setState({ active: !this.state.active, anchorEl: null })\r\n  handleMenuHide = () => this.setState({ active: false })\r\n\r\n  handleMenu = event => {\r\n  \tthis.setState({ anchorEl: event.currentTarget });\r\n  }\r\n\r\n  handleClose = () => {\r\n  \tthis.setState({ anchorEl: null });\r\n  }\r\n\r\n  render() {\r\n  \tconst { btnStyle, label, iconStyle, icon } = this.props\r\n  \tconst { anchorEl } = this.state\r\n  \tconst open = Boolean(anchorEl)\r\n  \tlet leftIcon = this.props.leftIconSrc ? <ImgIcon src={this.props.leftIconSrc} /> : null\r\n\r\n  \treturn (\r\n  \t\t<div\r\n  \t\t\t// style={{ display: 'inline-block' }}\r\n  \t\t>\r\n  \t\t\t<Button\r\n  \t\t\t\tstyle={btnStyle}\r\n  \t\t\t\tonClick={this.handleMenu}\r\n  \t\t\t\taria-owns='menu-appbar'// {open ? 'menu-appbar' : null}\r\n  \t\t\t\taria-haspopup='true'\r\n  \t\t\t>\r\n  \t\t\t\t{leftIcon}\r\n  \t\t\t\t<span\r\n  \t\t\t\t\tstyle={{ maxWidth: 150, overflow: 'hidden', textOverflow: 'ellipsis' }}\r\n  \t\t\t\t>\r\n  \t\t\t\t\t{label}\r\n  \t\t\t\t</span>\r\n  \t\t\t\t<Icon style={iconStyle} >{icon}</Icon>\r\n  \t\t\t</Button>\r\n  \t\t\t<Menu\r\n  \t\t\t\tid=\"menu-appbar\"\r\n  \t\t\t\topen={open}\r\n  \t\t\t\tanchorEl={anchorEl}\r\n  \t\t\t\t// anchorOrigin={{\r\n  \t\t\t\t//   vertical: 'top',\r\n  \t\t\t\t//   horizontal: 'right',\r\n  \t\t\t\t// }}\r\n  \t\t\t\t// transformOrigin={{\r\n  \t\t\t\t//   vertical: 'top',\r\n  \t\t\t\t//   horizontal: 'right',\r\n  \t\t\t\t// }}\r\n  \t\t\t\tonClick={this.handleButtonClick }\r\n  \t\t\t\tonClose={this.handleClose}\r\n  \t\t\t>\r\n  \t\t\t\t{this.props.children}\r\n  \t\t\t</Menu>\r\n  \t\t</div>\r\n  \t)\r\n  }\r\n}\r\n\r\nexport default withStyles()(ButtonMenu)\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = (authType) => {\r\n\tswitch (authType) {\r\n\tcase AUTH_TYPES.METAMASK.name:\r\n\t\treturn metamaskLogo\r\n\tcase AUTH_TYPES.TREZOR.name:\r\n\t\treturn trezorLogo\r\n\tcase AUTH_TYPES.LEDGER.name:\r\n\t\treturn ledgerLogo\r\n\tcase AUTH_TYPES.DEMO.name:\r\n\t\treturn demoLogo\r\n\tdefault:\r\n\t\treturn ''\r\n\t}\r\n\r\n} ","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport classnames from 'classnames'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Icon from '@material-ui/core/Icon'\r\n\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\n\r\nclass TopNav extends Component {\r\n\r\n  state = {\r\n  \tauth: true\r\n  }\r\n\r\n  render() {\r\n  \tconst { t, handleDrawerToggle, account, side, navTitle, classes } = this.props\r\n  \tlet imgSrc = getAuthLogo(account.wallet.authType)\r\n\r\n  \tconst btnMenueLabel = account.wallet.authType === 'demo' ? t('DEMO_MODE') : (account.email || account.wallet.address || t('NOT_LOGGED'))\r\n\r\n  \treturn (\r\n  \t\t<AppBar\r\n  \t\t\tclassName={classes.appBar}\r\n  \t\t\tposition=\"sticky\"\r\n  \t\t>\r\n  \t\t\t<Toolbar\r\n  \t\t\t\tclassName={classes.toolbar}\r\n  \t\t\t>\r\n  \t\t\t\t<div\r\n  \t\t\t\t\tclassName={classes.flexRow}\r\n  \t\t\t\t>\r\n\r\n  \t\t\t\t\t<IconButton\r\n  \t\t\t\t\t\tcolor=\"inherit\"\r\n  \t\t\t\t\t\taria-label=\"open drawer\"\r\n  \t\t\t\t\t\tonClick={handleDrawerToggle}\r\n  \t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n  \t\t\t\t\t>\r\n  \t\t\t\t\t\t<Icon>menu</Icon>\r\n  \t\t\t\t\t</IconButton>\r\n\r\n  \t\t\t\t\t{/* <AdexIconTxt\r\n              className={classes.icon}\r\n            /> */}\r\n  \t\t\t\t\t<div\r\n  \t\t\t\t\t\tclassName={classnames(classes.flex, classes.toolbarControls)}\r\n  \t\t\t\t\t>\r\n  \t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n  \t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n  \t\t\t\t\t\t{/* <ChangeLang /> */}\r\n  \t\t\t\t\t\t<ButtonMenu\r\n  \t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n  \t\t\t\t\t\t\ticon={<ExpandMoreIcon />}\r\n  \t\t\t\t\t\t\tlabel={btnMenueLabel}\r\n  \t\t\t\t\t\t\tactive={true}\r\n  \t\t\t\t\t\t\ticonStyle={{ marginTop: -2, marginLeft: 10, fontSize: 20 }}\r\n  \t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t<RRMenuItem\r\n  \t\t\t\t\t\t\t\tvalue='account'\r\n  \t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n  \t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n  \t\t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t\t<ListItemIcon >\r\n  \t\t\t\t\t\t\t\t\t<Icon>account_box</Icon>\r\n  \t\t\t\t\t\t\t\t</ListItemIcon>\r\n  \t\t\t\t\t\t\t\t<ListItemText\r\n  \t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}  \t\t\t\t\t\t\t\t\t\r\n  \t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n  \t\t\t\t\t\t\t\t/>\r\n  \t\t\t\t\t\t\t</RRMenuItem>\r\n  \t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n  \t\t\t\t\t\t\t<MenuItem\r\n  \t\t\t\t\t\t\t\tvalue='logout'\r\n  \t\t\t\t\t\t\t\tonClick={() => { logOut() }}\r\n  \t\t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t\t<ListItemIcon >\r\n  \t\t\t\t\t\t\t\t\t<Icon>exit_to_app</Icon>\r\n  \t\t\t\t\t\t\t\t</ListItemIcon>\r\n  \t\t\t\t\t\t\t\t<ListItemText classes={{ primary: classes.primary }} primary={t('LOGOUT')} />\r\n  \t\t\t\t\t\t\t</MenuItem>\r\n  \t\t\t\t\t\t</ButtonMenu>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n  \t\t\t\t<div\r\n  \t\t\t\t\tclassName={classes.flexRow}\r\n  \t\t\t\t>\r\n  \t\t\t\t\t<div\r\n  \t\t\t\t\t\tclassName={classnames(classes.flex, classes.toolbarTitle)}\r\n  \t\t\t\t\t>\r\n  \t\t\t\t\t\t<Typography\r\n  \t\t\t\t\t\t\tvariant=\"title\"\r\n  \t\t\t\t\t\t\tcolor=\"inherit\"\r\n  \t\t\t\t\t\t\tclassName={classes.flex}\r\n  \t\t\t\t\t\t\tnoWrap\r\n  \t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t{t(navTitle)}\r\n  \t\t\t\t\t\t</Typography>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n  \t\t\t</Toolbar>\r\n  \t\t</AppBar>\r\n  \t)\r\n  }\r\n}\r\n\r\nTopNav.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tnavTitle: memory.nav.navTitle || ''\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(TopNav)))\r\n\r\n","export const isVideoMedia = (mime = '') =>\r\n\tmime.split('/')[0] === 'video'","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 3000\r\nclass Img extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = (src) => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = () => {\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE\r\n\t\t\t})\r\n\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = (nextProps) => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo =  this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE\r\n\t\t\t\t})\r\n\t\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = (fallback) => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(this, fallback)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tmini\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => { this.handleToggle() }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ?\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={(event) => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: <video src={videoSrc} controls>\r\n\t\t\t\t\t\t</video>\r\n\t\t\t\t\t}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { alt, allowFullscreen, className, classes, fullScreenOnClick } = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn (\r\n\t\t\timgSrc || videoSrc ?\r\n\t\t\t\t<div className={classnames(classes.imgParent, className, classes.wrapper)}>\r\n\t\t\t\t\t{!!imgSrc ?\r\n\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\t\tonDragStart={(event) => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t\tonClick={fullScreenOnClick && (() => { console.log('click'); this.handleToggle() })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: <video src={videoSrc} controls>\r\n\t\t\t\t\t\t</video>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t\t</div>\r\n\t\t\t\t:\r\n\t\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={classes.circular}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block'\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block'\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block'\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer'\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t}\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0\r\n\t\t}\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw'\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto'\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content'\t\r\n\t}\r\n})","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport CropIcon from '@material-ui/icons/Crop'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass ImgForm extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size } = props\r\n\t\tconst aspect = size\r\n\t\t\t? (size.width / size.height)\r\n\t\t\t: undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: props.imgSrc || '',\r\n\t\t\tmime: '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect }\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = (e) => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = (crop) => {\r\n\t\tthis.setState({ crop });\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize\r\n\t\t})\r\n\t\t\t.then((croppedBlob) => {\r\n\t\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\t\tonChange({\r\n\t\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\t\tmime\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = (e) => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ?\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size &&\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e);\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&nbsp;\r\n  \t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg)  </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\tlabel,\r\n\t\t\tadditionalInfo\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\tcrop,\r\n\t\t\tcropMode,\r\n\t\t\timgName,\r\n\t\t\timgSrc,\r\n\t\t\tmime\r\n\t\t} = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classes.imgForm}\r\n\t\t\t>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.header\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\r\n\t\t\t\t\t\t{imgSrc && imgName ?\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Toolbar>\r\n\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t{cropMode ?\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t\tonClick={this.preventBubbling}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classes.droppedImgContainer}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '70%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\theight: 'auto'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button >\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\tclassName={classes.dropzone} >\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classes.droppedImgContainer}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{videoSrc ?\r\n\t\t\t\t\t\t\t\t\t<video controls src={imgSrc}  type='video/mp4'>\r\n\t\t\t\t\t\t\t\t\t</video>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tmarginBottom: spacing\r\n\t\t},\r\n\t\tdropzone: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\tdroppedImgContainer: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t\talignSelf: 'stretch',\r\n\t\t\tflex: '1 1',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: ' space-around',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'@media(max-width:768px)': {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t}\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\t'@media(max-width:500px)': {\r\n\t\t\t\t// TODO: Find out why it breaks this limit after a new pic is uploaded\r\n\t\t\t\twidth: '100%'\r\n\t\t\t}\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing\r\n\t\t},\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\n// Allow higher res images with same aspect ratio\r\nfunction checkExactish(widthTarget, width, heightTarget, height) {\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget).toFixed(2)\r\n\tconst aspect = parseFloat(width / height).toFixed(2)\r\n\r\n\tconst isValid = (widthTarget <= width) &&\r\n\t\t(heightTarget <= height) &&\r\n\t\t(targetAspect === aspect)\r\n\r\n\treturn isValid\r\n}\r\n\r\nexport default function ValidImageHoc(Decorated) {\r\n\r\n\tclass ValidImage extends Component {\r\n\r\n\t\tvalidate = ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaHeight,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmime,\r\n\t\t\ttempUrl\r\n\t\t}) => {\r\n\t\t\tlet isValid = true\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactish(widthTarget, mediaWidth, heightTarget, mediaHeight)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\r\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\r\n\r\n\t\t\tthis.props.validate(propsName, { isValid: isValid, err: { msg: msg, args: masgArgs }, dirty: true })\r\n\r\n\t\t\tconst resMedia = {\r\n\t\t\t\twidth: mediaWidth,\r\n\t\t\t\theight: mediaHeight,\r\n\t\t\t\tmime,\r\n\t\t\t\ttempUrl\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof onChange === 'function') {\r\n\t\t\t\tonChange(propsName, resMedia)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tgetVideoSize = (src) =>\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tconst video = document.createElement('video')\r\n\t\t\t\tvideo.src = src.tempUrl\r\n\r\n\t\t\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\t\t\treturn resolve({\r\n\t\t\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\t\t\theight: target.videoHeight\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tgetImageSize = (src) =>\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tconst image = new Image()\r\n\t\t\t\timage.src = src.tempUrl\r\n\r\n\t\t\t\timage.onload = function () {\r\n\t\t\t\t\treturn resolve({\r\n\t\t\t\t\t\twidth: this.width,\r\n\t\t\t\t\t\theight: this.height\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tvalidateMedia = async ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange\r\n\t\t} = {}, media) => {\r\n\r\n\t\t\tif (!required && !media.tempUrl && onChange) {\r\n\t\t\t\tthis.props.validate(propsName, { isValid: true, err: { msg: msg, args: [] }, dirty: true })\r\n\t\t\t\t// TODO: fix this\r\n\t\t\t\tonChange(propsName, media)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst getSize = isVideoMedia(media.mime)\r\n\t\t\t\t? () => this.getVideoSize(media)\r\n\t\t\t\t: () => this.getImageSize(media)\r\n\r\n\t\t\tconst size = await getSize()\r\n\r\n\t\t\tthis.validate({\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmediaWidth: size.width,\r\n\t\t\t\tmediaHeight: size.height,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t\tmime: media.mime,\r\n\t\t\t\ttempUrl: media.tempUrl\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated {...props} validateMedia={this.validateMedia} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidImage.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId]\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidImage))\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {}\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey, {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr = { msg: '', args: [] },\r\n\t\t\t\tdirty = false,\r\n\t\t\t\tremoveAll = false\r\n\t\t\t}) => {\r\n\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated {...props} validate={this.validate} invalidFields={this.state.invalidFields} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId]\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(3)\r\n\treturn {\r\n\t}\r\n}","\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport class ImgDialog extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tvalues: {}\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newValues = { ...this.state.values }\r\n\t\tnewValues[name] = value\r\n\t\tthis.setState({ values: newValues })\r\n\t}\r\n\r\n\tonOk = () => {\r\n\t\tconst vals = this.state.values\r\n\t\tObject.keys(vals).forEach((key) => {\r\n\t\t\tthis.props.onChangeReady(key, vals[key])\r\n\t\t})\r\n\t\tthis.props.handleToggle()\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet t = () => { }\r\n\t\tlet validations = this.props.invalidFields || {}\r\n\t\tlet errImg = validations[this.props.imgPropName]\r\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\r\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.props.active}\r\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\r\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\r\n\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\ttype={this.props.type || 'normal'}\r\n\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tonClick={this.props.handleToggle}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t{this.props.t(this.props.title)}\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent >\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\r\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\r\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(\r\n\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\r\n\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\r\n\t\t\t\t\t\t\t\t\texact: this.props.exact,\r\n\t\t\t\t\t\t\t\t\trequired: this.props.required,\r\n\t\t\t\t\t\t\t\t\tonChange: this.handleChange\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.props.handleToggle}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{'Cancel'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.onOk}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tdisabled={!!(this.props.invalidFields || {})[this.props.imgPropName]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{'Ok'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgDialog.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n\tlet persist = state.persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnames'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\r\nclass SaveBtn extends Component {\r\n\r\n\trender() {\r\n\t\tlet { spinner, classes, success, dirtyProps, save, validations, validationId } = this.props\r\n\t\treturn (\r\n\r\n\t\t\t<div className={classes.position}>\r\n\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t<Fab\r\n\t\t\t\t\t\tvariant='fab'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t// className={buttonClassname}\r\n\t\t\t\t\t\tonClick={() => save()}\r\n\t\t\t\t\t\tdisabled={spinner || !dirtyProps.length || !!Object.keys(validations[validationId] || {}).length}\r\n\t\t\t\t\t// {...other}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t{!!spinner && <CircularProgress size={68} className={classes.fabProgress} />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n\tspinnerId: PropTypes.string,\r\n\tvalidationId: PropTypes.string,\r\n\titemId: PropTypes.string,\r\n\tvalidations: PropTypes.object\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\tspinner: memory.spinners[props.spinnerId],\r\n\t\tvalidations: memory.validations\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SaveBtn)))\r\n","import color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: 40,\r\n\t\tzIndex: theme.zIndex.appBar\r\n\t}\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: '100%'\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing\r\n\t\t},\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%'\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing\r\n\t\t}\r\n\t}\r\n}","import { utils } from 'ethers'\r\n\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\nconst couponRegex = /^[a-fA-F0-9]{8}$/\r\n\r\n/*eslint-enable */\r\n\r\n\r\nexport const validUrl = (url) => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validEmail = (email) => {\r\n\temail = email || ''\r\n\tconst isValid = emailRegex.test(email)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = (numberStr) => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid = !isNaN(parseFloat(numberStr)) && isFinite(numberStr) && (numberStr > 0)\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = (intStr) => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = (name) => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs\r\n\t}\r\n}\r\n\r\nexport const validPassword = (password) => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const validQuickAccountCoupon = (coupon) => {\r\n\tcoupon = coupon || ''\r\n\tconst isValid = couponRegex.test(coupon)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404 from 'resources/404.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass PageNotFound extends React.Component {\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classes.wrapper}\r\n\t\t\t>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\tjustify='center'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\tvariant='h3'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(title || '404_TEXT')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle &&\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\tvariant='h1'\r\n\t\t\t\t\t\t\tstyle={{ textTransform: 'uppercase' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('404')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\tsrc={IMG_404}\r\n\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{!skipGoToButton && <RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto'\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\r\n// import { Models } from 'adex-models'\r\nimport classnames from 'classnames'\r\nimport { Prompt } from 'react-router'\r\nimport Translate from 'components/translate/Translate'\r\nimport { items as ItemsConstants } from 'adex-constants'\r\nimport Img from 'components/common/img/Img'\r\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InfoOutlineIcon from '@material-ui/icons/Info'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { styles } from './styles'\r\nimport { validName } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\n\r\nconst { AdSizesByValue } = ItemsConstants\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass Item extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.save = this.save.bind(this)\r\n\t\t\tthis.state = {\r\n\t\t\t\tactiveFields: {},\r\n\t\t\t\titem: null,\r\n\t\t\t\tinitialItemState: {},\r\n\t\t\t\tdirtyProps: [],\r\n\t\t\t\teditImg: false,\r\n\t\t\t\t_activeInput: null\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateNav = (item = {}) => {\r\n\t\t\tconst { actions, t, itemType } = this.props\r\n\t\t\tactions.updateNav('navTitle', t(itemType, { isProp: true }) + ' > ' + item.title || '')\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tconst { item, matchId, objModel } = this.props\r\n\r\n\t\t\tif (!item) {\r\n\t\t\t\tthis.updateNav({ title: matchId })\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst initialItemState = new objModel(item)\r\n\r\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\r\n\t\t\tthis.updateNav(initialItemState)\r\n\t\t}\r\n\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t\t//     return diffProps || diffState\r\n\t\t// }\r\n\r\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item } = this.state\r\n\t\t\tlet currentItemInst = new objModel(item || {})\r\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\r\n\t\t\t// TODO: check the above\r\n\t\t\tlet nextItem = nextProps.item\r\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\r\n\r\n\t\t\t// if (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\r\n\t\t\tif (JSON.stringify(currentItemInst.plainObj()) !== JSON.stringify(nexItemInst.plainObj())) {\r\n\t\t\t\tthis.setState({ item: nexItemInst.plainObj(), initialItemState: nexItemInst, activeFields: {}, dirtyProps: [] })\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateNav(nexItemInst)\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tif (this.state.item) {\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[name] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (dp.indexOf(name) < 0) {\r\n\t\t\t\tdp.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t}\r\n\r\n\t\treturnPropToInitialState = (propName) => {\r\n\t\t\tconst { objModel, actions } = this.props\r\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\r\n\t\t\tconst initialItemStateValue = initialItemState[propName]\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemStateValue\r\n\r\n\t\t\tconst dp = dirtyProps.filter((dp) => { return dp !== propName })\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t\t// TEMP fix, we assume that the initial values are validated\r\n\t\t\tactions.resetValidationErrors(item.id, propName)\r\n\t\t}\r\n\r\n\t\tsetActiveFields = (field, value) => {\r\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\r\n\t\t\tnewActiveFields[field] = value\r\n\t\t\tthis.setState({ activeFields: newActiveFields })\r\n\t\t}\r\n\r\n\t\t//TODO: Do not save if not dirty!\r\n\t\tsave = () => {\r\n\r\n\t\t\tif (this.state.dirtyProps.length && !this.props.spinner) {\r\n\t\t\t\tlet item = { ...this.state.item }\r\n\t\t\t\tthis.props.actions.updateItem({\r\n\t\t\t\t\titem: item,\r\n\t\t\t\t\tauthSig: this.props.account.wallet.authSig\r\n\t\t\t\t})\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + item.id, true)\r\n\t\t\t\tthis.setState({ dirtyProps: [] })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisDirtyProp(prop) {\r\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\r\n\r\n\t\t\tif (isDemo) return\r\n\r\n\t\t\tlet active = this.state.editImg\r\n\t\t\tthis.setState({ editImg: !active })\r\n\t\t}\r\n\r\n\t\tisNameValid(name) {\r\n\t\t\tconst { msg } = validName(name)\r\n\t\t\treturn !msg\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { validations, classes, t, account, itemType, objModel, matchId, side, ...rest } = this.props\r\n\t\t\tconst propsItem = this.props.item\r\n\r\n\t\t\tif (!propsItem) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PageNotFound\r\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', { args: [itemType, matchId] })}\r\n\t\t\t\t\t\tskipGoToButton\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n        \t/*\r\n                * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\r\n                * in this case there is no need to make instance inside them\r\n            */\r\n\r\n\t\t\tconst isDemo = account._authType === 'demo'\r\n\t\t\tconst item = new objModel(this.state.item || {})\r\n\t\t\tlet canEdit = itemType === 'AdSlot'\r\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\r\n\r\n\t\t\tconst titleErr = validName(item.title)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Prompt\r\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{(itemType !== 'Campaign') &&\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div >\r\n\t\t\t\t\t\t\t\t<ImgDialog\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\r\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\r\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\twidth={this.props.updateImgWidth || (AdSizesByValue[item.size] || {}).width}\r\n\t\t\t\t\t\t\t\t\theight={this.props.updateImgHeight || (AdSizesByValue[item.size] || {}).height}\r\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\r\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\r\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\r\n\t\t\t\t\t\t\t\t\timgPropName='img'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{!!this.state.dirtyProps.length &&\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.changesLine}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\r\n\t\t\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\r\n                            \t</span>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dirtyProps.map((p) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2} >\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!titleErr.msg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >{t('title', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={(ev) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitleErr && !!titleErr.msg ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitleErr.msg : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(ev) => this.setActiveFields('title', true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(titleErr && !!titleErr.msg) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(titleErr.msg, { args: titleErr.errMsgArgs })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText >\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"adornment-password\">{t('description', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={(ev) => this.setActiveFields('description', false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo || true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(ev) => this.setActiveFields('description', true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!item.description &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText >\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid >\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo &&\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.mediaRoot, classes.imgContainer)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, { [classes.pointer]: this.props.canEditImg && !isDemo })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Grid >\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<SaveBtn\r\n\t\t\t\t\t\t\t\t\tspinnerId={'update' + item.id}\r\n\t\t\t\t\t\t\t\t\tvalidationId={'update-' + item.id}\r\n\t\t\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\r\n\t\t\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\t\t\t// TODO: validate wit item validation HOC!!!\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.dirtyProps.length || !this.isNameValid(this.state.item.title)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\r\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\r\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\r\n\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tisDemo={isDemo}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div >\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItem.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\titem: PropTypes.object.isRequired,\r\n\t\tspinner: PropTypes.bool,\r\n\t\titemType: PropTypes.string.isRequired,\r\n\t\tobjModel: PropTypes.func.isRequired\r\n\t}\r\n\r\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\r\n\r\n\t\tlet keys = Object.keys(items)\r\n\r\n\t\tfor (let index = 0; index < keys.length; index++) {\r\n\t\t\tconst key = keys[index]\r\n\t\t\tconst item = items[key]\r\n\r\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist } = state\r\n\t\t// const memory = state.memory\r\n\t\tconst items = persist.items[props.itemType]\r\n\t\tconst id = props.match.params.itemId\r\n\t\tlet item = items[id]\r\n\r\n\t\tif (!item && (props.itemType !== undefined)) {\r\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\titem: item,\r\n\t\t\tvalidateId: 'update-' + item,\r\n\t\t\tmatchId: id\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\n\r\nclass Dropdown extends React.Component {\r\n\r\n    handleChange = event => {\r\n    \tthis.props.onChange(event.target.value)\r\n    }\r\n\r\n    render() {\r\n    \tconst {\r\n    \t\tclasses,\r\n    \t\tlabel = '',\r\n    \t\tvalue,\r\n    \t\tsource,\r\n    \t\thtmlId = 'some-id',\r\n    \t\tname = '',\r\n    \t\tdisabled = false,\r\n    \t\terror = false,\r\n    \t\thelperText,\r\n    \t\t// margin = '',\r\n    \t\tfullWidth = false,\r\n    \t\tclassName,\r\n    \t\trequired\r\n\r\n    \t} = this.props\r\n\r\n    \t// TODO: add native renderer for mobile devices when supported\r\n    \treturn (\r\n    \t\t<FormControl\r\n    \t\t\tclassName={classnames(className, classes.formControl)}\r\n    \t\t\tdisabled={disabled}\r\n    \t\t\terror={error}\r\n    \t\t\tfullWidth={fullWidth}\r\n    \t\t>\r\n    \t\t\t<InputLabel htmlFor={htmlId} required={required}>{label}</InputLabel>\r\n    \t\t\t<Select\r\n    \t\t\t\tvalue={value.id || value}\r\n    \t\t\t\tonChange={this.handleChange}\r\n    \t\t\t\tinput={<Input name={name} id={htmlId} />}\r\n    \t\t\t>\r\n\r\n    \t\t\t\t{[...source].map((src) => {\r\n    \t\t\t\t\treturn (\r\n    \t\t\t\t\t\t<MenuItem\r\n    \t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n    \t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n    \t\t\t\t\t\t>\r\n    \t\t\t\t\t\t\t{src.label}\r\n    \t\t\t\t\t\t</MenuItem>\r\n    \t\t\t\t\t)\r\n    \t\t\t\t})}\r\n    \t\t\t</Select>\r\n    \t\t\t{helperText &&\r\n                    <FormHelperText>{helperText}</FormHelperText>\r\n    \t\t\t}\r\n    \t\t</FormControl>\r\n    \t)\r\n    }\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tname: PropTypes.string,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string\r\n}\r\n\r\nexport default withStyles(styles)(Dropdown)","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tselectEmpty: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n})","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\t// const iconButtonSize = 48 - (spacing * 2)\r\n\treturn {\r\n\t\tcontrols: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexDirection: 'row',\r\n\t\t},\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tflexItem: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\trowButton: {\r\n\t\t\tmarginTop: spacing * 1.5,\r\n\t\t\t// width: iconButtonSize,\r\n\t\t\t// height: iconButtonSize\r\n\t\t},\r\n\t\trwoButtonRoot: {\r\n\t\t\tmargin: spacing / 2,\r\n\t\t},\r\n\t\trow: {\r\n\t\t\tdisplay: 'block'\r\n\t\t},\r\n\t\tbottomControls: {\r\n\t\t\tjustifyContent: 'flex-start'\r\n\t\t},\r\n\t\tlistRoot: {\r\n\t\t\tpaddingBottom: spacing * 1.5,\r\n\t\t\toverflowX: 'auto',\r\n\t\t},\r\n\t\tcontrolsRoot: {\r\n\t\t\tpadding: spacing * 1.5,\r\n\t\t\tpaddingBottom: spacing * 0.5,\r\n\t\t\t// marginBottom: spacing * 2\r\n\t\t},\r\n\t\tpageSize: {\r\n\t\t\twidth: '100px'\r\n\t\t}\r\n\t}\r\n}\r\n","import React from 'react'\r\n// import Slider from '@material-ui/core/Slider'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft'\r\nimport ChevronRight from '@material-ui/icons/ChevronRight'\r\nimport Dropdown from 'components/common/dropdown'\r\n// import Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport const PAGE_SIZES = [\r\n\t{ value: 5, label: 5 },\r\n\t{ value: 10, label: 10 },\r\n\t{ value: 20, label: 20 },\r\n\t{ value: 46, label: 46 },\r\n]\r\n\r\nconst pagination = (props) => {\r\n\r\n\tconst {\r\n\t\tpage,\r\n\t\tpages,\r\n\t\t// pageSize,\r\n\t\tclasses,\r\n\t\tgoToPrevPage,\r\n\t\tgoToNextPage,\r\n\t\tgoToPage,\r\n\t\t// changePageSize,\r\n\t\t// className,\r\n\t\tt\r\n\t} = props\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classes.flexRow}\r\n\t\t>\r\n\t\t\t{pages > 1 &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classnames(classes.flexItem, classes.flexRow)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_PAGE')}\r\n\t\t\t\t\t\t\thelperText={t('LIST_CONTROL_LABEL_PAGE_OF', { args: [pages] })}\r\n\t\t\t\t\t\t\tonChange={goToPage}\r\n\t\t\t\t\t\t\tsource={getAllPagedValues(page, pages)}\r\n\t\t\t\t\t\t\tvalue={page + ''}\r\n\t\t\t\t\t\t\thtmlId='page-size-select'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!(page > 0 && pages > page)}\r\n\t\t\t\t\t\tonClick={goToPrevPage}\r\n\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronLeft />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!(page < (pages - 1))}\r\n\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronRight />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{/* <div\r\n\t\t\t\tclassName={classnames(classes.flexItem, classes.pageSize)}\r\n\t\t\t>\r\n\t\t\t\t<Typography noWrap id=\"page-size\">{t('LIST_CONTROL_LABEL_PAGE_SIZE')} <strong>{pageSize}</strong> </Typography>\r\n\t\t\t\t<Slider style={{ padding: '22px 0' }} aria-labelledby=\"page-size\" min={5} max={25} step={5} value={pageSize} onChange={changePageSize} />\r\n\t\t\t</div> */}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const Pagination = withStyles(styles)(pagination)\r\n\r\nconst getAllPagedValues = (current, max) => {\r\n\t// let pages = {}\r\n\r\n\t// for (var index = 0; index < max; index++) {\r\n\t//     pages[index + ''] = index + 1 + ''\r\n\t// }\r\n\r\n\tlet pages = []\r\n\r\n\tfor (var index = 0; index < max; index++) {\r\n\t\tpages.push({ value: index + '', label: index + 1 + '' })\r\n\t}\r\n\r\n\treturn pages\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Input from '@material-ui/core/Input'\r\nimport { Pagination } from './Controls'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnasmes'\r\n// import Radio from '@material-ui/core/Radio'\r\n// import RadioGroup from '@material-ui/core/RadioGroup'\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport classnames from 'classnames'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst INT_STRING = /^[0-9]+$/\r\nconst PAGE_SIZE = 50\r\n\r\nconst mapFilterProps = ({ filterProps = {}, t }) => {\r\n\treturn Object.keys(filterProps)\r\n\t\t.map((key) => {\r\n\t\t\tconst prop = filterProps[key]\r\n\t\t\tconst label = prop.label || key\r\n\t\t\treturn {\r\n\t\t\t\tlabel: t(label, { isProp: prop.labelIsProp || !prop.label, args: prop.labelArgs || [] }),\r\n\t\t\t\tvalue: key\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nconst mapSortProperties = ({ sortProps = [], t }) => {\r\n\treturn sortProps.map((prop) => {\r\n\t\tconst label = prop.label || prop.value\r\n\t\tconst value = ((prop.value !== null && prop.value !== undefined)\r\n\t\t\t? prop.value : '').toString()\r\n\r\n\t\treturn {\r\n\t\t\tvalue,\r\n\t\t\tlabel: t(label, { isProp: !prop.label, args: prop.labelArgs || [] })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nclass ListWithControls extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context);\r\n\r\n\t\tconst uiStateId = props.uiStateId\r\n\r\n\r\n\t\tconst sortProperties = mapSortProperties({ sortProps: props.sortProperties || [{}], t: props.t })\r\n\t\t// TODO: update on ComponentWillReceiveProps\r\n\t\tthis.state = {\r\n\t\t\titems: [],\r\n\t\t\tpage: 0, //\r\n\t\t\tsearch: '', //\r\n\t\t\tsortProperties: sortProperties,\r\n\t\t\tfilterProperties: mapFilterProps({ filterProps: props.filterProperties, t: props.t }),\r\n\t\t\tfilteredItems: [],\r\n\t\t\tfilterBy: '', //\r\n\t\t\tfilterByValues: [],\r\n\t\t\tfilterByValueFilter: '', //\r\n\t\t\tuiStateId: uiStateId\r\n\t\t}\r\n\t}\r\n\r\n\tgoToPage(page) {\r\n\t\tthis.setState({ page: parseInt(page, 10) })\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newStateValue = { [name]: value }\r\n\t\tif (name === 'search') newStateValue.page = 0\r\n\t\tif (name === 'filterBy') {\r\n\t\t\tnewStateValue.filterByValues = ([{ label: 'ALL', value: '' }].concat(this.props.filterProperties[value].values))\r\n\t\t\tnewStateValue.filterByValueFilter = ''\r\n\t\t}\r\n\t\tthis.setState(newStateValue);\r\n\t}\r\n\r\n\t// For changing redux state\r\n\thandleChangeRxState = (name, value) => {\r\n\t\tthis.props.actions.updateUi(name, value, this.state.uiStateId)\r\n\t}\r\n\r\n\tchangePageSize = (name, { itemsLength, page, pages } = {}, ev, newPageSize) => {\r\n\t\t/*\r\n    \tlet currentPageSize = this.props.pageSize\r\n    \tlet currentFirstIndex = page * currentPageSize // To have at least the first item on current page on the next page\r\n\t\tlet nextPage = Math.floor(currentFirstIndex / newPageSize)\r\n\t\t*/\r\n\t\tthis.props.actions.updateUi('pageSize', newPageSize, this.state.uiStateId)\r\n\t}\r\n\r\n\tsearch = ({ item, search, searchMatch }) => {\r\n\t\tconst regex = new RegExp(search, 'i')\r\n\t\tlet matchString = null\r\n\t\tif (typeof searchMatch === 'function') {\r\n\t\t\tmatchString = searchMatch(item)\r\n\t\t} else if (typeof searchMatch === 'string' && !!searchMatch) {\r\n\t\t\tmatchString = searchMatch\r\n\t\t} else {\r\n\t\t\tmatchString =\r\n\t\t\t\t(item.title || '') +\r\n\t\t\t\t(item.description || '')\r\n\t\t}\r\n\r\n\t\tconst match = regex.exec(matchString)\r\n\t\treturn !!match\r\n\t}\r\n\r\n\tfilterItems = ({ items, search, sortProperty, sortOrder, page, pageSize, searchMatch, filterBy, filterArchived }) => {\r\n\t\t// TODO: optimize filter\r\n\t\t// TODO: maybe filter deleted before this?\r\n\t\tlet filtered = (items || [])\r\n\t\t\t.filter((i) => {\r\n\t\t\t\tconst isItem = (!!i && (i.id || i.ipfs))\r\n\t\t\t\tif (!isItem) return isItem\r\n\r\n\t\t\t\tif ((filterArchived !== '') && (i.archived !== undefined) && (filterArchived.toString() !== i.archived.toString())) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (filterBy && filterBy.key && (filterBy.value)) {\r\n\t\t\t\t\tlet itemValue = filterBy.key.split('.')\r\n\t\t\t\t\t\t.reduce((o, p) => o ? o[p] : 'noprop', i) || ''\r\n\r\n\t\t\t\t\tlet passFilter = itemValue.toString() === filterBy.value.toString()\r\n\r\n\t\t\t\t\tif (!passFilter) {\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet hasSearch = !!search\r\n\t\t\t\tif (!hasSearch) return isItem\r\n\r\n\t\t\t\treturn this.search({ item: i, search, searchMatch })\r\n\t\t\t})\r\n\r\n\t\tif (sortProperty) {\r\n\t\t\tfiltered = filtered.sort((a, b) => {\r\n\t\t\t\tlet propA = a[sortProperty]\r\n\t\t\t\tlet propB = b[sortProperty]\r\n\r\n\t\t\t\tif (INT_STRING.test(propA) && INT_STRING.test(propB)) {\r\n\t\t\t\t\tpropA = bigNumberify(propA)\r\n\t\t\t\t\tpropB = bigNumberify(propB)\r\n\t\t\t\t\treturn (propA.lt(propB) ? -1 : (propA.gt(propB) ? 1 : 0)) * sortOrder\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (propA < propB ? -1 : (propA > propB ? 1 : 0)) * sortOrder\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tlet filteredLength = filtered.length\r\n\r\n\t\tlet maxPages = Math.ceil(filteredLength / pageSize)\r\n\r\n\t\tlet paged = filtered.slice(\r\n\t\t\tpage * pageSize,\r\n\t\t\t(page * pageSize) + pageSize\r\n\t\t)\r\n\r\n\t\treturn {\r\n\t\t\titems: paged,\r\n\t\t\tpage: page,\r\n\t\t\tpages: maxPages,\r\n\t\t\titemsLength: filteredLength,\r\n\t\t\tpageSize: pageSize\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet data = this.filterItems({\r\n\t\t\titems: this.props.items,\r\n\t\t\tsearch: this.state.search,\r\n\t\t\tsortProperty: this.props.sortProperty || (this.state.sortProperties)[0].value,\r\n\t\t\tsortOrder: this.props.sortOrder || -1,\r\n\t\t\tpage: this.state.page,\r\n\t\t\tpageSize: PAGE_SIZE, // this.props.pageSize || 10,\r\n\t\t\tsearchMatch: this.props.searchMatch,\r\n\t\t\tfilterBy: { key: this.state.filterBy, value: this.state.filterByValueFilter },\r\n\t\t\tfilterArchived: this.props.filterArchived || 'false'\r\n\t\t})\r\n\r\n\t\tlet items = data.items\r\n\t\tlet renderItems\r\n\r\n\t\trenderItems = this.props.renderRows\r\n\r\n\t\tconst { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Paper>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classes.controlsRoot}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.controls}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"search\">{t('LIST_CONTROL_LABEL_SEARCH')}</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname='search'\r\n\t\t\t\t\t\t\t\tid=\"search\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.search}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChange('search', ev.target.value)}\r\n\t\t\t\t\t\t\t\tstartAdornment={<InputAdornment position=\"start\"><SearchIcon /></InputAdornment>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.flexRow, classes.flexItem)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_SORT')}\r\n\t\t\t\t\t\t\t\tonChange={this.handleChangeRxState.bind(this, 'sortProperty')}\r\n\t\t\t\t\t\t\t\tsource={this.state.sortProperties}\r\n\t\t\t\t\t\t\t\tvalue={this.props.sortProperty || (this.state.sortProperties)[0].value}\r\n\t\t\t\t\t\t\t\thtmlId='sort-by-prop'\r\n\t\t\t\t\t\t\t\tname='sortProperty'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor={(this.props.sortOrder === 1) ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleChangeRxState.bind(this, 'sortOrder', 1)}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ArrowUpwardIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor={(this.props.sortOrder === -1) ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleChangeRxState.bind(this, 'sortOrder', -1)}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ArrowDownwardIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/* {this.props.filterProperties &&\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.flexRow)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t\t\t\tauto\r\n\t\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_FILTER_BY')}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this, 'filterBy')}\r\n\t\t\t\t\t\t\t\t\tsource={this.state.filterProperties}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.filterBy !== null ? this.state.filterBy.toString() : ''}\r\n\t\t\t\t\t\t\t\t\thtmlId='filter-by-prop-dd'\r\n\t\t\t\t\t\t\t\t\tname='filterBy'\r\n\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t\t\t\tauto\r\n\t\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_FILTER_BY_VALUE')}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this, 'filterByValueFilter')}\r\n\t\t\t\t\t\t\t\t\tsource={mapSortProperties({ sortProps: this.state.filterByValues, t: this.props.t })}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.filterByValueFilter !== null ? this.state.filterByValueFilter.toString() : ''}\r\n\t\t\t\t\t\t\t\t\thtmlId='filter-by-value-dd'\r\n\t\t\t\t\t\t\t\t\tname='filterByValueFilter'\r\n\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.filterBy}\r\n\t\t\t\t\t\t\t\t\thelperText={t('HELPER_TXT_FILTER_BY_VALUE')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t} */}\r\n\r\n\t\t\t\t\t\t{/* {this.props.archive &&\r\n\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\tname='archived'\r\n\t\t\t\t\t\t\t\tvalue={typeof this.props.filterArchived === 'string' ? this.props.filterArchived.toString() : 'false'}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeRxState('filterArchived', ev.target.value)}\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.flexRow, classes.flexItem)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='false' control={<Radio color='primary' />} label={t('LABEL_ACTIVE')} />\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='true' control={<Radio color='primary' />} label={t('LABEL_ARCHIVED')} />\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='' control={<Radio color='primary' />} label={t('LABEL_ALL')} />\r\n\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t} */}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.controls, classes.bottomControls)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tpage={data.page}\r\n\t\t\t\t\t\t\t\tpages={data.pages}\r\n\t\t\t\t\t\t\t\tpageSize={PAGE_SIZE || this.props.pageSize || 10}\r\n\t\t\t\t\t\t\t\titemsLength={data.itemsLength}\r\n\t\t\t\t\t\t\t\tgoToPage={this.goToPage.bind(this)}\r\n\t\t\t\t\t\t\t\tgoToLastPage={this.goToPage.bind(this, data.pages - 1)}\r\n\t\t\t\t\t\t\t\tgoToNextPage={this.goToPage.bind(this, data.page + 1)}\r\n\t\t\t\t\t\t\t\tgoToFirstPage={this.goToPage.bind(this, 0)}\r\n\t\t\t\t\t\t\t\tgoToPrevPage={this.goToPage.bind(this, data.page - 1)}\r\n\t\t\t\t\t\t\t\tchangePageSize={this.changePageSize.bind(this, 'pageSize',\r\n\t\t\t\t\t\t\t\t\t{ page: data.page, pages: data.pages, itemsLength: data.itemsLength })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div >\r\n\t\t\t\t\t</div >\r\n\t\t\t\t</div >\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classnames(classes.listRoot)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{renderItems(items)}\r\n\t\t\t\t</div>\r\n\t\t\t</Paper >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nListWithControls.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titemRenderer: PropTypes.func,\r\n\tside: PropTypes.string.isRequired,\r\n\tobjModel: PropTypes.func,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n\tfilterProperties: PropTypes.object,\r\n\tuiStateId: PropTypes.string.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\r\n\t// TODO: A little hacky, maybe find a better way\r\n\t// Gets the last path in URL. ex: https://localhost:3000/dashboard/publisher/slots -> slots\r\n\tconst uiStateId = props.uiStateId || 'default'\r\n\treturn {\r\n\t\trowsView: !!persist.ui[props.viewModeId],\r\n\t\tpageSize: persist.ui[uiStateId] ? persist.ui[uiStateId]['pageSize'] || 10 : 10,\r\n\t\tsortProperty: persist.ui[uiStateId] ? persist.ui[uiStateId]['sortProperty'] : null,\r\n\t\tsortOrder: persist.ui[uiStateId] ? persist.ui[uiStateId]['sortOrder'] || - 1 : -1,\r\n\t\tfilterArchived: persist.ui[uiStateId] ? persist.ui[uiStateId]['filterArchived'] || false : false,\r\n\t\tside: memory.nav.side,\r\n\t\taccount: persist.account,\r\n\t\tsortProperties: props.sortProperties || [],\r\n\t\tfilterProperties: props.filterProperties,\r\n\t\tuiStateId: uiStateId\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(ListWithControls)))\r\n","import React, { Component } from 'react'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\n\r\nclass Rows extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\t// TODO: maybe in the store?\r\n\t\t\tselected: []\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\t// Reset selected\r\n\t\t// TODO: make better check because this will always  return true\r\n\t\tif (nextProps.rows !== this.props.rows) {\r\n\t\t\tthis.setState({ selected: [] })\r\n\t\t}\r\n\t}\r\n\r\n\thandleRowSelect = (selected) => {\r\n\t\tlet newSelected = selected.map((index) => this.props.rows[index].id)\r\n\t\tthis.setState({ selected: newSelected });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { side, rows, padding, itemType, size } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tsize={size || 'small'}\r\n\t\t\t\t\tpadding={padding || 'default'}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.tableHeadRenderer({ selected: this.state.selected })}\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trows.map((u, i) => {\r\n\t\t\t\t\t\t\t\tlet to = `/dashboard/${side}/${itemType}/${u.id || u.ipfs}`\r\n\t\t\t\t\t\t\t\tlet selected = this.state.selected.indexOf(u.id) !== -1\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\tthis.props.rowRenderer(u, i, { to, selected, itemType })\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Rows\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ListWithControls from 'components/dashboard/containers/Lists/ListWithControls'\r\nimport classnames from 'classnames'\r\nimport TableCellMui from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Button from '@material-ui/core/Button'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Img from 'components/common/img/Img'\r\nimport Rows from 'components/dashboard/collection/Rows'\r\nimport Translate from 'components/translate/Translate'\r\n// import DeleteIcon from '@material-ui/icons/Delete'\r\n// import ArchiveIcon from '@material-ui/icons/Archive'\r\n// import UnarchiveIcon from '@material-ui/icons/Unarchive'\r\n// import RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline'\r\n// import AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\n\r\nconst TableCell = ({ children, ...rest }) =>\r\n\t<TableCellMui\r\n\t\t{...rest}\r\n\t>\r\n\t\t{!!children && children}\r\n\t</TableCellMui >\r\n\r\nconst RRTableCell = withReactRouterLink(TableCell)\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass ItemsList extends Component {\r\n\trenderTableHead = ({ selected }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tselectedItems,\r\n\t\t\tselectMode,\r\n\t\t\tnoActions,\r\n\t\t\t// itemType\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{selectMode &&\r\n\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t{Object.keys(selectedItems).length || ''}\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<TableCell> {t('PROP_MEDIA')}</TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_TITLE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_TYPE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_CREATED')} </TableCell>\r\n\r\n\t\t\t\t\t{!noActions &&\r\n\t\t\t\t\t\t<TableCell> {t('ACTIONS')} </TableCell>\r\n\t\t\t\t\t}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaignTableHead = ({ selected }) => {\r\n\t\tconst { t, selectedItems, selectMode, noActions } = this.props\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{selectMode &&\r\n\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t{Object.keys(selectedItems).length || ''}\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<TableCell> {t('PROP_MEDIA')}</TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_STATUS')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_DEPOSIT')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_DISTRIBUTED', { args: ['%'] })} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_CPM')} </TableCell>\r\n\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t{/* {t('PROP_CREATED')}/ <br /> */}\r\n\t\t\t\t\t\t{t('PROP_STARTS')}/ <br />\r\n\t\t\t\t\t\t{t('PROP_ENDS')}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t{!noActions &&\r\n\t\t\t\t\t\t<TableCell> {t('ACTIONS')} </TableCell>\r\n\t\t\t\t\t}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\trenderTableRow = (item, index, { to, selected }) => {\r\n\t\tconst {\r\n\t\t\t// t,\r\n\t\t\tclasses,\r\n\t\t\tselectMode,\r\n\t\t\tselectedItems,\r\n\t\t\tonSelect,\r\n\t\t\tnoActions\r\n\t\t} = this.props\r\n\t\t// const ImagCell = noActions ? TableCell : RRTableCell\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow\r\n\t\t\t\tkey={item.ipfs || index}\r\n\t\t\t\tselected={selectedItems[item.ipfs]}\r\n\t\t\t>\r\n\t\t\t\t{selectMode &&\r\n\t\t\t\t\t<TableCell padding=\"checkbox\">\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t// indeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={selectedItems[item.ipfs]}\r\n\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\tonSelect(item.ipfs, event.target.checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={item.mediaUrl || item.fallbackMediaiUrl || ''}\r\n\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<RRTableCell\r\n\t\t\t\t\t// className={tableTheme.link}\r\n\t\t\t\t\tto={to}\r\n\t\t\t\t>\r\n\t\t\t\t\t{item.title}\r\n\t\t\t\t</RRTableCell>\r\n\t\t\t\t<TableCell> {item.type} </TableCell>\r\n\t\t\t\t<TableCell> {formatDateTime(item.created)} </TableCell>\r\n\t\t\t\t{!noActions &&\r\n\t\t\t\t\tthis.renderActions({ item, to })\r\n\t\t\t\t}\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\trenderCampaignTableRow = (item, index, { to, selected }) => {\r\n\t\tconst {\r\n\t\t\tselectMode,\r\n\t\t\tselectedItems,\r\n\t\t\tonSelect,\r\n\t\t\tnoActions,\r\n\t\t\tclasses\r\n\t\t} = this.props\r\n\r\n\t\tconst status = item.status || {}\r\n\t\treturn (\r\n\t\t\t<TableRow\r\n\t\t\t\tkey={item.ipfs || index}\r\n\t\t\t\tselected={selectedItems[item.ipfs]}\r\n\t\t\t>\r\n\t\t\t\t{selectMode &&\r\n\t\t\t\t\t<TableCell padding=\"checkbox\">\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t// indeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={selectedItems[item.ipfs]}\r\n\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\tonSelect(item.ipfs, event.target.checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={item.mediaUrl || (item.adUnits ? item.adUnits[0].mediaUrl || '' : '')}\r\n\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell> {status.name} </TableCell>\r\n\t\t\t\t<TableCell>\t{formatTokenAmount(item.depositAmount, 18, true)} DAI </TableCell>\r\n\t\t\t\t<TableCell> {((status.fundsDistributedRatio || 0) / 10).toFixed(2)}</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{formatTokenAmount(\r\n\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t18, true)} DAI\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{/* {formatDateTime(item.created)} <br /> */}\r\n\t\t\t\t\t{formatDateTime(item.activeFrom)} <br />\r\n\t\t\t\t\t{formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t{!noActions &&\r\n\t\t\t\t\tthis.renderActions({ item, to })\r\n\t\t\t\t}\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\trenderActions = ({ item, to }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// account,\r\n\t\t\t// actions,\r\n\t\t\t// itemType\r\n\t\t} = this.props\r\n\t\t// const itemName = item.title\r\n\t\t// const itemTypeName = t(itemType, { isProp: true })\r\n\t\t// const isDemo = account.wallet.address === 'demo'\r\n\r\n\t\treturn (\r\n\t\t\t<TableCell>\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LABEL_VIEW')}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t{/* {!item.archived &&\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_ARCHIVE')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t// label={t('ARCHIVE')}\r\n\t\t\t\t\t\t\t// className={RTButtonTheme.danger}\r\n\t\t\t\t\t\t\tonClick={actions.confirmAction.bind(this,\r\n\t\t\t\t\t\t\t\tactions.archiveItem.bind(this, { item: item, authSig: account.wallet.authSig }),\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\tcancelLabel: t('CONFIRM_NO'),\r\n\t\t\t\t\t\t\t\t\ttext: t('ARCHIVE_ITEM', { args: [itemTypeName, itemName] }),\r\n\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_SURE')\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{item.archived &&\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_UNARCHIVE')}\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t// label={t('UNARCHIVE')}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={actions.confirmAction.bind(this,\r\n\t\t\t\t\t\t\t\tactions.unarchiveItem.bind(this, { item: item, authSig: account.wallet.authSig }),\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\tcancelLabel: t('CONFIRM_NO'),\r\n\t\t\t\t\t\t\t\t\ttext: t('UNARCHIVE_ITEM', { args: [itemType, itemName] }),\r\n\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_SURE')\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<UnarchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t} */}\r\n\t\t\t</TableCell>\r\n\t\t)\r\n\t}\r\n\r\n\trenderRows = (items) => {\r\n\t\tconst { itemType, side, padding } = this.props\r\n\t\treturn (<Rows\r\n\t\t\tpadding={padding}\r\n\t\t\tside={side}\r\n\t\t\trows={items}\r\n\t\t\titemType={itemType}\r\n\t\t\trowRenderer={itemType === 'Campaign'\r\n\t\t\t\t? this.renderCampaignTableRow\r\n\t\t\t\t: this.renderTableRow}\r\n\t\t\ttableHeadRenderer={itemType === 'Campaign'\r\n\t\t\t\t? this.renderCampaignTableHead\r\n\t\t\t\t: this.renderTableHead}\r\n\t\t/>)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\titems,\r\n\t\t\tviewModeId,\r\n\t\t\tside,\r\n\t\t\tnoControls,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tif (noControls) {\r\n\t\t\treturn this.renderRows(items)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<ListWithControls\r\n\t\t\t\t{...rest}\r\n\t\t\t\titems={items}\r\n\t\t\t\tviewModeId={viewModeId}\r\n\t\t\t\tarchive\r\n\t\t\t\trenderRows={this.renderRows}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItemsList.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tviewModeId: PropTypes.string.isRequired,\r\n\theader: PropTypes.string,\r\n\tobjModel: PropTypes.func.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n\tselectedItems: PropTypes.object,\r\n\tselectMode: PropTypes.bool,\r\n\tonSelect: PropTypes.func,\r\n\tnoControls: PropTypes.bool,\r\n\tnoActions: PropTypes.bool\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tside: memory.nav.side,\r\n\t\tselectedItems: props.selectedItems || {}\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(ItemsList)))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tcellImg: {\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxHeight: 70,\r\n\t\t\tmaxWidth: 180,\r\n\t\t\tcursor: 'pointer'\r\n\t\t}\r\n\t}\r\n}","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\twidth: 320,\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\t'@media(max-width:380px)': {\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tmarginBottom: spacing,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%'\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\r\n\t\t\ttop: 0,\r\n\t\t\tright: spacing\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport Img from 'components/common/img/Img'\r\nimport { validUrl } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n// import { utils } from 'ethers'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\n\r\nconst FallbackAdData = ({ item, t, rightComponent, url, classes, canEditImg, isDemo, ...rest }) => {\r\n\tconst errFallbackAdUrl = rest.invalidFields['fallbackAdUrl']\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\tclassName={classes.card}\r\n\t\t\traised={false}\r\n\t\t>\r\n\t\t\t<CardMedia\r\n\t\t\t\tclasses={{ root: classes.mediaRoot }}\r\n\t\t\t\tsrc=''\r\n\t\t\t>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\r\n\t\t\t\t\talt={item.fallbackTargetUrl}\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t/>\r\n\t\t\t</CardMedia>\r\n\t\t\t<Fab\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={rest.toggleFallbackImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\tdisabled={isDemo}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Fab>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{rest.activeFields.fallbackTargetUrl ?\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t// required\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\r\n\t\t\t\t\t\tonChange={(ev) => rest.handleChange('fallbackTargetUrl', ev.target.value)}\r\n\t\t\t\t\t\t// maxLength={1024}\r\n\t\t\t\t\t\tonBlur={() => { rest.setActiveFields('fallbackTargetUrl', false); rest.validate('fallbackTargetUrl', { isValid: !item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl), err: { msg: 'ERR_INVALID_URL' }, dirty: true }); }}\r\n\t\t\t\t\t\tonFocus={() => rest.validate('fallbackTargetUrl', { isValid: !item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl), err: { msg: 'ERR_INVALID_URL' }, dirty: false })}\r\n\t\t\t\t\t\terror={errFallbackAdUrl && !!errFallbackAdUrl.dirty ? <span> {errFallbackAdUrl.errMsg} </span> : null}\r\n\t\t\t\t\t\thelperText={!errFallbackAdUrl || !errFallbackAdUrl.dirty ?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}\r\n\t\t\t\t\t\t\t</div> : null}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ?\r\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\r\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}> {t('NO_FALLBACK_URL_YET')}</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tdisabled={!canEditImg}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => rest.setActiveFields('fallbackTargetUrl', true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className={classes.error}> {errFallbackAdUrl.errMsg} </span>\r\n\t\t\t\t\t\t\t</div> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\r\n\r\nconst MediaCard = ({ classes, mediaUrl, mediaMime, title, canEditImg, toggleImgEdit, url }) => <Card\r\n\tclassName={classes.card}\r\n\traised={false}\r\n>\r\n\t<CardMedia\r\n\t\tclasses={{ root: classes.mediaRoot }}\r\n\t>\r\n\t\t<Img\r\n\t\t\tallowFullscreen={true}\r\n\t\t\tsrc={mediaUrl}\r\n\t\t\talt={title}\r\n\t\t\tclassName={classes.img}\r\n\t\t\tmediaMime={mediaMime}\r\n\t\t\tallowVideo\r\n\t\t/>\r\n\t</CardMedia>\r\n\t{canEditImg &&\r\n\t\t<Button\r\n\t\t\tvariant='fab'\r\n\t\t\tmini\r\n\t\t\tcolor='secondary'\r\n\t\t\tonClick={toggleImgEdit}\r\n\t\t\tclassName={classes.editIcon}\r\n\t\t>\r\n\t\t\t<EditIcon />\r\n\t\t</Button>\r\n\t}\r\n\r\n\t{url &&\r\n\t\t<CardContent>\r\n\t\t\t<Anchor href={url} target='_blank'>\r\n\t\t\t\t{url}\r\n\t\t\t</Anchor>\r\n\t\t</CardContent>\r\n\t}\r\n</Card>\r\n\r\nconst basicProps = ({ item, t, rightComponent, url, classes, canEditImg, itemType, ...rest }) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst mediaMime = item.mediaMime\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5} >\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titemType === 'AdSlot'\r\n\t\t\t\t\t\t\t\t? <ValidatedFallbackAdData validateId={item._id} item={item} t={t} url={url} classes={classes} canEditImg={canEditImg} {...rest} />\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7} >\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\tvalue={item.type}\r\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) &&\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags.map(tag => `\"${tag.tag}(${tag.score})\"`).join(',\\n')}\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('tags', { isProp: true }) + ` (${item.tags.length})`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\trows={7}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t{rightComponent}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\r\n\t)\r\n}\r\n\r\nexport const BasicProps = withStyles(styles)(basicProps)\r\n\r\nconst campaignProps = ({ item, t, rightComponent, url, classes, canEditImg, itemType, ...rest }) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst status = item.status || {}\r\n\t// console.log('item', item)\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.basicInfo}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5} >\r\n\t\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7} >\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} >\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} >\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={((status.fundsDistributedRatio || 0) / 10).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatTokenAmount(item.depositAmount, 18) + ' DAI'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t18, true) + ' DAI'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\r\n\t\t\t\t\t{rightComponent}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div >\r\n\t)\r\n}\r\n\r\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\r\nexport const CampaignProps = withStyles(styles)(campaignProps)","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\r\nimport { SORT_PROPERTIES_ITEMS, FILTER_PROPERTIES_ITEMS } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\n\r\nconst VIEW_MODE = 'campaignRowsView'\r\n\r\nexport class Campaign extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context);\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tstatistics: {}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.actions.updateCampaignState({ campaign: this.props.item })\r\n\t\t// this.props.actions.updateCampaignStatistics({ campaign: this.props.item })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tCampaignActions = ({ campaign, actions, t }) => {\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tonClick={() => actions.closeCampaign({ campaign })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// classes,\r\n\t\t\titem,\r\n\t\t\t// setActiveFields,\r\n\t\t\t// handleChange,\r\n\t\t\t// activeFields,\r\n\t\t\t// isDemo,\r\n\t\t\tactions,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\tconst units = item.spec.adUnits\r\n\t\tconst campaign = new CampaignModel(item)\r\n\r\n\t\tconst balances = campaign.state &&\r\n\t\t\tcampaign.state.lastApproved\r\n\t\t\t? campaign.state.lastApproved.newState.msg.balances\r\n\t\t\t: {}\r\n\r\n\t\tconst status = (campaign.status || {}).name\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignProps\r\n\t\t\t\t\titem={campaign}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t// <UnitTargets\r\n\t\t\t\t\t\t// \t{...rest}\r\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\r\n\t\t\t\t\t\t// \tt={t}\r\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\r\n\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\tstatus === 'Ready' ||\r\n\t\t\t\t\t\t\tstatus === 'Active' ||\r\n\t\t\t\t\t\t\tstatus === 'Unhealthy'\r\n\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\t<this.CampaignActions campaign={campaign} t={t} actions={actions} />\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar\r\n\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATE')} />\r\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{ marginTop: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(tabIndex === 0) &&\r\n\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\tsubheader={\r\n\t\t\t\t\t\t\t\t\t<ListSubheader component='div'>\r\n\t\t\t\t\t\t\t\t\t\t{t('BALANCES')}\r\n\t\t\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{Object.keys(balances).map(key =>\r\n\t\t\t\t\t\t\t\t\t<ListItem key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={formatTokenAmount(balances[key]) + ' DAI'}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={key}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(tabIndex === 1) &&\r\n\t\t\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\t\t\tremoveFromItem\r\n\t\t\t\t\t\t\t\titems={units}\r\n\t\t\t\t\t\t\t\tviewModeId={VIEW_MODE}\r\n\t\t\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\t\t\tobjModel={AdUnitModel}\r\n\t\t\t\t\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tuiStateId='campaign-units'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tunits: PropTypes.object.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tunits: persist.items['AdUnit'],\r\n\t\trowsView: !!persist.ui[VIEW_MODE],\r\n\t\tobjModel: CampaignModel,\r\n\t\titemType: 'Campaign',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(CampaignItem))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tflex: {\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\tmarginTop: spacing * 2,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdatepicker: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t}\r\n\t}\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = ['#00BAFF', '#7EDBFF', '#FF9FA8', '#14DC9C', '#61FFB2', '#ABFFE5']\r\n\r\nexport let  CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9)\r\n\t}\r\n}\r\n\r\nwindow.hoi = CHARTS_COMMON_OPTIONS\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map((color) => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, {global: CHARTS_COMMON_OPTIONS})\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tlegendList: {\r\n\t\t\tlistStyle: 'none',\r\n\t\t\tpaddingLeft: 0\r\n\t\t},\r\n\t\tlegendSpan: {\r\n\t\t\twidth: '40px',\r\n\t\t\tminHeight: '13px',\r\n\t\t\tfloat: 'left',\r\n\t\t\tmargin: '0px 8px'\r\n\t\t},\r\n\t\tlegendListItem: {\r\n\t\t\theight: '20px',\r\n\t\t\tfontSize: '12px',\r\n\t\t\tmarginLeft: '8px',\r\n\t\t\tcolor: '#666',\r\n\t\t\tfontFamily: \"'Roboto', 'Arial', sans-serif\",\r\n\t\t\tcursor: 'pointer'\r\n\t\t},\r\n\t\tchartParent: {\r\n\t\t\theight: 'auto',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\tchartLabel: {\r\n\t\t\tmargin: '0 auto',\r\n\t\t\t'@media(min-width:650px) and (max-width:1279px)': {\r\n\t\t\t\tmargin: 'auto'\r\n\t\t\t}\r\n\t\t},\r\n\t\tchartContainer: {\r\n\t\t\tmargin: '0 auto',\r\n\t\t\t'@media(min-width:650px) and (max-width:1279px)': {\r\n\t\t\t\tmargin: 'auto'\r\n\t\t\t}\r\n\t\t},\r\n\t\tchartTitle: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#666',\r\n\t\t\tfontFamily: \"'Roboto', 'Arial', sans-serif\",\r\n\t\t\tflexBasis: '100%'\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { BidsLegend } from '.'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass BidsStatusPie extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.doughnut = React.createRef()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// Force update to get the doughnut ref\r\n\t\tthis.forceUpdate()\r\n\t}\r\n\r\n    componentWillUpdate = (nextProps, nextState) => {\r\n    \t// Hack to update doughnut ref\r\n    \tif (JSON.stringify(nextProps.pieData) !== JSON.stringify(this.props.pieData)) {\r\n    \t\tthis.forceUpdate()\r\n    \t}\r\n    }\r\n\r\n    render() {\r\n    \tconst pieData = this.props.pieData || {}\r\n    \tconst options = this.props.options || {}\r\n    \tconst { onPieClick } = this.props\r\n    \tconst classes = this.props.classes\r\n\r\n    \tlet opts = {\r\n    \t\t// responsive: true,\r\n    \t\t// responsiveAnimationDuration: 500,\r\n    \t\tcutoutPercentage: 70,\r\n    \t\tlegend: {\r\n    \t\t\tdisplay: false\r\n    \t\t},\r\n    \t\tlegendCallback: function (chart) {\r\n    \t\t\treturn <BidsLegend chart={chart} />\r\n    \t\t},\r\n    \t\ttooltips: {\r\n    \t\t\tcallbacks: {\r\n    \t\t\t\tlabel: function (tooltipItem, data) {\r\n    \t\t\t\t\tlet label = (data.labels[tooltipItem.index] || '').split(' [')[0]\r\n    \t\t\t\t\tlabel += ': '\r\n    \t\t\t\t\tlet count = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]\r\n    \t\t\t\t\tlabel += count\r\n    \t\t\t\t\tlabel += ' (' + ((count / pieData.totalCount) * 100).toFixed(2) + '%)'\r\n    \t\t\t\t\treturn label\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\tmaintainAspectRatio: false,\r\n    \t\t...options,\r\n    \t}\r\n\r\n    \tlet chartData = {\r\n    \t\tlabels: pieData.labels || [],\r\n    \t\tdatasets: [\r\n    \t\t\t{\r\n    \t\t\t\tbackgroundColor: CHARTS_COLORS,\r\n    \t\t\t\t// borderColor: CHARTS_COLORS,\r\n    \t\t\t\thoverBackgroundColor: CHARTS_COLORS,\r\n    \t\t\t\t// hoverBorderColor: CHARTS_COLORS,\r\n    \t\t\t\tborderWidth: 0,\r\n    \t\t\t\tdata: pieData.data || []\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}\r\n    \treturn (\r\n    \t\t<div className={classes.chartParent}>\r\n    \t\t\t<h3 className={classes.chartTitle}>{this.props.chartTitle}</h3>\r\n    \t\t\t<div className={classes.chartLabel}>\r\n    \t\t\t\t{this.doughnut.current ? this.doughnut.current.chartInstance.generateLegend() : null}\r\n    \t\t\t</div>\r\n    \t\t\t<div className={classes.chartContainer}>\r\n    \t\t\t\t<Doughnut\r\n    \t\t\t\t\twidth={250}\r\n    \t\t\t\t\theight={150}\r\n    \t\t\t\t\tref={this.doughnut}\r\n    \t\t\t\t\tdata={chartData}\r\n    \t\t\t\t\toptions={opts}\r\n    \t\t\t\t\tgetElementAtEvent={(e) => {\r\n    \t\t\t\t\t\tonPieClick(e[0])\r\n    \t\t\t\t\t}}\r\n    \t\t\t\t/>\r\n    \t\t\t</div>\r\n    \t\t</div>\r\n    \t)\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(BidsStatusPie)","import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass BidsLegend extends Component {\r\n\ttoggleChartItem(e, index) {\r\n\t\tconst chart = this.props.chart\r\n\r\n\t\tchart.legend.options.onClick.call(chart, e, chart.legend.legendItems[index])\r\n\t}\r\n\r\n\ttoggleLabelCross(label) {\r\n\t\tlabel.style.textDecoration === 'line-through' ? label.style.textDecoration = 'none' : label.style.textDecoration = 'line-through'\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { chart, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ul className={classes.legendList}>\r\n\t\t\t\t\t{chart.data.datasets[0].data.map((item, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\tclassName={classes.legendListItem}\r\n\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\tthis.toggleChartItem(event, i)\r\n\t\t\t\t\t\t\t\t\tthis.toggleLabelCross(event.currentTarget)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: chart.data.datasets[0].backgroundColor[i] }}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.legendSpan}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{chart.data.labels[i] ? chart.data.labels[i] : null}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default withStyles(styles)(BidsLegend)","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g >\r\n\t\t<path\r\n\t\t\td=\"M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z\" />\r\n\t</g>\r\n\r\n\t, 'AdexPublisher', '0 0 114 110')","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g >\r\n\t\t<path\r\n\t\t\td=\"M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z\" />\r\n\t</g>\r\n\t, 'AdexAdvertiser', '0 0 109 94')\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({ salePoints = [], linkTitle, icon, title, disabled, classes, ...other }) => (\r\n\t<div {...other} className={classnames(classes.sideBox, { [classes.disabled]: disabled })} >\r\n\t\t<div className={classes.icon}>\r\n\t\t\t{icon}\r\n\t\t</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function (point, key) {\r\n\t\t\t\treturn (<li key={key}> {point} </li>)\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div >\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle >\r\n\t\t\t\t\t{t('CHOOSE_SIDE')}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={<AdvertiserLogo style={{ width: 110, height: 110 }} color='primary' />}\r\n\t\t\t\t\t\tsalePoints={[t('SALE_POINT_ADV_1'), t('SALE_POINT_ADV_2'), t('SALE_POINT_ADV_3')]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={<PublisherLogo style={{ width: 110, height: 110 }} color='primary' />}\r\n\t\t\t\t\t\tsalePoints={[t('SALE_POINT_PUB_1'), t('SALE_POINT_PUB_2'), t('SALE_POINT_PUB_3')]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)'\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%'\r\n\t\t\t}\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto'\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t}\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { styles } from './styles'\r\nimport classnames from 'classnames'\r\n\r\nconst StatsCard = props => {\r\n\tconst { classes, title, subtitle, linkCard, children, onClick } = props\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\t// raised\r\n\t\t\tclassName={classnames(classes.infoCard,\r\n\t\t\t\t{ [classes.linkCard]: !!linkCard })\r\n\t\t\t}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{title &&\r\n                    <Typography\r\n                    \tvariant=\"headline\"\r\n                    \tcomponent=\"h2\"\r\n                    \tnoWrap\r\n                    >\r\n                    \t{title}\r\n                    </Typography>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{subtitle &&\r\n                    <Typography component=\"p\" noWrap>\r\n                    \t{subtitle}\r\n                    </Typography>\r\n\t\t\t\t}\r\n\t\t\t\t{children}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool\r\n}\r\n\r\nexport default withStyles(styles)(StatsCard)","import React from 'react'\r\nimport { Line } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst getChannelName = (channel) => {\r\n\tif (!channel || !channel.spec) {\r\n\t\treturn 'unknown'\r\n\t}\r\n\tconst amount = formatTokenAmount(channel.depositAmount, 18, true)\r\n\tconst cpm = formatTokenAmount(\r\n\t\tbigNumberify(channel.spec.minPerImpression).mul(1000).toString()\r\n\t\t, 18, true)\r\n\r\n\treturn `Deposit ${amount} DAI for CPM ${cpm} DAI`\r\n}\r\n\r\nexport const PublisherStatistics = ({ data, channels, options = {}, t }) => {\r\n\t// TODO: refine mapping, format values and labels\r\n\tif (!Object.keys(data).length) return null\r\n\tconst dataKeys = Object.keys(data)\r\n\r\n\tconst defaultValues = dataKeys.reduce((defaults, key) => {\r\n\t\tdefaults[key] = null\r\n\t\treturn defaults\r\n\t}, {})\r\n\r\n\tconst labelsWithData = dataKeys.reduce(({ labels, sets }, k) => {\r\n\t\tconst values = Object.keys(data[k]).reduce((memo, key) => {\r\n\t\t\tconst value = data[k][key]\r\n\r\n\t\t\tlabels[key] = labels[key] || { ...defaultValues }\r\n\t\t\tlabels[key][k] = value\r\n\r\n\t\t\tmemo.labels.push(key)\r\n\t\t\tmemo.value.push(value || 0)\r\n\r\n\t\t\tmemo.step.min = Math.min(memo.step.min, value)\r\n\t\t\tmemo.step.max = Math.max(memo.step.max, value)\r\n\r\n\t\t\treturn memo\r\n\r\n\t\t}, { label: k, labels: [], value: [], step: { min: 0, max: 0 } })\r\n\r\n\t\tsets.push(values)\r\n\r\n\t\treturn {\r\n\t\t\tlabels,\r\n\t\t\tsets\r\n\t\t}\r\n\t}, { labels: {}, sets: [] })\r\n\r\n\tconst labelsKeys = Object.keys(labelsWithData.labels)\r\n\tconst datasets = labelsKeys.reduce(({ sets }, key) => {\r\n\t\tconst set = labelsWithData.labels[key]\r\n\r\n\t\tdataKeys.forEach((dataKey, index) => {\r\n\t\t\tsets[index].data.push(set[dataKey])\r\n\t\t\tsets[index].label = dataKey\r\n\t\t})\r\n\r\n\t\treturn { sets }\r\n\t}, { sets: dataKeys.map(key => { return { label: '', data: [] } }) })\r\n\r\n\tlet commonDsProps = {\r\n\t\tfill: true,\r\n\t\tlineTension: 0.3,\r\n\t\tborderWidth: 0,\r\n\t\tpointRadius: 1,\r\n\t\tpointHitRadius: 10,\r\n\t}\r\n\r\n\tlet chartData = {\r\n\t\tlabels: labelsKeys,\r\n\t\tstacked: true,\r\n\t\tdatasets: datasets.sets.map((set, index) => {\r\n\t\t\treturn {\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tlabel: getChannelName(channels[set.label]) + ` - ${index}`,\r\n\t\t\t\tdata: set.data,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(CHARTS_COLORS[index % CHARTS_COLORS.length], 1),\r\n\t\t\t\t// borderColor: Helper.hexToRgbaColorString(CHARTS_COLORS[index % CHARTS_COLORS.length], 1),\r\n\t\t\t\t// yAxisID: 'y-axis-1'\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// const maxTickLimit = 10\r\n\t// const max = datasets[0].step.max || 1\r\n\t// const min = datasets[0].step.min || 0\r\n\t// const step = Math.ceil(max / maxTickLimit) || 1\r\n\r\n\t// let maxTick = (step * maxTickLimit)\r\n\r\n\t// if (max < (maxTickLimit)) {\r\n\t// \tmaxTick = max\r\n\t// }\r\n\r\n\tconst linesOptions = {\r\n\t\tresponsive: true,\r\n\t\ttitle: {\r\n\t\t\tdisplay: true,\r\n\t\t\ttext: options.title\r\n\t\t},\r\n\t\t// elements: {\r\n\t\t// \tline: {\r\n\t\t// \t\tfill: true\r\n\t\t// \t}\r\n\t\t// },\r\n\t\ttooltips: {\r\n\t\t\tmode: 'index',\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t// beginAtZero: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// labels: {\r\n\t\t\t\t\t//     show: true\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t('TIMEFRAME')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tstacked: true,\r\n\t\t\t\t\t// display: true,\r\n\t\t\t\t\t// ticks: {\r\n\t\t\t\t\t// beginAtZero: true,\r\n\t\t\t\t\t// min: min,\r\n\t\t\t\t\t// max: maxTick,\r\n\t\t\t\t\t// stepSize: step,\r\n\t\t\t\t\t// maxTicksLimit: maxTickLimit + 1\r\n\t\t\t\t\t// },\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t// beginAtZero: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t('VIEWS')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Line data={chartData} options={linesOptions} />\r\n\t)\r\n\r\n}","import React from 'react'\r\nimport { PublisherStatistics } from 'components/dashboard/charts/revenue'\r\n\r\nconst getHourId = (_id) => {\r\n\treturn `${_id.year}-${_id.month}-${_id.day}-${_id.hour}`\r\n}\r\n\r\nconst getDayId = (_id) => {\r\n\treturn `${_id.year}-${_id.month}-${_id.day}`\r\n}\r\n\r\nconst mapAggregates = ({ aggregates = [] }) => {\r\n\treturn aggregates.reduce(({ hourly, daily, channels }, a) => {\r\n\t\tconst { aggr = [], channel = {} } = a\r\n\r\n\t\tconst channelData = aggr\r\n\t\t\t.reduce(({ channelHourly, channelDaily }, e) => {\r\n\t\t\t\tconst { _id, value } = e\r\n\r\n\t\t\t\tconst hourId = getHourId(_id)\r\n\t\t\t\tchannelHourly[hourId] = value\r\n\r\n\t\t\t\tconst dayId = getDayId(_id)\r\n\r\n\t\t\t\tchannelDaily[dayId] = channelDaily[dayId] || 0\r\n\t\t\t\tchannelDaily[dayId] += value\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tchannelHourly,\r\n\t\t\t\t\tchannelDaily\r\n\t\t\t\t}\r\n\t\t\t}, { channelHourly: {}, channelDaily: {} })\r\n\r\n\t\thourly[channel.id] = channelData.channelHourly\r\n\t\tdaily[channel.id] = channelData.channelDaily\r\n\t\tchannels[channel.id] = channel\r\n\r\n\t\treturn {\r\n\t\t\thourly,\r\n\t\t\tdaily,\r\n\t\t\tchannels\r\n\t\t}\r\n\t}, { hourly: {}, daily: {}, channels: {} })\r\n}\r\n\r\nexport const PublisherStats = ({ aggregates, t }) => {\r\n\r\n\tconst data = mapAggregates({ aggregates })\r\n\r\n\t// console.log('data', data)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PublisherStatistics data={data.daily} channels={data.channels} options={{ title: t('DAILY') }} t={t} />\r\n\t\t\t<PublisherStatistics data={data.hourly} channels={data.channels} options={{ title: t('HOURLY') }} t={t} />\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { BidsStatusPie } from 'components/dashboard/charts/slot'\r\nimport Translate from 'components/translate/Translate'\r\nimport { exchange as ExchangeConstants } from 'adex-constants'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport classnames from 'classnames'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport StatsCard from './StatsCard'\r\nimport { styles } from './styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { PublisherStats } from './PublisherStats'\r\n\r\nconst { BidStatesLabels, BID_STATES } = ExchangeConstants\r\n\r\n// const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#EBE', '#FAC']\r\n\r\nexport class DashboardStats extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tbidsData: [],\r\n\t\t\tbidsStats: {}\r\n\t\t}\r\n\t}\r\n\r\n\t// goToBids = (tab) => {\r\n\t// \tthis.props.history.push('/dashboard/' + this.props.side + '/bids/' + tab)\r\n\t// }\r\n\r\n\tgoToAccount = () => {\r\n\t\tthis.props.history.push('/dashboard/' + this.props.side + '/account')\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.t('DASHBOARD'))\r\n\t}\r\n\r\n\thandleTabChange = (index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tmapBidsToStats = (bids, initialValue) => {\r\n\t\treturn bids.reduce((memo, bid) => {\r\n\t\t\tmemo.count += 1\r\n\t\t\tmemo.amount += parseInt(bid._amount, 10)\r\n\r\n\t\t\treturn memo\r\n\t\t}, { amount: 0, count: 0 })\r\n\t}\r\n\r\n\tmapClosedBidsToStats = (bids) => {\r\n\t\treturn bids.reduce((memo, bid) => {\r\n\t\t\tswitch (bid._state) {\r\n\t\t\tcase BID_STATES.Canceled.id:\r\n\t\t\t\tmemo.canceled.count += 1\r\n\t\t\t\tmemo.canceled.amount += parseInt(bid._amount, 10)\r\n\t\t\t\tbreak\r\n\t\t\tcase BID_STATES.Expired.id:\r\n\t\t\t\tmemo.expired.count += 1\r\n\t\t\t\tmemo.expired.amount += parseInt(bid._amount, 10)\r\n\t\t\t\tbreak\r\n\t\t\tcase BID_STATES.Completed.id:\r\n\t\t\t\tmemo.completed.count += 1\r\n\t\t\t\tmemo.completed.amount += parseInt(bid._amount, 10)\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t}, { completed: { amount: 0, count: 0 }, canceled: { amount: 0, count: 0 }, expired: { amount: 0, count: 0 } })\r\n\t}\r\n\r\n\tgetLabel = (state, count, extraLabel) => {\r\n\t\treturn this.props.t(BidStatesLabels[state]) + (extraLabel ? extraLabel : '') + ' [' + count + ']'\r\n\t}\r\n\r\n\tmapData = ({ action = [], active = [], closed = [], open = [] }) => {\r\n\t\t// NOTE: Ugly but with 1 loop  map all the needed data\r\n\t\tconst PieLabels = []\r\n\t\tconst PieDataCount = []\r\n\t\tconst PieDataAmount = []\r\n\t\tconst tabs = []\r\n\t\tlet totalCount = 0\r\n\r\n\t\tconst stats = {}\r\n\t\t// const { t } = this.props\r\n\r\n\t\tstats.action = this.mapBidsToStats(action)\r\n\t\tconst actionCount = stats.action.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Accepted.id, actionCount, ' (' + this.props.t('BIDS_READY_TO_VERIFY') + ')'))\r\n\t\tPieDataCount.push(actionCount)\r\n\t\tPieDataAmount.push(stats.action.amount)\r\n\t\ttotalCount += actionCount\r\n\t\ttabs.push('action')\r\n\r\n\t\tstats.active = this.mapBidsToStats(active)\r\n\t\tconst activeCount = stats.active.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Accepted.id, activeCount, ' (' + this.props.t('BIDS_ACTIVE') + ')'))\r\n\t\tPieDataCount.push(activeCount)\r\n\t\tPieDataAmount.push(stats.active.amount)\r\n\t\ttotalCount += activeCount\r\n\t\ttabs.push('active')\r\n\r\n\t\tstats.open = this.mapBidsToStats(open)\r\n\t\tconst openCount = stats.open.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.DoesNotExist.id, openCount))\r\n\t\tPieDataCount.push(openCount)\r\n\t\tPieDataAmount.push(stats.open.amount)\r\n\t\ttotalCount += openCount\r\n\t\ttabs.push('open')\r\n\r\n\t\tstats.closed = this.mapClosedBidsToStats(closed)\r\n\r\n\t\tconst completedCount = stats.closed.completed.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Completed.id, completedCount))\r\n\t\tPieDataCount.push(completedCount)\r\n\t\tPieDataAmount.push(stats.closed.completed.amount)\r\n\t\ttotalCount += completedCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tconst canceledCount = stats.closed.canceled.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Canceled.id, canceledCount))\r\n\t\tPieDataCount.push(canceledCount)\r\n\t\tPieDataAmount.push(stats.closed.canceled.amount)\r\n\t\ttotalCount += canceledCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tconst expiredCount = stats.closed.expired.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Expired.id, expiredCount))\r\n\t\tPieDataCount.push(expiredCount)\r\n\t\tPieDataAmount.push(stats.closed.expired.amount)\r\n\t\ttotalCount += expiredCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tstats.pieData = {\r\n\t\t\tlabels: PieLabels,\r\n\t\t\tdata: PieDataCount,\r\n\t\t\ttotalCount: totalCount\r\n\t\t}\r\n\r\n\t\tstats.tabs = tabs\r\n\r\n\t\treturn stats\r\n\t}\r\n\r\n\tBidsStateChart = ({ stats }) => {\r\n\t\tconst t = this.props.t\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BidsStatusPie\r\n\t\t\t\t\tpieData={stats.pieData}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\tchartTitle={t('TITLE_STATS_BY_BID_STATUS')}\r\n\t\t\t\t\tonPieClick={(ev) => {\r\n\t\t\t\t\t\tif (ev && !isNaN(ev._index)) {\r\n\t\t\t\t\t\t\tthis.goToBids(stats.tabs[ev._index])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: Common func to get account stats for here and account component\r\n\tInfoStats = ({ stats }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// side,\r\n\t\t\taccount\r\n\t\t} = this.props\r\n\t\t// const spentEarned = side === 'publisher' ? 'LABEL_TOTAL_REVENUE' : 'LABEL_TOTAL_EXPENSES'\r\n\r\n\t\tconst formatted = account.stats.formatted || {}\r\n\t\tconst {\r\n\t\t\t// walletAddress,\r\n\t\t\t// walletAuthType,\r\n\t\t\t// walletPrivileges,\r\n\t\t\t// walletBalanceEth,\r\n\t\t\t// walletBalanceDai,\r\n\t\t\t// identityAddress,\r\n\t\t\tidentityBalanceDai,\r\n\t\t\toutstandingBalanceDai,\r\n\t\t\ttotalIdentityBalanceDai\r\n\r\n\t\t} = formatted\r\n\t\tconst classes = this.props.classes\r\n\t\treturn (\r\n\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t{/* <StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tsubtitle={t(spentEarned)}\r\n\t\t\t\t\t// title={adxToFloatView(stats.closed.completed.amount || 0) + ' ADX'}\r\n\t\t\t\t\tonClick={() => this.goToBids('closed')}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={() => this.goToBids('action')}\r\n\t\t\t\t\tsubtitle={t('LABEL_AMOUNT_READY_TO_VERIFY')}\r\n\t\t\t\t\t// title={adxToFloatView(stats.action.amount || 0) + ' ADX'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t{side === 'advertiser' &&\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tlinkCard\r\n\t\t\t\t\t\tonClick={() => this.goToBids('open')}\r\n\t\t\t\t\t\tsubtitle={t('LABEL_OPEN_BIDS_AMOUNT')}\r\n\t\t\t\t\t\t// title={adxToFloatView(stats.open.amount || 0) + ' ADX'}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t} */}\r\n\r\n\t\t\t\t{/* <StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('WALLET_ETH_BALANCE')}\r\n\t\t\t\t\ttitle={walletBalanceEth + ' ETH'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('WALLET_DAI_BALANCE')}\r\n\t\t\t\t\ttitle={walletBalanceDai + ' DAI'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard> */}\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('IDENTITY_DAI_BALANCE_AVAILABLE_INFO', {\r\n\t\t\t\t\t\targs: [identityBalanceDai, outstandingBalanceDai]\r\n\t\t\t\t\t})}\r\n\t\t\t\t\ttitle={totalIdentityBalanceDai + ' DAI'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tside,\r\n\t\t\t// sideBids,\r\n\t\t\tclasses,\r\n\t\t\tt,\r\n\t\t\taccount\r\n\t\t} = this.props\r\n\t\tif (side !== 'advertiser' && side !== 'publisher') {\r\n\t\t\treturn (\r\n\t\t\t\t<SideSelect active={true} />\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tconst aggregates = (account && account.stats && account.stats.raw) ?\r\n\t\t\taccount.stats.raw.aggregates : null\r\n\r\n\t\t// const stats = this.mapData(sideBids)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item md={12} lg={12} xs={12}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dashboardCardBody)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t{aggregates ?\r\n\t\t\t\t\t\t\t\t\t<PublisherStats aggregates={account.stats.raw.aggregates} t={t} />\r\n\t\t\t\t\t\t\t\t\t: t('NO_STATS_YET')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item md={12} lg={6}>\r\n\t\t\t\t\t\t<this.InfoStats\r\n\t\t\t\t\t\t// stats={stats}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDashboardStats.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tside: memory.nav.side\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(DashboardStats)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\n\r\nconst targetIcon = {\r\n\t'location': LocationOnIcon,\r\n\t'gender': WcIcon,\r\n\t'age': ChildCareIcon\r\n}\r\n\r\nconst getTargetType = (tag) => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nclass UnitTargets extends Component {\r\n\r\n\ttargetArrayValues = (target, type, t, index) => {\r\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\t\treturn (\r\n\t\t\t<span key={target.tag + target.score + index}>\r\n\t\t\t\t<ListItem\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\r\n\t\t\t\t\t\tsecondary={target.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t{target.score}\r\n\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) =>\r\n\t\t<List\r\n\t\t\tdense\r\n\t\t\tsubheader={\r\n\t\t\t\tsubHeader\r\n\t\t\t\t\t? <ListSubheader caption={t(subHeader)} />\r\n\t\t\t\t\t: null}\r\n\t\t>\r\n\t\t\t{(targets.map((target) => {\r\n\t\t\t\tconst type = getTargetType(target.tag)\r\n\t\t\t\treturn this.targetArrayValues(target, type, t)\r\n\t\t\t}))}\r\n\t\t</List>\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<this.TargetsList {...this.props} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnitTargets.propTypes = {\r\n\ttargets: PropTypes.array.isRequired,\r\n\tsubHeader: PropTypes.string,\r\n\tt: PropTypes.func.isRequired\r\n}\r\n\r\nexport default UnitTargets\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnit } from 'adex-models'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Translate from 'components/translate/Translate'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\n\r\nexport class Unit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcloseDialog: false\r\n\t\t}\r\n\t}\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t//     return diffProps || diffState\r\n\t// }\r\n\trender() {\r\n\r\n\t\tconst { item, t, ...rest } = this.props\r\n\r\n\t\tif (!item) return (<h1>Unit '404'</h1>)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tsubHeader={true}\r\n\t\t\t\t\t\t/>}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnit.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state, props) {\r\n\treturn {\r\n\t\tobjModel: AdUnit,\r\n\t\titemType: 'AdUnit'\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst UnitItem = ItemHoc(Unit)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(UnitItem))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\nimport copy from 'copy-to-clipboard'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport url from 'url'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING =\r\n\t`window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\nconst { DAI } = contracts\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\r\n\tconst { type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = account.identity.address\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1]\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedToken: DAI.address,\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\tonCopy && onCopy()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>\r\n\t\t\t\t\t{iframeStr}\r\n\t\t\t\t</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{(process.env.NODE_ENV !== 'production') &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport class Slot extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\teditFallbackImg: false,\r\n\t\t\ttabIndex: 0,\r\n\t\t}\r\n\t}\r\n\r\n\thandleFallbackImgUpdateToggle = () => {\r\n\t\tconst active = this.state.editFallbackImg\r\n\t\tthis.setState({ editFallbackImg: !active })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\tisDemo,\r\n\t\t\titem,\r\n\t\t\taccount,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\tcanEditImg={!isDemo}\r\n\t\t\t\t\trightComponent={null}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar\r\n\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{ marginTop: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(tabIndex === 0) &&\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(tabIndex === 1) &&\r\n\t\t\t\t\t\t\t<IntegrationCode\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\t\tslot={item}\r\n\t\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\t\tthis.props.actions\r\n\t\t\t\t\t\t\t\t\t\t.addToast({ type: 'accept', action: 'X', label: t('COPIED_TO_CLIPBOARD'), timeout: 5000 })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSlot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tobjModel: AdSlot,\r\n\t\titemType: 'AdSlot',\r\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\r\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\r\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\r\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\r\n\t\tupdateImgExact: true\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SlotItem)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start'\r\n\t\t}\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass Items extends Component {\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.header)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, itemType, ...rest } = this.props\r\n\t\tconst items = Array.from(Object.values(this.props.items || {})) || []\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{!!this.props.newItemBtn && <this.props.newItemBtn />}\r\n\r\n\t\t\t\t<ItemsList\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tviewModeId={this.props.viewModeId}\r\n\t\t\t\t\tarchive\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItems.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titems: PropTypes.object.isRequired,\r\n\tviewModeId: PropTypes.string.isRequired,\r\n\theader: PropTypes.string.isRequired,\r\n\tobjModel: PropTypes.func.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n\tsortProperties: PropTypes.array.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\titems: persist.items[props.itemType] || [],\r\n\t\tside: memory.nav.side,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Items))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ListWithControls from 'components/dashboard/containers/Lists/ListWithControls'\r\nimport classnames from 'classnames'\r\nimport Rows from 'components/dashboard/collection/Rows'\r\nimport TableCellMui from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { styles } from './styles'\r\n\r\nconst SORT_PROPERTIES = [\r\n\t{ value: 'sendingTime', label: '' },\r\n\t{ value: 'status', label: '' },\r\n\t{ value: 'txMethod', label: '' },\r\n\t{ value: 'id', label: '' },\r\n]\r\n\r\nconst TableCell = ({ children, ...rest }) =>\r\n\t<TableCellMui\r\n\t\t{...rest}\r\n\t>\r\n\t\t{!!children && children}\r\n\t</TableCellMui >\r\n\r\nclass Transactions extends Component {\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.t('TRANSACTIONS'))\r\n\t}\r\n\r\n\trenderTableHead() {\r\n\t\tlet t = this.props.t\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t<TableCell> {t('TRANS_METHOD')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_ID')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_NONCE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_STATUS')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_SENDING_TIME')} </TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: make something common with unit bids \r\n\trenderTableRow(transaction, index, { to, selected }) {\r\n\t\tif (!transaction) return null\r\n\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow key={transaction.id || index}>\r\n\t\t\t\t<TableCell> {t(transaction.txMethod)} </TableCell>\r\n\t\t\t\t<TableCell\r\n\t\t\t\t\tclassName={classnames(classes.compactCol)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography noWrap>\r\n\t\t\t\t\t\t<Anchor target='_blank' href={process.env.ETH_SCAN_TX_HOST + transaction.id} > {transaction.id} </Anchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell> {transaction.nonce} </TableCell>\r\n\t\t\t\t<TableCell> {(transaction.status)} </TableCell>\r\n\t\t\t\t<TableCell> {formatDateTime(transaction.sendingTime)} </TableCell>\r\n\r\n\t\t\t</TableRow >\r\n\t\t)\r\n\t}\r\n\r\n\trenderRows = (items) =>\r\n\t\t<Rows\r\n\t\t\tmultiSelectable={false}\r\n\t\t\tselectable={false}\r\n\t\t\tside={this.props.side}\r\n\t\t\titem={items}\r\n\t\t\trows={items}\r\n\t\t\trowRenderer={this.renderTableRow.bind(this)}\r\n\t\t\ttableHeadRenderer={this.renderTableHead.bind(this)}\r\n\t\t/>\r\n\r\n\tsearchMatch = (transaction) => {\r\n\t\treturn (transaction.id || '') +\r\n\t\t\t(transaction.status || '') +\r\n\t\t\t(transaction.bidId || '') +\r\n\t\t\t(transaction.state || '') +\r\n\t\t\t(transaction.sendingTime || '')\r\n\t}\r\n\r\n\trender() {\r\n\t\t// let t = this.props.t\r\n\t\tconst { transactions } = this.props\r\n\r\n\t\tconst reduced = Object.keys(transactions).reduce((memo, key) => {\r\n\t\t\tif (key && ((key.toString()).length === 66)) {\r\n\t\t\t\tconst itm = { ...transactions[key] }\r\n\t\t\t\titm.id = key\r\n\t\t\t\tmemo.push(itm)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t}, [])\r\n\r\n\t\t// let itemsCount = reduced.length\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <div className={classnames(theme.heading, theme.Transactions, theme.items)}>\r\n                    <h2 > {t('TRANSACTIONS')} {'(' + itemsCount + ')'} </h2>\r\n                </div> */}\r\n\r\n\t\t\t\t<ListWithControls\r\n\t\t\t\t\titems={reduced}\r\n\t\t\t\t\tlistMode='rows'\r\n\t\t\t\t\tdelete\r\n\t\t\t\t\trenderRows={this.renderRows}\r\n\t\t\t\t\tsortProperties={SORT_PROPERTIES}\r\n\t\t\t\t\tsearchMatch={this.searchMatch}\r\n\t\t\t\t\tuiStateId='transactions'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTransactions.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\ttransactions: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist } = state\r\n\tconst { account, web3Transactions } = persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount,\r\n\t\ttransactions: {\r\n\t\t\t...(web3Transactions[account.wallet.address] || {}),\r\n\t\t\t...(web3Transactions[account.identity.address] || {}),\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(Transactions)))\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tcompactCol: {\r\n\t\t\tmaxWidth: 80\r\n\t\t}\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n\r\n// const { TX_STATUS } = ExchangeConstants\r\n\r\nexport default function NewTransactionHoc(Decorated) {\r\n\t// TODO: make it common for bids and items\r\n\tclass TransactionHoc extends Component {\r\n\t\tcomponentWillMount() {\r\n\t\t\t// console.log('TransactionHoc')\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\r\n\t\t}\r\n\r\n\t\t// addTx = (tx) => {\r\n\t\t//     let txData = { ...tx }\r\n\t\t//     txData.status = TX_STATUS.Pending.id\r\n\t\t//     txData.sendingTime = Date.now()\r\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\r\n\t\t// }\r\n\r\n\t\tonSave = (err, tx, manyTxs) => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTransaction()\r\n\t\t}\r\n\r\n\t\tresetTransaction = () => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.resetNewTransaction({ tx: txId })\r\n\t\t}\r\n\r\n\t\thandleSaveRes = ({ err, res }) => {\r\n\t\t\tconst { t, actions } = this.props\r\n\t\t\t// const areManyTxs = Array.isArray(res)\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tactions.addToast({ type: 'cancel', action: 'X', label: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }), timeout: 50000 })\r\n\t\t\t}\r\n\r\n\t\t\tthis.onSave(err, res, Array.isArray(res))\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tthis.handleChange('waitingForWalletAction', true)\r\n\t\t\tthis.props.saveFn({ acc: this.props.account, transaction: this.props.transaction })\r\n\t\t\t\t.then((res = {}) => {\r\n\t\t\t\t\tconsole.log('res on save', res)\r\n\r\n\t\t\t\t\tconst txs = res.txResults || res\r\n\t\t\t\t\tconst err = res.err || null\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error = {}) => {\r\n\t\t\t\t\tconsole.log('err on save', error)\r\n\t\t\t\t\tconst res = error.txResults || null\r\n\t\t\t\t\tconst err = error.err || error\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\t// TODO: take a look at onSave if change something\r\n\t\t\tthis.onSave(null, null)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tlet transaction = this.props.transaction || {}\r\n\t\t\tlet props = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\ttransaction={transaction}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tresetTransaction={this.resetTransaction}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTransactionHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tlabel: PropTypes.string,\r\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\t\ttransaction: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tsaveFn: PropTypes.func\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\tconst txId = props.stepsId\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\t\ttxId: txId,\r\n\t\t\tspinner: memory.spinners[txId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(TransactionHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { validateNumber, isEthAddress } from 'helpers/validators'\r\n\r\nclass WithdrawFromIdentity extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.transaction.withdrawAmount) {\r\n\t\t\tthis.props.validate('withdrawAmount', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet errMsgArgs = []\r\n\t\tif (isValid && (parseFloat(numStr) > parseFloat(this.props.identityAvailable))) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\terrMsgArgs = [this.props.identityAvailable, 'DAI']\r\n\t\t}\r\n\r\n\t\tthis.props.validate('withdrawAmount', { isValid: isValid, err: { msg: msg, args: errMsgArgs }, dirty: dirty })\r\n\t}\r\n\r\n\tvalidateAddress = (addr, dirty) => {\r\n\t\tconst isValid = isEthAddress(addr)\r\n\t\tconst msg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\tthis.props.validate('withdrawTo', { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { transaction, t, invalidFields, identityAvailable, handleChange } = this.props\r\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\r\n\t\tconst errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div> {t('EXCHANGE_CURRENT_DAI_BALANCE_AVAILABLE_ON_IDENTITY')} {identityAvailable} </div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={(ev) => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAddress(withdrawTo, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAddress(withdrawTo, false)}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\t\tname='withdrawAmount'\r\n\t\t\t\t\tvalue={withdrawAmount || ''}\r\n\t\t\t\t\tonChange={(ev) => handleChange('withdrawAmount', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={errAmount && !!errAmount.dirty ?\r\n\t\t\t\t\t\terrAmount.errMsg : t('MAX_AMOUNT_TO_WITHDRAW', { args: [identityAvailable, 'DAI'] })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawFromIdentityForm)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { validateNumber, isEthAddress } from 'helpers/validators'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.keys(IdentityPrivilegeLevel)\r\n\t.map(key => {\r\n\t\treturn {\r\n\t\t\tvalue: IdentityPrivilegeLevel[key],\r\n\t\t\tlabel: key\r\n\t\t}\r\n\t})\r\n\r\nclass SeAddressPrivilege extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.transaction.withdrawAmount) {\r\n\t\t\tthis.props.validate('setAddr', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet errMsgArgs = []\r\n\t\tif (isValid && (parseFloat(numStr) > parseFloat(this.props.identityAvailable))) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\terrMsgArgs = [this.props.identityAvailable, 'DAI']\r\n\t\t}\r\n\r\n\t\tthis.props.validate('withdrawAmount', { isValid: isValid, err: { msg: msg, args: errMsgArgs }, dirty: dirty })\r\n\t}\r\n\r\n\tvalidateAddress = (addr, dirty) => {\r\n\t\tconst isValid = isEthAddress(addr)\r\n\t\tconst msg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\tthis.props.validate('setAddr', { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { transaction, t, invalidFields, identityAvailable, handleChange } = this.props\r\n\t\tconst { setAddr, privLevel } = transaction || {}\r\n\t\t// const errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')} {identityAvailable} </div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\tonChange={(ev) => handleChange('setAddr', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAddress(setAddr, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAddress(setAddr, false)}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\thelperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\tonChange={(val) => handleChange('privLevel', val)}\r\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst SeAddressPrivilegeForm = NewTransactionHoc(SeAddressPrivilege)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SeAddressPrivilegeForm)\r\n","import grey from '@material-ui/core/colors/grey'\r\n\r\nexport const styles = theme => {\r\n\tconst spacing = theme.spacing(3)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: grey[200], // TODO: color,\r\n\t\t\t// maxHeight: `${fullHeight}`,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\r\n\t\t\t}\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word'\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto'\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 0,\r\n\t\t\t// left: 0,\r\n\t\t\t// bottom: 0,\r\n\t\t\t// right: 0,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column'\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%'\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1)\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1)\r\n\t\t\t}\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer'\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1)\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left'\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)'\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: 40,\r\n\t\t\tzIndex: theme.zIndex.appBar\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto'\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute'\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative'\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\n// TODO: fix responsive styles\r\nconst propRow = ({ classes, left, right, className, classNameLeft, classNameRight, style = {} }) =>\r\n\t<Grid item container spacing={2} xs={12} className={classnames(className)} style={style}>\r\n\t\t<Grid item xs={12} sm={4} lg={3} className={classnames(classes.leftCol, classes.uppercase, classNameLeft)}>{left}</Grid >\r\n\t\t<Grid item xs={12} sm={8} lg={9} className={classnames(classes.rightCol, classes.breakLong, classNameRight)}>{right}</Grid >\r\n\t</Grid>\r\n\r\nconst contentBox = ({ classes, children, className }) =>\r\n\t<div className={classnames(classes.contentBox, className)}>\r\n\t\t{children}\r\n\t</div>\r\n\r\nconst contentBody = ({ classes, children, className }) =>\r\n\t<div className={classnames(classes.contentBody, className)}>\r\n\t\t{children}\r\n\t</div>\r\n\r\nconst contentStickyTop = ({ classes, children, className }) =>\r\n\t<div className={classnames(classes.contentStickyTop)}>\r\n\t\t{children}\r\n\t</div>\r\n\r\nconst topLoading = ({ classes, msg, className }) =>\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div> {msg} </div>\r\n\t</div>\r\n\r\nconst fullContentSpinner = ({ classes }) =>\r\n\t<CircularProgress className={classnames(classes.progressCircleCenter)} size={50} />\r\n\r\nexport const PropRow = withStyles(styles)(propRow)\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\r\n\tswitch (authType) {\r\n\tcase AUTH_TYPES.METAMASK.name:\r\n\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\tbreak\r\n\tcase AUTH_TYPES.TREZOR.name:\r\n\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\tbreak\r\n\tcase AUTH_TYPES.LEDGER.name:\r\n\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\tbreak\r\n\tdefault:\r\n\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\tbreak\r\n\t}\r\n\r\n\treturn (\r\n\t\t<TopLoading msg={t(msg)} />\r\n\t)\r\n}","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport const IdentityWithdrawPreview = ({ t, withdrawTo, classes, fees, withdrawAmount }) =>\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawAmount'\r\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', { args: [fees.fees, 'DAI', fees.toGet, 'DAI'] })}\r\n\t\t\t\t\tprimary={withdrawAmount + ' DAI'}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n\r\nexport const SetPrivilegePreview = ({ t, setAddr, classes, fees, privLevel }) =>\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', { args: [fees.fees, 'DAI'] })}\r\n\t\t\t\t\tprimary={privilegesNames[privLevel]}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\n// import { DEFAULT_GAS_PRICE } from 'services/smart-contracts/constants'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport { PropRow, ContentBox, ContentBody, ContentStickyTop, FullContentSpinner } from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview\r\n} from './previews'\r\n\r\nclass TransactionPreview extends Component {\r\n\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\tgas: null,\r\n\t\t\tfees: null,\r\n\t\t\terrors: []\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { getFeesFn, actions, handleChange, identityAvailable, transaction, txId, t, account } = this.props\r\n\t\tif (getFeesFn && Object.keys(transaction).length) {\r\n\r\n\t\t\tactions.updateSpinner(txId, true)\r\n\t\t\tgetFeesFn({ acc: account, transaction: transaction })\r\n\t\t\t\t.then((fees) => {\r\n\t\t\t\t\thandleChange('fees', fees)\r\n\t\t\t\t\tthis.setState({ fees: fees })\r\n\t\t\t\t\tactions.updateSpinner(txId, false)\r\n\r\n\t\t\t\t\tif (parseFloat(fees.fees || 0) > parseFloat(identityAvailable)) {\r\n\t\t\t\t\t\thandleChange('errors', [t('INSUFFICIENT_BALANCE_FOR_FEES', { args: [identityAvailable, 'DAI', fees.fees, 'DAI'] })])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tactions.updateSpinner(txId, false)\r\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { transaction = {}, t, classes, account, previewWarnMsgs, spinner, stepsId } = this.props\r\n\t\tconst errors = transaction.errors || []\r\n\t\tconst {\r\n\t\t\twithdrawTo,\r\n\t\t\twithdrawAmount,\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t\tfees = {} } = transaction\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{spinner ?\r\n\t\t\t\t\t<FullContentSpinner />\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ContentBox>\r\n\t\t\t\t\t\t{transaction.waitingForWalletAction ?\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t\t</ContentStickyTop> : null}\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t{errors.length ?\r\n\t\t\t\t\t\t\t\terrors.map((err, index) =>\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>)\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t\t{previewWarnMsgs ?\r\n\t\t\t\t\t\t\t\tpreviewWarnMsgs.map((msg, index) =>\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\r\n\t\t\t\t\t\t\t{(stepsId === 'withdrawFromIdentity') &&\r\n\t\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t{(stepsId === 'setIdentityPrivilege') &&\r\n\t\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n\testimateGasFn: PropTypes.func\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\ttxId: txId,\r\n\t\tspinner: memory.spinners[txId],\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(TransactionPreviewForm))\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)'\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2]\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Stepper } from 'react-step/lib/stepper'\r\nimport { withStepper } from 'react-step/lib/with-stepper'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n                    ({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant=\"progress\"\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t>\r\n\t\t\t\t</MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI\r\n\t\t\talternativeLabel\r\n\t\t\tactiveStep={currentPage}\r\n\t\t>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title} >\r\n\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page.title}\r\n\t\t\t\t\t\t</StepLabel>\r\n\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nclass MaterialStepper extends React.Component {\r\n\r\n\t// onComplete() {\r\n\t//     // console.log('currPage', this.currPage)\r\n\t//     let props = this.props\r\n\t//     let page = props.pages[props.currentPage]\r\n\r\n\t//     // console.log('props.pages[props.currentPage]', page.component)\r\n\t// }\r\n\r\n\tgoToPage(nextStep) {\r\n\t\tlet canAdvance = (nextStep > this.props.currentPage) && this.canAdvanceNextToPage()\r\n\t\tlet canGoBack = nextStep < this.props.currentPage\r\n\r\n\t\tif (canAdvance || canGoBack) {\r\n\t\t\tthis.props.setPageIndex(nextStep)\r\n\t\t}\r\n\t}\r\n\r\n\tcanAdvanceNextToPage() {\r\n\t\t/* TODO: add check for optional steps that can be skipped\r\n        */\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\tif (this.props.canAdvance && !Object.keys(this.props.validations[page.props.validateId] || {}).length) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tisValidPage() {\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\treturn !Object.keys(this.props.validations[page.props.validateId] || {}).length\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { pages, component, validations, currentPage, t, classes, ...props } = { ...this.props }\r\n\t\tlet page = pages[currentPage]\r\n\t\tlet Comp = page.component\r\n\r\n\t\treturn (\r\n\t\t\t<div >\r\n\t\t\t\t<Paper>\r\n\t\t\t\t\t<StepperNav className={classes.stepperNav} {...props} pages={pages} classes={classes} currentPage={currentPage} goToPage={this.goToPage.bind(this)} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.pagePaper\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.pageContent}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<Comp {...page.props} />}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.controls}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.left}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{props.canReverse ?\r\n\t\t\t\t\t\t\t\t<Button onClick={() => props.setPageIndex(currentPage - 1)} >\r\n\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t\t{page.cancelBtn ?\r\n\t\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t{this.canAdvanceNextToPage() && !page.completeBtn ?\r\n\t\t\t\t\t\t\t\t<Button onClick={this.goToPage.bind(this, currentPage + 1)} >\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t!page.completeBtn ?\r\n\t\t\t\t\t\t\t\t\t<Button label='Continue' disabled >\r\n\t\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t\t</Button >\r\n\t\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t{page.completeBtn && this.isValidPage() ?\r\n\t\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst WithMaterialStepper = withStepper(withStyles(styles)(Translate(MaterialStepper)))\r\n\r\nclass MyMaterialStepper extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Stepper pages={this.props.pages} style={{ display: 'block' }}>\r\n\t\t\t\t<WithMaterialStepper itemType={this.props.itemType} validations={this.props.validations} />\r\n\t\t\t</Stepper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMyMaterialStepper.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpages: PropTypes.array.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tlet persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tvalidations: memory.validations\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)((MyMaterialStepper))\r\n","export const styles = {\r\n\troot: {\r\n\t\tcolor: 'purple',\r\n\t\t'&$active': {\r\n\t\t\tcolor: 'green'\r\n\t\t}\r\n\t},\r\n\tactive: {\r\n\t\tcolor: 'yellow'\r\n\t},\r\n\tpagePaper: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 115,\r\n\t},\r\n\tpageContent: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t\tbottom: 50,\r\n\t\tpadding: 20,\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t'@media(max-width:500px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0\r\n\t\t}\r\n\t},\r\n\tcontrols: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 5,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t},\r\n\tright: {\r\n\t\ttextAlign: 'right',\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '86%'\r\n\t\t}\r\n\t},\r\n\tleft: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'left',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '14%'\r\n\t\t}\r\n\t},\r\n\tmobileStepper: {\r\n\t\twidth: '100%',\r\n\t\t'& div': {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '10px'\r\n\t\t}\r\n\t},\r\n\tmobileStepLabel: {\r\n\t\t'& span': {\r\n\t\t\tfontSize: '24px',\r\n\t\t\tmargin: '14px auto'\r\n\t\t},\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 'auto'\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n// import { connect } from 'react-redux'\r\n// import { bindActionCreators } from 'redux'\r\n// import actions from 'actions'\r\nimport MaterialStepper from 'components/dashboard/forms/stepper/MaterialUiStepper'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass FormSteps extends Component {\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn (JSON.stringify(this.props) !== JSON.stringify(nextProps))\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pages = []\r\n\t\tconst { t, SaveBtn, CancelBtn, onSave, stepsId, stepsPages, stepsPreviewPage, validateIdBase, ...rest } = this.props\r\n\t\tconst cancelButton = () => <CancelBtn  {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tstepsPages.forEach((page, index) => {\r\n\t\t\tpages.push({\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page || page),\r\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index }\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tpages.push({\r\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\r\n\t\t\tcompleteBtn: () => <SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />,\r\n\t\t\tcancelBtn: cancelButton,\r\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\r\n\t\t\tprops: { ...this.props, validateId: validateId + '-' + stepsPages.length }\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t// <div style={{ textAlign: 'left' }}>\r\n\t\t\t<MaterialStepper pages={pages} />\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\titemPages: PropTypes.arrayOf(PropTypes.func),\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsPages: PropTypes.arrayOf(PropTypes.object)\r\n}\r\n\r\nexport default Translate(FormSteps)","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Translate from 'components/translate/Translate'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { ContentBox, ContentBody, ContentStickyTop } from 'components/common/dialog/content'\r\nimport { logOut, isDemoMode } from 'services/store-data/auth'\r\nimport DEMO_IMAGE from 'resources/rekt-eddie.png'\r\nimport Img from 'components/common/img/Img'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn <span className={classnames(classes.textBtn, className)} style={style} onClick={onClick}> {label} </span>\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = (props) => {\r\n\treturn <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass WithDialog extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\topen: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t\tconst shouldUpdate = (this.state.open !== nextState.open)\r\n\t\t\t\t|| (JSON.stringify(this.props) !== JSON.stringify(nextProps))\r\n\r\n\t\t\treturn shouldUpdate\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tthis.setState({ open: !this.state.open })\r\n\t\t}\r\n\r\n\t\tcloseDialog = () => {\r\n\t\t\tthis.setState({ open: false })\r\n\t\t}\r\n\r\n\t\trenderDemoModeAction = () => {\r\n\t\t\tconst { classes, t } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t{t('DEMO_MODE_ACTION_DESCRIPTION')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={logOut}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('DEMO_GO_AUTH_BTN')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tclassName={classes.demoImg}\r\n\t\t\t\t\t\t\t\tallowFullscreen={false}\r\n\t\t\t\t\t\t\t\tsrc={DEMO_IMAGE}\r\n\t\t\t\t\t\t\t\talt={'Demo image'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\ticonButton,\r\n\t\t\t\ttextButton,\r\n\t\t\t\tfabButton,\r\n\t\t\t\tvariant,\r\n\t\t\t\tfabVariant,\r\n\t\t\t\tcolor,\r\n\t\t\t\tsize,\r\n\t\t\t\tmini,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\tbtnLabelArgs,\r\n\t\t\t\tdisabled,\r\n\t\t\t\tclassName,\r\n\t\t\t\ticon,\r\n\t\t\t\ttitle,\r\n\t\t\t\tdialogActions,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\r\n\t\t\tlet ButtonComponent = Button\r\n\r\n\t\t\tconst btnProps = {\r\n\t\t\t\tcolor,\r\n\t\t\t\tsize,\r\n\t\t\t\tmini,\r\n\t\t\t\tvariant\r\n\t\t\t}\r\n\r\n\t\t\tif (iconButton) {\r\n\t\t\t\tButtonComponent = IconButton\r\n\t\t\t} else if (textButton) {\r\n\t\t\t\tButtonComponent = TextBtn\r\n\t\t\t} else if (fabButton) {\r\n\t\t\t\tButtonComponent = Fab\r\n\t\t\t}\r\n\r\n\t\t\tconst btnLabel = t(this.props.btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\tconst isDemo = isDemoMode()\r\n\r\n\t\t\tconst { open } = this.state\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div >\r\n\t\t\t\t\t<ButtonComponent\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\taria-label={btnLabel}\r\n\t\t\t\t\t\tlabel={btnLabel}\r\n\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\t\t// style={this.props.style}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{icon && <Icon className={classnames({ [classes.btnIconLeft]: !iconButton })} > {icon}</Icon>}\r\n\t\t\t\t\t\t{!iconButton && btnLabel}\r\n\t\t\t\t\t</ButtonComponent>\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t\t// fullScreen\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={this.handleToggle}\r\n\t\t\t\t\t// onOverlayClick={this.handleToggle}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* <AppBar className={classes.appBar}>\r\n                            <Toolbar> */}\r\n\t\t\t\t\t\t<DialogTitle\r\n\t\t\t\t\t\t\tdisableTypography\r\n\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tvariant='title'\r\n\t\t\t\t\t\t\t\tclasses={\r\n\t\t\t\t\t\t\t\t\t{ title: classnames(classes.dialogTitle, classes.breakLong) }\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(title)}\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t{/* </Toolbar>\r\n                        </AppBar> */}\r\n\t\t\t\t\t\t<DialogContent\r\n\t\t\t\t\t\t\tclasses={{ root: classes.content }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisDemo ?\r\n\t\t\t\t\t\t\t\t\t// NOTE: ugly but it's temp and saves a lot of work!\r\n\t\t\t\t\t\t\t\t\tthis.renderDemoModeAction()\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t\tcloseDialog={this.closeDialog}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t{dialogActions &&\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t{dialogActions}\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Dialog>\r\n\r\n\t\t\t\t</div >\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string.isRequired,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool\r\n\t}\r\n\r\n\treturn Translate(withStyles(styles)(WithDialog))\r\n}\r\n\r\n","import React from 'react'\r\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport Button from '@material-ui/core/Button'\r\nimport TransactionHoc from './TransactionHoc'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\n// import SaveIcon from '@material-ui/icons/Save'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege\r\n} from 'services/smart-contracts/actions/identity'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst SaveBtn = ({ save, saveBtnLabel, saveBtnIcon, t, transaction, waitingForWalletAction, spinner, ...other }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={(!!transaction.errors && !!transaction.errors.length) || !!transaction.waitingForWalletAction || !!spinner}\r\n\t\t>\r\n\t\t\t{transaction.waitingForWalletAction ? <HourglassEmptyIcon /> : (saveBtnIcon || '')}\r\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tonClick={cancel}\r\n\t\t>\r\n\t\t\t{t(cancelBtnLabel || 'CANCEL')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\r\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\r\n\r\nconst txCommon = {\r\n\tSaveBtn: SaveBtnWithTransaction,\r\n\tCancelBtn: CancelBtnWithTransaction,\r\n\tvalidateIdBase: 'tx-',\r\n\tdarkerBackground: true\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = (props) =>\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel=\"ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN\"\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle=\"ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE\"\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[{ title: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP', page: WithdrawFromExchangePage }]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_MAKE_TR', page: TransactionPreview }}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn props.actions.identityWithdraw({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\twithdrawTo: transaction.withdrawTo,\r\n\t\t\t})\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction } = {}) => {\r\n\t\t\treturn withdrawFromIdentity({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\tgetFeesOnly: true\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n\r\n\r\nexport const SetIdentityPrivilege = (props) =>\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel=\"ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN\"\r\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\ttitle=\"ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE\"\r\n\t\tstepsId='setIdentityPrivilege'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[{ title: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP', page: SeAddressPrivilege }]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_MAKE_TR', page: TransactionPreview }}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn props.actions.addrIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr:  transaction.setAddr\r\n\t\t\t})\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction } = {}) => {\r\n\t\t\treturn setIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr:  transaction.setAddr,\r\n\t\t\t\tgetFeesOnly: true\r\n\t\t\t})\r\n\t\t}}\r\n\t/>","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport copy from 'copy-to-clipboard'\r\nimport Translate from 'components/translate/Translate'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tSetIdentityPrivilege\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\r\n\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nclass AccountInfo extends React.Component {\r\n\t// eslint-disable-next-line no-useless-constructor\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\twalletJsonData: this.localWalletDownloadHref(),\r\n\t\t\texpanded: false\r\n\t\t}\r\n\t}\r\n\r\n\tUNSAFE_componentWillMount() {\r\n\t\tconst { t, actions, account } = this.props\r\n\t\tconst { updateNav, updateAccountStats } = actions\r\n\t\tupdateNav('navTitle', t('ACCOUNT'))\r\n\t\tupdateAccountStats(account)\r\n\t}\r\n\r\n\tlocalWalletDownloadHref = () => {\r\n\t\tconst { account } = this.props\r\n\t\tconst { email, password } = account.wallet\r\n\t\tconst obj = getRecoveryWalletData({ email, password })\r\n\t\tif (!obj) {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tconst data = \"data:text/json;charset=utf-8,\"\r\n\t\t\t+ encodeURIComponent(JSON.stringify(obj))\r\n\t\treturn data\r\n\t}\r\n\r\n\tonSave = () => {\r\n\t\t// this.getStats()\r\n\t}\r\n\r\n\thandleExpandChange = () => {\r\n\t\tthis.setState({ expanded: !this.state.expanded })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, account, classes, actions } = this.props\r\n\t\tconst formatted = account.stats.formatted || {}\r\n\t\tconst {\r\n\t\t\twalletAddress,\r\n\t\t\twalletAuthType,\r\n\t\t\twalletPrivileges,\r\n\t\t\t// walletBalanceEth,\r\n\t\t\t// walletBalanceDai,\r\n\t\t\tidentityAddress,\r\n\t\t\tidentityBalanceDai\r\n\t\t} = formatted\r\n\r\n\t\tconst { authType, email } = account.wallet\r\n\t\tconst { walletJsonData, expanded } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t// dense={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tprimary={identityAddress}\r\n\t\t\t\t\t\t\tsecondary={(account._authType === 'demo')\r\n\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\r\n\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{walletJsonData &&\r\n\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tid='download-wallet-json'\r\n\t\t\t\t\t\t\t\t\thref={this.localWalletDownloadHref()}\r\n\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\r\n\t\t\t\t\t\t\t\t\t\t<DownloadIcon />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\tthis.props.actions\r\n\t\t\t\t\t\t\t\t\t.addToast({ type: 'accept', action: 'X', label: t('COPIED_TO_CLIPBOARD'), timeout: 5000 })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tsecondary={walletAddress}\r\n\t\t\t\t\t\t\tprimary={(account.authType === 'demo')\r\n\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_WALLET_ADDRESS', { args: [walletAuthType, walletPrivileges] })\r\n\t\t\t\t\t\t\t\t: t('WALLET_INFO_LABEL', { args: [walletAuthType, walletPrivileges || ' - ', authType] })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ListItem\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={identityBalanceDai + ' DAI'}\r\n\t\t\t\t\t\t\tsecondary={t('IDENTITY_DAI_BALANCE_AVAILABLE')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className={classes.itemActions}>\r\n\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonSave={this.onSave}\r\n\t\t\t\t\t\t\t\tidentityAvailable={identityBalanceDai}\r\n\t\t\t\t\t\t\t\tidentityAvailableRaw={identityBalanceDai}\r\n\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tactions={actions}\r\n\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ExpansionPanel expanded={expanded} onChange={this.handleExpandChange}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\taria-controls=\"panel1bh-content\"\r\n\t\t\t\t\t\t\tid=\"panel1bh-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography className={classes.heading}>{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}</Typography>\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className={classes.itemActions}>\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tonSave={this.onSave}\r\n\t\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={identityBalanceDai}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAccountInfo.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\tconst { account } = persist\r\n\r\n\treturn {\r\n\t\taccount: account,\r\n\t\tside: memory.nav.side\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(AccountInfo)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\titemActions: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: '0 0 187px',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\talignItems: 'flex-end',\r\n\t\t\tjustifyContent: 'space-around'\r\n\t\t},\r\n\t\tactionBtn: {\r\n\t\t\tmarginBottom: spacing\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word'\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdUnit',\r\n\t\t\t\tAdUnit\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem, account, addTo } = this.props\r\n\t\t\tnewItem.owner = account.wallet.address\r\n\t\r\n\t\t\tactions.addItem(newItem, addTo, account.wallet.authSig)\t\t\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\t\t\t\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit'])\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes\r\n\t.map(type => {\r\n\t\treturn {\r\n\t\t\tvalue: type,\r\n\t\t\tlabel: type.split('_')[1]\r\n\t\t}\r\n\t})\r\n\r\nclass AdUnitBasic extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { newItem } = props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.title)\r\n\r\n\t\tthis.props.validate(\r\n\t\t\t'title',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.description)\r\n\r\n\t\tthis.props.validate(\r\n\t\t\t'description',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\tvalidateTargetUrl(targetUrl, dirty) {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adUnitPost.type)\r\n\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tnewItem,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, title, description } = newItem\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errTargetUrl = invalidFields['targetUrl']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\thandleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errTitle && !!errTitle.dirty)\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: (t('TITLE_HELPER'))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\thandleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(title, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errDescription && !!errDescription.dirty)\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: (t('DESCRIPTION_HELPER'))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\thandleChange('targetUrl', ev.target.value)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\r\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errTargetUrl && !!errTargetUrl.dirty)\r\n\t\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType\r\n\t\t\t\t\t\t\t\t.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\r\n\r\nexport default Translate(NewAdUnitBasic)\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\n\r\nconst getWidAndHightFromType = (type) => {\r\n\ttype = type || 'legacy_300x100'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = (type.split('_')[1]).split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10)\r\n\t}\r\n}\r\n\r\nclass AdUnitMedia extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } =\r\n\t\t\tgetWidAndHightFromType(type)\r\n\r\n\t\tif (tempUrl) {\r\n\t\t\tconst isValidMediaSize =\r\n\t\t\t\t(temp.width === width) &&\r\n\t\t\t\t(temp.height === height)\r\n\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: isValidMediaSize,\r\n\t\t\t\terr: {\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\targs: [width, height, 'px']\r\n\t\t\t\t},\r\n\t\t\t\tdirty: true\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { newItem, t, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\tvalidateMedia.bind(this,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\targs: [width, height, 'px']\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired\r\n}\r\n\r\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\r\n\r\nexport default Translate(NewAdUnitMedia)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport const renderInput = (inputProps) => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({ suggestion, index, itemProps, highlightedIndex, selectedItem, showSelected }) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected = ((selectedItem || {}).value || selectedItem || '').indexOf(suggestion.value) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<MenuItem\r\n\t\t\t{...itemProps}\r\n\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\tselected={isHighlighted}\r\n\t\t\tcomponent=\"div\"\r\n\t\t\tstyle={{\r\n\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{suggestion.label}\r\n\t\t</MenuItem>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = (inputValue) => {\r\n\treturn {\r\n\t\tlabel: `${translate('CREATE_TAG_LABEL')} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim()\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (inputValue = '', source, allowCreate, validateCreation) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (!inputValue || suggestion.label.toLowerCase().trim().indexOf(inputValue) !== -1)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map((item) => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (!values.includes(inputValue)\r\n            && allowCreate\r\n            && (!validateCreation || validateCreation(inputValue))) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport keycode from 'keycode'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\n\r\nclass DownshiftMultiple extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tinputValue: '',\r\n\t\t\tselectedItem: props.value || [],\r\n\t\t}\r\n\t}\r\n\r\n    handleKeyDown = event => {\r\n    \tconst { inputValue, selectedItem } = this.state\r\n    \tif (selectedItem.length && !inputValue.length && keycode(event) === 'backspace') {\r\n    \t\tconst newItemValue = selectedItem.slice(0, selectedItem.length - 1)\r\n    \t\tthis.setState({\r\n    \t\t\tselectedItem: newItemValue,\r\n    \t\t})\r\n\r\n    \t\tthis.props.onChange(newItemValue)\r\n    \t}\r\n    }\r\n\r\n    handleInputChange = event => {\r\n    \tconst value = event.target.value.toLowerCase()\r\n    \tthis.setState({ inputValue: value })\r\n    }\r\n\r\n    handleChange = item => {\r\n    \tlet { selectedItem } = this.state\r\n\r\n    \tif (selectedItem.indexOf(item.value) === -1) {\r\n    \t\tselectedItem = [...selectedItem, item.value]\r\n    \t}\r\n\r\n    \tthis.setState({\r\n    \t\tinputValue: '',\r\n    \t\tselectedItem,\r\n    \t})\r\n\r\n    \tthis.props.onChange(selectedItem)\r\n    }\r\n\r\n    handleDelete = item => () => {\r\n    \tconst selectedItem = [...this.state.selectedItem]\r\n    \tselectedItem.splice(selectedItem.indexOf(item), 1)\r\n\r\n    \tthis.setState({ selectedItem })\r\n    \tthis.props.onChange(selectedItem)\r\n    }\r\n\r\n    /**\r\n     * source {'propValue': 'propsLabel'} - skip one mapping to get the label for Chip\r\n     */\r\n    render() {\r\n    \tconst { classes, source, label, id, placeholder, helperText, openOnClick, allowCreate, validateCreation } = this.props\r\n    \tconst { inputValue, selectedItem } = this.state\r\n    \tconst allValues = Object.keys(source).map(key => { return { value: key, label: source[key] } })\r\n\r\n    \treturn (\r\n    \t\t<Downshift\r\n    \t\t\tinputValue={inputValue}\r\n    \t\t\tonChange={this.handleChange}\r\n    \t\t\tselectedItem={selectedItem}\r\n    \t\t\t// defaultIsOpen={true}\r\n    \t\t\titemToString={(item) => item.label}\r\n    \t\t>\r\n    \t\t\t{({\r\n    \t\t\t\tgetInputProps,\r\n    \t\t\t\tgetItemProps,\r\n    \t\t\t\tisOpen,\r\n    \t\t\t\tinputValue: inputValue2,\r\n    \t\t\t\tselectedItem: selectedItem2,\r\n    \t\t\t\thighlightedIndex,\r\n    \t\t\t\ttoggleMenu\r\n    \t\t\t}) => (\r\n    \t\t\t\t<div className={classes.container}>\r\n    \t\t\t\t\t{renderInput({\r\n    \t\t\t\t\t\tfullWidth: true,\r\n    \t\t\t\t\t\tclasses,\r\n    \t\t\t\t\t\thelperText,\r\n    \t\t\t\t\t\tlabel,\r\n    \t\t\t\t\t\tInputProps: getInputProps({\r\n    \t\t\t\t\t\t\tstartAdornment: selectedItem.map(item => (\r\n    \t\t\t\t\t\t\t\t<Chip\r\n    \t\t\t\t\t\t\t\t\tkey={item}\r\n    \t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n    \t\t\t\t\t\t\t\t\tlabel={source[item]}\r\n    \t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n    \t\t\t\t\t\t\t\t\tonDelete={this.handleDelete(item)}\r\n    \t\t\t\t\t\t\t\t/>\r\n    \t\t\t\t\t\t\t)),\r\n    \t\t\t\t\t\t\tonChange: this.handleInputChange,\r\n    \t\t\t\t\t\t\tonKeyDown: this.handleKeyDown,\r\n    \t\t\t\t\t\t\tplaceholder,\r\n    \t\t\t\t\t\t\tid,\r\n    \t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu()\r\n    \t\t\t\t\t\t}),\r\n    \t\t\t\t\t})}\r\n    \t\t\t\t\t{isOpen ? (\r\n    \t\t\t\t\t\t<Paper className={classes.paper} square>\r\n    \t\t\t\t\t\t\t{getSuggestions(inputValue2, allValues, allowCreate, validateCreation).map((suggestion, index) =>\r\n    \t\t\t\t\t\t\t\trenderSuggestion({\r\n    \t\t\t\t\t\t\t\t\tsuggestion,\r\n    \t\t\t\t\t\t\t\t\tindex,\r\n    \t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\r\n    \t\t\t\t\t\t\t\t\thighlightedIndex,\r\n    \t\t\t\t\t\t\t\t\tselectedItem: selectedItem2,\r\n    \t\t\t\t\t\t\t\t}),\r\n    \t\t\t\t\t\t\t)}\r\n    \t\t\t\t\t\t</Paper>\r\n    \t\t\t\t\t) : null}\r\n    \t\t\t\t</div>\r\n    \t\t\t)}\r\n    \t\t</Downshift>\r\n    \t)\r\n    }\r\n}\r\n\r\nDownshiftMultiple.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftMultiple","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\n\r\nclass DownshiftSingle extends React.Component {\r\n\r\n\thandleChange = item => {\r\n\t\tconst selectedItem = item.value || item.label\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tsource,\r\n\t\t\tlabel,\r\n\t\t\tid,\r\n\t\t\tplaceholder,\r\n\t\t\thelperText,\r\n\t\t\tshowSelected,\r\n\t\t\tvalue,\r\n\t\t\topenOnClick,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation\r\n\t\t} = this.props\r\n\t\tconst allValues = source //Object.keys(source).map(key => { return { value: key, label: source[key] } })\r\n\r\n\t\treturn (\r\n\t\t\t<Downshift\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\titemToString={(item) => (item || {}).label || item || ''}\r\n\t\t\t\tselectedItem={value}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tgetInputProps,\r\n\t\t\t\t\tgetItemProps,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tinputValue,\r\n\t\t\t\t\tselectedItem,\r\n\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\ttoggleMenu\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<div className={classes.container}>\r\n\t\t\t\t\t\t{renderInput({\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\t\t\tfullWidth: true,\r\n\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\thelperText,\r\n\t\t\t\t\t\t\tInputProps: getInputProps({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\r\n\t\t\t\t\t\t\t\tplaceholder\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{isOpen ? (\r\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\r\n\t\t\t\t\t\t\t\t{getSuggestions(inputValue, allValues, allowCreate, validateCreation).map((suggestion, index) =>\r\n\t\t\t\t\t\t\t\t\trenderSuggestion({\r\n\t\t\t\t\t\t\t\t\t\tsuggestion,\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\r\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\t\t\t\t\t\tselectedItem,\r\n\t\t\t\t\t\t\t\t\t\tshowSelected\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Downshift>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDownshiftSingle.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftSingle","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport DownshiftMultiple from './DownshiftMultiple'\r\nimport DownshiftSingle from './DownshiftSingle'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst { classes, source, multiple, ...rest } = props\r\n\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t{multiple ?\r\n\t\t\t\t<DownshiftMultiple classes={classes} source={source} {...rest} />\r\n\t\t\t\t:\r\n\t\t\t\t<DownshiftSingle classes={classes} source={source} {...rest} />\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\tzIndex: 1,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: 150\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcLocations = autocompleteLocationsSingleSelect()\r\nconst AcGenders = autocompleteGendersSingleSelect()\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting'}\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t}\r\n}\r\n\r\nconst SourcesSelect = Object.keys(SOURCES)\r\n\t.map(key => {\r\n\t\treturn {\r\n\t\t\tvalue: {\r\n\t\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\t\tsource: key,\r\n\t\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`)\r\n\t\t\t},\r\n\t\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`)\r\n\t\t}\r\n\t})\r\n\r\nclass AdUnitTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || []\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets]\r\n\t\t\t.reduce((all, tg) => {\r\n\t\t\t\tconst newCollection = ((all[tg.collection] || []))\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t}, {})\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst target = newTargets[index]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.target[prop] = newValue\r\n\t\tnewTargets[index] = { ...target }\r\n\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = (target) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses\r\n\t}) => {\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={'target-' + index}\r\n\t\t\t\t\t\tdirection=\"auto\"\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\tonChange={(newValue) =>\r\n\t\t\t\t\t\t\tthis.handleTargetChange(\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t'tag',\r\n\t\t\t\t\t\t\t\tnewValue,\r\n\t\t\t\t\t\t\t\tcollection\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tid={`target-score-${index}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\targs: [target.score]\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t// classes={{ container: classes.slider }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1} \r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(\r\n\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t'score',\r\n\t\t\t\t\t\t\t\t\tnewValue,\r\n\t\t\t\t\t\t\t\t\tcollection\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t</Grid >\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(({\r\n\t\t\t\t\t\t\tsource,\r\n\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\ttarget = {}\r\n\t\t\t\t\t\t} = {}, index) =>\r\n\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={(target) => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\r\n\r\nexport default Translate(NewAdUnitTargeting)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\tboxShadow: theme.shadows[2]\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content'\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport { PropRow, ContentBox, ContentBody } from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nclass AdUnitFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\ttemp,\r\n\t\t\ttargeting,\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('type', { isProp: true })}\r\n\t\t\t\t\t\tright={type}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('title', { isProp: true })}\r\n\t\t\t\t\t\tright={title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{targeting && <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\r\nexport default connect(\r\n\tmapStateToProps\r\n)(Translate(NewAdUnitFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Campaign } from 'adex-models'\r\n\r\nexport default function NewCampaignHoc(Decorated) {\r\n\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'Campaign',\r\n\t\t\t\tCampaign\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = async () => {\r\n\t\t\tconst { actions, newItem, account } = this.props\r\n\t\t\tconst { temp } = newItem\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.waitingAction = true\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tawait actions.openCampaign({ campaign: newItem, account })\r\n\r\n\t\t\tnewTemp.waitingAction = false\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object\r\n\t}\r\n\t\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\r\n\t\tconst adUnits = persist.items['AdUnit'] || {}\r\n\t\tconst adUnitsArray = Array.from(Object.values(adUnits)) || []\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\r\n\t\t\tadUnits,\r\n\t\t\tadUnitsArray,\r\n\t\t\tspinner: memory.spinners['opening-campaign']\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport { AdUnit } from 'adex-models'\r\nimport {\r\n\tSORT_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_ITEMS\r\n} from 'constants/misc'\r\n\r\nclass CampaignUnits extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tselected: (props.newItem.adUnits.reduce((selected, unit) => {\r\n\t\t\t\tselected[unit.ipfs] = true\r\n\t\t\t\treturn selected\r\n\t\t\t}, {})) || {}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateUnits(newItem.adUnits, true)\r\n\t}\r\n\r\n\tvalidateUnits(adUnits, dirty) {\r\n\t\tconst isValid = !!adUnits.length\r\n\t\tthis.props.validate(\r\n\t\t\t'adUnits',\r\n\t\t\t{\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_ADUNITS_REQIURED' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\thandleSelect = (ipfs, checked) => {\r\n\t\tconst newSelected = { ...this.state.selected }\r\n\t\tconst { adUnits, handleChange } = this.props\r\n\r\n\t\tif (checked) {\r\n\t\t\tnewSelected[ipfs] = true\r\n\t\t} else {\r\n\t\t\tdelete newSelected[ipfs]\r\n\t\t}\r\n\r\n\t\tthis.setState({ selected: newSelected })\r\n\t\tconst units = Object.keys(newSelected).map(key => {\r\n\t\t\treturn adUnits[key]\r\n\t\t})\r\n\r\n\t\thandleChange('adUnits', units)\r\n\t\tthis.validateUnits(units, true)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { adUnitsArray } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\t\t\tobjModel={AdUnit}\r\n\t\t\t\t\t\t\t\tselectMode\r\n\t\t\t\t\t\t\t\tselectedItems={this.state.selected}\r\n\t\t\t\t\t\t\t\tonSelect={(unit, checked) => {\r\n\t\t\t\t\t\t\t\t\tthis.handleSelect(unit, checked)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\titems={adUnitsArray}\r\n\t\t\t\t\t\t\t\tlistMode='rows'\r\n\t\t\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\t\t\tviewModeId={'newCampaignAdUnits'}\r\n\t\t\t\t\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignUnits.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n\tadUnits: PropTypes.object.isRequired,\r\n\tadUnitsArray: PropTypes.array.isRequired\r\n}\r\n\r\nconst NewCampaignUnits = NewCampaignHoc(CampaignUnits)\r\n\r\nexport default Translate(NewCampaignUnits)\r\n","import React, { Component } from 'react'\r\nimport { DateTimePicker  as MuiDateTimePicker  } from 'material-ui-pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/DateRange'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nconst CalendarIconAdor = ({ icon = <CalendarIcon />, iconColor, onIconClick }) =>\r\n\t<InputAdornment position=\"end\">\r\n\t\t<IconButton\r\n\t\t\tcolor={iconColor}\r\n\t\t\tonClick={onIconClick}\r\n\t\t>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t</InputAdornment>\r\n\r\nexport class DateTimePicker extends Component {\r\n\trender() {\r\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDateTimePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon\r\n\t\t\t\t\t\t? <CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { utils } from 'ethers'\r\nimport { validations } from 'adex-models'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { totalFeesFormatted } from 'services/smart-contracts/actions/core'\r\nconst moment = new MomentUtils()\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE = '0'\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE = '0'\r\n\r\nconst AdvPlatformValidators = {\r\n\t[VALIDATOR_LEADER_ID]: {\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfee: VALIDATOR_LEADER_FEE\r\n\t}\r\n}\r\n\r\nconst PubPlatformValidators = {\r\n\t[VALIDATOR_FOLLOWER_ID]: {\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfee: VALIDATOR_FOLLOWER_FEE\r\n\t}\r\n}\r\n\r\nconst VALIDATOR_SOURCES = [\r\n\tAdvPlatformValidators,\r\n\tPubPlatformValidators\r\n]\r\n\r\nconst AdvValidatorsSrc = Object.keys(AdvPlatformValidators).map(key => {\r\n\tconst val = AdvPlatformValidators[key]\r\n\treturn {\r\n\t\tvalue: key,\r\n\t\tlabel: `${val.url} - ${val.id}`\r\n\t}\r\n})\r\n\r\nconst PubValidatorsSrc = Object.keys(PubPlatformValidators).map(key => {\r\n\tconst val = PubPlatformValidators[key]\r\n\treturn {\r\n\t\tvalue: key,\r\n\t\tlabel: `${val.url} - ${val.id}`\r\n\t}\r\n})\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression, t }) => {\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\tif (!dep) {\r\n\t\treturn t('DEPOSIT_NOT_SET')\r\n\t} else if (!min) {\r\n\t\treturn t('CPM_NOT_SET')\r\n\t} else {\r\n\t\tconst impressions = utils.commify(\r\n\t\t\tMath.floor((dep / min) * 1000))\r\n\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t}\r\n}\r\n\r\nconst validateCampaignDates = ({ created = Date.now(), withdrawPeriodStart, activeFrom }) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && (withdrawPeriodStart <= activeFrom)) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'activeFrom' }\r\n\t} else if (withdrawPeriodStart && (withdrawPeriodStart < created)) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && (activeFrom < created)) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW', prop: 'activeFrom' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nconst validateAmounts = ({ maxDeposit = 0, depositAmount, minPerImpression }) => {\r\n\tconst maxDep = parseFloat(maxDeposit)\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\r\n\tlet error = null\r\n\tif (dep && (dep > maxDep)) {\r\n\t\terror = { message: 'ERR_INSUFFICIENT_IDENTITY_BALANCE', prop: 'depositAmount' }\r\n\t} if (dep && (dep < min)) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t} if (dep <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t} if (min <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nclass CampaignFinance extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateAndUpdateValidator(false, 0, newItem.validators[0])\r\n\t\tthis.validateAndUpdateValidator(false, 1, newItem.validators[1])\r\n\t\tthis.validateAmount(newItem.depositAmount, 'depositAmount', false, 'REQUIRED_FIELD')\r\n\t\tthis.validateAmount(newItem.minPerImpression, 'minPerImpression', false, 'REQUIRED_FIELD')\r\n\t\tthis.handleDates('activeFrom', newItem.activeFrom, false)\r\n\t\tthis.handleDates('withdrawPeriodStart', newItem.withdrawPeriodStart, false)\r\n\t}\r\n\r\n\tvalidateAndUpdateValidator = (dirty, index, key = {}, update) => {\r\n\t\tconst { handleChange, newItem, validate } = this.props\r\n\t\tconst { validators } = newItem\r\n\t\tconst newValidators = [...validators]\r\n\t\tconst newValue = VALIDATOR_SOURCES[index][key.id || key]\r\n\r\n\t\tnewValidators[index] = newValue\r\n\r\n\t\tconst isValid =\r\n\t\t\t!!newValidators[0] &&\r\n\t\t\t!!newValidators[1] &&\r\n\t\t\t!!newValidators[0].id &&\r\n\t\t\t!!newValidators[0].url &&\r\n\t\t\t!!newValidators[1].id &&\r\n\t\t\t!!newValidators[1].url\r\n\r\n\t\tif (update) {\r\n\t\t\thandleChange('validators', newValidators)\r\n\t\t}\r\n\r\n\t\tvalidate('validators', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\r\n\t\tconst isValidNumber = validations.isNumberString(value)\r\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\t\tif (!isValid) {\r\n\t\t\tthis.props.validate(\r\n\t\t\t\tprop,\r\n\t\t\t\t{\r\n\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\t\t\t\tdirty: dirty\r\n\t\t\t\t})\r\n\t\t} else {\r\n\r\n\t\t\tconst { newItem, account } = this.props\r\n\r\n\t\t\tconst { identityBalanceDai } = account.stats.formatted\r\n\t\t\tconst depositAmount = (prop === 'depositAmount') ? value : newItem.depositAmount\r\n\t\t\tconst minPerImpression = (prop === 'minPerImpression') ? value : newItem.minPerImpression\r\n\r\n\t\t\tconst result = validateAmounts({ maxDeposit: identityBalanceDai - totalFeesFormatted, depositAmount, minPerImpression })\r\n\r\n\t\t\tthis.props.validate(\r\n\t\t\t\tprop,\r\n\t\t\t\t{\r\n\t\t\t\t\tisValid: !result.error,\r\n\t\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\t\tdirty: dirty\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleDates = (prop, value, dirty) => {\r\n\r\n\t\tconst { newItem, handleChange, validate } = this.props\r\n\t\tconst withdrawPeriodStart = (prop === 'withdrawPeriodStart') ? value : newItem.withdrawPeriodStart\r\n\t\tconst activeFrom = (prop === 'activeFrom') ? value : newItem.activeFrom\r\n\t\tconst result = validateCampaignDates({ withdrawPeriodStart, activeFrom, created: newItem.created })\r\n\r\n\t\tvalidate(\r\n\t\t\t'activeFrom',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\r\n\t\tvalidate(\r\n\t\t\t'withdrawPeriodStart',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\r\n\t\tif (value) {\r\n\t\t\thandleChange(prop, value)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandleChange,\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\taccount\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\tactiveFrom,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tminTargetingScore\r\n\t\t} = newItem\r\n\r\n\t\tconst { identityBalanceDai } = account.stats.formatted\r\n\r\n\t\tconst from = activeFrom || undefined\r\n\t\tconst to = withdrawPeriodStart || undefined\r\n\t\tconst now = moment.date().valueOf()\r\n\r\n\t\tconst errDepAmnt = invalidFields['depositAmount']\r\n\t\tconst errMin = invalidFields['minPerImpression']\r\n\t\tconst errFrom = invalidFields['activeFrom']\r\n\t\tconst errTo = invalidFields['withdrawPeriodStart']\r\n\r\n\t\tconst impressions = !(errDepAmnt || errMin)\r\n\t\t\t? getTotalImpressions({ depositAmount, minPerImpression, t })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(value) =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 0, value, true)}\r\n\t\t\t\t\t\t\tsource={AdvValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[0] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='leader-validator-dd'\r\n\t\t\t\t\t\t\tname='leader-validator'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(value) =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 1, value, true)}\r\n\t\t\t\t\t\t\tsource={PubValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[1] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='follower-validator-dd'\r\n\t\t\t\t\t\t\tname='follower-validator'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t(identityBalanceDai - totalFeesFormatted).toFixed(2), 'DAI',\r\n\t\t\t\t\t\t\t\t\ttotalFeesFormatted, 'DAI'\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={(ev) => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'depositAmount', true)\r\n\t\t\t\t\t\t\t\thandleChange('depositAmount', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errDepAmnt && !!errDepAmnt.dirty)\r\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', { args: [totalFeesFormatted, 'DAI'] })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={(ev) => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\r\n\t\t\t\t\t\t\t\thandleChange('minPerImpression', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errMin && !!errMin.dirty)\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={(val) => {\r\n\t\t\t\t\t\t\t\tthis.handleDates('activeFrom', val.valueOf(), true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errFrom && !!errFrom.dirty)\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={(val) =>\r\n\t\t\t\t\t\t\t\tthis.handleDates('withdrawPeriodStart', val.valueOf(), true)}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errTo && !!errTo.dirty)\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange('minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n\tadUnits: PropTypes.array.isRequired\r\n}\r\n\r\nconst NewCampaignFinance = NewCampaignHoc(CampaignFinance)\r\n\r\nexport default Translate(NewCampaignFinance)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important'\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important'\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n} from 'components/common/dialog/content'\r\nimport { AdUnit } from 'adex-models'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\n\r\nclass CampaignFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\tAdUnitsTable = ({ items }) => {\r\n\t\treturn (\r\n\r\n\t\t\t<Grid item sm={12}>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\tobjModel={AdUnit}\r\n\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\tlistMode\r\n\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\tnoControls\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\tsortProperties={[]}\r\n\t\t\t\t\t\tviewModeId={'newCampaignAdUnitsPreview'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { account, newItem, t } = this.props\r\n\t\tconst {\r\n\t\t\t// targeting,\r\n\t\t\tadUnits,\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// maxPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tminTargetingScore\r\n\t\t\t// nonce\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t{newItem.temp.waitingAction ?\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t</ContentStickyTop> : null}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.identity.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<this.AdUnitsTable\r\n\t\t\t\t\t\t\t\titems={adUnits}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{validators.map(val =>\r\n\t\t\t\t\t\t\t\t\t<div key={val.id}>\r\n\t\t\t\t\t\t\t\t\t\t{`${val.url} - ${val.id}`}\r\n\t\t\t\t\t\t\t\t\t</div>)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\tright={depositAmount + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\tright={minPerImpression + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\r\n\t\t\t\t\t\tright={maxPerImpression}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{minTargetingScore &&\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tright={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(created)}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nconst NewCampaignFormPreview = NewCampaignHoc(withStyles(styles)(CampaignFormPreview))\r\nexport default connect(\r\n\tmapStateToProps\r\n)(Translate(NewCampaignFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdSlot',\r\n\t\t\t\tAdSlot\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem, account } = this.props\r\n\t\t\tnewItem.owner = account.wallet.address\r\n\r\n\t\t\tactions.addSlot(newItem, 'AdSlot', account.wallet.authSig)\t\t\t\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\t\t\t\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot'])\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\n\r\nconst { adSlotPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes\r\n\t.map(type => {\r\n\t\treturn {\r\n\t\t\tvalue: type,\r\n\t\t\tlabel: type.split('_')[1]\r\n\t\t}\r\n\t})\r\n\r\nclass AdSlotBasic extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.title)\r\n\r\n\t\tthis.props.validate(\r\n\t\t\t'title',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.description)\r\n\r\n\t\tthis.props.validate(\r\n\t\t\t'description',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adSlotPost.type)\r\n\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tnewItem,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\t// nameHelperTxt,\r\n\t\t\t// descriptionHelperTxt\r\n\t\t} = this.props\r\n\t\tconst { type, title, description } = newItem\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Unit ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\thandleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errTitle && !!errTitle.dirty)\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: (t('TITLE_HELPER'))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\thandleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(title, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errDescription && !!errDescription.dirty)\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: (t('DESCRIPTION_HELPER'))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType\r\n\t\t\t\t\t\t\t\t.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotBasic = NewAdSlotHoc(AdSlotBasic)\r\n\r\nexport default Translate(NewAdSlotBasic)\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\n\r\nconst getWidAndHightFromType = (type) => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = (type.split('_')[1]).split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10)\r\n\t}\r\n}\r\n\r\nclass AdSlotMedia extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tconst { temp, targetUrl } = newItem\r\n\t\tconst { useFallback } = temp\r\n\r\n\t\tif (useFallback) {\r\n\t\t\tthis.validateImage(useFallback)\r\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateImage = (useFallback) => {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } =\r\n\t\t\tgetWidAndHightFromType(type)\r\n\r\n\t\tconst isValidMediaSize =\r\n\t\t\t!useFallback || (\r\n\t\t\t\ttempUrl &&\r\n\t\t\t\t// TODO: validate ration not exact\r\n\t\t\t\t(temp.width === width) &&\r\n\t\t\t\t(temp.height === height)\r\n\t\t\t)\r\n\r\n\t\tvalidate('temp', {\r\n\t\t\tisValid: isValidMediaSize,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\targs: [width, height, 'px']\r\n\t\t\t},\r\n\t\t\tdirty: true\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl',\r\n\t\t\t{\r\n\t\t\t\tisValid: !useFallback || !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\thandleFallbackChange = (useFallback) => {\r\n\t\tconst { temp, targetUrl } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.useFallback = useFallback\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\r\n\t\tthis.validateImage(useFallback)\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tvalidateMedia,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, temp } = newItem\r\n\t\tconst useFallback = temp.useFallback || false\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\tthis.handleFallbackChange(ev.target.checked)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t{t('USE_FALLBACK_DATA_INFO')}\r\n\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\thandleChange('targetUrl', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonBlur={() => this.validateFallbackUrl(targetUrl, true, useFallback)}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => this.validateFallbackUrl(targetUrl, false, useFallback)}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t(errFallbackUrl && !!errFallbackUrl.dirty)\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t\tvalidateMedia.bind(this,\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px']\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\t\theight: height\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse >\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired\r\n}\r\n\r\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\r\n\r\nexport default Translate(NewAdSlotMedia)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\ttags: { src: AcTags, collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags'}\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t}\r\n}\r\n\r\nconst SourcesSelect = Object.keys(SOURCES)\r\n\t.map(key => {\r\n\t\treturn {\r\n\t\t\tvalue: {\r\n\t\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\t\tsource: key,\r\n\t\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`)\r\n\t\t\t},\r\n\t\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`)\r\n\t\t}\r\n\t})\r\n\r\nclass AdSlotTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || []\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets]\r\n\t\t\t.reduce((all, tg) => {\r\n\t\t\t\tconst newCollection = ((all[tg.collection] || []))\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t}, {})\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst target = newTargets[index]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.target[prop] = newValue\r\n\t\tnewTargets[index] = { ...target }\r\n\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = (target) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses\r\n\t}) => {\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={'target-' + index}\r\n\t\t\t\t\t\tdirection=\"auto\"\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\tonChange={(newValue) =>\r\n\t\t\t\t\t\t\tthis.handleTargetChange(\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t'tag',\r\n\t\t\t\t\t\t\t\tnewValue,\r\n\t\t\t\t\t\t\t\tcollection\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tid={`target-score-${index}`}\r\n\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\targs: [target.score]\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t// classes={{ container: classes.slider }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1} \r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(\r\n\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t'score',\r\n\t\t\t\t\t\t\t\t\tnewValue,\r\n\t\t\t\t\t\t\t\t\tcollection\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t</Grid >\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(({\r\n\t\t\t\t\t\t\tsource,\r\n\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\ttarget = {}\r\n\t\t\t\t\t\t} = {}, index) =>\r\n\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={(target) => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\r\n\r\nexport default Translate(NewAdSlotTargeting)\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { PropRow, ContentBox, ContentBody } from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{ img: classes.imgPreview, wrapper: classes.imgPreviewWrapper }}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={<Anchor href={targetUrl} target='_blank'>{targetUrl}</Anchor>}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass AdSlotPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\ttemp,\r\n\t\t\ttags,\r\n\t\t\ttargetUrl,\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('type', { isProp: true })}\r\n\t\t\t\t\t\tright={type}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('title', { isProp: true })}\r\n\t\t\t\t\t\tright={title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.useFallback &&\r\n\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} t={t} classes={classes} />}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{tags && <PropRow\r\n\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={tags}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\r\nexport default connect(\r\n\tmapStateToProps\r\n)(Translate(NewAdSlotPreview))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\n// import CampaignTargeting from './Campaign/CampaignTargeting'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\n\r\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t>\r\n\t\t\t{/*TODO: withStyles */}\r\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t{t('SAVE')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={newItem.temp.waitingAction}\r\n\t\t>\r\n\t\t\t{newItem.temp.waitingAction ? <HourglassEmptyIcon /> : (saveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />)}\r\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\r\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\r\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn (\r\n\t\t<Button onClick={props.cancel} >\r\n\t\t\t{props.t('CANCEL')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\r\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\r\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\r\n\r\nconst dialogCommon = {\r\n\tdarkerBackground: true,\r\n\ticon: <AddIcon />\r\n}\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = (props) =>\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdUnit}\r\n\t\tCancelBtn={CancelBtnWithItem}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdUnit'}\r\n\t\tstepsId={'new-adunit-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\r\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\r\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting }\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdUnitFormPreview }}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = (props) =>\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = (props) =>\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithCampaign}\r\n\t\tCancelBtn={CancelBtnWithCampaign}\r\n\t\tvalidateIdBase={'new-Campaign-'}\r\n\t\titemType={'Campaign'}\r\n\t\tstepsId={'new-campaign-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'CAMPAIGN_UNITS_STEP', page: CampaignUnits },\r\n\t\t\t// NOTE: Only at ad units at the moment\r\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\r\n\t\t\t{ title: 'CAMPAIGN_FINANCE_STEP', page: CampaignFinance },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: CampaignFormPreview }}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = (props) =>\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = (props) =>\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdSlot}\r\n\t\tCancelBtn={CancelBtnWithAdSlot}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdSlot'}\r\n\t\tstepsId={'new-slot-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SLOT_BASIC_STEP', page: AdSlotBasic },\r\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting }\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = (props) =>\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>","import configureStore from 'store/configureStore'\r\nimport actions from 'actions'\r\nimport { getTransactionsReceipts } from 'services/smart-contracts/actions/ethers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n// const { TX_STATUS } = ExchangeConstants\r\nconst { store } = configureStore\r\n\r\nlet transactionsCheckTimeout = null\r\n\r\nconst clearTransactionsTimeout = () => {\r\n\tif (transactionsCheckTimeout) {\r\n\t\tclearTimeout(transactionsCheckTimeout)\r\n\t\ttransactionsCheckTimeout = null\r\n\t}\r\n}\r\n\r\nconst syncTransactions = async () => {\r\n\tconst { account, web3Transactions } = store.getState().persist\r\n\tconst transactions = {\r\n\t\t...(web3Transactions[account.wallet.address] || {}),\r\n\t\t...(web3Transactions[account.identity.address] || {}),\r\n\t}\r\n\tconst txHashes = Object.keys(transactions).reduce((memo, key) => {\r\n\t\tif (key && ((key.toString()).length === 66)) {\r\n\t\t\tmemo.push(key)\r\n\t\t}\r\n\t\treturn memo\r\n\t}, [])\r\n\r\n\tif (!txHashes.length) {\r\n\t\treturn\r\n\t}\r\n\r\n\tconst receipts = await getTransactionsReceipts({ txHashes, authType: account.wallet.authType })\r\n\r\n\t// return\r\n\treceipts.forEach((rec) => {\r\n\t\tif (rec && rec.transactionHash && rec.status) {\r\n\t\t\t// NOTE: web3.eth.getTransactionReceipt changed status vale from 0x1 to true for success but we keep bot now\r\n\t\t\tconst status = ((rec.status === 1) || (rec.status === '0x1') || (rec.status === true)) ? 'success' : 'failed'\r\n\t\t\tif (transactions[rec.transactionHash].status !== status) {\r\n\t\t\t\tactions.execute(actions.updateWeb3Transaction({ tx: rec.transactionHash, key: 'status', value: status, addr: rec.from }))\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst checkTransactions = () => {\r\n\tsyncTransactions()\r\n\t\t.then(() => {\r\n\t\t\tcheckTransactionsLoop()\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tcheckTransactionsLoop()\r\n\t\t})\r\n}\r\n\r\nconst checkTransactionsLoop = () => {\r\n\tclearTransactionsTimeout()\r\n\r\n\ttransactionsCheckTimeout = setTimeout(checkTransactions, 20 * 1000)\r\n}\r\n\r\nconst start = () => {\r\n\tclearTransactionsTimeout()\r\n\tcheckTransactions()\r\n}\r\n\r\nconst stop = () => {\r\n\tclearTransactionsTimeout()\r\n}\r\n\r\n// const addTransaction\r\n\r\n\r\nexport default {\r\n\tstart,\r\n\tstop\r\n}","import React from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Items from 'components/dashboard/containers/Items'\r\nimport Transactions from 'components/dashboard/containers/Transactions'\r\nimport {\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n\tCampaign as CampaignModel\r\n} from 'adex-models'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport Translate from 'components/translate/Translate'\r\nimport { NewUnitDialog, NewCampaignDialog, NewSlotDialog, } from 'components/dashboard/forms/items/NewItems'\r\nimport checkTransactions from 'services/store-data/transactions'\r\nimport {\r\n\tSORT_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_CAMPAIGN,\r\n\tSORT_PROPERTIES_CAMPAIGN\r\n} from 'constants/misc'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nclass Dashboard extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tdrawerActive: false,\r\n\t\t\tdrawerPinned: false,\r\n\t\t\tsidebarPinned: false,\r\n\t\t\tmobileOpen: false\r\n\t\t}\r\n\t}\r\n\r\n\thandleDrawerToggle = () => {\r\n\t\tthis.setState({ mobileOpen: !this.state.mobileOpen });\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tcheckTransactions.stop()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { actions } = this.props\r\n\r\n\t\tactions.updateNav('side', this.props.match.params.side)\r\n\t\tactions.getRelayerConfig()\r\n\t\tactions.getAllItems()\r\n\t\tactions.updateAccountStats()\r\n\t\tcheckTransactions.start()\r\n\t}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\r\n\t// }\r\n\r\n\tcomponentWillUpdate(nextProps) {\r\n\t\tif (nextProps.match.params.side !== this.props.match.params.side) {\r\n\t\t\tthis.props.actions.updateNav('side', nextProps.match.params.side)\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleDrawerActive = () => {\r\n\t\tthis.setState({ drawerActive: !this.state.drawerActive })\r\n\t}\r\n\r\n\ttoggleDrawerPinned = () => {\r\n\t\tthis.setState({ drawerPinned: !this.state.drawerPinned })\r\n\t}\r\n\r\n\ttoggleSidebar = () => {\r\n\t\tthis.setState({ sidebarPinned: !this.state.sidebarPinned })\r\n\t}\r\n\r\n\trenderAdUnits = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_UNITS')}\r\n\t\t\t\tviewModeId='rowsViewUnits'\r\n\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\tnewItemBtn={() => <NewUnitDialog\r\n\t\t\t\t\tfabButton\r\n\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t/>}\r\n\t\t\t\tobjModel={AdUnitModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\tuiStateId='units'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaigns = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_CAMPAIGNS')}\r\n\t\t\t\tviewModeId='rowsViewCampaigns'\r\n\t\t\t\titemType={'Campaign'}\r\n\t\t\t\tnewItemBtn={() => <NewCampaignDialog\r\n\t\t\t\t\tfabButton\r\n\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\taccent\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t\t/>}\r\n\t\t\t\tobjModel={CampaignModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_CAMPAIGN}\r\n\t\t\t\tuiStateId='campaigns'\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_CAMPAIGN}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trenderAdSlots = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_SLOTS')}\r\n\t\t\t\tviewModeId='rowsViewSlots'\r\n\t\t\t\titemType={'AdSlot'}\r\n\t\t\t\tnewItemBtn={() => <NewSlotDialog\r\n\t\t\t\t\tfabButton\r\n\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\taccent\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t\t\t/>}\r\n\t\t\t\tobjModel={AdSlotModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\tuiStateId='slots'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\thandleDrawerOpen = () => {\r\n\t\tthis.setState({ open: true });\r\n\t}\r\n\r\n\thandleDrawerClose = () => {\r\n\t\tthis.setState({ open: false });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst side = this.props.side || this.props.match.params.side\r\n\t\tconst { classes, theme } = this.props\r\n\r\n\t\tconst drawer = (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <div className={classes.toolbar}>\r\n                    <SideSwitch side={side} t={this.props.t} />\r\n                </div>\r\n                <Divider /> */}\r\n\t\t\t\t<SideNav location={this.props.location} side={side} />\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root} >\r\n\t\t\t\t<TopBar side={side} open={this.state.open} handleDrawerToggle={this.handleDrawerToggle} />\r\n\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tvariant=\"temporary\"\r\n\t\t\t\t\t\tanchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n\t\t\t\t\t\topen={this.state.mobileOpen}\r\n\t\t\t\t\t\tonClose={this.handleDrawerToggle}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{drawer}\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</Hidden>\r\n\t\t\t\t<Hidden smDown\r\n\t\t\t\t\timplementation=\"css\">\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tvariant=\"permanent\"\r\n\t\t\t\t\t\topen\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{drawer}\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t<main className={classes.content}>\r\n\t\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t\t<div className={classes.toolbar} />\r\n\r\n\t\t\t\t\t\t<Switch locatiom={this.props.location}>\r\n\t\t\t\t\t\t\tTODO: Make things dynamic if easier\r\n    \t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/advertiser/campaigns' component={this.renderCampaigns} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/advertiser/units' component={this.renderAdUnits} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/advertiser/Campaign/:itemId' component={Campaign} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/advertiser/AdUnit/:itemId' component={Unit} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/publisher/channels' component={this.renderChannels} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/publisher/slots' component={this.renderAdSlots} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/publisher/AdSlot/:itemId' component={Slot} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path={'/dashboard/:side/account'} component={Account} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path={'/dashboard/:side/transactions'} component={Transactions} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/:side' component={DashboardStats} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} component={() => <h1>404 at {side} side</h1>} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</main>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDashboard.propTypes = {\r\n\tactions: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tnull,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles, { withTheme: true })(Dashboard)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tposition: 'relative',\r\n\t\t\theight: '100vh',\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200]\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh'\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible'\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)'\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass AuthSelect extends Component {\r\n\tcomponentDidMount() {\r\n\t\t// NOTE: reset identity if someone press backspace \r\n\t\t// to go to this page\r\n\t\tthis.props.actions.resetIdentity()\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\tdirection='column'\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/identity/grant'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CREATE_GRANT_ACCOUNT')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/grant'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('LOGIN_GRANT_ACCOUNT')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/full?metamask'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.metamaskBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/full?trezor'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\t\t\tclasses.btnLogoNoTxt\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(AuthSelect))\r\n","export const styles = (theme) => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1)\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tclass Connect extends Component {\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, t, noBackground, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classes.root}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tclassName={classes.actions}\r\n\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\tmd={9}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t\t\t\tp={4}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t\t\t\t\tposition='relative'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\tmd={3}\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tdirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<div className={classes.adexLogoTop} >\r\n\t\t\t\t\t\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<AuthSelect  {...rest} />\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<small className={classes.adxVersion} >\r\n\t\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tConnect.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\t// const persist = state.persist\r\n\t\t// const memory = state.memory\r\n\t\treturn {\r\n\t\t\t// account: persist.account\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(withStyles(styles)(Connect)))\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\tcomponentDidUpdate = () => {\r\n\t\t\tif (this.props.account.wallet.authSig) {\r\n\t\t\t\tthis.props.history.push('/side-select')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { identity, actions } = this.props\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tidentityData\r\n\t\t\t} = identity\r\n\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tactions.createSession({\r\n\t\t\t\tidentity: identityData,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\temail,\r\n\t\t\t\tregisterExpected: !identityData\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners['creating-session'],\r\n\t\t\twaitingExpected: memory.spinners['getting-expected-identity'],\r\n\t\t\twaitingUpload: memory.spinners['uploading-account-data']\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: spacing,\r\n\t\t\tbottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh'\r\n\t\t},\r\n\t\tformControl: {\r\n\t\t\tdisplay: 'flex'\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\tinfoPaper: {\r\n\t\t\t...theme.mixins.gutters(),\r\n\t\t\tpaddingTop: spacing * 2,\r\n\t\t\tpaddingBottom: spacing * 2,\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tdisplay: 'none',\r\n\t\t  },\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport {\r\n\tvalidEmail,\r\n\tvalidQuickAccountCoupon\r\n} from 'helpers/validators'\r\nimport { checkAccessCode } from 'services/adex-relayer/actions'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst ACCESS_CODE_CHECK = process.env.ACCESS_CODE_CHECK === 'true'\r\n\r\nclass IdentityContractAddressEthDeploy extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tcode\r\n\t\t} = this.props.identity\r\n\r\n\t\tthis.validateIdentity()\r\n\t\tthis.validateEmail(email, false)\r\n\t\tthis.validateEmailCheck(emailCheck, false)\r\n\t\tACCESS_CODE_CHECK && this.validateCode(code, false)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currIdentity = this.props.identity.identityData\r\n\t\tif (!!currIdentity &&\r\n\t\t\t(currIdentity.address !== (prevProps.identity.identityData || {}).address)) {\r\n\t\t\tthis.validateIdentity()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateIdentity = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityData } = identity\r\n\r\n\t\tvalidate('identityData', {\r\n\t\t\tisValid: !!identityData,\r\n\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\tdirty: false\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmail(email, dirty) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tthis.props.validate('email', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmailCheck(emailCheck, email, dirty) {\r\n\t\tconst isValid = !!emailCheck && !!email && (emailCheck === email)\r\n\t\tthis.props.validate('emailCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateCode(code, dirty) {\r\n\t\tconst isValidFormat = validQuickAccountCoupon(code)\r\n\r\n\t\tif (!isValidFormat) {\r\n\t\t\tthis.props.validate('code', {\r\n\t\t\t\tisValid: isValidFormat,\r\n\t\t\t\terr: { msg: 'ERR_ACCESS_CODE_FORMAT' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ waitingCheck: true }, () => {\r\n\t\t\t\tcheckAccessCode({ code })\r\n\t\t\t\t\t.then((cpn = {}) => {\r\n\t\t\t\t\t\tconst isValid = (cpn.exist === true) && (cpn.used === false)\r\n\t\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\t\tif (cpn.exist === false) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_ACCESS_CODE_NOT_EXIST'\r\n\t\t\t\t\t\t} else if (cpn.used === true) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_ACCESS_CODE_USED'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.props.validate('code', {\r\n\t\t\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\t\t\terr: { msg: msg },\r\n\t\t\t\t\t\t\tdirty: dirty\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.props.validate('code', {\r\n\t\t\t\t\t\t\tisValid: false,\r\n\t\t\t\t\t\t\terr: { msg: 'ERR_ACCESS_CODE_NETWORK' },\r\n\t\t\t\t\t\t\tdirty: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tgetIdentityContractData = async () => {\r\n\t\tconst { actions, identity } = this.props\r\n\t\tconst { wallet, email } = identity\r\n\t\tactions.getRegisterExpectedIdentity({\r\n\t\t\towner: wallet.address,\r\n\t\t\tmail: email\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange, invalidFields, waitingExpected, classes } = this.props\r\n\t\tconst { identityData } = identity\r\n\t\t// Errors\r\n\t\tconst { email, emailCheck, code } = invalidFields\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t{ACCESS_CODE_CHECK &&\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t\t{t('ACCESS_CODE_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{ACCESS_CODE_CHECK &&\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('code', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='code'\r\n\t\t\t\t\t\t\t\tvalue={identity.code || ''}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => handleChange('code', ev.target.value)}\r\n\t\t\t\t\t\t\t\tonBlur={() => this.validateCode(identity.code, true)}\r\n\t\t\t\t\t\t\t\tonFocus={() => this.validateCode(identity.code, false)}\r\n\t\t\t\t\t\t\t\terror={code && !!code.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tcode && !!code.dirty ?\r\n\t\t\t\t\t\t\t\t\t\tcode.errMsg :\r\n\t\t\t\t\t\t\t\t\t\tt('ENTER_VALID_CODE')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t{t('GENERATE_FULL_IDENTITY_INFO_EMAIL')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmail(identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmail(identity.email, false)}\r\n\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temail && !!email.dirty ?\r\n\t\t\t\t\t\t\t\t\temail.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('emailCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmailCheck(identity.emailCheck, identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmailCheck(identity.emailCheck, identity.email, false)}\r\n\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty ?\r\n\t\t\t\t\t\t\t\t\temailCheck.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t{t('GENERATE_FULL_IDENTITY_INFO_ADDRESS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{!(identityData || {}).address\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={this.getIdentityContractData}\r\n\t\t\t\t\t\t\t\t\tdisabled={waitingExpected}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GENERATE_IDENTITY_ADDRESS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{waitingExpected && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n\t\t\t\t\t\t\t</span >\r\n\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Typography paragraph variant='subtitle2' color='primary'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_CONTRACT_IS', { args: [identityData.address] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentityContractAddressEthDeploy.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tidentity: PropTypes.object.isRequired,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tinvalidFields: PropTypes.object.isRequired,\r\n\tvalidate: PropTypes.func.isRequired\r\n}\r\n\r\nconst IdentityContractAddressStep = IdentityHoc(IdentityContractAddressEthDeploy)\r\nexport default Translate(withStyles(styles)(IdentityContractAddressStep))","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {}\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n        validate = (key, { isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }) => {\r\n\r\n        \tif (!isValid) {\r\n        \t\tlet errors = {}\r\n        \t\terrors[key] = {\r\n        \t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n        \t\t\tdirty: dirty\r\n        \t\t}\r\n\r\n        \t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n        \t} else if (removeAll) {\r\n        \t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n        \t} else {\r\n        \t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n        \t}\r\n        }\r\n\r\n        render() {\r\n        \tconst props = this.props\r\n        \treturn (\r\n        \t\t<Decorated {...props} validate={this.validate} invalidFields={this.state.invalidFields} />\r\n        \t)\r\n        }\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId]\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t\tbalanceEth,\r\n\t\t\t\tbalanceDai\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t}\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2\r\n\t\t\t}\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold'\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible'\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)'\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto'\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto'\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh'\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { utils } from 'ethers'\r\n\r\nexport const addrItem = ({ stats, t, classes }) => {\r\n\tconst { balanceEth, balanceDai, address } = stats\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {utils.formatEther(balanceEth)} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> DAI </span>\r\n\t\t\t\t\t\t<strong> {utils.formatEther(balanceDai)} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const AddrItem = withStyles(styles)(addrItem)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthMetamask extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddress: null,\r\n\t\t\tstats: null,\r\n\t\t\twaitingMetamaskAction: false,\r\n\t\t\twaitingAddrsData: false\r\n\t\t}\r\n\t}\r\n\r\n\tcheckMetamask = async () => {\r\n\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: authType\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\t\tconst stats = await getAddressBalances({ address: { address }, authType })\t\t\t\t\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tstats,\r\n\t\t\t\t\twaitingAddrsData: false\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.props.updateWallet({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\t\tbalanceEth: stats.balanceEth,\r\n\t\t\t\t\tbalanceDai: stats.balanceDai,\r\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingMetamaskAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t(\r\n\t\t\t\t\t\t'ERR_AUTH_METAMASK',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\targs: [Helper.getErrMsg(err)]\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes } = this.props\r\n\t\tconst { address, stats } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox} >\r\n\t\t\t\t{this.state.waitingMetamaskAction ?\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t: this.state.waitingAddrsData ?\r\n\t\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t{t('METAMASK_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\targs: [{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  </Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t<Anchor href='https://metamask.io/' target='_blank'>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{address ?\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ?\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\tvariant='subheading'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} t={t} addr={address} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t: t('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={this.state.waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthMetamask.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\t\r\n\tclasses: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthMetamask)))","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: ''\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map((address) =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t(\r\n\t\t\t\t\t\t'ERR_AUTH_TREZOR',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\targs: [Helper.getErrMsg(err)]\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox\r\n\t\t\t\tclassName={classes.tabBox}\r\n\t\t\t>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ?\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List >\r\n\t\t\t\t\t\t{addresses.map((res, index) =>\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst {\r\n\t\t\taddress,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t} = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ?\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ContentBox\r\n\t\t\t\t\t\tclassName={classes.tabBox}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ?\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tthis.state.waitingTrezorAction ?\r\n\t\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t\t</ContentStickyTop> : null\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t </Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    </Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{(!this.state.waitingAddrsData && !this.state.waitingTrezorAction) &&\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\t\r\n\tclasses: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: ''\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t(\r\n\t\t\t\t\t\t'ERR_AUTH_LEDGER',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\targs: [Helper.getErrMsg(err)]\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ?\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List >\r\n\t\t\t\t\t\t{addresses.map((res, index) =>\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst {\r\n\t\t\taddress,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t} = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ?\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ?\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tthis.state.waitingLedgerAction ?\r\n\t\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t\t</ContentStickyTop> : null\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{(!this.state.waitingAddrsData && !this.state.waitingLedgerAction) &&\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))","import React, { Component } from 'react'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass AuthMethod extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tbids: []\r\n\t\t}\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, location } = this.props\r\n\t\tconst { search } = location || {}\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection='row'\r\n\t\t\t\talignContent='flex-start'\r\n\t\t\t>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\titem xs={12}\r\n\t\t\t\t\tclassName={classes.tabsContainer}\r\n\t\t\t\t>\r\n\t\t\t\t\t{(search === '?metamask') &&\r\n\t\t\t\t\t\t<AuthMetamask />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(search === '?trezor') &&\r\n\t\t\t\t\t\t<AuthTrezor />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(search === '?ledger') &&\r\n\t\t\t\t\t\t<AuthLedger />\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(AuthMethod))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport AuthMethod from 'components/signin/identity/ownerAuth/AuthMethod'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass IdentityContractAddress extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.validateContractOwner()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currOwner = this.props.identity.identityContractOwner\r\n\t\tif (!!currOwner &&\r\n\t\t\t(currOwner !== prevProps.identity.identityContractOwner)) {\r\n\t\t\tthis.validateContractOwner()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateContractOwner = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityContractOwner } = identity\r\n\r\n\t\tvalidate('identityContractOwner', {\r\n\t\t\tisValid: !!identityContractOwner,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty: false\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<AuthMethod {...this.props} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentityContractAddress.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst IdentityContractAddressStep = IdentityHoc(IdentityContractAddress)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(IdentityContractAddressStep))\r\n","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Translate from 'components/translate/Translate'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport {\r\n\tvalidEmail,\r\n\tvalidPassword,\r\n\tvalidQuickAccountCoupon\r\n} from 'helpers/validators'\r\nimport { checkCoupon } from 'services/adex-relayer/actions'\r\n\r\nclass GrantInfo extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\tcoupon,\r\n\t\t\ttosCheck\r\n\t\t} = this.props.identity\r\n\r\n\t\tthis.validateEmail(email, false)\r\n\t\tthis.validateEmailCheck(emailCheck, false)\r\n\t\tthis.validatePassword(password, false)\r\n\t\tthis.validatePasswordCheck(passwordCheck, false)\r\n\t\tthis.validateCoupon(coupon, false)\r\n\t\tthis.validateTOS(tosCheck, false)\r\n\t}\r\n\r\n\tvalidateEmail(email, dirty) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tthis.props.validate('email', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmailCheck(emailCheck, email, dirty) {\r\n\t\tconst isValid = !!emailCheck && !!email && (emailCheck === email)\r\n\t\tthis.props.validate('emailCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidatePassword(password, dirty) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tthis.props.validate('password', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidatePasswordCheck(passwordCheck, password, dirty) {\r\n\t\tconst isValid = !!passwordCheck && !!password && (passwordCheck === password)\r\n\t\tthis.props.validate('passwordCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateCoupon(coupon, dirty) {\r\n\t\tconst isValidFormat = validQuickAccountCoupon(coupon)\r\n\r\n\t\tif (!isValidFormat) {\r\n\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\tisValid: isValidFormat,\r\n\t\t\t\terr: { msg: 'ERR_COUPON_FORMAT' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ waitingCheck: true }, () => {\r\n\t\t\t\tcheckCoupon({ coupon })\r\n\t\t\t\t\t.then((cpn = {}) => {\r\n\t\t\t\t\t\tconst isValid = (cpn.exist === true) && (cpn.used === false)\r\n\t\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\t\tif (cpn.exist === false) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_COUPON_NOT_EXIST'\r\n\t\t\t\t\t\t} else if (cpn.used === true) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_COUPON_USED'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\t\t\terr: { msg: msg },\r\n\t\t\t\t\t\t\tdirty: dirty\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\t\t\t\tisValid: false,\r\n\t\t\t\t\t\t\terr: { msg: 'ERR_COUPON_NETWORK' },\r\n\t\t\t\t\t\t\tdirty: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTOS(accepted, dirty) {\r\n\t\tthis.props.validate('tosCheck', {\r\n\t\t\tisValid: !!accepted,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\ttosCheck(checked) {\r\n\t\tthis.props.handleChange('tosCheck', checked)\r\n\t\tthis.validateTOS(checked, true)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange, invalidFields } = this.props\r\n\t\t// Errors\r\n\t\tconst { coupon, email, emailCheck, password, passwordCheck, tosCheck } = invalidFields\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('coupon', { isProp: true })}\r\n\t\t\t\t\t\t\tname='coupon'\r\n\t\t\t\t\t\t\tvalue={identity.coupon || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('coupon', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateCoupon(identity.coupon, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateCoupon(identity.coupon, false)}\r\n\t\t\t\t\t\t\terror={coupon && !!coupon.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tcoupon && !!coupon.dirty ?\r\n\t\t\t\t\t\t\t\t\tcoupon.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_VALID_COUPON')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmail(identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmail(identity.email, false)}\r\n\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temail && !!email.dirty ?\r\n\t\t\t\t\t\t\t\t\temail.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('emailCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmailCheck(identity.emailCheck, identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmailCheck(identity.emailCheck, identity.email, false)}\r\n\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty ?\r\n\t\t\t\t\t\t\t\t\temailCheck.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('password', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validatePassword(identity.password, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validatePassword(identity.password, false)}\r\n\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tpassword && !!password.dirty ?\r\n\t\t\t\t\t\t\t\t\tpassword.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('passwordCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validatePasswordCheck(identity.passwordCheck, identity.password, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validatePasswordCheck(identity.passwordCheck, identity.password, false)}\r\n\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty ?\r\n\t\t\t\t\t\t\t\t\tpasswordCheck.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\tcomponent=\"fieldset\"\r\n\t\t\t\t\t\t// className={classes.formControl}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.tosCheck(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{(tosCheck && !!tosCheck.dirty) &&\r\n\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantInfoStep = IdentityHoc(GrantInfo)\r\nexport default Translate(withStyles(styles)(IdentityGrantInfoStep))","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { createLocalWallet } from 'services/wallet/wallet'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nclass GrantDeploy extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.validateIdentity()\r\n\t\tif (!this.props.identity.identityAddr) {\r\n\t\t\tthis.initLocalWallet()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currIdentity = this.props.identity.identityAddr\r\n\t\tif (!!currIdentity &&\r\n\t\t\t(currIdentity !== prevProps.identity.identityAddr)) {\r\n\t\t\tthis.validateIdentity()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateIdentity = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityAddr } = identity\r\n\r\n\t\tvalidate('identityAddr', {\r\n\t\t\tisValid: !!identityAddr,\r\n\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\tdirty: false\r\n\t\t})\r\n\t}\r\n\r\n\tinitLocalWallet = () => {\r\n\t\tconst { handleChange, identity } = this.props\r\n\t\tconst { email, password } = identity\r\n\r\n\t\tconst walletData = createLocalWallet({\r\n\t\t\temail,\r\n\t\t\tpassword\r\n\t\t})\r\n\r\n\t\twalletData.authType =  AUTH_TYPES.GRANT.name\r\n\t\twalletData.email = email\r\n\t\twalletData.password = password\r\n\r\n\t\thandleChange('wallet', walletData)\r\n\t\thandleChange('walletAddr', walletData.address)\r\n\t}\r\n\r\n\tgetIdentity = () => {\r\n\t\tconst { identity, actions } = this.props\r\n\t\tconst { email, password, coupon, walletAddr } = identity\r\n\r\n\t\tactions.getGrantAccount({\r\n\t\t\twalletAddr,\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tcoupon\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, classes, waitingGrant } = this.props\r\n\t\tconst { walletAddr, identityAddr, grantAmount } = identity\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS')}\r\n\t\t\t\t\t\t\t{' ' + walletAddr}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography paragraph variant='body2'>\r\n\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS_INFO')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t{!!identityAddr\r\n\t\t\t\t\t\t\t\t? <Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [identityAddr, grantAmount]\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO_1')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.getIdentity}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={waitingGrant}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('GET_GRANT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t{waitingGrant &&\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t\t\t\t</span >\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nGrantDeploy.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { memory } = state\r\n\r\n\treturn {\r\n\t\twaitingGrant: memory.spinners['getting-grant-identity']\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantDeployStep = IdentityHoc(GrantDeploy)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentityGrantDeployStep)))","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nclass GrantLogin extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateWallet(false)\r\n\t}\r\n\r\n\tvalidateWallet = (dirty) => {\r\n\t\tconst { identity, handleChange, validate } = this.props\r\n\t\tconst { email, password, } = identity\r\n\r\n\t\tlet wallet = {}\r\n\r\n\t\tif (email && password) {\r\n\t\t\tconst walletData = getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword\r\n\t\t\t})\r\n\r\n\t\t\tif (!!walletData && walletData.data) {\r\n\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\twallet.email = email\r\n\t\t\t\twallet.password = password\r\n\t\t\t\twallet.authType = AUTH_TYPES.GRANT.name\r\n\t\t\t\twallet.identity = {\r\n\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\tprivileges: walletData.identityPrivileges\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thandleChange('wallet', wallet)\r\n\t\t\thandleChange('walletAddr', wallet.address)\r\n\t\t\thandleChange('identityData', wallet.identity)\r\n\t\t}\r\n\r\n\t\tvalidate('wallet', {\r\n\t\t\tisValid: !!wallet.address,\r\n\t\t\terr: { msg: 'ERR_LOCAL_WALLET_LOGIN' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { t, identity, handleChange, invalidFields, classes, actions } = this.props\r\n\t\t// Errors\r\n\t\tconst { wallet } = invalidFields\r\n\t\treturn (\r\n\t\t\t// <div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\t// direction='row'\r\n\t\t\t\talignContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('GRANT_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => handleChange('password', ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(wallet && !!wallet.dirty) &&\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{(!!identity.walletAddr) &&\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Typography variant='body1' >\r\n\t\t\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS', { args: [identity.walletAddr] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('GRANT_IDENTITY_ADDRESS', { args: [identity.identityAddr] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tonClick={() => this.validateWallet(true)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('CHECK_GRANT_IDENTITY')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\taccept=\"text/json\"\r\n\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\tid=\"contained-button-file\"\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tonChange={actions.onUploadLocalWallet}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"contained-button-file\">\r\n\t\t\t\t\t\t<Button \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// variant=\"contained\" \r\n\t\t\t\t\t\t\tcomponent=\"span\" \r\n\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('UPLOAD_ACCOUNT_DATA_JSON')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantLoginStep = IdentityHoc(GrantLogin)\r\nexport default Translate(withStyles(styles)(IdentityGrantLoginStep))","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport Dropdown from 'components/common/dropdown'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities, t) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: t('IDENTITY_OPTION_DATA',\r\n\t\t\t\t{\r\n\t\t\t\t\targs: [\r\n\t\t\t\t\t\tid.identity,\r\n\t\t\t\t\t\tid.privLevel,\r\n\t\t\t\t\t\tformatTokenAmount(bigNumberify(id.balanceDAI).toString(), 18, true),\r\n\t\t\t\t\t\t'DAI'\r\n\t\t\t\t\t]\r\n\t\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nclass GrantLogin extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { actions, identity } = this.props\r\n\t\tactions.ownerIdentities({ owner: identity.wallet.address })\r\n\t\tthis.validateIdentity(false)\r\n\t}\r\n\r\n\tvalidateIdentity = (dirty) => {\r\n\t\tconst { identity, handleChange, validate } = this.props\r\n\t\tconst { wallet, identityContractAddress } = identity\r\n\r\n\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\tconst identityData = {\r\n\t\t\taddress: identityDataSplit[0],\r\n\t\t\tprivileges: parseInt(identityDataSplit[1] || 0)\r\n\t\t}\r\n\r\n\t\thandleChange('wallet', wallet)\r\n\t\thandleChange('walletAddr', wallet.address)\r\n\t\thandleChange('identityData', identityData)\r\n\r\n\t\tvalidate('identityContractAddress', {\r\n\t\t\tisValid: !!identityData.address,\r\n\t\t\terr: { msg: 'ERR_LOCAL_WALLET_LOGIN' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.identity.identityContractAddress !==\r\n\t\t\tthis.props.identity.identityContractAddress) {\r\n\t\t\tthis.validateIdentity(true)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange } = this.props\r\n\t\tconst { ownerIdentities = [], identityContractAddress } = identity\r\n\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\t// direction='row'\r\n\t\t\t\talignContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\tonChange={(val) => handleChange('identityContractAddress', val)}\r\n\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\r\n\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantLoginStep = IdentityHoc(GrantLogin)\r\nexport default Translate(withStyles(styles)(IdentityGrantLoginStep))","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FullLogin from './FullLogin'\r\nimport IdentityContractAddressEthDeploy from './IdentityContractAddressEthDeploy'\r\nimport Anchor from 'components/common/anchor/anchor'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\theight: '50%',\r\n\t\tminHeight: theme.spacing(4)\r\n\t},\r\n\tcontainer: {\r\n\t}\r\n}))\r\n\r\nexport function ExternalConnect({ t, ...rest }) {\r\n\r\n\tconst classes = useStyles()\r\n\tconst [connectType, setConnectType] = useState('')\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\talignItems='stretch'\r\n\t\t\tclassName={classes.buttons}\r\n\t\t>\r\n\t\t\t<Grid\r\n\t\t\t\titem\r\n\t\t\t\tcontainer\r\n\t\t\t\tdirection='column'\r\n\t\t\t\talignItems='stretch'\r\n\t\t\t\tjustify='space-evenly'\r\n\t\t\t>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tconnectType !== 'create' &&\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h5' gutterBottom>{t('SELECT_EXISTING_IDENTITY')}</Typography>\r\n\t\t\t\t\t\t\t<FullLogin {...rest} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t// alignItems='stretch'\r\n\t\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => setConnectType('create')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tconnectType === 'create' &&\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Typography variant='h5' gutterBottom>{t('CREATE_NEW_IDENTITY')}</Typography>\r\n\t\t\t\t\t\t<IdentityContractAddressEthDeploy {...rest} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}","export const styles = {\r\n\troot: {\r\n\t\tcolor: 'purple',\r\n\t\t'&$active': {\r\n\t\t\tcolor: 'green'\r\n\t\t}\r\n\t},\r\n\tactive: {\r\n\t\tcolor: 'yellow'\r\n\t},\r\n\tstepperWrapper: {\r\n\t\t// display: 'flex',\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 0,\r\n\t},\r\n\tpagePaper: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 115,\r\n\t},\r\n\tpageContent: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t\tbottom: 50,\r\n\t\tpadding: 20,\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tdisplay: 'flex',\r\n\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t'@media(max-width:500px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0\r\n\t\t}\r\n\t},\r\n\tcontrols: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 5,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t},\r\n\tright: {\r\n\t\ttextAlign: 'right',\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '86%'\r\n\t\t}\r\n\t},\r\n\tleft: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'left',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '14%'\r\n\t\t}\r\n\t},\r\n\tmobileStepper: {\r\n\t\twidth: '100%',\r\n\t\t'& div': {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '10px'\r\n\t\t}\r\n\t},\r\n\tmobileStepLabel: {\r\n\t\t'& span': {\r\n\t\t\tfontSize: '24px',\r\n\t\t\tmargin: '14px auto'\r\n\t\t},\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 'auto'\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Stepper } from 'react-step/lib/stepper'\r\nimport { withStepper } from 'react-step/lib/with-stepper'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant=\"progress\"\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t>\r\n\t\t\t\t</MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI\r\n\t\t\talternativeLabel\r\n\t\t\tactiveStep={currentPage}\r\n\t\t>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title} >\r\n\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page.title}\r\n\t\t\t\t\t\t</StepLabel>\r\n\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nclass MaterialStepper extends React.Component {\r\n\r\n\t// onComplete() {\r\n\t//     // console.log('currPage', this.currPage)\r\n\t//     let props = this.props\r\n\t//     let page = props.pages[props.currentPage]\r\n\r\n\t//     // console.log('props.pages[props.currentPage]', page.component)\r\n\t// }\r\n\r\n\tgoToPage(nextStep) {\r\n\t\tlet canAdvance = (nextStep > this.props.currentPage) && this.canAdvanceNextToPage()\r\n\t\tlet canGoBack = nextStep < this.props.currentPage\r\n\r\n\t\tif (canAdvance || canGoBack) {\r\n\t\t\tthis.props.setPageIndex(nextStep)\r\n\t\t}\r\n\t}\r\n\r\n\tcanAdvanceNextToPage() {\r\n\t\t/* TODO: add check for optional steps that can be skipped\r\n        */\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\tif (this.props.canAdvance && !Object.keys(this.props.validations[page.props.validateId] || {}).length) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tisValidPage() {\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\treturn !Object.keys(this.props.validations[page.props.validateId] || {}).length\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { pages, component, validations, currentPage, t, classes, ...props } = { ...this.props }\r\n\t\tlet page = pages[currentPage]\r\n\t\tlet Comp = page.component\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.stepperWrapper}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav\r\n\t\t\t\t\t}} >\r\n\t\t\t\t\t<StepperNav {...props} pages={pages} classes={classes} currentPage={currentPage} goToPage={this.goToPage.bind(this)} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.pagePaper\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.pageContent}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<Comp {...page.props} />}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.controls}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.left}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{props.canReverse ?\r\n\t\t\t\t\t\t\t\t<Button onClick={() => props.setPageIndex(currentPage - 1)} >\r\n\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t\t{page.cancelBtn ?\r\n\t\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t{this.canAdvanceNextToPage() && !page.completeBtn ?\r\n\t\t\t\t\t\t\t\t<Button variant='contained' color='primary' onClick={this.goToPage.bind(this, currentPage + 1)} >\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t!page.completeBtn ?\r\n\t\t\t\t\t\t\t\t\t<Button label='Continue' disabled >\r\n\t\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t\t</Button >\r\n\t\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t{page.completeBtn && this.isValidPage() ?\r\n\t\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst WithMaterialStepper = withStepper(withStyles(styles)(Translate(MaterialStepper)))\r\n\r\nclass MyMaterialStepper extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Stepper pages={this.props.pages} style={{ display: 'block' }}>\r\n\t\t\t\t<WithMaterialStepper itemType={this.props.itemType} validations={this.props.validations} />\r\n\t\t\t</Stepper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMyMaterialStepper.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpages: PropTypes.array.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tlet persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tvalidations: memory.validations\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)((MyMaterialStepper))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass IdentitySteps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tpages: this.mapPages()\r\n\t\t}\r\n\r\n\t\t// TODO: Check if it is possible to need state update\r\n\t}\r\n\r\n\tmapPages = () => {\r\n\t\tconst {\r\n\t\t\tGoBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tt,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages = [],\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst cancelButton = () =>\r\n\t\t\t<CancelBtn  {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tconst pages = stepsPages.map((page, index) => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page),\r\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\r\n\t\t\t\tcompleteBtn: page.final\r\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t\t\t: undefined\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn pages\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<MaterialStepper pages={this.state.pages} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentitySteps.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps() {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\treturn {\r\n\t\t// account: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentitySteps)))","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport IdentityContractAddressEthDeploy from './IdentityContractAddressEthDeploy'\r\n// import IdentityContractAddressEthTransaction from './IdentityContractAddressEthTransaction'\r\nimport IdentityContractOwner from './IdentityContractOwner'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport GrantInfo from './GrantInfo'\r\nimport GrantDeploy from './GrantDeploy'\r\nimport GrantLogin from './GrantLogin'\r\n// import FullLogin from './FullLogin'\r\nimport { ExternalConnect } from './ExternalWalletConnect'\r\nimport IdentitySteps from './IdentitySteps'\r\n// import Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst GoBtn = ({ waiting, save, t, classes, ...rest }) => {\r\n\treturn (\r\n\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t<Button\r\n\t\t\t\tcolor='primary'\r\n\t\t\t\tonClick={save}\r\n\t\t\t\tdisabled={waiting}\r\n\t\t\t>\r\n\t\t\t\t{t('LETS_GO')}\r\n\t\t\t</Button>\r\n\t\t\t{waiting && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n\t\t</span >\r\n\t)\r\n}\r\n\r\nconst GoBtnWithIdentity = withStyles(styles)(IdentityHoc(GoBtn))\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn (\r\n\t\t<Button onClick={props.cancel} >\r\n\t\t\t{props.t('CANCEL')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtnWithIdentity = IdentityHoc(CancelBtn)\r\n\r\nconst common = {\r\n\tGoBtn: GoBtnWithIdentity,\r\n\tCancelBtn: CancelBtnWithIdentity,\r\n\tvalidateIdBase: 'identity-'\r\n}\r\n\r\nexport const CreateGrantIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='grant-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'GRANT_INFO', page: GrantInfo },\r\n\t\t\t{ title: 'GRANT_DEPLOY', page: GrantDeploy, final: true }\r\n\t\t]}\r\n\t/>\r\n\r\nexport const LoginGrantIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='grant-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'GRANT_LOGIN', page: GrantLogin, final: true }\r\n\t\t]}\r\n\t/>\r\n\r\nexport const CreteFullIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='full-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t{ title: 'GENERATE_IDENTITY_CONTRACT_ADDRESS', page: IdentityContractAddressEthDeploy, final: true },\r\n\t\t\t// { title: 'DEPLOY_IDENTITY_CONTRACT_ADDRESS', page: IdentityContractAddressEthTransaction, final: true }\r\n\t\t]}\r\n\t/>\r\n\r\nexport const LoginStandardIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='full-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t{ title: 'CONNECT_STANDARD_IDENTITY', page: ExternalConnect, final: true },\r\n\t\t]}\r\n\t/>\r\n\r\nexport const DemoIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsPages={[\r\n\t\t]}\r\n\t/>","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Img from 'components/common/img/Img'\r\n\r\nimport ADEX_LOGO from 'resources/adex-logo-txt-sm.svg'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-20.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain'\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto'\r\n\t}\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\r\n\tconst classes = useStyles()\r\n\r\n\treturn (<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tclassName={classes.root}\r\n\t\talignItems='center'\r\n\t>\r\n\t\t<Box\r\n\t\t\theight={1}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t\tmaxWidth='md'\r\n\t\t\tclassName={classes.container}\r\n\t\t>\r\n\t\t\t\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='h6'\r\n\t\t\t\tcomponent='h6'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t</Typography>\r\n\r\n\t\t\t<Img\r\n\t\t\t\tsrc={ADEX_LOGO}\r\n\t\t\t\talt='AdEx logo'\r\n\t\t\t/>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='h5'\r\n\t\t\t\tcomponent='h5'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t</Typography>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='body1'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t</Typography>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='body1'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t</Typography>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='body1'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t</Typography>\r\n\t\t\t<Box\r\n\t\t\t\theight='30%'\r\n\t\t\t\tposition='relative'\r\n\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\talignSelf='stretch'\r\n\t\t\t>\r\n\t\t\t</Box>\t\t\t\r\n\t\t</Box>\r\n\t</Box>)\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialog: {\r\n\t\theight: '100vh',\r\n\t\twidth: theme.maxWidth || 1200,\r\n\t\tmaxWidth: '100%'\r\n\t}\r\n}))\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent\r\n\t\t\t\t>\r\n\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tJustDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string.isRequired,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateGrantIdentity,\r\n\tCreteFullIdentity,\r\n\t// DemoIdentity,\r\n\tLoginGrantIdentity,\r\n\tLoginStandardIdentity\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport Translate from 'components/translate/Translate'\r\n// import { getSig } from 'services/auth/auth'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n// import { logOut } from 'services/store-data/auth'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\n\r\nconst ConnectedCreateGrantIdentity = ConnectHoc(JustDialog(CreateGrantIdentity))\r\nconst ConnectedGrantLogin = ConnectHoc(JustDialog(LoginGrantIdentity))\r\nconst ConnectedCreateFullIdentity = ConnectHoc(JustDialog(CreteFullIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(JustDialog(LoginStandardIdentity))\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nfunction PrivateRoute({ component: Component, auth, ...other }) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={(props) => auth === true //|| true\r\n\t\t\t\t? <Component {...props} />\r\n\t\t\t\t: <Redirect to={{ pathname: '/', state: { from: props.location } }} />}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nclass Root extends Component {\r\n\r\n\tcheckForMetamaskAccountChange = () => {\r\n\t\tlet acc = this.props.account\r\n\t\tif (acc._authType === AUTH_TYPES.METAMASK.name) {\r\n\r\n\t\t\t// getAccountMetamask()\r\n\t\t\t// \t.then(({ addr, mode }) => {\r\n\t\t\t// \t\taddr = (addr || '').toLowerCase()\r\n\t\t\t// \t\tif (addr && acc._addr && acc._authType !== undefined) {\r\n\t\t\t// \t\t\tlet accSigCheck = getSig({ addr: acc._addr, mode: acc._authType })\r\n\t\t\t// \t\t\tlet mmAddrSigCheck = getSig({ addr: addr, mode: AUTH_TYPES.METAMASK.name })\r\n\t\t\t// \t\t\tif (!!mmAddrSigCheck && !!accSigCheck && (mmAddrSigCheck === accSigCheck)) {\r\n\t\t\t// \t\t\t\treturn // user authenticated and not changed\r\n\t\t\t// \t\t\t} else {\r\n\t\t\t// \t\t\t\t// logout on metamask addr change\r\n\t\t\t// \t\t\t\tlogOut()\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t} else {\r\n\t\t\t// \t\t\tlogOut()\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t}\r\n\t}\r\n\r\n\tonMetamaskNetworkChanged = () => {\r\n\t\tif (process.env.NODE_ENV !== 'production') {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet acc = this.props.account\r\n\t\tif (acc._authType === AUTH_TYPES.METAMASK.name || !acc._authType) {\r\n\t\t\t// getWeb3('metamask')\r\n\t\t\t// \t.then(({ web3 }) => {\r\n\t\t\t// \t\tconsole.log(web3)\r\n\t\t\t// \t\tweb3.eth.net.getNetworkType()\r\n\t\t\t// \t\t\t.then((currentNetwork) => {\r\n\t\t\t// \t\t\t\tif (currentNetwork != 'main') {\r\n\t\t\t// \t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t// \t\t\t\t\t\ttype: 'warning',\r\n\t\t\t// \t\t\t\t\t\t// action,\r\n\t\t\t// \t\t\t\t\t\tlabel: 'WATNING_NO_MAINNET',\r\n\t\t\t// \t\t\t\t\t\ttop: true,\r\n\t\t\t// \t\t\t\t\t\tunclosable: true,\r\n\t\t\t// \t\t\t\t\t\ttimeout: 30 * 24 * 60 * 1000\r\n\t\t\t// \t\t\t\t\t})\r\n\t\t\t// \t\t\t\t}\r\n\t\t\t// \t\t\t\t// console.log('getNetwork currentNetwork', currentNetwork)\r\n\t\t\t// \t\t\t})\r\n\t\t\t// \t\t\t.catch((err) => {\r\n\t\t\t// \t\t\t\t// console.log('getNetwork err', err)\r\n\t\t\t// \t\t\t})\r\n\t\t\t// \t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidCatch(error, info) {\r\n\t\t// TODO: catch errors\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\t// this.checkForMetamaskAccountChange()\r\n\t\t// this.onMetamaskNetworkChanged()\r\n\r\n\t\t// if (window.ethereum) {\r\n\t\t// \twindow.ethereum.on('accountsChanged', (accounts) => {\r\n\t\t// \t\tconsole.log('acc changed', accounts[0])\r\n\t\t// \t\tthis.checkForMetamaskAccountChange()\r\n\t\t// \t})\r\n\t\t// \twindow.ethereum.on('networkChanged', (network) => {\r\n\t\t// \t\tconsole.log('networkChanged', network)\r\n\t\t// \t\tthis.onMetamaskNetworkChanged()\r\n\t\t// \t})\r\n\t\t// }\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t// TODO: check if computedMatch or language change need to update\r\n\t\tconst authChanged = this.props.auth !== nextProps.auth\r\n\t\tconst locationChanged =\r\n\t\t\tJSON.stringify(this.props.location) !==\r\n\t\t\tJSON.stringify(nextProps.location)\r\n\r\n\t\treturn authChanged || locationChanged\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Switch >\r\n\t\t\t\t<PrivateRoute auth={this.props.auth} path=\"/dashboard/:side\" component={Dashboard} />\r\n\t\t\t\t<PrivateRoute auth={this.props.auth} path=\"/side-select\" component={SideSelect} />\r\n\t\t\t\t<Route exact path=\"/\" component={(props) => <ConnectedRoot {...props} noBackground />} />\r\n\t\t\t\t<Route exact path=\"/identity/grant\" component={(props) => <ConnectedCreateGrantIdentity {...props} noBackground />} />\r\n\t\t\t\t<Route exact path=\"/login/grant\" component={(props) => <ConnectedGrantLogin {...props} noBackground />} />\r\n\t\t\t\t<Route exact path=\"/login/full\" component={(props) => <ConnectedLoginStandardIdentity {...props} noBackground />} />\r\n\t\t\t\t<Route exact path=\"/identity/full\" component={(props) => <ConnectedCreateFullIdentity {...props} noBackground />} />\r\n\t\t\t\t{/* <Route exact path=\"/identity/demo\" component={DemoIdentity} /> */}\r\n\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t</Switch >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nRoot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\tconst { account } = persist\r\n\tconst { wallet, identity } = account\r\n\r\n\tconst hasAuth = !!wallet\r\n\t\t&& !!wallet.address\r\n\t\t&& !!wallet.authSig\r\n\t\t&& !!wallet.authType\r\n\t\t&& !!identity.address\r\n\r\n\treturn {\r\n\t\taccount: account,\r\n\t\tauth: hasAuth\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Root))\r\n\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\nimport lime from '@material-ui/core/colors/lime'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nconst ADEX_BLUE = '#1B75BC'\r\nconst ADEX_GREEN = '#14DC9C'\r\n\r\nconst palette = {\r\n\tprimary: { main: ADEX_BLUE, contrastText: '#fff' },\r\n\tsecondary: { main: ADEX_GREEN, contrastText: '#fff' },\r\n\terror: deepOrange,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey\r\n}\r\n\r\nexport const themeMUI = createMuiTheme({\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap'\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap'\r\n\t\t\t}\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0\r\n\t\t\t}\r\n\t\t}\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// }\r\n\t},\r\n})\r\n\r\nexport const globalStyles = theme => {\r\n\treturn {\r\n\t\t'@global': {\r\n\t\t\thtml: {\r\n\t\t\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif'\r\n\t\t\t},\r\n\t\t\ta: {\r\n\t\t\t\ttextDecoration: 'none'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport { Switch, HashRouter as Router } from 'react-router-dom'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\n// import './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport configureStore from 'store/configureStore'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'react-router-redux'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/es/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI, globalStyles } from './themeMUi'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst { persistor, store } = configureStore\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nconst cssBaselineStyled = ({ classes }) =>\r\n// Might break something\r\n\t<CssBaseline classes={\r\n\t\tclasses.globalStyles\r\n\t} />\r\n\r\n\r\nconst CssBaselineStyled = withStyles(globalStyles)(cssBaselineStyled)\r\n\r\nclass App extends Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaselineStyled\r\n\t\t\t\t\t// classes={\r\n\t\t\t\t\t//   { children: classes.globalStyles }\r\n\t\t\t\t\t// }\r\n\t\t\t\t/>\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate\r\n\t\t\t\t\t\t\t\tonBeforeLift={onBeforeLift}\r\n\t\t\t\t\t\t\t\tpersistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history} >\r\n\t\t\t\t\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"adex-dapp\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Switch >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n    \t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister();\r\n\t\t});\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { register } from './serviceWorker'\r\n\r\n// Temp here?\r\nObject.values = function* values(obj) {\r\n\tfor (let prop of Object.keys(obj)) {\r\n\t\tyield obj[prop]\r\n\t}\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nregister()","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","// No automatic generation: we don't want to depend on fs, as we want to keep this universal\n// ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\": require(\\\"./$line\\\"),\\n\"; done\nmodule.exports = function () {\n  return {\n    \"bg-BG\": require(\"./bg-BG.json\"),\n    \"de-DE\": require(\"./de-DE.json\"),\n    \"en-US\": require(\"./en-US.json\"),\n    \"es-ES\": require(\"./es-ES.json\"),\n    \"fr-FR\": require(\"./fr-FR.json\"),\n    \"hr-HR\": require(\"./hr-HR.json\"),\n    \"hu-HU\": require(\"./hu-HU.json\"),\n    \"it-IT\": require(\"./it-IT.json\"),\n    \"nl-NL\": require(\"./nl-NL.json\"),\n    \"pt-BR\": require(\"./pt-BR.json\"),\n    \"pt-PT\": require(\"./pt-PT.json\"),\n    \"ru-RU\": require(\"./ru-RU.json\"),\n    \"se-SE\": require(\"./se-SE.json\"),\n    \"sr-RS\": require(\"./sr-RS.json\"),\n    \"zh-CN\": require(\"./zh-CN.json\")\n  };\n}; // ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\",\\n\"; done\n\n\nmodule.exports.all = [\"bg-BG\", \"da-DK\", \"de-DE\", \"en-US\", \"es-ES\", \"fr-FR\", \"he-IL\", \"hr-HR\", \"hu-HU\", \"it-IT\", \"nl-NL\", \"pt-BR\", \"pt-PT\", \"ru-RU\", \"se-SE\", \"sr-RS\", \"zh-CN\"];\nmodule.exports.onlyTranslated = [\"en-US\", \"es-ES\"];","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from \"@ledgerhq/hw-app-eth\"\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() { return this._path }\r\n\tget provider() { return this._provider }\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}) => {\r\n\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`)\r\n\t\t\t\t.publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode\r\n\t\t\t\t.fromExtendedKey(derivedKey)\r\n\t\t\t\t.address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth\r\n\t\t\t.getAddress(this.path, false, true)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(\r\n\t\t\tpublicKey,\r\n\t\t\tchainCode,\r\n\t\t\t{ from, to }\r\n\t\t)\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async (params) => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps)\r\n\t\t\t.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(\r\n\t\t\tthis.path,\r\n\t\t\ttxUnsigned\r\n\t\t)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(\r\n\t\t\ttxProps,\r\n\t\t\tsignature\r\n\t\t)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t* TODO: may not work.\r\n\t* The ledger device or u2f seems to broken\r\n\t* Can list the addresses\r\n\t* Can sign messages\r\n\t* Signs transactions\r\n\t* Actually it show the tx but does not return value after \r\n\t* confirmation on the device\r\n\t*/\r\n\tsendTransaction = async (params) => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof (message) === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth\r\n\t\t\t.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = (provider) => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH'\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404.12db5cc0.png\";","module.exports = __webpack_public_path__ + \"static/media/rekt-eddie.8bd0ccfa.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/adex-logo-txt-sm.9fd40458.svg\";","module.exports = __webpack_public_path__ + \"static/media/eddie-20.a814049a.png\";"],"sourceRoot":""}