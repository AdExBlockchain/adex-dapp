{"version":3,"sources":["selectors/selectors.js","selectors/configSelectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/itemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/index.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","helpers/localStorageHelpers.js","constants/actionTypes.js","resources/getting-started/GS-bonus-ic.png","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/CampaignReceipt.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","helpers/formatters.js","services/store-data/analytics.js","services/store-data/loop.js","constants/targeting.js","services/translations/translations.js","helpers/sanitizer.js","services/crypto/crypto.js","constants/misc.js","store/initialState.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","actions/common.js","actions/uiActions.js","helpers/errors.js","helpers/numbers.js","actions/itemActions.js","services/auth/auth.js","actions/accountActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","helpers/timeHelpers.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/campaignActions.js","actions/newItemsActions.js","actions/index.js","constants/spinners.js","services/smart-contracts/ethers.js","resources/getting-started/GS-email-ic.png","resources/getting-started/GS-create-ic.png","resources/getting-started/GS-launch-ic.png","helpers/miscHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404-no.png","resources/404-yes.png","resources/getting-started/GS-fund-ic.png","resources/getting-started/GS-place-ic.png","resources/download-metamask.png","resources/metamask.png","services/adex-market/actions.js","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/smart-contracts/actions/identity.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/channelsReducer.js","reducers/ensReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/adex-relayer/actions.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectRelayerConfig","state","getState","persist","config","relayer","selectFeeTokenWhitelist","createSelector","_ref","feeTokenWhitelist","reduce","all","t","tokens","Object","objectSpread","address","selectRoutineWithdrawTokens","_ref2","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","_ref3","map","selectMainToken","relayerConfig","_ref4","mainToken","selectSaiToken","_ref5","saiAddr","selectMainFeeToken","_ref6","selectAccount","account","selectChannels","channels","selectAuth","wallet","identity","authSig","authType","selectWallet","selectEmail","email","selectEmailProvider","split","selectAuthSig","selectWalletAddress","selectAuthType","selectAccountIdentity","_ref7","selectAccountIdentityAddr","_ref8","selectAccountStats","_ref9","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","deployData","selectChannelsWithUserBalancesEligible","_ref15","withOutstandingBalance","toConsumableArray","selectChannelsWithUserBalancesAll","_ref16","withBalanceAll","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectPublisherMinRevenueReached","_ref18","_ref19","totalRevenue","decimals","bigNumberify","gt","parseUnits","selectIdentity","memory","selectEnsAddressByAddr","ensAddresses","_","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","selectNavTitle","nav","navTitle","selectSide","side","selectGlobalUi","ui","global","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectCompanyData","companyData","selectSpinnerById","id","selectRegistrationAllowed","ids","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectHideGettingStarted","hideGettingStarted","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","_opts$components","components","translate","selectAnalytics","analytics","selectAdvancedAnalytics","advanced","selectAnalyticsTimeframe","timeframe","selectDemandAnalytics","demand","selectAdvancedAnalyticsByType","type","campaignAnalytics","selectPublisherStatsByType","advancedByType","publisherStats","selectPublisherTotalImpressions","reportPublisherToAdUnit","values","value","Number","selectCampaignAnalyticsByChannelStats","campaignId","slicedToArray","analyticsByType","byChannelStats","selectCampaignAnalyticsByChannelToAdUnit","reportChannelToAdUnit","selectAnalyticsDataAggr","eventType","metric","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","aggr","selectCampaignEventsCount","selectTotalImpressions","eventCounts","selectTotalClicks","selectTotalMoney","eventPayouts","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref20","filter","c","find","e","time","_ref21","selectAverageCPM","_ref22","_ref23","totalMoney","totalImpressions","selectStatsChartData","_ref25","noLastOne","rest","objectWithoutProperties","data","_ref26","_ref26$data","slice","memo","item","labels","push","formatDateTime","datasets","_ref24","parseFloat","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref27","_ref28","selectChartDatapointsClicks","_ref30","_ref31","selectChartDatapointsPayouts","_ref33","_ref34","selectChartDatapointsCPM","_ref36","_ref37","_ref38","payouts","impressions","result","n","i","toFixed","selectValidations","validations","selectValidationsById","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewCampaign","Campaign","CampaignModel","selectNewAdSlot","AdUnit","AdUnitModel","AdSlot","AdSlotModel","selectItemsByType","items","itemType","selectItemsArrayByType","selectCampaigns","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignsArray","selectAdUnits","adUnits","selectAdUnitsArray","selectAdSlotsArray","adSlots","selectCampaignsTableData","_ref$decimals","depositAsset","_item$spec","spec","_item$adUnits","firstUnit","media","mediaUrl","mediaMime","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","receiptAvailable","selectCampaignsMaxImpressions","Math","max","apply","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","fallbackUnit","concat","title","replace","to","ipfs","selectAdUnitsTableData","units","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","keys","key","website","ctr","earnings","selectCampaignStatsMaxValues","channelId","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","dA","avgCPM","dB","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","selectHasAdSlotImpressions","selectHas5000Impressions","__webpack_require__","d","__webpack_exports__","configSelectors_selectRelayerConfig","translationsSelectors_t","privilegesNames","valueToKey","IdentityPrivilegeLevel","tokenAvailableBalance","token","balance","feeToken","min","mul","lte","getTotalAccountRevenue","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","_callee2","withdrawTokens","wrap","_context2","prev","next","_callee","revenuePr","revenue","balanceMainToken","_args","_context","sent","minFinal","tokenInMainTokenValue","t0","abrupt","add","stop","_x2","this","Promise","resolve","_x","getWithdrawTokensBalances","_callee4","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","_context4","getEthers","_callee3","tokenContract","available","_context3","balanceOf","_x4","balanceData","_x3","getAddressBalances","_x5","_getAddressBalances","_callee6","provider","calls","_context6","getBalance","path","serializedPath","balanceEth","formatEther","toString","tokensBalances","getAccountStats","_x6","_getAccountStats","_callee7","_ref11$outstandingBal","outstandingBalanceMainToken","getIdentity","_selectMainToken","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","_context7","total","deployed","privileges","then","res","catch","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","availableIdentityBalanceMainToken","totalIdentityBalanceMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_x7","_getOutstandingBalance","_callee8","withBalance","bigZero","initial","allOutstanding","_context8","amounts","ch","outstanding","outstandingAvailable","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","getAllValidatorsAuthForIdentity","_x9","_getAllValidatorsAuthForIdentity","_callee11","validatorAuthTokens","allValidators","tokenCalls","allTokens","validatorsAuth","_context11","_objectSpread2","channel","leader","validators","follower","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_callee10","_context10","getValidatorAuthToken","validatorId","_x12","saiDaiConversion","_callee5","_context5","_x10","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_x11","_tokenInMainTokenValue","_callee12","_selectMainToken2","valueInMainToken","_context12","toLowerCase","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","showOnTrezor","getAddresses","asyncToGenerator","regenerator_default","_ref3$from","_ref3$to","success","payload","ethereumGetAddress","signTx","params","txProps","signature","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","r","s","v","serializeTransaction","Error","error","sendTransaction","txData","signMessage","message","_args4","ethereumSignMessage","hex","hash","mode","SignatureModes","GETH","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","password","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","getAddress","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","floor","random","MAX_SAFE_INTEGER","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","baseUrl","Requester","getRequesters","requester","url","validator","processResponse","json","text","handleRequesterErrorRes","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","existingAuth","era","Date","now","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","fetch","headers","authorization","results","authTokens","lastApprovedState","route","method","closeCampaign","body","JSON","stringify","events","Content-Type","identityAnalytics","leaderAuth","limit","segmentByChannel","aggregates","queryParams","identityCampaignsAnalytics","isEthAddressERC20","addr","contract","isEthAddress","ethers","Contract","ERC20TokenABI","totalSupply","AddressZero","allowance","isConnectionLost","eth","race","reject","setTimeout","getBlockNumber","urlRegex","passwordRegex","validUrl","test","validateNumber","numberStr","isNaN","isFinite","validName","msg","errMsgArgs","validPassword","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$ens","ens","ensAddress","resolveName","code","loadFromLocalStorage","localStorage","getItem","parse","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","useSelector","assign","_ref$isProp","_ref$args","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","pathname","history","createHref","handleClick","event","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","underline","externalIcon","isExternal","getUrl","linkProps","draggable","rel","style","Link","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","styles","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","sideIndex","advertiser","publisher","0","1","handleChange","ev","execute","useStyles","makeStyles","activeColor","accentOne","main","accentTwo","minWidth","&$selected","selected","light","indicator","SideSwitch","Box","bgcolor","boxShadow","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","&:hover","adxLink","hint","sideSwitch","marginBottom","useCommonStyles","SideNav","commonClasses","routerLocation","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","imgSrc","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","crop","x","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","exact","required","isValid","checkExactishAspect","masgArgs","dirty","validateMedia","getMediaSize","validateId","ValidationHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","newValues","onOk","vals","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","G404","xs","inline","textTransform","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","align","PageNotFound_G404","IMG_404_1","window","IMG_404_2","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","objModel","dp","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","_this$props5","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","fallbackMediaUrl","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","Info_default","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","MUIDataTableEnhanced","columns","mui_datatables_dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","mapStatusIcons","humanFriendlyStatus","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","cellImg","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","formatAbbrNum","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selector","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","useEffect","ReloadData","handleReload","react","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","getCols","maxDeposit","customBodyRender","includes","commify","sortDirection","enterDelay","Visibility","Receipt","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceipts","CampaignsTable","_useSelector","_useTableData","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","_page$pageValidation","pageValidation","onValid","stepsId","dirtyErrors","dirtyErrs","getDirtyValidationErrors","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","onKeyPressed","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","FormSteps","CancelBtn","onSave","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","goToNextPageIfValid","MaterialUiStepper","FormSteps_FormSteps","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialog","iconButton","textButton","fabVariant","btnLabelArgs","btnLabel","dialogActions","onBeforeOpen","btnProps","setOpen","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","addUnit","resetNewItem","saved","formControl","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","noSrcLabel","IconComponent","inputLabel","useRef","_React$useState","_React$useState2","labelWidth","setLabelWidth","offsetWidth","Select","ListSubheader","spinners_InputLoading","adUnitPost","AdTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","withHttp","removeFromUrl","protocol","host","newQuery","_i","_Object$entries","entries","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","getSuggestions","inputValue","allowCreate","validateCreation","suggestion","newSuggestion","chip","inputRoot","multiple","validateAutocomplete","errorText","onInit","setInputValue","suggestions","selectedItem","Autocomplete","getOptionLabel","option","onInputChange","renderInput","inputProps","SourcesSelect","SOURCES","collection","tag","score","placeholder","AdUnitTargeting","handleTargetChange","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","splice","targetTag","_ref2$source","autocomplete_Autocomplete","openOnClick","suggestionMatch","showSuggestionsWhenValueIsSet","slider","markLabel","collections","tg","newCollection","targeting","tags","_ref4$source","_ref4$target","AddIcon","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","openCampaign","OPENING_CAMPAIGN","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedItemsIds","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","InputProps","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","isNumberString","moment","MomentUtils","getTotalImpressions","dep","CampaignFinance","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","date","valueOf","errDepAmnt","errMin","errFrom","errTo","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","UnitsTable","NewCampaignFormPreview","_newItem$temp","getCampaignActualFees","FormsCommon_WalletAction","CampaignFormPreview_UnitsTable","feesFormatted","totalSpendFormatted","addSlot","AdSlotBasic","adTypesSource","UPDATING_SLOTS_DEMAND","updateSlotsDemandThrottled","errWebsite","errType","updateNewSlot","dangerouslySetInnerHTML","__html","NewAdSlotHoc","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","mainTokenSymbol","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","onInvalid","validateNewCampaignAdUnits","validateNewCampaignFinance","CampaignFormPreview","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","truncateString","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","campaignUnits","_props$selected","setSelectorArgs","allRowsSelected","AdSlotsTable_RRIconButton","AdSlotsTable","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","updateItemTemp","_ref2$prop","_ref2$value","_ref2$item","ValidatedSlotMinCPM","minCPM","validateAmount","ValidatedSlotWebsite","validateWebsite","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","join","CampaignProps","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","_useSelector2","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","whiteSpace","pageBreak","pageBreakAfter","campaignBreakdown","companyName","firstLastName","country","mb","mt","Table","TableHead","TableRow","TableCell","TableBody","CompanyDetails","updateCompanyData","a4","hideOnMobile","hideOnDesktop","CampaignReceipt","invoice","useParams","selectedByPropsOrParams","receipts","Receipt_CompanyDetails","react_to_print_lib_default","trigger","containers_Receipt_Receipt","VIEW_MODE","context","handleTabChange","tabIndex","CampaignActions","statistics","scrollable","scrollButtons","clone","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","CampaignItem","ownProps","rowsView","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","cpm","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y4Label","y4Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","_ref$y4Color","y4Color","Chart","pluginService","register","afterDraw","chart","tooltip","_active","activePoint","controller","ctx","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","yLabel","formatFloatNumberWithCommas","hover","xAxes","gridLines","scaleLabel","labelString","ticks","autoSkip","callback","tick","array","yAxes","beginAtZero","drawOnChartArea","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","progress","StatsCard","explain","deepOrange","amber","lime","contrastThreshold","tonalOffset","disabledBackground","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiFormControl","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","themeMUI","responsiveFontSizes","factor","infoStatsContainer","dashboardCardBody","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","averageCPM","loadingImpressions","loadingMoney","loadingCPM","loadingClicks","dataInSync","DashboardStats_StatsCard","updateAnalyticsTimeframe","Infinity","simplified_SimpleStatistics","DashboardStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","WithdrawFromIdentity","_useSelector3","amountToWithdraw","withdrawTo","_useSelector4","errAmount","errAddr","updateNewTransaction","NewTransactionHoc","TransactionHoc","txId","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","getErrMsg","saveFn","acc","log","txs","txResults","WithdrawAnyTokenFromIdentityForm","numStr","tokenAddress","withdrawToSpinner","balanceAnySpinner","tokenBalance","tokenDecimals","errToken","validateAddress","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPageForm","handleValidate","_timeout","setEns","validateENS","withdrawAmount","setEnsSpinner","noValidate","IdentityWithdrawPreview","feesData","fees","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","identityAvailable","previewWarnMsgs","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","validateIdentityWithdraw","TransactionPreview","_ref4$transaction","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","addrIdentityPrivilege","setIdentityPrivilege","getFeesOnly","WithdrawAnyTokenFromIdentity","WithdrawAnyTokenFromIdentityPage","identityWithdrawAny","_ref9$transaction","withdrawOtherTokensFromIdentity","SetAccountENS","SetAccountENSPage","setIdentityENS","username","addIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","canMakeTx","identityEnsName","localWalletDownloadHref","setLocalWalletDownloadHref","loadBackupHref","obj","getRecoveryWalletData","expanded","setExpanded","AccountInfo_AccountItem","transactions_SetAccountENS","py","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","square","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","SaveAlt_default","transactions_SetIdentityPrivilege","transactions_WithdrawAnyTokenFromIdentity","useColorlibStepIconStyles","transition","completed","star","ColorlibConnector","line","backgroundSize","StepConnector","ColorlibStepIcon","_clsx","clsx","backgroundImage","Stars","createAdUnitTutorial","confirmAction","fundAccountTutorial","anchor_ExternalAnchor","launchFirstCampaign","createAdSlot","placeAdSlot","instructions","GettingStarted","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","isGettingStartedHidden","emailProvider","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","indexOfFirstIncompleteStep","findIndex","setActiveStep","esm_ExpandMore","Star","StarBorder","Hidden","mdUp","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","smDown","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","esm_Close","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","dataLoaded","setDataLoaded","minPublisherRevenueReached","showTxPrivLevelWarning","resolveEnsAddress","_updateInitialData","updateAccountIdentityData","getAllItems","statsLoop","start","analyticsLoop","analyticsCampaignsLoop","campaignsLoop","updateInitialData","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","Alert","severity","updatePrivilegesWarningAccepted","Account","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","w","goTo","confirmLogout","toExecute","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","_useState5","_useState6","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState7","_useState8","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","updateIdentity","updateIdentityWallet","signType","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","accessWarningCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","owner","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","final","infoPaper","gutters","input","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","Core","Interface","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","tokenAmount","validUntil","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","fee","feeNum","div","feeDen","feeAddr","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","getWithdrawnPerUserOutstanding","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","functions","withdrawnPerUser","sub","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","getAllCampaigns","byEarner","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","balanceNum","_x8","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","eligible","c1","c2","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","sum","lt","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","executeRoutines","encode","routinesSweepTxCount","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","isSweepTx","getSwapAmountsByToken","saiToken","swaps","swapsSumInMainToken","swapsByToken","getSweepingTxnsIfNeeded","_getSweepingTxnsIfNeeded","amountInMainTokenNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","approveTxns","channelOpenTx","txnsByFeeToken","totalBN","mtBalance","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","extraTxFeesCount","getApproveTxns","approveForAddress","approveAmount","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","processExecuteByFeeTokens","extraData","closeChannel","_closeChannel","textObj","statusText","AdexNodeRequester","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","joinSymbol","substring","parts","number","decPlaces","pow","abbrev","string","Loop","syncAction","updateAccountAnalytics","loopName","_syncAction","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","updateAccountCampaignsAnalytics","Looper","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","startLoop","checkLoop","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","genders","Genders","translations_translate","setLang","translations","adexTranslations","translation","tpl","pattern","RegExp","interpolated","isValidElement","cloneElement","every","interpolate","lng","getKeyHash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","BID_STATES","ExchangeConstants","TIMEOUTS","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","campaings","web3Transactions","ethNetwork","networkId","gasData","market","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","_loop__WEBPACK_IMPORTED_MODULE_0__","actions__WEBPACK_IMPORTED_MODULE_1__","constants_misc__WEBPACK_IMPORTED_MODULE_2__","LOOP_TIMEOUT","updateUserCampaigns","accountStatsLoop","updateAccountStats","types","updateGlobalUi","category","updateUiByIdentity","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","get","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","caches","notifyNewTOS","grant","accepted","getErrorMsg","numStringCPMtoImpression","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","resUnit","passback","postAdSlot","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","addSig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","updateGasData","updatedIdentity","UPDATING_ACCOUNT_IDENTITY","getIdentityData","isLimitedVolume","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","checkSession","skipErrToast","getSession","signerAddress","cfg","getRelayerConfigData","getNetworkId","getNetwork","getNetworkData","_callee13","network","_context13","onMetamaskNetworkChange","isMetamaskMatters","t4","t5","onMetamaskAccountChange","accountAddress","hasAuth","_account$wallet","identityContractOwner","_x13","_x14","metamaskAccountCheck","ethereumSelectedAddress","_x15","_x16","_callee9","_context9","ethereumNetworkId","_x17","_x18","ethereum","on","accounts","_x19","_x20","hasBackup","_callee14","salt","encryptedWallet","_context14","generateSalt","getWalletHash","getQuickWallet","makeBackup","_callee15","walletSalt","walletHash","_context15","backupWallet","_selectWallet","isLocal","QUICK_WALLET_BACKUP","_x23","_x24","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validateEmailCheck","validatePassword","validatePasswordCheck","validateTOS","validateWallet","validateIdentityContractOwner","validateAccessWarning","_x21","validateCampaignUnits","_x22","validateCampaignValidators","_x25","validateAmounts","_ref21$maxDeposit","validateWithdrawAmount","availableIdentityBalanceMainTokenRaw","availableIdentityBalanceMainTokenFormatted","errorMsg","amount","_x26","_x27","_x28","_x29","validateCampaignAmount","_callee16","isValidNumber","deposit","isValidDeposit","isValidMin","_context16","_x30","_x31","getCampaignDatesValidation","_ref28$created","validateCampaignDates","_ref29","_callee17","_context17","_x32","_x33","validateCampaignTitle","_ref32","_callee18","_context18","_x34","_x35","validateEthAddress","_ref33$nonZeroAddr","_ref33$nonERC","_callee19","_ref35","_context19","_x36","_x37","validatePrivilegesAddress","_ref36$setAddr","_ref36$walletAddr","_callee20","isCurrentAddress","_context20","_x38","_x39","validatePrivLevel","_ref39","_callee21","_context21","_x40","_x41","validateSchemaProp","_ref40","_ref41","_callee22","_context22","_x42","validateEmail","validateNotExisting","_ref42","_callee23","_ref43","existing","_context23","getEmail","_x43","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","abort","readAsText","withdrawFromIdentity","identityData","getOwnerIdentities","lookupAddress","_selectIdentity","identityTxData","registerAccount","regAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectAccountStatsRa","_selectAccountStatsFo","fillEmptyTime","prevAggr","defaultValue","intervals","nowUTC","utc","lastSixHoursPeriod","startOf","lastHour","subtract","end","last24Hours","last7Days","thisWeek","endOf","lastWeek","thisMonth","lastMonth","intervalsMs","interval","ammount","newAggr","diff","unix","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","analyticsCampaignsParams","checkAccountChanged","accountCheck","aggrByChannelsSegments","feeTokens","_aggr$sort$reduce","aggregations","_withdrawTokens$depos","minBalance","currentAggr","currentChannelValue","hasMinBalance","currentTimeValue","feeSubtracted","currentAvailable","currentAdded","points","curInnerAggr","accountChanged","allAnalytics","aggrByChannelSegments","updateSlotsDemand","throttle","demandAnalytics","leading","trailing","updateCampaignState","getHumanFriendlyName","_selectAccount","getCampaigns","closeCampaignMarket","currentCampaign","tempValidators","_campaign$temp2","totalSpend","adSlotPost","currentSlot","_slot$minPerImpressio","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","campaignActions","newItemsActions","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","isMoment","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","HDNode","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","HDKey","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","statuses","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","semverGreaterThan","versionA","versionB","versionsA","versionsB","cache","latestVersion","latestTOS","currentVersion","currentTOS","tosVersion","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","baseIdentityAddr","identityRecoveryAddr","routineAuthorizationsRaw","bytecode","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","totalAmountInMainTokenNeeded","_ref16$sweepTxns","_ref16$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minRecommended","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesSweepTxCo","_tx$extraTxFeesCount","txFeeAmount","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","txnsRaw","executeTx","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","services_requester__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"sHAIaA,EAA0BC,YACtCC,IACAC,KAGYC,EAAqCH,YACjDC,IACA,eAACG,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAK,GAAIG,EAATH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,OAAoBD,EAAEE,SAAWE,EAAEF,wBCPvBG,EAAsB,SAAAC,GAClC,OAAQA,GAASC,eAAYC,QAAQC,OAAOC,SAmBhCC,EAA0BC,YACtC,CAACP,GACD,SAAAQ,GACC,OAD0BA,EAAxBC,kBACuBC,OAAO,SAACC,EAAKC,GACrC,IAAMC,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GAGpB,OAFAE,EAAOD,EAAEI,SAAWJ,EAEbC,GACL,MAIQI,EAA8BV,YAC1C,CAACP,GACD,SAAAkB,GACC,OAD8BA,EAA5BC,sBAC2BT,OAAO,SAACC,EAAKC,GACzC,IAAMC,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GAGpB,OAFAE,EAAOD,EAAEI,SAAWJ,EAEbC,GACL,MAIQO,EAAuCb,YACnD,CAACP,GACD,SAAAqB,GACC,OAD8BA,EAA5BF,sBAC2BG,IAAI,SAAAV,GAAC,OAAIA,EAAEI,YAY7BO,GARehB,YAC3B,CAACP,GACD,SAAAwB,GAEC,OADSV,OAAAC,EAAA,EAAAD,CAAA,GAAQU,KAKYjB,YAC9B,CAACP,GACD,SAAAyB,GAAA,OAAAA,EAAGC,WAA6B,MAGpBC,EAAiBpB,YAC7B,CAACP,EAAqBiB,GACtB,SAAAW,EAAcT,GAAd,OAAwCA,EAAxCS,EAAGC,WAGSC,EAAqBvB,YACjC,CAACP,EAAqBM,GACtB,SAAAyB,EAAgBtB,GACf,OAAOA,EAD8BsB,EAAnCL,UACiCV,2BCtExBgB,EAAgB,SAAA/B,GAAK,OAAIA,EAAME,QAAQ8B,SAAW,IAClDC,EAAiB,SAAAjC,GAAK,OAAIA,EAAME,QAAQgC,UAExCC,EAAa7B,YACzByB,EACA,SAAAxB,GAAA,IAAG6B,EAAH7B,EAAG6B,OAAQC,EAAX9B,EAAW8B,SAAX,QACGD,KACAA,EAAOrB,WACPqB,EAAOE,WACPF,EAAOG,YACPF,EAAStB,UAGAyB,EAAenD,EAC3B0C,EACA,SAAAd,GAAA,OAAAA,EAAGmB,QAAuB,KAGdK,EAAcnC,YAC1ByB,EACA,SAAAX,GAAA,OAAAA,EAAGsB,QAGSC,EAAsBrC,YAClCmC,EACA,SAAAC,GAAK,OAAOA,EAAQA,EAAME,MAAM,KAAK,GAAK,OAG9BC,EAAgBvC,YAC5BkC,EACA,SAAAhB,GAAA,OAAAA,EAAGc,UAGSQ,EAAsBxC,YAClCkC,EACA,SAAAb,GAAA,OAAAA,EAAGZ,UAGSgC,EAAiBzC,YAC7BkC,EACA,SAAAV,GAAA,OAAAA,EAAGS,WAGSS,EAAwB1C,YACpCyB,EACA,SAAAkB,GAAA,OAAAA,EAAGZ,UAA2B,KAGlBa,EAA4B5C,YACxC0C,EACA,SAAAG,GAAA,OAAAA,EAAGpC,UAGSqC,EAAqB9C,YACjCyB,EACA,SAAAsB,GAAA,OAAAA,EAAGC,OAAqB,KAQZC,GALwBjD,YACpCyB,EACA,SAAAyB,GAAA,OAAAA,EAAGC,UAA2B,KAGMnD,YACpC8C,EACA,SAAAM,GAAA,OAAAA,EAAGC,KAAiB,MAGRC,EAA8BtD,YAC1C8C,EACA,SAAAS,GAAA,OAAAA,EAAGC,WAA6B,KAapBC,GAVwCzD,YACpD0C,EACA,SAAAgB,GAAA,IAAGC,EAAHD,EAAGC,YAAH,OACCA,GACAA,EAAYC,2BACZD,EAAYC,0BAA0B,GACnCD,EAAYC,0BAA0B,GACtC,OAG0C5D,YAC9C0C,EACA,SAAAmB,GAAA,OAAAA,EAAGF,YAA8BG,cAGrBC,EAAyC/D,YACrD2B,EACA,SAAAqC,GAAA,IAAGC,EAAHD,EAAGC,uBAAH,OAAA1D,OAAA2D,EAAA,EAAA3D,CAAqC0D,GAA0B,MAGnDE,EAAoCnE,YAChD2B,EACA,SAAAyC,GAAA,IAAGC,EAAHD,EAAGC,eAAH,OAAA9D,OAAAC,EAAA,EAAAD,CAAA,GAA+B8D,GAAkB,MAGrCC,EAAyCtE,YACrD0C,EACA,SAAA6B,GAAA,IAAAC,EAAAD,EAAGZ,YAAH,OAAAa,OAAA,IAAAA,EAAwC,GAAxCA,GAAkBC,mBAAoD,KAG1DC,EAAyB1E,YACrC,CAACsE,EAAwC9B,GACzC,kBAAAnD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAc,IAAdA,UAAAC,OAAA,EAAAD,UAAA,QAAAE,IAAqD,IAGzCoF,EAAmC3E,YAC/C,CAACiD,EAAuBjC,GACxB,SAAA4D,EAAAC,GAAA,IAAGC,EAAHF,EAAGE,aAAkBC,EAArBF,EAAqBE,SAArB,OACCC,uBAAaF,GAAgB,GAAGG,GAC/BC,qBAlH2B,KAkHOH,MCpHxBI,EAAiB,SAAAzF,GAAK,OAAIA,EAAM0F,OAAOrD,UAIvCsD,EAAyBrF,YACrC,CAHiC,SAAAN,GAAK,OAAIA,EAAME,QAAQ0F,cAGnC,SAACC,EAAG9E,GAAJ,OAAgBA,IACrC,SAAC6E,EAAc7E,GAAf,OAA2B6E,EAAa7E,IAAY,KCNxC+E,EAAiB,SAAA9F,GAAK,OAAIA,EAAM+F,OAAOC,UAOvCC,GALe3F,YAC3BwF,EACA,SAAAvF,GAAA,OAAAA,EAAG2F,SAG+B5F,YAClCwF,EACA,SAAA7E,GAAA,OAAAA,EAAGkF,OAAqB,MAGZC,EAAqB9F,YACjCwF,EACA,SAAA1E,GAAA,IAAG8E,EAAH9E,EAAG8E,OAAH,OAAgB,IAAIG,gBAAgBH,KCXxBI,EAAiB,SAAAtG,GAAK,OAAIA,EAAM0F,OAAOa,IAAIC,UAC3CC,EAAa,SAAAzG,GAAK,OAAIA,EAAM0F,OAAOa,IAAIG,MACvCC,EAAiB,SAAA3G,GAAK,OAAIA,EAAME,QAAQ0G,GAAGC,QAI3CC,EAAiB,SAAA9G,GAAK,OAAIA,EAAM0F,OAAOqB,UAEvCC,EAAmB1G,YAC/B,CAAC4C,EANgC,SAAAlD,GAAK,OAAIA,EAAME,QAAQ0G,GAAGK,aAO3D,SAACC,EAAcC,GAAf,OAAgCA,EAAaD,IAAiB,KAGlDE,EAAoB9G,YAChC,CAAC0G,GACD,SAAAzG,GAAA,OAAAA,EAAG8G,aAAiC,KAGxBC,EAAoBhH,YAChC,CAACwG,EAAgB,SAACjB,EAAG0B,GAAJ,OAAWA,IAC5B,SAACR,EAAUQ,GAAX,OAAkBR,EAASQ,KAQfC,GAL8BlH,YAC1C,CAACwG,EAAgB,SAACjB,EAAG4B,GAAJ,OAAYA,IAC7B,SAACV,EAAUU,GAAX,OAAmBA,EAAIpG,IAAI,SAAAkG,GAAE,OAAIR,EAASQ,OAGFjH,YACxCqG,EACA,SAAA1F,KAAGyG,kBAAH,OAhCyBC,KAmCbC,EAA0BtH,YACtCqG,EACA,SAAAvF,GAAA,OAAAA,EAAGyG,kBAGSC,EAAkCxH,YAC9C0G,EACA,SAAAxF,GAAA,QAAAA,EAAGuG,4BAGSC,GAA2B1H,YACvC0G,EACA,SAAArF,GAAA,OAAAA,EAAGsG,qBAGSC,GAA0B5H,YA5CJ,SAAAN,GAAK,OAAIA,EAAM0F,OAAOyC,eA8CxD,SAAArG,GAAA,OAAAA,EAAGsG,WAA6B,KAGpBC,GAAwB/H,YACpCqG,EACA,SAAA1D,GAAA,OAAAA,EAAGqF,UAA2B,cCxDlBC,GAAa,SAAAvI,GAAK,OAAIA,EAAME,QAAQsI,UAEpCC,GAAqBnI,YACjC,CACCiI,GACA,SAAC1C,EAAG6C,GACH,MAAO,CAAEA,MAAKC,KADQhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,MAIjB,SAACiJ,EAADrI,GAAyB,IAAhBmI,EAAgBnI,EAAhBmI,IAAKC,EAAWpI,EAAXoI,KAAWE,EACiCF,EAAjDG,cADgB,IAAAD,KAAAE,EACiCJ,EAAjCK,YADA,IAAAD,EACO,CAAC,IADRA,EAAAE,EACiCN,EAApBO,kBADb,IAAAD,EAC0B,GAD1BA,EAExB,OAAOE,aAAUT,EAAK,CAAEI,SAAQE,OAAME,cAAcN,KAOzCjI,GAAI,SAAC+H,EAAKC,GACtB,OAAOF,GAAmBxI,cAAYyI,EAAKC,+BCnB/BS,GAAkB,SAAApJ,GAAK,OAAIA,EAAME,QAAQmJ,WASzCC,IAPsBhJ,YAClC,CAAC8I,GAAiB,SAACvD,EAAGa,GAAJ,OAAaA,IAC/B,SAAC2C,EAAW3C,GACX,OAAO2C,EAAU3C,IAAS,KAIWpG,YACtC,CAAC8I,IACD,SAAAC,GAAS,OAAIA,EAAUE,UAAY,MAGvBC,GAA2BlJ,YACvC8I,GACA,SAAA7I,GACC,OADkBA,EAAhBkJ,YAUSC,IAL0BpJ,YACtC,CAAC8I,IACD,SAAAnI,GAAA,OAAAA,EAAGmH,WAA6B,KAGI9H,YACpC,CAAC8I,IACD,SAAAhI,GAAA,OAAAA,EAAGuI,QAAuB,MAGdC,GAAgCtJ,YAC5C,CAACgJ,GAAyB,SAACzD,EAAGgE,GAAJ,OAAaA,IACvC,SAACC,EAAmBD,GAApB,OAA6BC,EAAkBD,IAAS,KAG5CE,GAA6BzJ,YACzC,SAACN,EAAO6J,GAAR,OAAiBD,GAA8B5J,EAAO6J,IACtD,SAAAG,GAAc,OAAIA,EAAeC,gBAAkB,KAEvCC,GAAkC5J,YAC9C,SAAAN,GAAK,OAAI+J,GAA2B/J,EAAO,eAC3C,SAAAwB,GAAiC,IAA9B2I,EAA8B3I,EAA9B2I,wBAQF,OAPyBA,EACtBtJ,OAAOuJ,OAAOD,GAAyB1J,OACvC,SAACf,EAAG2K,GAAJ,OAAc3K,EAAI4K,OAAOD,IAAU,GACnC,GAEA,IAMQE,GAAwCjK,YACpD,SAACN,GAAD,IAAA2B,EAAAhC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBkK,EAAVlI,EAAUkI,KAAMW,EAAhB7I,EAAgB6I,WAAhB,MAAsC,CACrCZ,GAA8B5J,EAAO6J,GACrCW,IAED,SAAA1I,GAAA,IAAAmB,EAAApC,OAAA4J,GAAA,EAAA5J,CAAAiB,EAAA,GAAE4I,EAAFzH,EAAA,GAAmBuH,EAAnBvH,EAAA,UACEyH,EAAgBC,gBAAkB,IAAIH,IAAe,KAG3CI,GAA2CtK,YACvD,SAACN,GAAD,IAAAmD,EAAAxD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBkK,EAAV1G,EAAU0G,KAAMW,EAAhBrH,EAAgBqH,WAAhB,MAAsC,CACrCD,GAAsCvK,EAAO,CAAE6J,OAAMW,iBAEtD,SAAAnH,GACC,OADgCxC,OAAA4J,GAAA,EAAA5J,CAAAwC,EAAA,MAA7BwH,uBAC6B,KAIrBC,GAA0BxK,YACtC,CAAC8I,GAAiB,SAACvD,GAAD,OAAAlG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAW,KAC7B,WAA4D,IAA3D0J,EAA2D1J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/C,GAA+C+D,EAAA/D,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAzC6G,EAAyChD,EAAzCgD,KAAMqE,EAAmCrH,EAAnCqH,UAAWC,EAAwBtH,EAAxBsH,OAAQvB,EAAgB/F,EAAhB+F,UAAgBwB,EAUvD5B,EAHF3C,GAPyDwE,GAAAD,OAAA,IAAAA,EAStD,GATsDA,GAQxDF,GARwDI,GAAAD,OAAA,IAAAA,EAQQ,GARRA,GAQzCF,GARyCI,GAAAD,OAAA,IAAAA,EAQC,GARDA,GAQ7B1B,GAI9B,OAZ2D2B,OAAA,IAAAA,EAQN,GARMA,GAQfC,OAQvC,SAASC,GAA0BzB,EAAMW,GAC/C,OAAO3J,OAAOuJ,OAEbQ,GAAyC3K,cAAY,CACpD4J,OACAW,gBAEA/J,OAAO,SAACf,EAAGI,GAAJ,OAAUJ,EAAII,GAAG,GAGpB,IAAMyL,GAAyBjL,YACrC,SAACN,GAAD,IAAA6D,EAAAlE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV7C,EAAU6C,KAAM+C,EAAhB5F,EAAgB4F,UAAhB,OACCqB,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,iBAEV,SAAAQ,GAAW,OACVA,EACGA,EAAY/K,OAAO,SAACf,EAADsE,GAAA,IAAMqG,EAANrG,EAAMqG,MAAN,OAAkB3K,EAAI4K,OAAOD,IAAU,GAAG,GAC7D,OAGQoB,GAAoBnL,YAChC,SAACN,GAAD,IAAAmE,EAAAxE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVvC,EAAUuC,KAAM+C,EAAhBtF,EAAgBsF,UAAhB,OACCqB,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,QACXC,OAAQ,iBAEV,SAAAQ,GAAW,OACVA,EACGA,EAAY/K,OAAO,SAACf,EAAD4E,GAAA,IAAM+F,EAAN/F,EAAM+F,MAAN,OAAkB3K,EAAI4K,OAAOD,IAAU,GAAG,GAC7D,OAGQqB,GAAmBpL,YAC/B,SAACN,GAAD,IAAA0E,EAAA/E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVhC,EAAUgC,KAAM+C,EAAhB/E,EAAgB+E,UAAhB,OACCqB,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,kBAEV,SAAAW,GAAY,OACXA,EACGA,EAAalL,OACb,SAACf,EAADmF,GAAA,IAAMwF,EAANxF,EAAMwF,MAAN,OAAkB3K,EAAI4K,OAAOsB,aAAkBvB,GAAS,EAAG,MAAQ,GACnE,GAEA,OAGQwB,GAAoCvL,YAChD,SAACN,GAAD,IAAAkF,EAAAvF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVxB,EAAUwB,KAAM+C,EAAhBvE,EAAgBuE,UAAhB,MAAqC,CACpCqB,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,gBAETF,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,mBAGV,SAAA7F,GAAA,IAAA2G,EAAAjL,OAAA4J,GAAA,EAAA5J,CAAAsE,EAAA,GAAEqG,EAAFM,EAAA,GAAeH,EAAfG,EAAA,UACCN,GAAeG,EACZH,EACCO,OACA,SAAAC,GAAC,OAEY,QADXL,EAAaM,KAAK,SAAAC,GAAC,OAAIA,EAAEC,OAASH,EAAEG,QAAS,CAAE9B,MAAO,OACrDA,QAEH5J,OAAO,SAACf,EAAD0M,KAAMD,KAAN,IAAY9B,EAAZ+B,EAAY/B,MAAZ,OAAwB3K,EAAI4K,OAAOD,IAAU,GAAG,GACxD,OAGQgC,GAAmB/L,YAC/B,CACC,SAACN,GAAD,IAAAsM,EAAA3M,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV4F,EAAU5F,KAAM+C,EAAhB6C,EAAgB7C,UAAhB,OACCiC,GAAiB1L,EAAO,CAAE0G,OAAM+C,eACjC,SAACzJ,GAAD,IAAAuM,EAAA5M,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV6F,EAAU7F,KAAM+C,EAAhB8C,EAAgB9C,UAAhB,OACCoC,GAAkC7L,EAAO,CAAE0G,OAAM+C,gBAEnD,SAAC+C,EAAYC,GAAb,OACgB,OAAfD,GAA4C,OAArBC,EACnB,IAAOnC,OAAOkC,GAAelC,OAAOmC,GACrC,OAcQC,GAAuBpM,YACnC,CACC,SAACN,GAAuC,IAAA2M,EAAAhN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAvBiN,EAA8BD,EAA9BC,UAAcC,EAAgBhM,OAAAiM,GAAA,EAAAjM,CAAA8L,EAAA,eACvC,OAAO9L,OAAAC,EAAA,EAAAD,CAAA,CAAEkM,KAAMjC,GAAwB9K,EAAO6M,GAAOD,aAAcC,KAGrE,SAAAG,GAA+C,IAAAC,EAAAD,EAA5CD,YAA4C,IAAAE,EAArC,GAAqCA,EAAjCL,EAAiCI,EAAjCJ,UAAW5B,EAAsBgC,EAAtBhC,OAAsBnK,OAAAiM,GAAA,EAAAjM,CAAAmM,EAAA,+BAE9C,OADaJ,EAAYG,EAAKG,MAAM,GAAI,GAAKH,GACjCtM,OACX,SAAC0M,EAAMC,GAAS,IACPjB,EAAgBiB,EAAhBjB,KAAM9B,EAAU+C,EAAV/C,MAKd,OAJA8C,EAAKE,OAAOC,KAAKC,aAAepB,IAChCgB,EAAKK,SAASF,KACH,OAAVjD,EAxBsB,SAAAoD,GAAuB,IAApBpD,EAAoBoD,EAApBpD,MAC7B,OADiDoD,EAAbzC,QAEnC,IAAK,eACJ,OAAO0C,WAAW9B,aAAkBvB,EAAO,KAC5C,IAAK,cACJ,OAAOsD,SAAStD,EAAO,IACxB,QACC,OAAOA,GAiBYuD,CAAmB,CAAEvD,QAAOW,WAAYX,GAEnD8C,GAER,CACCE,OAAQ,GACRG,SAAU,OAMDK,GAAmCvN,YAC/C,SAACN,GAAD,IAAA8N,EAAAnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVoH,EAAUpH,KAAM+C,EAAhBqE,EAAgBrE,UAAhB,MAAqC,CACpCiD,GAAqB1M,EAAO,CAC3B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,cACR4B,WAAW,MAGb,SAAAmB,GAAA,OAAAlN,OAAA4J,GAAA,EAAA5J,CAAAkN,EAAA,QAGYC,GAA8B1N,YAC1C,SAACN,GAAD,IAAAiO,EAAAtO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVuH,EAAUvH,KAAM+C,EAAhBwE,EAAgBxE,UAAhB,MAAqC,CACpCiD,GAAqB1M,EAAO,CAC3B0G,OACA+C,YACAsB,UAAW,QACXC,OAAQ,cACR4B,WAAW,MAGb,SAAAsB,GAAA,OAAArN,OAAA4J,GAAA,EAAA5J,CAAAqN,EAAA,QAGYC,GAA+B7N,YAC3C,SAACN,GAAD,IAAAoO,EAAAzO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV0H,EAAU1H,KAAM+C,EAAhB2E,EAAgB3E,UAAhB,MAAqC,CACpCiD,GAAqB1M,EAAO,CAC3B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,eACR4B,WAAW,MAGb,SAAAyB,GAAA,OAAAxN,OAAA4J,GAAA,EAAA5J,CAAAwN,EAAA,QAGYC,GAA2BhO,YACvC,SAACN,GAAD,IAAAuO,EAAA5O,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV6H,EAAU7H,KAAM+C,EAAhB8E,EAAgB9E,UAAhB,MAAqC,CACpC0E,GAA6BnO,EAAO,CAAE0G,OAAM+C,cAC5CoE,GAAiC7N,EAAO,CAAE0G,OAAM+C,gBAEjD,SAAA+E,GAA4B,IAAAC,EAAA5N,OAAA4J,GAAA,EAAA5J,CAAA2N,EAAA,GAA1BE,EAA0BD,EAAA,GAAjBE,EAAiBF,EAAA,GACrBG,EAAS,CACdvB,OAAQ,GACRG,SAAU,IAQX,OANAoB,EAAOvB,OAASqB,EAAQrB,OACxBuB,EAAOpB,SAAWkB,EAAQlB,SAASnM,IAAI,SAACwN,EAAGC,GAC1C,OAAmC,IAA5BH,EAAYnB,SAASsB,IACvBD,EAAIF,EAAYnB,SAASsB,GAAM,KAAMC,QAAQ,GAC/CF,IAEGD,ICtRII,GAAoB,SAAAhP,GAAK,OAAIA,EAAM0F,OAAOuJ,aAE1CC,GAAwB5O,YACpC,CAAC0O,GAAmB,SAACnJ,EAAG0B,GAAJ,OAAWA,IAC/B,SAAC0H,EAAa1H,GAAd,OAAqB0H,EAAY1H,KCFrB4H,IDKiC7O,YAC7C,CAAC0O,GAAmB,SAACnJ,EAAG4B,GAAJ,OAAYA,IAChC,SAACwH,EAAaxH,GAAd,OAAsBA,EAAIpG,IAAI,SAAAkG,GAAE,OAAI0H,EAAY1H,OCPTjH,YACvC,CAHoC,SAAAN,GAAK,OAAIA,EAAM0F,OAAO0J,iBAGlC,SAACvJ,EAAG0B,GAAJ,OAAWA,IACnC,SAAC8H,EAAM9H,GAAP,OAAc8H,EAAK9H,IAAO,eCEd+H,GAAiB,SAAAtP,GAAK,OAAIA,EAAM0F,OAAO6J,SAEvCC,GAAoBlP,YAChCgP,GACA,SAAA/O,GAAA,IAAGkP,EAAHlP,EAAGkP,SAAH,OAAkB,IAAIC,YAAcD,KAQxBE,IALkBrP,YAC9BgP,GACA,SAAArO,GAAA,IAAG2O,EAAH3O,EAAG2O,OAAH,OAAgB,IAAIC,UAAYD,KAGFtP,YAC9BgP,GACA,SAAAlO,GAAA,IAAG0O,EAAH1O,EAAG0O,OAAH,OAAgB,IAAIC,UAAYD,MClBpBE,GAAoB1P,YAChC,CAH0B,SAAAN,GAAK,OAAIA,EAAME,QAAQ+P,OAGnC,SAACpK,EAAGqK,GAAJ,OAAiBA,IAC/B,SAACD,EAAOC,GAAR,OAAqBD,EAAMC,IAAa,KAG5BC,GAAyB7P,YACrC,CAAC0P,GAAmB,SAACnK,EAAGqK,GAAJ,OAAiBA,IACrC,eAACD,EAADtQ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBkB,OAAOuJ,OAAO6F,KAGlBG,GAAkB9P,YAC9B,SAAAN,GAAK,OAAIgQ,GAAkBhQ,EAAO,aAClC,SAAAoI,GAAS,OAAIA,IAQDiI,IALqB/P,YACjC,CAAC8P,GAAiB,SAACvK,EAAG0B,GAAJ,OAAWA,IAC7B,SAACa,EAAWb,GAAZ,OAAmBa,EAAUb,KAGiBjH,YAC9C,CAAC8P,GAAiB,SAACvK,EAAG0B,GAAJ,OAAWA,IAC7B,SAACa,EAAWb,GACX,IAAM+I,EAAQzP,OAAAC,EAAA,EAAAD,CAAA,GAASuH,EAAUb,IAAO,IAGxC,OAFA+I,EAASC,OAASjF,GAA0B,QAAS/D,GACrD+I,EAAS3B,YAAcrD,GAA0B,aAAc/D,GACxD+I,KAIIE,GAAuBlQ,YACnC,SAAAN,GAAK,OAAImQ,GAAuBnQ,EAAO,aACvC,SAAAoI,GAAS,OAAIA,IAGDqI,GAAgBnQ,YAC5B,SAAAN,GAAK,OAAIgQ,GAAkBhQ,EAAO,WAClC,SAAA0Q,GAAO,OAAIA,IAQCC,IALmBrQ,YAC/B,CAACmQ,GAAe,SAAC5K,EAAG0B,GAAJ,OAAWA,IAC3B,SAAC0I,EAAO1I,GAAR,OAAe0I,EAAM1I,KAGYjH,YACjC,SAAAN,GAAK,OAAImQ,GAAuBnQ,EAAO,WACvC,SAAA0Q,GAAO,OAAIA,KAQCE,IALgBtQ,YAC5B,SAAAN,GAAK,OAAIgQ,GAAkBhQ,EAAO,WAClC,SAAA6Q,GAAO,OAAIA,IAGsBvQ,YACjC,SAAAN,GAAK,OAAImQ,GAAuBnQ,EAAO,WACvC,SAAA6Q,GAAO,OAAIA,KCjDCC,GAA2BxQ,YACvC,CAACkQ,GAAsBxP,EAA6B,SAAC6E,EAAGa,GAAJ,OAAaA,IACjE,SAAC0B,EAAWxH,EAAQ8F,GAApB,OACC0B,EAAU/G,IAAI,SAAA+L,GAAQ,IAAA2D,GACKnQ,EAAOwM,EAAK4D,eAAiB,IAA/C3L,gBADa,IAAA0L,EACF,GADEA,EAAAE,EAEe7D,EAA5B8D,YAFa,IAAAD,EAEN,GAFMA,EAAAE,EAEe/D,EAAjBsD,QAEbU,QAJe,IAAAD,EAEQ,GAFRA,GAIK,IAAM,GAEhC,MAAO,CACNE,MAAO,CACN9J,GAAI6F,EAAK7F,GACT+J,SAAUF,EAAUE,UAAY,GAChCC,UAAWH,EAAUG,WAAa,IAEnCC,OAAQ,CACPC,kBAAmBrE,EAAKoE,OAAOC,kBAC/BC,aAActE,EAAKoE,OAAOG,MAE3BC,cAAetH,OAAOuH,sBAAYzE,EAAKwE,eAAiB,IAAKvM,IAC7DyM,sBAAuB1E,EAAKoE,OAAOM,uBAAyB,EAC5DnD,YAAarD,GAA0B,aAAc8B,EAAK7F,IAC1DgJ,OAAQjF,GAA0B,QAAS8B,EAAK7F,IAChDwK,iBAMK,IALJzH,OACCuH,sBACCX,EAAKa,kBAAoB3E,EAAK2E,kBAAoB,IAClD1M,IAGH2M,QAAS5E,EAAK4E,QACdC,WAAYf,EAAKe,YAAc7E,EAAK6E,WACpCC,oBACChB,EAAKgB,qBAAuB9E,EAAK8E,oBAClCC,QAAS,CACRzL,KAAMA,EACNa,GAAI6F,EAAK7F,GACTkK,kBAAmBrE,EAAKoE,OAAOC,mBAEhClK,GAAI6F,EAAK7F,GACT6K,iBACmC,WAAlChF,EAAKoE,OAAOC,mBACsB,cAAlCrE,EAAKoE,OAAOC,uBAUJY,IALyC5S,EACrDqR,GACA,SAAA/D,GAAI,OAAIA,IAGoCzM,YAC5CkQ,GACA,SAAApI,GAAS,OACRkK,KAAKC,IAAIC,MAAM,KAAMpK,EAAU/G,IAAI,SAAAyN,GAAC,OAAIxE,OAAOwE,EAAEH,aAAe,OAAQ,KAG7D8D,GAA2BnS,YACvCkQ,GACA,SAAApI,GAAS,OACRkK,KAAKC,IAAIC,MAAM,KAAMpK,EAAU/G,IAAI,SAAAyN,GAAC,OAAIxE,OAAOwE,EAAEyB,QAAU,OAAQ,IAGxDmC,GAA4BpS,YACxC,CAACkQ,GAAsBxP,GACvB,SAACoH,EAAWxH,GAAZ,OACC0R,KAAKC,IAAIC,MACR,KACApK,EAAU/G,IAAI,SAAAyN,GAAK,IAAA6D,GACQ/R,EAAOkO,EAAEkC,eAAiB,IAA5C3L,gBADU,IAAAsN,EACC,GADDA,EAElB,OAAOrI,OAAOuH,sBAAY/C,EAAE8C,cAAevM,IAAa,QAK/CuN,GAAyBtS,YACrC,CAACsQ,GAAoB,SAAC/K,EAAGa,GAAJ,OAAaA,IAClC,SAACmM,EAAOnM,GAAR,OACCmM,EAAMxR,IAAI,SAAA+L,GACT,MAAO,CACNiE,MAAO,CACN9J,GAAI6F,EAAK7F,GACT+J,SAAUlE,EAAK0F,aAAL,UAAAC,OAA8B3F,EAAK0F,cAAiB,GAC9DvB,UAAW,cAEZyB,MAAO5F,EAAK4F,MACZnJ,KAAMuD,EAAKvD,KAAKoJ,QAAQ,UAAW,IACnCjB,QAAS5E,EAAK4E,QACdG,QAAS,CACRe,GAAE,cAAAH,OAAgBrM,EAAhB,YAAAqM,OAA+B3F,EAAK7F,IAAM6F,EAAK+F,MACjD/F,aAMQgG,GAAyB9S,YACrC,CAACmQ,GAAe,SAAC5K,EAADzE,GAAA,MAAyB,CAAEsF,KAA3BtF,EAAMsF,KAA2BuJ,MAAjC7O,EAAY6O,SAC5B,SAACoD,EAAD7R,GAAA,IAAUkF,EAAVlF,EAAUkF,KAAMuJ,EAAhBzO,EAAgByO,MAAhB,OACCpP,OAAOuJ,OAAO6F,GAASoD,GAAOhS,IAAI,SAAA+L,GAAI,MAAK,CAC1C7F,GAAI6F,EAAK7F,GACT8J,MAAO,CACN9J,GAAI6F,EAAK7F,GACT+J,SAAUlE,EAAKkE,SACfC,UAAWnE,EAAKmE,WAEjByB,MAAO5F,EAAK4F,OAASK,EAAMjG,EAAK+F,MAAMH,MACtCnJ,KAAMuD,EAAKvD,KACXmI,QAAS5E,EAAK4E,QACdG,QAAS,CACRe,GAAE,cAAAH,OAAgBrM,EAAhB,YAAAqM,OAA+B3F,EAAK7F,IAAM6F,EAAK+F,MACjD/F,aAKSkG,GAA+BhT,YAC3C,SAACN,EAAOwK,GACP,MAAO,CACNmE,YAAapE,GAAsCvK,EAAO,CACzD6J,KAAM,aACNW,eAED+F,OAAQhG,GAAsCvK,EAAO,CACpD6J,KAAM,QACNW,iBAIH,SAAA7I,GAA6B,IAA1BgN,EAA0BhN,EAA1BgN,YAAa4B,EAAa5O,EAAb4O,OACTgD,EAAY5E,EAAY6E,yBAA2B,GACnDC,EAAalD,EAAOiD,yBAA2B,GAC/CE,EAAY/E,EAAYgF,4BAA8B,GAC5D,OAAO9S,OAAO+S,KAAKL,GAAWlS,IAAI,SAAAwS,GAAG,MAAK,CACzCC,QAASD,EACTlF,YAAa4E,EAAUM,IAAQ,EAC/BE,MACIN,EAAWI,IAAQ,IAAMN,EAAUM,IAAQ,GAAM,KAAK9E,QAAQ,IACjE,EACDiF,SAAU1J,QAAQoJ,EAAUG,IAAQ,GAAG9E,QAAQ,IAC/CwB,OAAQkD,EAAWI,IAAQ,OAoBjBI,IAf4B3T,YACxC,SAACN,EAAOkU,GAAR,OAAsBZ,GAA6BtT,EAAOkU,IAC1D,SAAAnH,GAAI,OACHA,EAAKtM,OACJ,SAACmO,EAAQuF,GACR,IAAMC,EAASvT,OAAAC,EAAA,EAAAD,CAAA,GAAQ+N,GAIvB,OAHAwF,EAAUC,aAAeF,EAAQ5D,OACjC6D,EAAU3H,kBAAoB0H,EAAQxF,YACtCyF,EAAUE,eAAiBH,EAAQH,SAC5BI,GAER,CAAEC,YAAa,EAAG5H,iBAAkB,EAAG6H,cAAe,MAIbhU,YAC3C,SAACN,EAAOkU,GAAR,OAAsBZ,GAA6BtT,EAAOkU,IAC1D,SAAAnH,GAAI,OACHA,EAAKtM,OACJ,SAACmO,EAAQuF,GACR,IAAMC,EAASvT,OAAAC,EAAA,EAAAD,CAAA,GAAQ+N,GAYvB,OAVAwF,EAAUG,UAAYjC,KAAKC,IAAI4B,EAAQ5D,OAAQ6D,EAAUG,WACzDH,EAAUI,OAASlC,KAAKC,IAAI4B,EAAQJ,IAAKK,EAAUI,QACnDJ,EAAUK,eAAiBnC,KAAKC,IAC/B4B,EAAQxF,YACRyF,EAAUK,gBAEXL,EAAUM,YAAcpC,KAAKC,IAC5B4B,EAAQH,SACRI,EAAUM,aAEJN,GAER,CAAEG,UAAW,EAAGE,eAAgB,EAAGC,YAAa,EAAGF,OAAQ,OC7LjDG,GAA8BrU,YAC1C,SAACN,EAADO,GAAqD,IAA3CiK,EAA2CjK,EAA3CiK,WAAYoK,EAA+BrU,EAA/BqU,YAAaC,EAAkBtU,EAAlBsU,YAC5BxL,EAAY,CACjBsF,YAAapE,GAAsCvK,EAAO,CACzD6J,KAAM,aACNW,eAED+F,OAAQhG,GAAsCvK,EAAO,CACpD6J,KAAM,QACNW,gBAIF,OAAO3J,OAAAC,EAAA,EAAAD,CAAA,GAAKwI,EAAZ,CAAuBuL,cAAaC,iBAErC,SAAA5T,GAAuD,IAApD0N,EAAoD1N,EAApD0N,YAAa4B,EAAuCtP,EAAvCsP,OAAQqE,EAA+B3T,EAA/B2T,YAAaC,EAAkB5T,EAAlB4T,YAC9BtB,EAAY5E,EAAY6E,yBAA2B,GACnDC,EAAalD,EAAOiD,yBAA2B,GAFCsB,EAINjU,OAAO+S,KAAKL,GAC1DwB,KAAK,SAACrV,EAAGI,GAAJ,OAAUyT,EAAUzT,GAAKyT,EAAU7T,KACxCe,OACA,SAACsM,EAAM8G,EAAK/E,GACX,IAAMkG,EAAOnU,OAAAC,EAAA,EAAAD,CAAA,GAAQkM,GAerB,OAdI+B,EAAI+F,GACPG,EAAQ3H,OAAOC,KAAKuG,GACpBmB,EAAQC,gBAAgB3H,KAAKiG,EAAUM,IAAQ,GAC/C9G,EAAKmI,WAAW5H,KAAKmG,EAAWI,IAAQ,KAExC9G,EAAKM,OAAOwH,GAAelU,GAAE,mBAE7BoM,EAAKkI,gBAAgBJ,IACnB9H,EAAKkI,gBAAgBJ,IAAgB,IAAMtB,EAAUM,IAAQ,GAE/D9G,EAAKmI,WAAWL,IACd9H,EAAKmI,WAAWL,IAAgB,IAAMpB,EAAWI,IAAQ,IAGrDmB,GAER,CAAE3H,OAAQ,GAAI4H,gBAAiB,GAAIC,WAAY,KArBzC7H,EAJ8CyH,EAI9CzH,OAAQ4H,EAJsCH,EAItCG,gBAAiBC,EAJqBJ,EAIrBI,WA4CjC,MApBa,CACZ7H,SACAG,SAAU,CACT,CACC2H,gBAAiBP,EACjBQ,qBAAsBR,EACtBS,YAAa,EACbtI,KAAMkI,EACNK,MAAO3U,GAAE,4BAEV,CACCwU,gBAAiBP,EACjBQ,qBAAsBR,EACtBS,YAAa,EACbtI,KAAMmI,EACNI,MAAO3U,GAAE,2BCxDD4U,GAAmCjV,YAC/C,CAACoJ,GAAuBpI,GACxB,SAACqI,EAADpJ,GAAwB,IAAbiV,EAAajV,EAAbiV,OAoDV,OAnDmBC,aAAUC,aAAarU,IAAI,SAAAwI,GAC7C,MAAO,CACNQ,MAAOR,EACPyL,MAAOzL,EAAKjH,MAAM,KAAK,GACvB+G,OAAQA,EAAOE,MAGfkL,KAAK,SAACrV,EAAGI,GACT,IAAM6V,EAAKrQ,uBAAa5F,EAAEiK,OAASjK,EAAEiK,OAAOhG,IAAIiS,OAAS,GACnDC,EAAKvQ,uBAAaxF,EAAE6J,OAAS7J,EAAE6J,OAAOhG,IAAIiS,OAAS,GAEzD,OAAOD,EAAGpQ,GAAGsQ,IAAO,EAAIA,EAAGtQ,GAAGoQ,GAAM,EAAI,IAExClV,OACA,SAACsM,EAAMlD,EAAMiM,GACZ,IAAMd,EAAOnU,OAAAC,EAAA,EAAAD,CAAA,GAAQkM,GACfgJ,EAASf,EAAQe,OACjB5B,EAAUtK,EAehB,GAdc,IAAViM,GAAejM,EAAKF,SACvBqL,EAAQgB,iBAAkB,EAC1BD,EAAOzI,KAAK,CAAE2I,MAAOtV,GAAE,0BAGtBqU,EAAQkB,mBACTlB,EAAQgB,iBACE,IAAVF,GACCjM,EAAKF,SAENqL,EAAQkB,kBAAmB,EAC3BH,EAAOzI,KAAK,CAAE2I,MAAOtV,GAAE,4BAGpBwT,EAAQxK,OAAQ,CACnB,IAAMwM,EAAYxV,GAAE,wBAAyB,CAC5CqI,KAAM,CACLmL,EAAQxK,OAAO7F,UAAU8R,OACzBJ,EACArB,EAAQxK,OAAO7F,UAAUsS,YACzBZ,KAGFrB,EAAQmB,MAAR,GAAAvC,OAAmBoB,EAAQmB,MAA3B,MAAAvC,OAAqCoD,EAArC,KAMD,OAJAJ,EAAOzI,KAAK6G,GAEZa,EAAQe,OAASA,EAEVf,GAER,CAAEe,OAAQ,GAAIC,iBAAiB,EAAOE,kBAAkB,IAjDlDH,SCEGM,GAAyB/V,YACrC,CAACqQ,IACD,SAAA2F,GAAY,OAAIA,EAAa1W,OAAS,IAG1B2W,GAA2BjW,YACvC,CAACkQ,IACD,SAAAgG,GAAc,OAAIA,EAAe5W,OAAS,IAG9B6W,GAA0BnW,YACtC,CAACyD,GACD,SAAAxD,GAAA,QAAAA,EAAGmW,KAAkBC,iBAGTC,GAAyBtW,YACrC,CAACsD,EAA6B2S,IAC9B,SAAAtV,EAA+B4V,GAA/B,IAAGC,EAAH7V,EAAG6V,yBAAH,OACCD,GAAevM,OAAOwM,GAA4B,IAGvCC,GAAyBzW,YACrCsQ,GACA,SAAAoG,GAAY,OAAIA,EAAapX,OAAS,IAG1BqX,GAA6B3W,YACzC4J,GACA,SAAAuC,GAAgB,OAAIA,EAAmB,IAE3ByK,GAA2B5W,YACvC4J,GACA,SAAAuC,GAAgB,OAAIA,EAAmB,MC1CxC0K,EAAAC,EAAAC,EAAA,sBAAAhY,IAAA8X,EAAAC,EAAAC,EAAA,sBAAA5X,IAAA0X,EAAAC,EAAAC,EAAA,uBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAhX,IAAA8W,EAAAC,EAAAC,EAAA,uBAAArW,IAAAmW,EAAAC,EAAAC,EAAA,uBAAAlW,IAAAgW,EAAAC,EAAAC,EAAA,uBAAA/V,IAAA6V,EAAAC,EAAAC,EAAA,uBAAA3V,IAAAyV,EAAAC,EAAAC,EAAA,uBAAAxV,IAAAsV,EAAAC,EAAAC,EAAA,sBAAAtV,IAAAoV,EAAAC,EAAAC,EAAA,sBAAAlV,IAAAgV,EAAAC,EAAAC,EAAA,uBAAA7U,IAAA2U,EAAAC,EAAAC,EAAA,sBAAA1U,IAAAwU,EAAAC,EAAAC,EAAA,sBAAAxU,IAAAsU,EAAAC,EAAAC,EAAA,uBAAAvU,IAAAqU,EAAAC,EAAAC,EAAA,sBAAAtU,IAAAoU,EAAAC,EAAAC,EAAA,sBAAArU,IAAAmU,EAAAC,EAAAC,EAAA,sBAAAnU,IAAAiU,EAAAC,EAAAC,EAAA,sBAAA9T,IAAA4T,EAAAC,EAAAC,EAAA,sBAAAzT,IAAAuT,EAAAC,EAAAC,EAAA,sBAAAtT,IAAAoT,EAAAC,EAAAC,EAAA,sBAAAhT,IAAA8S,EAAAC,EAAAC,EAAA,sBAAA5S,IAAA0S,EAAAC,EAAAC,EAAA,uBAAArS,IAAAmS,EAAAC,EAAAC,EAAA,uBAAApS,IAAAkS,EAAAC,EAAAC,EAAA,sBAAA5R,IAAA0R,EAAAC,EAAAC,EAAA,sBAAA1R,IAAAwR,EAAAC,EAAAC,EAAA,uBAAAvR,IAAAqR,EAAAC,EAAAC,EAAA,uBAAApR,IAAAkR,EAAAC,EAAAC,EAAA,uBAAAjR,IAAA+Q,EAAAC,EAAAC,EAAA,uBAAA/Q,IAAA6Q,EAAAC,EAAAC,EAAA,uBAAA5Q,IAAA0Q,EAAAC,EAAAC,EAAA,sBAAAjQ,IAAA+P,EAAAC,EAAAC,EAAA,uBAAA/P,IAAA6P,EAAAC,EAAAC,EAAA,uBAAA7P,IAAA2P,EAAAC,EAAAC,EAAA,sBAAAzP,IAAAuP,EAAAC,EAAAC,EAAA,uBAAAvP,IAAAqP,EAAAC,EAAAC,EAAA,sBAAArP,KAAAmP,EAAAC,EAAAC,EAAA,uBAAAnP,KAAAiP,EAAAC,EAAAC,EAAA,uBAAAhP,KAAA8O,EAAAC,EAAAC,EAAA,sBAAA9O,KAAA4O,EAAAC,EAAAC,EAAA,uBAAAE,KAAAJ,EAAAC,EAAAC,EAAA,sBAAAjO,KAAA+N,EAAAC,EAAAC,EAAA,sBAAA7N,KAAA2N,EAAAC,EAAAC,EAAA,sBAAA3N,KAAAyN,EAAAC,EAAAC,EAAA,uBAAAnN,KAAAiN,EAAAC,EAAAC,EAAA,sBAAA9M,KAAA4M,EAAAC,EAAAC,EAAA,sBAAA/L,KAAA6L,EAAAC,EAAAC,EAAA,uBAAA9L,KAAA4L,EAAAC,EAAAC,EAAA,uBAAA5L,KAAA0L,EAAAC,EAAAC,EAAA,uBAAA3L,KAAAyL,EAAAC,EAAAC,EAAA,sBAAAhL,KAAA8K,EAAAC,EAAAC,EAAA,sBAAAxJ,KAAAsJ,EAAAC,EAAAC,EAAA,sBAAArJ,KAAAmJ,EAAAC,EAAAC,EAAA,sBAAAlJ,KAAAgJ,EAAAC,EAAAC,EAAA,sBAAA/I,KAAA6I,EAAAC,EAAAC,EAAA,uBAAAnI,KAAAiI,EAAAC,EAAAC,EAAA,uBAAAlI,KAAAgI,EAAAC,EAAAC,EAAA,uBAAA7H,KAAA2H,EAAAC,EAAAC,EAAA,uBAAA1H,KAAAwH,EAAAC,EAAAC,EAAA,sBAAAhH,KAAA8G,EAAAC,EAAAC,EAAA,sBAAA7G,KAAA2G,EAAAC,EAAAC,EAAA,sBAAA5G,KAAA0G,EAAAC,EAAAC,EAAA,sBAAA1G,KAAAwG,EAAAC,EAAAC,EAAA,sBAAAzG,KAAAuG,EAAAC,EAAAC,EAAA,sBAAAvG,KAAAqG,EAAAC,EAAAC,EAAA,sBAAAhF,KAAA8E,EAAAC,EAAAC,EAAA,sBAAA5E,KAAA0E,EAAAC,EAAAC,EAAA,sBAAA3E,KAAAyE,EAAAC,EAAAC,EAAA,sBAAAzE,KAAAuE,EAAAC,EAAAC,EAAA,sBAAAjE,KAAA+D,EAAAC,EAAAC,EAAA,sBAAA/D,KAAA6D,EAAAC,EAAAC,EAAA,sBAAApD,KAAAkD,EAAAC,EAAAC,EAAA,sBAAA1C,KAAAwC,EAAAC,EAAAC,EAAA,uBAAA9B,KAAA4B,EAAAC,EAAAC,EAAA,sBAAAhB,KAAAc,EAAAC,EAAAC,EAAA,sBAAAd,KAAAY,EAAAC,EAAAC,EAAA,sBAAAZ,KAAAU,EAAAC,EAAAC,EAAA,sBAAAT,KAAAO,EAAAC,EAAAC,EAAA,sBAAAN,KAAAI,EAAAC,EAAAC,EAAA,sBAAAJ,KAAAE,EAAAC,EAAAC,EAAA,sBAAAH,ySCYMM,EAAkB/B,YAAUgC,WAAWhC,YAAUiC,wBAEjDC,EAAwB,SAAApX,GAAmC,IAAhCqX,EAAgCrX,EAAhCqX,MAAOC,EAAyBtX,EAAzBsX,QAASpW,EAAgBlB,EAAhBkB,UAChD,GAAImW,EAAM7W,UAAYU,EAAUV,QAC/B,OAAO8W,EAGR,IAAMC,EAAWzX,cAA0BuX,EAAM7W,SAMjD,OAHiBuE,uBAAawS,EAASC,KAAKC,IAAI1S,uBAAa,IAEhC0S,IAAI1S,uBAAa,IAAI2S,IAAIJ,GACjCA,EAAUvS,uBAAa,IAGhC4S,EAAsB,eAAA9W,EAAAP,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAAG,SAAAC,EAAArX,GAAA,IAAAP,EAAA6X,EAAAnT,EAAA,OAAAgT,EAAA1Y,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAASjY,EAATO,EAASP,IACxC6X,EAAiBvX,eADcyX,EAAAE,KAAA,EAEV9X,OAAOuJ,OAAO1J,GAAKD,OAAnB,eAAAe,EAAAX,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAC1B,SAAAO,EAAOC,GAAP,IAAAlX,EAAAkW,EAAA7G,EAAA8H,EAAAlB,EAAAmB,EAAAC,EAAArZ,UAAA,OAAAyY,EAAA1Y,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAhX,EAAAqX,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAA8C,GAA1BnB,EAApBlW,EAAoBkW,QAAS7G,EAA7BrP,EAA6BqP,aAA7BiI,EAAAN,KAAA,EACuBE,EADvB,UACOC,EADPG,EAAAC,KAGOtB,EAAQW,EAAevH,IAEP1L,uBAAauS,GAAStS,GAC3CD,uBAAasS,EAAMuB,WANrB,CAAAF,EAAAN,KAAA,gBAAAM,EAAAN,KAAA,EAUUS,EAAsB,CAC5BxB,QACAC,YAZJ,OAAAoB,EAAAI,GAAAJ,EAAAC,KAAAD,EAAAN,KAAA,iBAAAM,EAAAI,GAcI/T,uBAAa,GAdjB,eASOyT,EATPE,EAAAI,GAAAJ,EAAAK,OAAA,SAgBQR,EAAQS,IAAIR,IAhBpB,yBAAAE,EAAAO,SAAAZ,MAD0B,gBAAAa,GAAA,OAAAjY,EAAAgR,MAAAkH,KAAA/Z,YAAA,GAmB1Bga,QAAQC,QAAQtU,uBAAa,KArBO,cAE/BF,EAF+BqT,EAAAS,KAAAT,EAAAa,OAAA,SAwB9BlU,GAxB8B,wBAAAqT,EAAAe,SAAAlB,MAAH,gBAAAuB,GAAA,OAAAzY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GA2BtBma,EAAyB,eAAA7W,EAAApC,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAAG,SAAA0B,EAAAjY,GAAA,IAAAS,EAAAxB,EAAAiZ,EAAA7W,EAAA8W,EAAAC,EAAAhZ,EAAAO,EAAA0Y,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAnC,EAAA1Y,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cACxCpW,EADwCT,EACxCS,SACAxB,EAFwCe,EAExCf,QACAiZ,EAHwClY,EAGxCkY,gBAHwCQ,EAAA7B,KAAA,EAKb8B,YAAUlY,GALG,cAAAY,EAAAqX,EAAAtB,KAKhCe,EALgC9W,EAKhC8W,SALgCC,EAMKna,eAArCmB,EANgCgZ,EAMhChZ,sBAAuBO,EANSyY,EAMTzY,UACzB0Y,EAAgBjZ,EAAsBG,IAAtB,eAAAgC,EAAAxC,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAA0B,SAAAqC,EAAM9C,GAAN,IAAA+C,EAAA9C,EAAA+C,EAAA7B,EAAA,OAAAX,EAAA1Y,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cACzCgC,EAAgBV,EAASrC,GADgBiD,EAAAlC,KAAA,EAGzBgC,EAAcG,UAAU/Z,GAHC,cAGzC8W,EAHyCgD,EAAA3B,KAKzC0B,EAAYZ,EACfnC,EACAF,EAAsB,CACtBC,QACAnW,YACAoW,YAV4CgD,EAAAlC,KAAA,EAahBS,EAAsB,CACpDxB,QACAC,QAAS+C,IAfqC,cAazC7B,EAbyC8B,EAAA3B,KAAA2B,EAAAvB,OAAA,SAkBxC,CAAE1B,QAAOC,QAAS+C,EAAW7B,qBAlBW,wBAAA8B,EAAArB,SAAAkB,MAA1B,gBAAAK,GAAA,OAAA1X,EAAAmP,MAAAkH,KAAA/Z,YAAA,IAPkB6a,EAAA7B,KAAA,EA4BjBgB,QAAQjZ,IAAIyZ,GA5BK,cA4BlCC,EA5BkCI,EAAAtB,KAAAmB,EA6BcD,EAAS3Z,OAC9D,SAACsM,EAAMiO,GASN,OARAjO,EAAKuN,wBAA0BvN,EAAKuN,wBAAwBf,IAC3DyB,EAAYjC,kBAGTiC,EAAYpD,MAAM7W,UAAYU,EAAUV,UAC3CgM,EAAKwN,iBAAmBS,EAAYnD,SAG9B9K,GAER,CACCuN,wBAAyBhV,uBAAa,GACtCiV,iBAAkBjV,uBAAa,KAdzBgV,EA7BgCD,EA6BhCC,wBAAyBC,EA7BOF,EA6BPE,iBA7BOC,EAAAlB,OAAA,SA+CjC,CACNc,WACAG,mBACAD,4BAlDuC,yBAAAE,EAAAhB,SAAAO,MAAH,gBAAAkB,GAAA,OAAAhY,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAsD/B,SAAeub,EAAtBC,GAAA,OAAAC,EAAA5I,MAAAkH,KAAA/Z,sDAAO,SAAA0b,EAAA7X,GAAA,IAAAzC,EAAAwB,EAAAyX,EAAA9U,EAAAoW,EAAAC,EAAAnB,EAAAtW,EAAA,OAAAsU,EAAA1Y,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cACN5X,EADMyC,EACNzC,QACAwB,EAFMiB,EAENjB,SACAyX,EAHMxW,EAGNwW,gBAHMwB,EAAA7C,KAAA,EAKqB8B,YAAUlY,GAL/B,cAAA2C,EAAAsW,EAAAtC,KAKEoC,EALFpW,EAKEoW,SAEFC,EAAQ,CACbD,EAASG,WAAW1a,EAAQA,SAC5B+Y,EAA0B,CACzBvX,WACAxB,QAASA,EAAQA,QACjBiZ,qBAZIwB,EAAA7C,KAAA,EAgBiBgB,QAAQjZ,IAAI6a,GAhB7B,cAgBAnB,EAhBAoB,EAAAtC,KAiBApV,EAAY,CACjB/C,QAASA,EAAQA,QACjB2a,KAAM3a,EAAQ4a,gBAAkB5a,EAAQ2a,KACxCE,WAAYC,sBAAYzB,EAAS,GAAG0B,YACpCC,eAAgB3B,EAAS,GAAGA,SAAS/Y,IAAI,SAAA8D,GAAwB,IAArByS,EAAqBzS,EAArByS,MAAOC,EAAc1S,EAAd0S,QAClD,MAAO,CACNA,QAASjM,YAAkBiM,EAASD,EAAMvS,UAAU,EAAO,GAC3DmQ,OAAQoC,EAAMpC,WAxBXgG,EAAAlC,OAAA,SA6BCxV,GA7BD,yBAAA0X,EAAAhC,SAAA6B,6BAgCA,SAAeW,EAAtBC,GAAA,OAAAC,EAAA1J,MAAAkH,KAAA/Z,sDAAO,SAAAwc,EAAAzY,GAAA,IAAA1B,EAAAoa,EAAAC,EAAA3b,EAAA0B,EAAAC,EAAAE,EAAAxB,EAAA+K,EAAAwQ,EAAAC,EAAAlX,EAAAmX,EAAAhL,EAAAiL,EAAAC,EAAAnB,EAAAnP,EAAAE,EAAAqQ,EAAAC,EAAAC,EAAAzX,EAAA0R,EAAAnT,EAAAG,EAAA,OAAAsU,EAAA1Y,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cACN3W,EADM0B,EACN1B,QADMoa,EAAA1Y,EAEN2Y,mCAFM,IAAAD,EAEwB,CAC7BW,MAAOzX,uBAAa,KACpBsV,UAAWtV,uBAAa,MAJnB8W,EAMN1b,EANMgD,EAMNhD,IAEQ0B,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SACRE,EAAaH,EAAbG,SACAxB,EAAYsB,EAAZtB,QAVF+b,EAAAnE,KAAA,EAWwB8B,YAAUlY,GAXlC,cAAAuJ,EAAAgR,EAAA5D,KAWEoD,EAXFxQ,EAWEwQ,YAXFC,EAYejb,eAAb+D,EAZFkX,EAYElX,SAZFmX,EAckBna,EAAhBmP,cAdF,IAAAgL,EAcW,GAdXA,EAeAC,EAAmBH,EAAY,CAAEvb,YAfjC+b,EAAApE,KAAA,GAAAoE,EAAAnE,KAAA,GAkBC8D,EAAiBO,WAlBlB,QAmBLN,EAAmBD,EAAiBQ,WAAW7a,EAAOrB,SAnBjD+b,EAAAnE,KAAA,iBAAAmE,EAAApE,KAAA,GAAAoE,EAAAzD,GAAAyD,EAAA,UAqBLJ,EAAmB/C,QAAQC,QAAQpI,EAAO3H,MAAQ,gBArB7C,eAwBA0R,EAAQ,CACbzB,EAA0B,CAAEvX,WAAUxB,YACtC2b,EACAxE,EAAuB,CAAExX,SA3BpBoc,EAAAnE,KAAA,GAkCIgB,QAAQjZ,IACjB6a,EAAMla,IAAI,SAAA2K,GAAC,OACVA,EACEkR,KAAK,SAAAC,GAAG,OAAIA,IACZC,MAAM,SAAAlR,SAtCJ,eAAAE,EAAA0Q,EAAA5D,KAAA5M,EAAAzL,OAAAwc,EAAA,EAAAxc,CAAAuL,EAAA,GAAAuQ,EAAArQ,EAAA,GA+BLsQ,OA/BK,IAAAD,EA+BoC,GA/BpCA,EAgCLE,EAhCKvQ,EAAA,GAiCLlH,EAjCKkH,EAAA,GA4CAwK,EACL8F,EAAuCtC,wBAGlC3W,EAAM,CACXiZ,yCACAC,mBACA/F,2BACAuF,4BAA6BA,EAA4BzB,UACzD0C,iCAAkCjB,EAA4BU,MAC9DQ,kCAAmCzG,EAAyByC,IAC3D8C,EAA4BzB,WAE7B4C,8BAA+B1G,EAAyByC,IACvD8C,EAA4BU,OAE7B3X,gBAGKtB,EAAY,CACjB2Z,cAAerb,EAAOrB,QACtB2c,eAAgBtb,EAAOG,SACvBsa,iBAAkBrF,EAAgBqF,GAClCc,gBAAiBtb,EAAStB,QAC1B+V,yBAA0BlL,YACzBkL,EACAzR,GACA,EACA,GAEDgX,4BAA6BzQ,YAC5BjI,EAAI0Y,4BACJhX,GACA,EACA,GAEDiY,iCAAkC1R,YACjCjI,EAAI2Z,iCACJjY,GACA,EACA,GAEDkY,kCAAmC3R,YAClCjI,EAAI4Z,kCACJlY,GACA,EACA,GAEDmY,8BAA+B5R,YAC9BjI,EAAI6Z,8BACJnY,GACA,EACA,GAEDD,aAAcwG,YACbjI,EAAIyB,cAAgB,IACpBC,GACA,EACA,IAtGIyX,EAAAxD,OAAA,SA0GC,CACN3V,MACAG,cA5GK,yBAAAgZ,EAAAtD,SAAA2C,EAAA,0CAkHA,SAAeyB,EAAtBC,GAAA,OAAAC,EAAAtL,MAAAkH,KAAA/Z,sDAAO,SAAAoe,EAAAla,GAAA,IAAAma,EAAAC,EAAAC,EAAAC,EAAA,OAAA/F,EAAA1Y,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAuCqF,EAAvCna,EAAuCma,YACvCC,EAAU3Y,uBAAa,GAEvB4Y,EAAU,CAAEnB,MAAOkB,EAASrD,UAAWqD,GAEvCE,EAAiBH,EAAYvd,OAAO,SAAC4d,EAASC,GAAO,IAClDC,EAAsCD,EAAtCC,YAAaC,EAAyBF,EAAzBE,qBACfrK,EAAOtT,OAAA4d,EAAA,EAAA5d,CAAA,GAAQwd,GAMrB,OALAlK,EAAQ4I,MAAQ5I,EAAQ4I,MAAMxD,IAAIgF,GAClCpK,EAAQyG,UAAYzG,EAAQyG,UAAUrB,IACrCjU,uBAAakZ,IAGPrK,GACL+J,GAdGE,EAAA9E,OAAA,SAgBC6E,GAhBD,wBAAAC,EAAA5E,SAAAuE,6BA8CA,SAAeW,EAAtBC,GAAA,OAAAC,EAAApM,MAAAkH,KAAA/Z,sDAAO,SAAAkf,EAAA1a,GAAA,IAAA6Z,EAAAhc,EAAA8c,EAAAC,EAAAnL,EAAAoL,EAAAC,EAAAC,EAAA,OAAA9G,EAAA1Y,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cACNqF,EADM7Z,EACN6Z,YACAhc,EAFMmC,EAENnC,QAEM8c,EAAsB9c,EAAQK,SAASyc,qBAAuB,GAE9DC,EAAgBf,EAAYvd,OAAO,SAACC,EAAD6L,GAAsB,IAAA6S,EAAdC,EAAc9S,EAAd8S,QAC1CC,GAAUD,EAAQE,YAAcF,EAAQnO,KAAKqO,YAAY,GAAGhY,GAC5DiY,GAAYH,EAAQE,YAAcF,EAAQnO,KAAKqO,YAAY,GAAGhY,GAQpE,OANgB1G,OAAA4d,EAAA,EAAA5d,CAAA,GACZH,GADY0e,EAAA,GAAAve,OAAA4e,EAAA,EAAA5e,CAAAue,EAEdE,EAAS5e,EAAI4e,IAAWR,EAAoBQ,IAAW,MAFzCze,OAAA4e,EAAA,EAAA5e,CAAAue,EAGdI,EAAW9e,EAAI8e,IAAaV,EAAoBU,IAAa,MAH/CJ,KAOd,IAEGxL,EAAO/S,OAAO+S,KAAKmL,GAEnBC,EAAapL,EAAKvS,IAAL,eAAAoM,EAAA5M,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAAS,SAAAqH,EAAM7L,GAAN,IAAA+D,EAAA,OAAAQ,EAAA1Y,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,WACvBoG,EAAclL,GADS,CAAA8L,EAAAhH,KAAA,eAAAgH,EAAArG,OAAA,SAEnByF,EAAclL,IAFK,cAAA8L,EAAAhH,KAAA,EAINiH,YAAsB,CACzCC,YAAahM,EACb7R,YANyB,cAIpB4V,EAJoB+H,EAAAzG,KAAAyG,EAAArG,OAAA,SASnB1B,GATmB,wBAAA+H,EAAAnG,SAAAkG,MAAT,gBAAAI,GAAA,OAAArS,EAAA+E,MAAAkH,KAAA/Z,YAAA,IArBbwf,EAAAxG,KAAA,EAkCkBgB,QAAQjZ,IAAIse,GAlC9B,cAkCAC,EAlCAE,EAAAjG,KAoCAgG,EAAiBtL,EAAKnT,OAAO,SAACC,EAAKmT,EAAKiC,GAM7C,OALgBjV,OAAA4d,EAAA,EAAA5d,CAAA,GACZH,EADYG,OAAA4e,EAAA,EAAA5e,CAAA,GAEdgT,EAAMoL,EAAUnJ,MAIhB,IA3CGqJ,EAAA7F,OAAA,SA6CC4F,GA7CD,yBAAAC,EAAA3F,SAAAqF,6BAgDP,IAAMkB,EAAgB,eAAArb,EAAA7D,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAAG,SAAA2H,EAAA1b,GAAA,IAAAuT,EAAA,OAAAO,EAAA1Y,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAArU,EAASsT,MAAOC,EAAhBvT,EAAgBuT,QAAhBoI,EAAA3G,OAAA,SAA8BzB,GAA9B,wBAAAoI,EAAAzG,SAAAwG,MAAH,gBAAAE,GAAA,OAAAxb,EAAA8N,MAAAkH,KAAA/Z,YAAA,GAEhBwgB,EAA8B,CAEnCC,6CAA8C,CAE7CC,6CAA8CN,GAG/CM,6CAA8C,CAE7CD,6CAA8CL,IAIzC,SAAe3G,EAAtBkH,GAAA,OAAAC,EAAA/N,MAAAkH,KAAA/Z,sDAAO,SAAA6gB,EAAA3b,GAAA,IAAA+S,EAAAC,EAAA4I,EAAA1f,EAAA2f,EAAA,OAAAtI,EAAA1Y,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,UAAuCf,EAAvC/S,EAAuC+S,MAAOC,EAA9ChT,EAA8CgT,QAA9C4I,EACcnf,gBAAZP,EADF0f,EACE1f,WAEQ6W,EAAM7W,QAHhB,CAAA4f,EAAAhI,KAAA,eAAAgI,EAAArH,OAAA,SAIEzB,GAJF,cAAA8I,EAAAhI,KAAA,EAOyBwH,EAC9Bpf,EAAQ6f,eACPhJ,EAAM7W,QAAQ6f,eAAe,CAC9BhJ,QACAC,YAXK,cAOA6I,EAPAC,EAAAzH,KAAAyH,EAAArH,OAAA,SAcCoH,GAdD,wBAAAC,EAAAnH,SAAAgH,4LCxWDK,EAAkB,iBAExBC,IAAcC,SAAS,CACtBre,MAAO,yBACPse,OAAQ,4BAGYC,cACpB,SAAAA,EAAY3F,GAAqB,IAAA4F,EAAXvY,EAAWhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAuH,IAChCC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAogB,GAAAK,KAAA5H,QAYD6H,cAAgB,WAEf,IAF+C,IAAAhhB,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAO6hB,EAAAjhB,EAA7BkhB,YAA6B,IAAAD,EAAtB,EAAsBA,EAAAE,EAAAnhB,EAAnB2S,UAAmB,IAAAwO,EAAd,GAAcA,EACzCC,EAAS,GACN7L,EAAQ2L,EAAM3L,EAAQ5C,EAAI4C,IAClC6L,EAAOrU,KAAK,CACXoO,KAAMwF,EAAKxF,KAAL,IAAA3I,OAAgB+C,GACtB8L,cAAc,IAIhB,MAAO,CAAED,WAtBuBT,EAyBjCW,aAzBiChhB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAyBlB,SAAAO,IAAA,IAAAxX,EAAA4gB,EAAAP,EAAAQ,EAAA/O,EAAA1R,EAAA0gB,EAAAC,EAAAnJ,EAAArZ,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAvX,EAAA4X,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAA8B,GAA9BgJ,EAAA5gB,EAASqgB,YAAT,IAAAO,EAAgB,EAAhBA,EAAAC,EAAA7gB,EAAmB8R,UAAnB,IAAA+O,EAAwB,EAAxBA,EAAAhJ,EAAAN,KAAA,EACqBmI,IAAcsB,mBAChDlB,EAAKK,cAAc,CAAEE,OAAMvO,QAFd,cAAA1R,EAAAyX,EAAAC,KACNgJ,EADM1gB,EACN0gB,QAASC,EADH3gB,EACG2gB,QADHlJ,EAAAK,OAAA,SAKP,CAAE4I,UAASC,YALJ,wBAAAlJ,EAAAO,SAAAZ,MAzBkBsI,EAiCjCmB,OAjCiC,eAAA1gB,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAiCxB,SAAAC,EAAMgK,GAAN,IAAAC,EAAAzgB,EAAAogB,EAAAC,EAAAK,EAAAC,EAAA,OAAAV,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACc+J,QAAMC,kBAAkBL,GADtC,cACFC,EADE9J,EAAAS,MAGA7O,MAAQkY,EAAQlY,OAASqY,QAAME,QAAQ,GAHvCnK,EAAAE,KAAA,EAK2BmI,IAAc+B,wBAAwB,CACxEnH,KAAMwF,EAAKxF,KACXoH,YAAaP,IAPN,UAAAzgB,EAAA2W,EAAAS,KAKAgJ,EALApgB,EAKAogB,QAASC,EALTrgB,EAKSqgB,SAKbD,EAVI,CAAAzJ,EAAAE,KAAA,gBAWD6J,EAAY,CACjBO,EAAGZ,EAAQY,EACXC,EAAGb,EAAQa,EACXC,EAAGtV,SAASwU,EAAQc,IAGfR,EAAWC,QAAMQ,qBAAqBX,EAASC,GAjB9C/J,EAAAa,OAAA,SAmBAmJ,GAnBA,cAqBD,IAAIU,MAAMhB,EAAQiB,OArBjB,yBAAA3K,EAAAe,SAAAlB,MAjCwB,gBAAAuB,GAAA,OAAAlY,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EA0DjCmC,gBA1DiC,eAAApgB,EAAApC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA0Df,SAAAqC,EAAM4H,GAAN,IAAAG,EAAAa,EAAA,OAAAvB,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACMuI,EAAKmB,OAAOC,GADlB,cACXG,EADW5H,EAAA3B,KAEXoK,EAASpC,EAAK5F,SAAS+H,gBAAgBZ,GAF5B5H,EAAAvB,OAAA,SAGVgK,GAHU,wBAAAzI,EAAArB,SAAAkB,MA1De,gBAAAjB,GAAA,OAAAxW,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAgEjCqC,YAhEiC,eAAApgB,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAgEnB,SAAA0B,EAAOyJ,GAAP,IAAA7a,EAAAtF,EAAA6e,EAAAC,EAAAhF,EAAAsG,EAAA9jB,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAgBhQ,EAAhB8a,EAAA7jB,OAAA,QAAAC,IAAA4jB,EAAA,GAAAA,EAAA,GAAuB,GAAvBjJ,EAAA7B,KAAA,EACsBmI,IAAc4C,oBAAoB,CACpEhI,KAAMwF,EAAKxF,KACX8H,QAASA,EACTG,MAAOhb,EAAKgb,MAJA,UAAAtgB,EAAAmX,EAAAtB,KACLgJ,EADK7e,EACL6e,QAASC,EADJ9e,EACI8e,SAMbD,EAPS,CAAA1H,EAAA7B,KAAA,gBAQNwE,EAAM,CAMXqF,UAAW,KAAOL,EAAQK,UAC1BoB,KAAMJ,EACNK,KAAMpO,YAAUqO,eAAeC,KAC/BhjB,QAASohB,EAAQphB,SAjBNyZ,EAAAlB,OAAA,SAoBL6D,GApBK,cAsBN,IAAIgG,MAAMhB,EAAQiB,OAtBZ,yBAAA5I,EAAAhB,SAAAO,MAhEmB,gBAAAkB,GAAA,OAAA9X,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EA0FjC8C,QAAU,SAAA1I,GACT,OAAO,IAAI2F,EAAa3F,EAAU,CAAEI,KAAMwF,EAAKxF,QAzF/CwF,EAAK+C,UAAY3I,EACjB4F,EAAKgD,MAAQvb,EAAK+S,MAAQmF,EAHMK,oEAOhC,OAAOxH,KAAKwK,uCAGZ,OAAOxK,KAAKuK,iBAX4BE,2BCPrBC,cACpB,SAAAA,EAAY9I,GAAqB,IAAA4F,EAAXvY,EAAWhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA0K,IAChClD,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAujB,GAAA9C,KAAA5H,QAMD2K,UAPiCxjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAOrB,SAAAO,IAAA,IAAA0L,EAAA5hB,EAAA6hB,EAAAhiB,EAAAiiB,EAAA,OAAAzC,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,WACPuI,EAAKuD,QADE,CAAAxL,EAAAN,KAAA,eAAAM,EAAAK,OAAA,SAEH4H,EAAKuD,SAFF,cAAAH,EAI4BpD,EAAKwD,MAAnChiB,EAJE4hB,EAIF5hB,MAAO6hB,EAJLD,EAIKC,SAAUhiB,EAJf+hB,EAIe/hB,SAJf0W,EAAAN,KAAA,EAKegM,YAAe,CACvCjiB,QACA6hB,WACAhiB,aARS,cAKJiiB,EALIvL,EAAAC,KAWVgI,EAAKuD,QAAU,IAAIG,SAAOJ,EAAWzX,KAAK8X,WAAY3D,EAAK+C,WAXjDhL,EAAAK,OAAA,SAYH4H,EAAKuD,SAZF,yBAAAxL,EAAAO,SAAAZ,MAPqBsI,EA2BjC4D,WA3BiCjkB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA2BpB,SAAAC,IAAA,OAAAyJ,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACCuI,EAAKmD,YAAYtjB,QADlB,cAAA0X,EAAAa,OAAA,SAAAb,EAAAS,MAAA,wBAAAT,EAAAe,SAAAlB,MA3BoB4I,EA+BjCmB,OA/BiC,eAAAjhB,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA+BxB,SAAAqC,EAAM4H,GAAN,IAAAyC,EAAA,OAAAhD,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACeuI,EAAKmD,YAAYW,KAAK1C,GADrC,cACFyC,EADElK,EAAA3B,KAAA2B,EAAAvB,OAAA,SAEDyL,GAFC,wBAAAlK,EAAArB,SAAAkB,MA/BwB,gBAAAb,GAAA,OAAAzY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAoCjCmC,gBApCiC,eAAA7hB,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAoCf,SAAA0B,EAAMuI,GAAN,IAAAG,EAAAa,EAAA,OAAAvB,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACMuI,EAAKmB,OAAOC,GADlB,cACXG,EADWjI,EAAAtB,KAEXoK,EAASpC,EAAK5F,SAAS+H,gBAAgBZ,GAF5BjI,EAAAlB,OAAA,SAGVgK,GAHU,wBAAA9I,EAAAhB,SAAAO,MApCe,gBAAAN,GAAA,OAAAjY,EAAAgR,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EA0CjCqC,YA1CiC,eAAA5hB,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA0CnB,SAAA2H,EAAOwD,GAAP,IAAAphB,EAAAogB,EAAArF,EAAA8H,EAAAtlB,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsM,EAAArlB,OAAA,QAAAC,IAAAolB,EAAA,GAAAA,EAAA,GAAuB,IAC3BtB,MACRH,EAAUd,QAAMwC,SAAS1B,IAFbvD,EAAAtH,KAAA,EAKQuI,EAAKmD,YALb,cAKPjiB,EALO6d,EAAA/G,KAAA+G,EAAAtH,KAAA,EAOWvW,EAAOmhB,YAAYC,GAP9B,cAOPhB,EAPOvC,EAAA/G,KAQPiE,EAAM,CACXqF,YACAoB,KAAMJ,EACNK,KAAMpO,YAAUqO,eAAeC,KAC/BhjB,QAASqB,EAAOrB,SAZJkf,EAAA3G,OAAA,SAeN6D,GAfM,yBAAA8C,EAAAzG,SAAAwG,MA1CmB,gBAAA/E,GAAA,OAAAtZ,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EA4DjC8C,QAAU,SAAA1I,GACT,OAAO,IAAI8I,EAAY9I,EAAU,CAChC5Y,MAAOwe,EAAKxe,MACZ6hB,SAAUrD,EAAKqD,YA5DhBrD,EAAK+C,UAAY3I,EACjB4F,EAAKwD,MAAQ/b,EAJmBuY,wEAwBhC,OAAOxH,KAAKuK,iBAzB2BE,UCDpBgB,cACpB,SAAAA,EAAY7J,GAAqB,IAAA4F,EAAAvhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,UAAAkB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAyL,IAChCjE,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAskB,GAAA7D,KAAA5H,QASDoL,WAViCjkB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAUpB,SAAAO,IAAA,OAAAmJ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAK,OAAA,SACL4H,EAAKkE,QAAQN,cADR,wBAAA7L,EAAAO,SAAAZ,MAVoBsI,EAcjCmC,gBAdiC,eAAApiB,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAcf,SAAAC,EAAMgK,GAAN,OAAAP,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAa,OAAA,SACV4H,EAAKkE,QAAQ/B,gBAAgBf,IADnB,wBAAA7J,EAAAe,SAAAlB,MAde,gBAAAuB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAkBjCqC,YAlBiC,eAAAniB,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAkBnB,SAAAqC,EAAO8I,GAAP,IAAAhB,EAAArF,EAAAkI,EAAA1lB,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAA0M,EAAAzlB,OAAA,QAAAC,IAAAwlB,EAAA,GAAAA,EAAA,GAAuB,IAC3B1B,MACRH,EAAUd,QAAMwC,SAAS1B,IAFb3I,EAAAlC,KAAA,EAKWuI,EAAKkE,QAAQ7B,YAAYC,GALpC,cAKPhB,EALO3H,EAAA3B,KAAA2B,EAAAxB,GAQZmJ,EARY3H,EAAAyK,GASN9B,EATM3I,EAAA0K,GAUN9P,YAAUqO,eAAeC,KAVnBlJ,EAAAlC,KAAA,GAWGuI,EAAKkE,QAAQN,aAXhB,eAAAjK,EAAA2K,GAAA3K,EAAA3B,KAOPiE,EAPO,CAQZqF,UARY3H,EAAAxB,GASZuK,KATY/I,EAAAyK,GAUZzB,KAVYhJ,EAAA0K,GAWZxkB,QAXY8Z,EAAA2K,IAAA3K,EAAAvB,OAAA,SAcN6D,GAdM,yBAAAtC,EAAArB,SAAAkB,MAlBmB,gBAAAjB,GAAA,OAAArY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAmCjC8C,QAAU,SAAA1I,GACT,OAAO,IAAI6J,EAAe7J,IAlC1B4F,EAAK+C,UAAY3I,EACjB4F,EAAKkE,QAAU9J,EAASmK,YAHQvE,wEAOhC,OAAOxH,KAAKuK,iBAR8BE,mBCMrC,SAAesB,EAAtB5L,GAAA,OAAA6L,EAAAlT,MAAAkH,KAAA/Z,sDAAO,SAAAiZ,EAAArY,GAAA,IAAA6B,EAAAkZ,EAAA/Y,EAAAmZ,EAAAhZ,EAAA6hB,EAAAoB,EAAAP,EAAAQ,EAAAC,EAAA,OAAA9D,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAA2BvW,EAA3B7B,EAA2B6B,OAAQkZ,EAAnC/a,EAAmC+a,SAEjC/Y,EAAoCH,EAApCG,SAAUmZ,EAA0BtZ,EAA1BsZ,KAAMhZ,EAAoBN,EAApBM,MAAO6hB,EAAaniB,EAAbmiB,SAE3BhiB,IAAaujB,IAAWC,SAASpU,KAJ/B,CAAAsH,EAAAN,KAAA,eAKCgN,EAAS,IAAIR,EAAe7J,GAL7BrC,EAAAK,OAAA,SAMEqM,GANF,UAQFpjB,IAAaujB,IAAWE,OAAOrU,KAR7B,CAAAsH,EAAAN,KAAA,eASCgN,EAAS,IAAIM,IAAa3K,EAAU,CAAEI,SATvCzC,EAAAK,OAAA,SAWEqM,GAXF,UAaFpjB,IAAaujB,IAAWI,OAAOvU,KAb7B,CAAAsH,EAAAN,KAAA,gBAcCgN,EAAS,IAAI1E,EAAa3F,EAAU,CAAEI,SAdvCzC,EAAAK,OAAA,SAeEqM,GAfF,WAkBLpjB,IAAaujB,IAAWK,MAAMxU,MAC9BpP,IAAaujB,IAAWM,MAAMzU,KAnBzB,CAAAsH,EAAAN,KAAA,gBAqBCgN,EAAS,IAAIvB,EAAY9I,EAAU,CAAE5Y,QAAO6hB,WAAUhiB,aArBvD0W,EAAAK,OAAA,SAuBEqM,GAvBF,cA0BA,IAAIxC,MAAJ,2BAAApQ,OAAqC3Q,EAAOG,WA1B5C,yBAAA0W,EAAAO,SAAAZ,6HA8BA,IAAMyN,EAAmB,SAAAplB,GAAmB,IAAhBqlB,EAAgBrlB,EAAhBqlB,UAC5Blc,EAASkc,EAAUjlB,IAAI,SAAAklB,GAC5B,MAA8B,kBAAhBA,EAAMlc,MACjBqY,QAAM8D,YAAYD,EAAMlc,OACxBqY,QAAME,QAAQ2D,EAAMlc,SAElBoc,EAAa/D,QAAMgE,UAAUlU,MAAM,KAAMpI,GACzCuc,EAASL,EAAUjlB,IAAI,SAAAklB,GAC5B,OAAO7D,QAAM8D,YAAYD,EAAM1c,KAAO,IAAM0c,EAAM5U,QAG7CiV,EAAalE,QAAMgE,UAAUlU,MAAM,KAAMmU,GAM/C,OALajE,QAAMmE,kBAClB,CAAC,UAAW,WACZ,CAACD,EAAYH,KAMR,SAAeK,EAAtBrN,GAAA,OAAAsN,EAAAvU,MAAAkH,KAAA/Z,sDAAO,SAAA2Y,EAAAlX,GAAA,IAAAgB,EAAAa,EAAAqY,EAAAqK,EAAAqB,EAAApD,EAAApB,EAAA,OAAAT,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAA4BvW,EAA5BhB,EAA4BgB,OAA5BqW,EAAAE,KAAA,EACqB8B,YAAUrY,EAAOG,UADtC,cAAAU,EAAAwV,EAAAS,KACEoC,EADFrY,EACEqY,SADF7C,EAAAE,KAAA,EAEe8M,EAAU,CAAErjB,SAAQkZ,aAFnC,cAEAqK,EAFAlN,EAAAS,KAIA8N,EAAY1U,KAAK2U,MACtB3U,KAAK4U,SAAW5c,OAAO6c,kBACtBrL,WAGI8H,EAAOyC,EAAiB,CAAEC,UADd,CAAC,CAAEzc,KAAM,OAAQ8H,KAAM,aAActH,MAAO2c,MARxDvO,EAAAE,KAAA,GAUkBgN,EAAOpC,YAAYK,EAAM,CAAED,KAAK,IAVlD,eAUAnB,EAVA/J,EAAAS,KAAAT,EAAAa,OAAA,SAAAzY,OAAAC,EAAA,EAAAD,CAAA,GAaF2hB,EAbE,CAcLwE,YACApD,UAfK,yBAAAnL,EAAAe,SAAAlB,6BA0BA,SAAe+J,EAAtBtH,GAAA,OAAAqM,EAAA5U,MAAAkH,KAAA/Z,sDAAO,SAAAoa,EAAApY,GAAA,IAAA0lB,EAAA1B,EAAA2B,EAAA9E,EAAA,OAAAT,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAwB0O,EAAxB1lB,EAAwB0lB,GAAI1B,EAA5BhkB,EAA4BgkB,OAA5BnL,EAAA7B,KAAA,EACYgN,EAAOpC,YAAY,IAAIgE,cAAYF,GAAIG,UAAW,CACnE7D,KAAK,IAFA,cACA2D,EADA9M,EAAAtB,KAIAsJ,EAAYiF,mBAASH,EAAI9E,WAJzBhI,EAAAlB,OAAA,SAKCkJ,GALD,wBAAAhI,EAAAhB,SAAAO,6BAQA,SAAe2N,EAAtBvM,GAAA,OAAAwM,EAAAnV,MAAAkH,KAAA/Z,sDAAO,SAAAqgB,EAAAle,GAAA,IAAAuN,EAAAsW,EAAAiC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAZ,EAAA,OAAAtF,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,OAAyCtJ,EAAzCvN,EAAyCuN,KAAMsW,EAA/C7jB,EAA+C6jB,OAC/CiC,EAAa,GADbC,GAAA,EAAAC,GAAA,EAAAC,OAAAloB,EAAAogB,EAAAvH,KAAA,EAAAsP,EAEW3Y,EAFX6Y,OAAAC,YAAA,UAAAN,GAAAI,EAAAD,EAAArP,QAAAyP,KAAA,CAAAnI,EAAAtH,KAAA,gBAEK0O,EAFLY,EAAA5d,MAAA4V,EAAA5G,GAGLuO,EAHK3H,EAAAtH,KAAA,GAGiB0J,EAAO,CAAEgF,KAAI1B,WAH9B,QAAA1F,EAAAqF,GAAArF,EAAA/G,KAAA+G,EAAA5G,GAGM/L,KAHNgU,KAAArB,EAAA5G,GAAA4G,EAAAqF,IAAA,QAAAuC,GAAA,EAAA5H,EAAAtH,KAAA,gBAAAsH,EAAAtH,KAAA,iBAAAsH,EAAAvH,KAAA,GAAAuH,EAAAsF,GAAAtF,EAAA,SAAA6H,GAAA,EAAAC,EAAA9H,EAAAsF,GAAA,QAAAtF,EAAAvH,KAAA,GAAAuH,EAAAvH,KAAA,GAAAmP,GAAA,MAAAG,EAAAK,QAAAL,EAAAK,SAAA,WAAApI,EAAAvH,KAAA,IAAAoP,EAAA,CAAA7H,EAAAtH,KAAA,eAAAoP,EAAA,eAAA9H,EAAAqI,OAAA,mBAAArI,EAAAqI,OAAA,mBAAArI,EAAA3G,OAAA,SAMCsO,GAND,yBAAA3H,EAAAzG,SAAAwG,EAAA,2UCrFDuI,EAAwB,SAAAhoB,GAAiB,IAAdioB,EAAcjoB,EAAdioB,QAChC,OAAO,IAAIC,IAAU,CAAED,aAGlBE,EAAgB,SAAAznB,GAAkB,IAAfqP,EAAerP,EAAfqP,SAClBgP,GAAUhP,EAASiP,YAAcjP,EAASY,KAAKqO,YAAY,GAC3DC,GAAYlP,EAASiP,YAAcjP,EAASY,KAAKqO,YAAY,GAMnE,MAAO,CACND,OAAQ,CAAEqJ,UANaJ,EAAsB,CAAEC,QAASlJ,EAAOsJ,MAMzBC,UAAWvJ,GACjDE,SAAU,CAAEmJ,UANaJ,EAAsB,CAC/CC,QAAShJ,EAASoJ,MAKwBC,UAAWrJ,KAIjDsJ,EAAkB,SAAA3L,GACvB,OAAIA,EAAI3L,QAAU,KAAO2L,EAAI3L,OAAS,IAC9B2L,EAAI4L,OAGL5L,EAAI6L,OAAO9L,KAAK,SAAA8L,GACtBC,YAAwB,CAAE9L,MAAK6L,YAIpBpJ,EAAqB,eAAApe,EAAAX,OAAAqoB,EAAA,EAAAroB,CAAAsoB,EAAAzpB,EAAA2Y,KAAG,SAAAO,EAAAxX,GAAA,IAAAye,EAAA7d,EAAAK,EAAAD,EAAAgnB,EAAAznB,EAAA2Z,EAAAqK,EAAAxD,EAAAvK,EAAA,OAAAuR,EAAAzpB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAASkH,EAATze,EAASye,YAAa7d,EAAtBZ,EAAsBY,QAClDK,EAAqBL,EAArBK,SAAUD,EAAWJ,EAAXI,SACZgnB,GAAgB/mB,EAASyc,qBAAuB,IAAIe,IAFtB,CAAA5G,EAAAN,KAAA,eAAAM,EAAAK,OAAA,SAI5B8P,GAJ4B,cAAAnQ,EAAAN,KAAA,EAOT8B,YAAUrY,EAAOG,UAPR,cAAAZ,EAAAsX,EAAAC,KAO5BoC,EAP4B3Z,EAO5B2Z,SAP4BrC,EAAAN,KAAA,GAQf8M,YAAU,CAAErjB,SAAQkZ,aARL,eAQ9BqK,EAR8B1M,EAAAC,KAU9BiJ,EAAU,CACf5a,GAAIsY,EACJxd,SAAUA,EAAStB,QACnBsoB,IAAK/W,KAAK2U,MAAMqC,KAAKC,MAAQ,MAGxB3R,EAAQ4R,IAAIxE,KAAKW,EAAQxD,GAhBKlJ,EAAAK,OAAA,SAkB7B1B,GAlB6B,yBAAAqB,EAAAO,SAAAZ,MAAH,gBAAAiB,GAAA,OAAArY,EAAAgR,MAAAkH,KAAA/Z,YAAA,GAqB5B8pB,EAAW,eAAAxmB,EAAApC,OAAAqoB,EAAA,EAAAroB,CAAAsoB,EAAAzpB,EAAA2Y,KAAG,SAAAC,EAAAxW,GAAA,IAAA4nB,EAAApZ,EAAAqZ,EAAA3nB,EAAA4nB,EAAApK,EAAAF,EAAAuK,EAAAC,EAAAC,EAAAC,EAAA,OAAAb,EAAAzpB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAASrI,EAATxO,EAASwO,SAAUqZ,EAAnB7nB,EAAmB6nB,QAAS3nB,EAA5BF,EAA4BE,QAA5B4nB,EACUlB,EAAc,CAAEpY,aAArCkP,EADWoK,EACXpK,SAAUF,EADCsK,EACDtK,OADC7G,EAAAE,KAAA,EAGaiH,EAAsB,CACrDC,YAAaL,EAASqJ,UAAUthB,GAChCvF,YALkB,cAGb6nB,EAHapR,EAAAS,KAAAT,EAAAE,KAAA,EAOWiH,EAAsB,CACnDC,YAAaP,EAAOuJ,UAAUthB,GAC9BvF,YATkB,cAOb8nB,EAParR,EAAAS,KAAAT,EAAAE,KAAA,GAWU6G,EAASmJ,UACpCsB,MAD2BppB,OAAA4d,EAAA,EAAA5d,CAAA,GAExB8oB,EAFwB,CAG3BO,QAAQrpB,OAAA4d,EAAA,EAAA5d,CAAA,GACJ8oB,EAAQO,QADL,CAENC,cApEkB,UAoEaN,OAGhC3M,KAAK4L,GAnBY,eAWbiB,EAXatR,EAAAS,KAAAT,EAAAE,KAAA,GAqBQ2G,EAAOqJ,UAChCsB,MADyBppB,OAAA4d,EAAA,EAAA5d,CAAA,GAEtB8oB,EAFsB,CAGzBO,QAAQrpB,OAAA4d,EAAA,EAAA5d,CAAA,GACJ8oB,EAAQO,QADL,CAENC,cA9EkB,UA8EaL,OAGhC5M,KAAK4L,GA7BY,eAqBbkB,EArBavR,EAAAS,KAAAT,EAAAa,OAAA,SA+BZ,CACN8Q,QAAS,CACRL,iBACAC,gBAEDK,YAAUX,EAAA,GAAA7oB,OAAA4e,EAAA,EAAA5e,CAAA6oB,EACRlK,EAASjY,GAAKsiB,GADNhpB,OAAA4e,EAAA,EAAA5e,CAAA6oB,EAERpK,EAAO/X,GAAKuiB,GAFJJ,KApCQ,yBAAAjR,EAAAe,SAAAlB,MAAH,gBAAAmB,GAAA,OAAAxW,EAAAuP,MAAAkH,KAAA/Z,YAAA,GA2CJ2qB,EAAoB,SAAAnnB,GAAkB,IAAfmN,EAAenN,EAAfmN,SAGnC,OAFmBoY,EAAc,CAAEpY,aAA3BgP,OAEMqJ,UACZsB,MAAM,CACNM,MAAK,WAAAxX,OAAazC,EAAS/I,GAAtB,kBACLijB,OAAQ,QAERtN,KAAK4L,IAGK2B,EAAgB,SAAApnB,GAA2B,IAAxBiN,EAAwBjN,EAAxBiN,SAAUtO,EAAcqB,EAAdrB,QACnC2nB,EAAU,CACfY,MAAK,WAAAxX,OAAazC,EAAS/I,GAAtB,WACLijB,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CAAEC,OAAQ,CAAC,CAAEhhB,KAAM,YACxCqgB,QAAS,CAAEY,eAAgB,qBAG5B,OAAOrB,EAAY,CAAEnZ,WAAUqZ,UAAS3nB,aAG5B+oB,EAAiB,eAAArnB,EAAA7C,OAAAqoB,EAAA,EAAAroB,CAAAsoB,EAAAzpB,EAAA2Y,KAAG,SAAAqC,EAAAlX,GAAA,IAAAwnB,EAAAjgB,EAAAC,EAAAvB,EAAAwhB,EAAAvkB,EAAAwkB,EAAAvC,EAAAwC,EAAA,OAAAhC,EAAAzpB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAChCqS,EADgCxnB,EAChCwnB,WACAjgB,EAFgCvH,EAEhCuH,UACAC,EAHgCxH,EAGhCwH,OACAvB,EAJgCjG,EAIhCiG,UACAwhB,EALgCznB,EAKhCynB,MACAvkB,EANgClD,EAMhCkD,KACAwkB,EAPgC1nB,EAOhC0nB,iBA3HoCvjB,6BA8H9BghB,EAAYJ,EAAsB,CAAEC,QA9HN7gB,+BAoHJkT,EAAAlC,KAAA,EAYPgQ,EACvBsB,MAAM,CACNM,MAAK,kBAAAxX,OAAoBrM,GACzB8jB,OAAQ,MACRY,YAAa,CACZpgB,SACAvB,YACAwhB,QACAC,mBACAngB,aAEDmf,QAAS,CACRC,cA7IkB,UA6Iaa,KAGhC9N,KAAK4L,GA3ByB,cAY1BqC,EAZ0BtQ,EAAA3B,KAAA2B,EAAAvB,OAAA,SA6BzB,CAAE6R,aAAYngB,WA7BW,wBAAA6P,EAAArB,SAAAkB,MAAH,gBAAAO,GAAA,OAAAvX,EAAA8O,MAAAkH,KAAA/Z,YAAA,GAgCjB0rB,EAA0B,eAAArnB,EAAAnD,OAAAqoB,EAAA,EAAAroB,CAAAsoB,EAAAzpB,EAAA2Y,KAAG,SAAA0B,EAAAlW,GAAA,IAAAmnB,EAAAjgB,EAAA4d,EAAAwC,EAAA,OAAAhC,EAAAzpB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAASqS,EAATnnB,EAASmnB,WAAYjgB,EAArBlH,EAAqBkH,UApJ1BpD,6BAsJ9BghB,EAAYJ,EAAsB,CAAEC,QAtJN7gB,+BAoJK6S,EAAA7B,KAAA,EAIhBgQ,EACvBsB,MAAM,CACNM,MAAK,sBACLC,OAAQ,MACRY,YAAa,CAAErgB,aACfmf,QAAS,CACRC,cA/JkB,UA+Jaa,KAGhC9N,KAAK4L,GAbkC,cAInCqC,EAJmC3Q,EAAAtB,KAAAsB,EAAAlB,OAAA,SAelC6R,GAfkC,wBAAA3Q,EAAAhB,SAAAO,MAAH,gBAAAgB,GAAA,OAAA/W,EAAAwO,MAAAkH,KAAA/Z,YAAA,yFCrJ1B2rB,EAAiB,eAAA/qB,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,IAAA,IAAA2S,EAAAhpB,EAAAtB,EAAAqa,EAAAkQ,EAAAxS,EAAArZ,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAO4S,EAAPvS,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAAc,GAAIzW,EAAlByW,EAAApZ,OAAA,EAAAoZ,EAAA,QAAAnZ,EAAAoZ,EAAAP,KAAA,GAE3B+S,EAAaF,GAFc,CAAAtS,EAAAN,KAAA,gBAAAM,EAAAN,KAAA,EAGH8B,YAAUlY,GAHP,cAAAtB,EAAAgY,EAAAC,KAGtBoC,EAHsBra,EAGtBqa,SACFkQ,EAAW,IAAIE,SAAOC,SAASJ,EAAMK,EAAetQ,GAJ5BrC,EAAAN,KAAA,GAKxBgB,QAAQjZ,IAAI,CACjB8qB,EAASK,cACTL,EAAS1Q,UAAUrF,YAAUqW,aAC7BN,EAASO,UAAUtW,YAAUqW,YAAarW,YAAUqW,eARvB,eAAA7S,EAAAK,OAAA,UAUvB,GAVuB,eAAAL,EAAAK,OAAA,UAYxB,GAZwB,eAAAL,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SAAAA,EAAAK,OAAA,UAcxB,GAdwB,yBAAAL,EAAAO,SAAAZ,EAAA,kBAAH,yBAAArY,EAAAiS,MAAAkH,KAAA/Z,YAAA,GCHjBqsB,EAAgB,eAAAzrB,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,EAAMrW,GAAN,IAAA0pB,EAAA,OAAAlK,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAP,KAAA,EAAAO,EAAAN,KAAA,EAKZgB,QAAQuS,KAAK,CAC9BzR,YAAUlY,GACV,IAAIoX,QAAQ,SAACC,EAASuS,GACrBC,WAAW,WACVD,EAAO,cACL,SAVyB,cAKxBF,EALwBhT,EAAAC,KAAAD,EAAAN,KAAA,EAaxBsT,EAAI3Q,SAAS+Q,iBAbW,cAAApT,EAAAK,OAAA,UAcvB,GAduB,cAAAL,EAAAP,KAAA,EAAAO,EAAAI,GAAAJ,EAAA,SAAAA,EAAAK,OAAA,UAgBvB,GAhBuB,yBAAAL,EAAAO,SAAAZ,EAAA,iBAAH,gBAAAiB,GAAA,OAAAtZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,mOCG7B,IAAM2sB,EAAW,iFAGXC,EAAgB,8CAGTC,EAAW,SAAA5D,GAGvB,OAFAA,EAAMA,GAAO,GACG0D,EAASG,KAAK7D,IAIlB8D,EAAiB,SAAAC,GAI7B,OAHAA,EAAYA,GAAa,IAEvBC,MAAMlf,WAAWif,KAAeE,SAASF,IAAcA,EAAY,GAWzDG,EAAY,SAAAnb,GACxB,IAAIob,EAAM,GACJC,EAAa,GAWnB,OAVKrb,EAEMA,EAAK/R,OAAS,GACxBmtB,EAAM,iBACNC,EAAW1f,KAAK,IACNqE,EAAK/R,OAAS,MACxBmtB,EAAM,iBACNC,EAAW1f,KAAK,MANhByf,EAAM,qBASA,CACNA,MACAC,eAIWC,EAAgB,SAAA1I,GAG5B,OAFAA,EAAWA,GAAY,GACPgI,EAAcE,KAAKlI,IAIvBkH,EAAe,WAAe,IAAdF,EAAc5rB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACnC,IACC+iB,QAAMoC,WAAWyG,GAChB,MAAOrf,GACR,OAAO,EAER,OAAO,GAGKghB,EAAmB,WAAe,IAAd3B,EAAc5rB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACvC,QAAO8rB,EAAaF,IACjB7I,QAAMpd,aAAaod,QAAMoC,WAAWyG,IAAO4B,UAIlCC,EAAe,eAAAnsB,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,EAAArY,GAAA,IAAA8sB,EAAA9B,EAAA+B,EAAAC,EAAAhrB,EAAAwqB,EAAAS,EAAAC,EAAA,OAAA1L,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAA0U,EAAA9sB,EAC9BgrB,YAD8B,IAAA8B,EACvB,GADuBA,EAE9BC,EAF8B/sB,EAE9B+sB,YACAC,EAH8BhtB,EAG9BgtB,SACAhrB,EAJ8BhC,EAI9BgC,SAEIwqB,EAAM,GANoB9T,EAAAP,KAAA,EAQvB8U,EAAiBN,EAAiB3B,KACjBE,EAAaF,GATP,CAAAtS,EAAAN,KAAA,QAW5BoU,EAAM,0BAXsB9T,EAAAN,KAAA,oBAaxB2U,IAAeE,EAbS,CAAAvU,EAAAN,KAAA,SAc3BoU,EAAM,+BAdqB9T,EAAAN,KAAA,wBAAAM,EAAAN,KAAA,GAgBEqT,EAAiBzpB,GAhBnB,YAAA0W,EAAAC,KAAA,CAAAD,EAAAN,KAAA,SAkB1BoU,EAAM,8BAlBoB9T,EAAAN,KAAA,wBAAAM,EAAAN,KAAA,GAoBI2S,EAAkBC,GApBtB,QAoBpBkC,EApBoBxU,EAAAC,MAqBrBsU,GAAkBD,GAAYE,IAClCV,EAAM,iCAtBmB,QAAA9T,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SA2Bf,mCAAVA,EAAAI,KACH0T,EAAM,+BA5BsB,eAAA9T,EAAAK,OAAA,SA8BvB,CAAEyT,QA9BqB,yBAAA9T,EAAAO,SAAAZ,EAAA,kBAAH,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAiCf+tB,EAAW,eAAAlsB,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAC,EAAAlX,GAAA,IAAAusB,EAAAC,EAAArrB,EAAAwqB,EAAAprB,EAAA2Z,EAAAuS,EAAA,OAAA9L,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAgV,EAAAvsB,EAASwsB,WAAT,IAAAD,EAAe,GAAfA,EAAmBprB,EAAnBnB,EAAmBmB,SACzCwqB,EAAM,GADgBtU,EAAAC,KAAA,EAGb,KAARkV,EAHqB,CAAAnV,EAAAE,KAAA,QAIxBoU,EAAM,mBAJkBtU,EAAAE,KAAA,uBAAAF,EAAAE,KAAA,EAMG8B,YAAUlY,GANb,cAAAZ,EAAA8W,EAAAS,KAMhBoC,EANgB3Z,EAMhB2Z,SANgB7C,EAAAE,KAAA,GAOC2C,EAASwS,YAAT,GAAA/a,OACrB6a,EADqB,KAAA7a,OACdpL,aARa,SAOlBkmB,EAPkBpV,EAAAS,QAWLgU,EAAiBW,KAAad,EAAM,oBAX/B,QAAAtU,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SAexBsU,EADkB,qBAAftU,EAAAY,GAAM0U,KACH,2BAEA,gBAjBkB,eAAAtV,EAAAa,OAAA,SAoBnB,CAAEyT,QApBiB,yBAAAtU,EAAAe,SAAAlB,EAAA,kBAAH,gBAAAmB,GAAA,OAAAjY,EAAAgR,MAAAkH,KAAA/Z,YAAA,qCCxGjB,SAASquB,EAAqBna,GACpC,IACC,IAAM9G,EAAOkhB,aAAaC,QAAQra,GAClC,GAAa,OAAT9G,EACH,OAED,OAAO4d,KAAKwD,MAAMphB,GACjB,MAAOqhB,GACR,QAIK,SAASC,EAAmBthB,EAAM8G,GACxC,IACC,IAAMya,EAAa3D,KAAKC,UAAU7d,GAClCkhB,aAAaM,QAAQ1a,EAAKya,GACzB,MAAOF,GACRI,QAAQC,KAAKL,IAIR,SAASM,EAAuB7a,GACtCoa,aAAaU,WAAW9a,GAGlB,SAAS+a,IACf,OAAO/tB,OAAO+S,KAAKqa,cA1BpB9W,EAAAC,EAAAC,EAAA,sBAAA2W,IAAA7W,EAAAC,EAAAC,EAAA,sBAAAgX,IAAAlX,EAAAC,EAAAC,EAAA,sBAAAqX,IAAAvX,EAAAC,EAAAC,EAAA,sBAAAuX,qCCAAzX,EAAAC,EAAAC,EAAA,sBAAAwX,IAAA1X,EAAAC,EAAAC,EAAA,sBAAAyX,IAAA3X,EAAAC,EAAAC,EAAA,sBAAA0X,IAAA5X,EAAAC,EAAAC,EAAA,sBAAA2X,IAAA7X,EAAAC,EAAAC,EAAA,sBAAA4X,IAAA9X,EAAAC,EAAAC,EAAA,sBAAA6X,IAAA/X,EAAAC,EAAAC,EAAA,sBAAA8X,IAAAhY,EAAAC,EAAAC,EAAA,sBAAA+X,IAAAjY,EAAAC,EAAAC,EAAA,sBAAAgY,IAAAlY,EAAAC,EAAAC,EAAA,sBAAAiY,IAAAnY,EAAAC,EAAAC,EAAA,sBAAAkY,IAAApY,EAAAC,EAAAC,EAAA,sBAAAmY,IAAArY,EAAAC,EAAAC,EAAA,sBAAAoY,IAAAtY,EAAAC,EAAAC,EAAA,sBAAAqY,IAAAvY,EAAAC,EAAAC,EAAA,uBAAAsY,IAAAxY,EAAAC,EAAAC,EAAA,sBAAAuY,IAAAzY,EAAAC,EAAAC,EAAA,sBAAAwY,IAAA1Y,EAAAC,EAAAC,EAAA,sBAAAyY,IAAA3Y,EAAAC,EAAAC,EAAA,sBAAA0Y,IAAA5Y,EAAAC,EAAAC,EAAA,sBAAA2Y,IAAA7Y,EAAAC,EAAAC,EAAA,sBAAA4Y,IAAA9Y,EAAAC,EAAAC,EAAA,sBAAA6Y,IAAA/Y,EAAAC,EAAAC,EAAA,sBAAA8Y,IAAAhZ,EAAAC,EAAAC,EAAA,sBAAA+Y,IAAAjZ,EAAAC,EAAAC,EAAA,sBAAAgZ,IAAAlZ,EAAAC,EAAAC,EAAA,sBAAAiZ,IAAAnZ,EAAAC,EAAAC,EAAA,sBAAAkZ,IAAApZ,EAAAC,EAAAC,EAAA,sBAAAmZ,IAAArZ,EAAAC,EAAAC,EAAA,sBAAAoZ,IAAAtZ,EAAAC,EAAAC,EAAA,sBAAAqZ,IAAAvZ,EAAAC,EAAAC,EAAA,sBAAAsZ,IAAAxZ,EAAAC,EAAAC,EAAA,sBAAAuZ,IAAAzZ,EAAAC,EAAAC,EAAA,sBAAAwZ,IAAA1Z,EAAAC,EAAAC,EAAA,uBAAAyZ,IAAA3Z,EAAAC,EAAAC,EAAA,sBAAA0Z,IAAA5Z,EAAAC,EAAAC,EAAA,sBAAA2Z,IAAA7Z,EAAAC,EAAAC,EAAA,sBAAA4Z,IAAA9Z,EAAAC,EAAAC,EAAA,uBAAA6Z,IAAA/Z,EAAAC,EAAAC,EAAA,sBAAA8Z,IAAAha,EAAAC,EAAAC,EAAA,sBAAA+Z,IAAAja,EAAAC,EAAAC,EAAA,sBAAAga,IAAAla,EAAAC,EAAAC,EAAA,sBAAAia,IAAAna,EAAAC,EAAAC,EAAA,uBAAAka,IAAApa,EAAAC,EAAAC,EAAA,sBAAAma,IAAAra,EAAAC,EAAAC,EAAA,sBAAAoa,IAAAta,EAAAC,EAAAC,EAAA,sBAAAqa,IAAAva,EAAAC,EAAAC,EAAA,sBAAAsa,IAAAxa,EAAAC,EAAAC,EAAA,sBAAAua,IAAAza,EAAAC,EAAAC,EAAA,sBAAAwa,IAAA1a,EAAAC,EAAAC,EAAA,sBAAAya,IAAA3a,EAAAC,EAAAC,EAAA,sBAAA0a,IAAA5a,EAAAC,EAAAC,EAAA,sBAAA2a,KAAA7a,EAAAC,EAAAC,EAAA,sBAAA4a,KAAA9a,EAAAC,EAAAC,EAAA,sBAAA6a,KAAA/a,EAAAC,EAAAC,EAAA,sBAAA8a,KAAAhb,EAAAC,EAAAC,EAAA,sBAAA+a,KAAO,IAAMvD,EAAW,WACXC,EAAc,cACdC,EAAkB,iBAClBC,EAAiB,gBACjBC,EAAsB,qBACtBC,EAAc,cACdC,EAAwB,wBACxBC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAmB,kBACnBC,EAAsB,qBAEtBC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAY,YACZC,EAAe,eACfC,EAAiB,iBACjBC,EAAa,aACbC,EAAkB,kBAClBC,EAAyB,yBACzBC,EAAwB,wBAKxBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAe,eACfC,EAAiB,iBACjBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAyB,yBACzBC,EAAwB,wBACxBC,EAA6B,6BAC7BC,EAAuB,uBACvBC,EAA0B,0BAC1BC,EAAyB,yBACzBC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAc,cACdC,EAAc,cACdC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAkB,kBAClBC,EAAgB,gBAChBC,EAAe,eACfC,EAAqB,qBACrBC,EAA6B,6BAC7BC,EAAmB,mBACnBC,EAA4B,4BAC5BC,EAAkB,kBAClBC,EACZ,mCACYC,EAAkC,kCAClCC,GACZ,2CACYC,GACZ,0CACYC,GAA0B,0BAC1BC,GAAwB,wBACxBC,GAA6B,mDC/D1CC,EAAAC,QAAiBnb,EAAAob,EAAuB,8DCAxCF,EAAAC,QAAiBnb,EAAAob,EAAuB,iYCkBlCC,EAAc,CACnBC,OAAQC,IACRxQ,QAASwQ,IACTC,QAASC,IACTC,OAAQC,IACR1P,MAAO0P,IACPC,KAAMC,KAGMC,EAAb,SAAAC,GACC,SAAAD,EAAYE,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAuZ,IAClB/R,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAoyB,GAAA3R,KAAA5H,KAAMyZ,KAwBPC,MAAQ,SAAA7rB,GACP2Z,EAAKmS,SAAS,CAAEC,QAAQ,IACxBpS,EAAKiS,MAAMhhB,QAAQohB,YAAYhsB,IAxB/B2Z,EAAKlhB,MAAQ,CACZszB,QAAQ,EACRE,MAAO,IALUtS,EADpB,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAAoyB,EAAAC,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAAoyB,EAAA,EAAApf,IAAA,4BAAAxJ,MAAA,SAU2BspB,GACzB,IAAIH,EAAQ9Z,KAAK1Z,MAAMwzB,MACnBI,EAAYD,EAAUE,OAAO,GAE5BD,IAKcA,GAAaJ,EAAMjsB,KAAOqsB,EAAUrsB,IAGtDmS,KAAK2Z,SAAS,CAAEC,QAAQ,EAAME,MAAOI,IAPrCla,KAAK2Z,SAAS,CAAEC,QAAQ,EAAOE,MAAO,OAfzC,CAAA3f,IAAA,SAAAxJ,MAAA,WA+BU,IAAAypB,EAAAC,EAAAra,KACA8Z,EAAU9Z,KAAK1Z,MAAfwzB,MACAQ,EAAYta,KAAKyZ,MAAjBa,QACFC,EAAOzB,EAAYgB,EAAM3pB,MAE/B,IAAK2pB,IAAUS,EAAM,OAAO,KAE5B,IAAMC,EAAeV,EAAMU,cAAgB,CAC1CC,SAAU,SACVC,WAAY,UAQb,OALIZ,EAAMa,MACTH,EAAaE,WAAa,SAC1BF,EAAaC,SAAW,OAIxBG,EAAA50B,EAAA60B,cAACC,EAAA,EAAD,CACCC,KAAM/a,KAAK1Z,MAAMszB,OACjBoB,iBAAkBlB,EAAMmB,SAAW,EACnCC,QAAS,kBAAOpB,EAAMqB,YAAcd,EAAKX,MAAMI,EAAMjsB,KACrD2sB,aAAcA,GAEdI,EAAA50B,EAAA60B,cAACO,EAAA,EAAD,CACCC,mBAAiB,kBACjBvR,QACC8Q,EAAA50B,EAAA60B,cAAA,QAAMhtB,GAAG,kBAAkBytB,UAAWhB,EAAQxQ,SAC7C8Q,EAAA50B,EAAA60B,cAACN,EAAD,CAAMe,UAAWC,IAAWjB,EAAQkB,KAAMlB,EAAQmB,gBAChD3B,EAAMle,OAAS,IAAIwG,YAGvBsZ,OAAQ,CACP5B,EAAM4B,QAAU5B,EAAM4B,QACrB5B,EAAMqB,YACNP,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CACCxhB,IAAI,QACJyhB,aAAW,QACXC,MAAM,UACNP,UAAWhB,EAAQZ,MACnBoC,QAAS,kBAAOhC,EAAMqB,YAAcd,EAAKX,MAAMI,EAAMjsB,MAErD+sB,EAAA50B,EAAA60B,cAACkB,EAAA/1B,EAAD,CAAWs1B,UAAWhB,EAAQkB,SAIjCF,UAAWC,IAAWjB,EAAQ0B,UAAT5B,EAAA,GAAAjzB,OAAA80B,EAAA,EAAA90B,CAAAizB,EACnBE,EAAQK,MAAQb,EAAMa,KADHxzB,OAAA80B,EAAA,EAAA90B,CAAAizB,EAEnBE,EAAQvB,OAAwB,WAAfe,EAAM3pB,MAFJhJ,OAAA80B,EAAA,EAAA90B,CAAAizB,EAGnBE,EAAQnB,OAAwB,WAAfW,EAAM3pB,MAHJhJ,OAAA80B,EAAA,EAAA90B,CAAAizB,EAInBE,EAAQrB,QAAyB,YAAfa,EAAM3pB,MAJLiqB,WA7E1Bb,EAAA,CAA2B2C,aA4GZ5R,kBAdf,SAAyBhkB,GAGxB,MAAO,CACN6zB,OAFY7zB,EAAM0F,OAEHmuB,QAAU,KAI3B,SAA4BgC,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIxB7R,CAGb+R,YC1IoB,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACNP,SAAU,CACTQ,OAAQ,YACRC,aAAc,EACdhhB,gBAAiB,OACjBihB,WAAY,CACXC,UAAW,oBAEZC,OAAQL,GAETtD,QAAS,CACR4D,YAAa,UACbhB,MAAO,WAER1C,OAAQ,CACP0D,YAAa,UACbhB,MAAO,WAER9C,OAAQ,CACP8D,YAAa,UACbhB,MAAO,WAERL,KAAM,CACLsB,SAAU,IAEXrB,YAAa,CACZsB,QAAS,GACTC,YAAaT,GAEdzS,QAAS,CACRmT,QAAS,OACTC,WAAY,SACZC,UAAW,aAEZxC,IAAK,CACJyC,MAAO,OACPC,SAAU,UDoGXhB,CAAmB9C,iFErIN,SAAS+D,EAAUC,GAajC,OAZA,SAAoB9D,GACnB,IAAM3qB,EAAW0uB,YAAY3uB,KAQ7B,OAAO+rB,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GAAehE,EAAf,CAAsBxyB,EANnB,SAAC+H,GAA8C,IAAAnI,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOy3B,EAAA72B,EAAvCuI,cAAuC,IAAAsuB,KAAAC,EAAA92B,EAAvByI,YAAuB,IAAAquB,EAAhB,CAAC,IAAeA,EAGxD,OAFoBluB,YAAUT,EAAK,CAAEI,SAAQE,QAAQR,QCGjD,IAAM8uB,EAAb,SAAApE,GACC,SAAAoE,EAAYnE,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA4d,IAClBpW,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAy2B,GAAAhW,KAAA5H,KAAMyZ,KAEDN,OAAS3R,EAAK2R,OAAO0E,KAAZ12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IACdA,EAAKuW,QAAUvW,EAAKuW,QAAQF,KAAb12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IACfA,EAAKlhB,MAAQ,CACZszB,QAAQ,GANSpS,EADpB,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAAy2B,EAAApE,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAAy2B,EAAA,EAAAzjB,IAAA,4BAAAxJ,MAAA,SAW2BspB,GACzBja,KAAK2Z,SAAS,CAAEC,OAAQK,EAAU+D,YAZpC,CAAA7jB,IAAA,UAAAxJ,MAAA,WAgBoC,oBAAvBqP,KAAKyZ,MAAMsE,SACrB/d,KAAKyZ,MAAMsE,UAEZ/d,KAAK2Z,SAAS,CAAEC,QAAQ,MAnB1B,CAAAzf,IAAA,SAAAxJ,MAAA,WAuBmC,oBAAtBqP,KAAKyZ,MAAMN,QACrBnZ,KAAKyZ,MAAMN,SAGZnZ,KAAK2Z,SAAS,CAAEC,QAAQ,MA3B1B,CAAAzf,IAAA,SAAAxJ,MAAA,WA8BU,IAAAstB,EASJje,KAAKyZ,MAPRngB,EAFO2kB,EAEP3kB,MACAgW,EAHO2O,EAGP3O,KACA4O,EAJOD,EAIPC,SACAC,EALOF,EAKPE,YACAC,EANOH,EAMPG,aACAn3B,EAPOg3B,EAOPh3B,EACAo3B,EAROJ,EAQPI,aAED,OACCzD,EAAA50B,EAAA60B,cAACyD,EAAA,EAAD,CAAQvD,KAAM/a,KAAK1Z,MAAMszB,QACxBgB,EAAA50B,EAAA60B,cAAC0D,EAAA,EAAD,CAAa1wB,GAAG,sBAAsByL,GACtCshB,EAAA50B,EAAA60B,cAAC2D,EAAA,EAAD,KACC5D,EAAA50B,EAAA60B,cAAC4D,EAAA,EAAD,CAAmB5wB,GAAG,4BACpByhB,GAED4O,IAEAG,GACDzD,EAAA50B,EAAA60B,cAAC6D,EAAA,EAAD,KACC9D,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ7C,QAAS9b,KAAKmZ,OAAQ0C,MAAM,WAClCsC,GAAel3B,EAAE,WAEnB2zB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ7C,QAAS9b,KAAK+d,QAASlC,MAAM,UAAU+C,WAAS,GACtDR,GAAgBn3B,EAAE,aAvD1B22B,EAAA,CAA6B1B,aAkGd5R,kBArBf,SAAyBhkB,GAExB,MAAO,CACN63B,aAFD73B,EAAQA,EAAM0F,QAEM+xB,QAAQ1qB,KAAK8qB,YAChCC,aAAc93B,EAAMy3B,QAAQ1qB,KAAK+qB,aACjC9kB,MAAOhT,EAAMy3B,QAAQ1qB,KAAKiG,OAAS,GACnCgW,KAAMhpB,EAAMy3B,QAAQ1qB,KAAKic,MAAQ,GACjCyO,QAASz3B,EAAMy3B,QAAQc,UACvB1F,OAAQ7yB,EAAMy3B,QAAQe,SACtBd,QAAS13B,EAAMy3B,QAAQnE,SAAU,EACjCmF,SAAUz4B,EAAMy3B,QAAQgB,SACxBV,aAAc/3B,EAAMy3B,QAAQM,eAI9B,SAA4BlC,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIxB7R,CAGbgT,EAAUM,2HC9GCoB,GAAsB,SAAA9C,GAAa,IACzCqB,EADyC,SAAA0B,GAAA,SAAA1B,IAAA,IAAA2B,EAAA1X,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAud,GAAA,QAAA4B,EAAAl5B,UAAAC,OAAAoJ,EAAA,IAAA8vB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAA/vB,EAAA+vB,GAAAp5B,UAAAo5B,GAAA,OAAA7X,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,MAAAkf,EAAA/3B,OAAAwgB,EAAA,EAAAxgB,CAAAo2B,IAAA3V,KAAA9O,MAAAomB,EAAA,CAAAlf,MAAA3G,OAAA/J,MAE9CgwB,kBAAoB,SAAA9lB,GACnB,IAAMwI,EAAqB,kBAAPxI,EAAkBA,EAAK,CAAE+lB,SAAU/lB,GAEvD,OADagO,EAAKiS,MAAM+F,QAAQC,WAAWzd,IAJEwF,EAQ9CkY,YAR8C,eAAA74B,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAQhC,SAAAO,EAAMygB,GAAN,IAAA1B,EAAAzkB,EAAAsiB,EAAA,OAAAzT,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UACb0gB,EAAMC,iBACND,EAAME,kBAFO5B,EAGWzW,EAAKiS,MAArBjgB,EAHKykB,EAGLzkB,KAAIsiB,EAHCmC,EAGDnC,UAEsB,oBAAZA,EALT,CAAAvc,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EAMN6c,IANM,OAOZtU,EAAKiS,MAAM+F,QAAQ5rB,KAAK4F,GAPZ+F,EAAAN,KAAA,gBASZuI,EAAKiS,MAAM+F,QAAQ5rB,KAAK4F,GATZ,yBAAA+F,EAAAO,SAAAZ,MARgC,gBAAAiB,GAAA,OAAAtZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAAA,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAAo2B,EAAA0B,GAAA93B,OAAA6yB,EAAA,EAAA7yB,CAAAo2B,EAAA,EAAApjB,IAAA,SAAAxJ,MAAA,WA2BrC,IAAAmvB,EAUJ9f,KAAKyZ,MARRsG,EAFOD,EAEPC,aACAvmB,EAHOsmB,EAGPtmB,GAMGrG,GATI2sB,EAIPE,MAJOF,EAKPxzB,SALOwzB,EAMPN,QANOM,EAOPG,cAPOH,EAQPhE,QARO30B,OAAAiM,GAAA,EAAAjM,CAAA24B,EAAA,+EAWFI,EAAalgB,KAAKsf,kBAAkB9lB,GAE1C,OACCohB,EAAA50B,EAAA60B,cAACqB,EAAD/0B,OAAAs2B,OAAA,CACC0C,IAAKJ,GACD5sB,EAFL,CAGCitB,KAAMF,EACNpE,QAAS9b,KAAK0f,mBA7C6BnC,EAAA,CACvB8C,IAAMnE,WAkDxBoE,EAAaC,aAAWhD,GAE9B,OAAOiD,qBAAW,SAAC/G,EAAO0G,GAAR,OACjBvF,EAAA50B,EAAA60B,cAACyF,EAADn5B,OAAAs2B,OAAA,GAAgBhE,EAAhB,CAAuBsG,aAAcI,uCCtDxBM,GAAA,SAACze,EAAM0e,GAA8B,IAAjBC,EAAiB16B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACxCs0B,EAAO,SAAAd,GAAK,OACfmB,EAAA50B,EAAA60B,cAAC+F,GAAA,EAADz5B,OAAAs2B,OAAA,CAASkD,QAASA,GAAalH,GAC7BzX,IAQH,OAJAuY,EAAKmG,YAAcA,GACnBnG,EAAOsG,KAAKtG,IACPuG,QAAU,UAERvG,GCZOkG,MACd7F,EAAA50B,EAAA60B,cAAA,SACCD,EAAA50B,EAAA60B,cAAA,QAAMnd,EAAE,0MACRkd,EAAA50B,EAAA60B,cAAA,QAAMnd,EAAE,oLAGT,WACA,yDCGKqjB,GAAS,SAAAl6B,GAST,IARLu5B,EAQKv5B,EARLu5B,KACAY,EAOKn6B,EAPLm6B,OACA9C,EAMKr3B,EANLq3B,SACAtiB,EAKK/U,EALL+U,MACAqlB,EAIKp6B,EAJLo6B,UACAC,EAGKr6B,EAHLq6B,aACArF,EAEKh1B,EAFLg1B,MACG1oB,EACEhM,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,yEACCs6B,EAAaH,GAAqB,WAAXA,EACvB9R,EAAMiS,EApBE,SAAAjS,GAMd,OALAA,GAAOA,GAAO,IAAI3V,QAAQ,mBAAoB,OAE7C2V,EAAM,KAAOA,GAGPA,EAckBkS,CAAOhB,GAAQA,EAElCiB,EAASl6B,OAAAC,GAAA,EAAAD,CAAA,CACd85B,UAAWA,GAAa,OACxBpF,MAAOA,GAAS,UAChByF,UAAW,SACPH,GAAc,CAAEI,IAAK,uBAJX,CAKdP,SACAZ,KAAMlR,EACNsS,MAAO,CAAErE,UAAW,cACjBhqB,GAEJ,OACCynB,EAAA50B,EAAA60B,cAAC4G,GAAA,EAASJ,EACRnD,GAAYtiB,EAAO,IACnBslB,GAAgBtG,EAAA50B,EAAA60B,cAAA6G,GAAA,GAAWF,MAAO,CAAE1E,SAAU,aAKrC6E,GAAiB,SAAAp6B,GAAA,IAAG64B,EAAH74B,EAAG64B,KAAMlC,EAAT32B,EAAS22B,SAAT32B,EAAmBi6B,MAAnB,OAC7B5G,EAAA50B,EAAA60B,cAAC+G,GAAD,CACCJ,MAAO,CAAEK,WAAY,QACrBZ,UAAU,SACVD,OAAO,SACPnF,MAAM,UACNqF,cAAY,EACZd,KAAMA,GAELlC,IAIY6C,MCvDFe,GAAS,SAAAxF,GAAS,IAAAyF,EAC9B,MAAO,CACNC,KAAM,CACLC,SAAU,EACVC,OAAQ,EACRC,SAAU,SACVC,SAAU,WACVnF,QAAS,OACToF,UAAW,QACXjF,MAAO,QAERkF,OAAOn7B,OAAA80B,EAAA,EAAA90B,CAAA,CACNwzB,IAAK,EACL4H,KAAM,EACNC,MAAO,EACPpF,MAAO,OACPgF,SAAU,SAET9F,EAAMmG,YAAYC,GAAG,MAAQ,CAE7BH,KAtBgB,MAyBlBI,KAAM,CACLA,KAAM,EACNC,cAAe,MACf3F,QAAS,OACTC,WAAY,UAGb2F,QAAS,CACR5F,QAAS,OACTC,WAAY,SACZ4F,UAAW,OACXC,WAAYzG,EAAMC,QAAQ,GAC1ByG,cAAe1G,EAAMC,QAAQ,GAC7B0G,eAAgB,CACfC,aAAc,IACdH,WAAYzG,EAAMC,QAAQ,GAC1ByG,cAAe1G,EAAMC,QAAQ,GAC7B4G,YAAa7G,EAAMC,QAAQ,KAG7B6G,gBAAiB,CAChBC,eAAgB,YAEjBC,aAAc,CACbD,eAAgB,cAEjBE,YAAYp8B,OAAA80B,EAAA,EAAA90B,CAAA,CACX61B,YAAa,IACZV,EAAMmG,YAAYC,GAAG,MAAQ,CAC7BzF,QAAS,SAGXuG,QAAQr8B,OAAAC,GAAA,EAAAD,CAAA,CACPs8B,SAAU,OACVC,OAAQ,KACLpH,EAAMqH,OAAOH,SAEjBI,aAAW7B,EAAA,CACV3E,MA/DiB,KA8DPj2B,OAAA80B,EAAA,EAAA90B,CAAA46B,EAETzF,EAAMmG,YAAYC,GAAG,MAAQ,CAC7BN,SAAU,UAHDj7B,OAAA80B,EAAA,EAAA90B,CAAA46B,EAAA,kBAKO,QALPA,GAOX8B,QAAQ18B,OAAA80B,EAAA,EAAA90B,CAAA,CACP86B,SAAU,EACVxmB,gBAAiB6gB,EAAMwH,QAAQC,WAAWC,QAC1CC,QAAS3H,EAAMC,QAAQ,GACvBwG,WAAYzG,EAAMC,QAAQ,GAC1B4F,SAAU,QACT7F,EAAMmG,YAAYC,GAAG,MAAQ,CAC7BwB,WA5EgB,MA+ElBC,aAAc,CACb9G,SAAU,KACVT,OAAQ,QAETpB,KAAM,CACLkI,OAAQ,GACRtG,MAAO,2DC5EJgH,GAAY,CACjBC,WAAY,EACZC,UAAW,EACXC,EAAK,aACLC,EAAK,aAGAC,GAAe,SAACC,EAAItoB,GACzBuoB,YAAQ/wB,aAAI,cAAAyF,OAAe+qB,GAAUhoB,EAAQ,QAGxCwoB,GAAYC,aAAW,SAAAvI,GAC5B,IAAMwI,EAAc,SAAAj+B,GAAA,MACV,eADUA,EAAGmG,KAEnBsvB,EAAMwH,QAAQiB,UAAUC,KACxB1I,EAAMwH,QAAQmB,UAAUD,MAM5B,MAAO,CAENhD,KAAM,CACLkD,SAAU,GACVC,aAAc,CACbtJ,MAAOiJ,IAGTM,SAAU,CACTvJ,MAAOiJ,EACPrpB,gBAdoB,SAAAlU,GAAA,MACZ,eADYA,EAAGyF,KAErBsvB,EAAMwH,QAAQiB,UAAUM,MACxB/I,EAAMwH,QAAQmB,UAAUI,OAY1BF,aAAc,CACbtJ,MAAOiJ,IAGTQ,UAAW,CACV7pB,gBAAiBqpB,MA2BLS,GAtBI,SAAA79B,GAAyB,IAAtBsF,EAAsBtF,EAAtBsF,KAAMsuB,EAAgB5zB,EAAhB4zB,UACrBhB,EAAUsK,GAAU,CAAE53B,SAC5B,OACC4tB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWA,GACfV,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKC,QAAQ,mBAAmBC,UAAW,GAC1C9K,EAAA50B,EAAA60B,cAAC8K,GAAA,EAAD,CACCrL,QAASA,EACT3pB,MAAOyzB,GAAUp3B,GACjB44B,SAAUnB,GACVoB,eAAe,UACfC,UAAU,UACVC,QAAQ,YACRnK,aAAW,eAEXhB,EAAA50B,EAAA60B,cAACmL,GAAA,EAAD,CAAK1L,QAASA,EAAS1e,MAAO3U,aAAE,gBAChC2zB,EAAA50B,EAAA60B,cAACmL,GAAA,EAAD,CAAK1L,QAASA,EAAS1e,MAAO3U,aAAE,mBC/DtBw5B,MACd7F,EAAA50B,EAAA60B,cAAA,SACCD,EAAA50B,EAAA60B,cAAA,QACCoL,KAAK,kBACLvoB,EAAE,mdAEHkd,EAAA50B,EAAA60B,cAAA,QACCoL,KAAK,oBACLvoB,EAAE,uMAEHkd,EAAA50B,EAAA60B,cAAA,QACCoL,KAAK,kBACLvoB,EAAE,wgDAGJ,WACA,qJChBYwoB,GAAe,SAAAr/B,GAAA,IAAGy0B,EAAHz0B,EAAGy0B,UAAH6K,EAAAt/B,EAAcg1B,aAAd,IAAAsK,EAAsB,UAAtBA,EAAA,OAC3BvL,EAAA50B,EAAA60B,cAAAuL,GAAA,GAAgB9K,UAAWA,EAAWO,MAAOA,KAGjCwK,GAAiB,SAAA9+B,GAAA,IAAG++B,EAAH/+B,EAAG++B,QAASpI,EAAZ32B,EAAY22B,SAAZ,OAC7BtD,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKvI,QAAQ,OAAO0F,KAAK,IAAIzF,WAAW,UACvCtC,EAAA50B,EAAA60B,cAAA2K,GAAA,OAAMtH,GACNtD,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKe,GAAI,EAAGC,GAAI,GACdF,GAAW1L,EAAA50B,EAAA60B,cAAA4L,GAAA,WCsBTC,GAAa1H,GAAoB2H,MAC/BC,GAAuB34B,gCAEzB22B,GAAYC,aAAW,SAAAvI,GAC5B,IAKMuK,EAAgB,SAAAt/B,GAAA,MACZ,eADYA,EAAGyF,KAErBsvB,EAAMwH,QAAQiB,UAAUC,KACxB1I,EAAMwH,QAAQmB,UAAUD,MAO5B,MAAO,CACN8B,WAAY,CACXrrB,gBAAiB6gB,EAAMwH,QAAQC,WAAWgD,OAE3CC,WAAY,CACXjE,WAAY,GAEbkE,YAAa,CACZpL,MAAOS,EAAMwH,QAAQxU,KAAK4X,UAC1BjK,QAAS,OACT2F,cAAe,SACfS,eAAgB,iBAEjB8D,QAAS,CACR/E,SAAU,WACVzH,IAAK,EACL4H,KAAM,EACNC,MAAO,EACP4E,OAAQ,GACRC,UAAW,OACXC,UAAW,UAEZC,eAAgB,GAChBC,QAAS,CACRpF,SAAU,WACVgF,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACPyB,QAAS,GACTd,YAAa,GACbsE,eAAgB,EAChBC,eAAgBpL,EAAMwH,QAAQ6D,QAC9BC,eAAgB,SAEjBhO,OAAQ,CACPiC,MAlDkB,SAAAh1B,GAAA,MACV,eADUA,EAAGmG,KAEnBsvB,EAAMwH,QAAQiB,UAAU8C,aACxBvL,EAAMwH,QAAQmB,UAAU4C,cAgD1BpsB,gBAAiBorB,EACjBiB,UAAW,CACVrsB,gBAAiBorB,GAElBkB,UAAW,CACVtsB,gBA9CwB,SAAA/T,GAAA,MACjB,eADiBA,EAAGsF,KAE1BsvB,EAAMwH,QAAQiB,UAAUM,MACxB/I,EAAMwH,QAAQmB,UAAUI,OA4CzBxJ,MAAOS,EAAMwH,QAAQxU,KAAK4X,YAG5Bc,QAAS,CACRnM,MAAOS,EAAMwH,QAAQxU,KAAK2Y,KAC1BF,UAAW,CACVlM,MAAOS,EAAMwH,QAAQxU,KAAK4X,YAG5BgB,WAAY,CACXC,aAAY,GAAA9uB,OAAKijB,EAAMC,QAAQ,GAAnB,UAKT6L,GAAkBvD,aAAW/C,IAyLpBuG,OAvLf,SAAiB5O,GAChB,IAAMzsB,EAAOwwB,YAAYzwB,MACnBpE,EAAW60B,YAAYh0B,KACvB8wB,EAAUsK,GAAU,CAAE53B,SACtBs7B,EAAgBF,KAChBG,EAAiB/K,YAAYpxB,MAC3B0P,EAAW0hB,YAAY51B,MAAvBkU,OAGFxP,EAAWi8B,EAAehJ,SAASr2B,MAAM,KAAK,GAE9CqN,EADwB,eAATvJ,EACQ,QAAU,QAC/B6W,EAAsC2Z,YAC7CtzB,KADO2Z,kCAIR,MAAgB,eAAT7W,GAAkC,cAATA,EAAuB,KACtD4tB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQwM,YACvBlM,EAAA50B,EAAA60B,cAAC2N,GAAA,EAAD,CACClO,QAAS,CACR2J,QAAS3J,EAAQ0M,WACjBhF,KAAM1H,EAAQ2M,aAEf3L,UAAWhB,EAAQ6M,QACnBsB,UAAU,OAEV7N,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCC,QAAQ,mBACRnK,UAAWC,IACV+M,EAAc9E,QACdlJ,EAAQiN,iBAGT3M,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,KACC/L,EAAA50B,EAAA60B,cAAC6N,GAAD,CAAapN,UAAWgN,EAAc9M,QAEvCZ,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,KACC/L,EAAA50B,EAAA60B,cAAC8N,GAAD,CACCrC,SACEziB,GACqC,IAAtCA,GAGD+W,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,KACChO,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,KAAK0C,UAAU,MAAM5M,MAAM,eAC9CjB,EAAA50B,EAAA60B,cAAA,iBAAAxhB,OAAYwK,GACX,EADD,KAAAxK,OACMyC,KAEP8e,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,SAAS9I,QAAQ,QAAQ6L,cAAY,GACvD7hC,aAAE,yBAMR2zB,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,MACAnO,EAAA50B,EAAA60B,cAACmO,GAAD,CAAY1N,UAAWhB,EAAQ4N,WAAYl7B,KAAMA,EAAM/F,EAAGA,OAC1D2zB,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,MACAnO,EAAA50B,EAAA60B,cAAC6L,GAAD,CACCuC,QAAM,EACNzvB,GAAI,CAAE+lB,SAAU,cAAgBvyB,GAChCsuB,UAAWC,IAAWp0B,OAAA80B,EAAA,EAAA90B,CAAA,GAAGmzB,EAAQV,QAAUttB,KAE3CsuB,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAACsO,GAAAnjC,EAAD,OAED40B,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,aAAE,gBAE1B2zB,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,MACU,eAAT/7B,GACA4tB,EAAA50B,EAAA60B,cAAAD,EAAA50B,EAAAqjC,SAAA,KACCzO,EAAA50B,EAAA60B,cAAC6L,GAAD,CACCuC,QAAM,EACNzvB,GAAI,CAAE+lB,SAAU,mCAChBjE,UAAWC,IAAWp0B,OAAA80B,EAAA,EAAA90B,CAAA,GACpBmzB,EAAQV,OAAsB,cAAbttB,KAGnBsuB,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAACyO,GAAD,OAED1O,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,aAAE,gBAE1B2zB,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,OAGFnO,EAAA50B,EAAA60B,cAAC6L,GAAD,CACCuC,QAAM,EACNzvB,GAAI,CAAE+lB,SAAU,cAAgBvyB,EAAO,IAAMuJ,GAC7C+kB,UAAWC,IAAWp0B,OAAA80B,EAAA,EAAA90B,CAAA,GAAGmzB,EAAQV,OAASttB,IAAaiK,KAEvDqkB,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAAC0O,GAAAvjC,EAAD,OAED40B,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,aAAEsP,EAAMizB,kBAEhC5O,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,OAEDnO,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAC4O,GAAD,CAAQzI,OAAO,SAASZ,KAAI,GAAA/mB,OAAKpL,uCAChC2sB,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAAC6O,GAAA1jC,EAAD,OAED40B,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,aAAE,YAI3B2zB,EAAA50B,EAAA60B,cAAC4O,GAAD,CAAQzI,OAAO,SAASZ,KAAI,GAAA/mB,OAAKutB,GAAqBj+B,IACrDiyB,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAAC8O,GAAA3jC,EAAD,OAED40B,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,aAAE,oBAI3B2zB,EAAA50B,EAAA60B,cAAC6L,GAAD,CACCuC,QAAM,EACNzvB,GAAI,CAAE+lB,SAAU,cAAgBvyB,EAAO,YACvCsuB,UAAWC,IAAWp0B,OAAA80B,EAAA,EAAA90B,CAAA,GACpBmzB,EAAQV,OAAsB,YAAbttB,KAGnBsuB,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAAC+O,GAAA5jC,EAAD,OAED40B,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,aAAE,gBAI5B2zB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQkN,SACvB5M,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ0N,SACvBpN,EAAA50B,EAAA60B,cAAA,aACE,IADF,SAES,IAAIjL,MAAOia,cAFpB,QAGCjP,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAMnyB,6BAHP,wBASF2sB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,aACCD,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAMnyB,2EAHP,qBAQD2sB,EAAA50B,EAAA60B,cAAA,oBACAD,EAAA50B,EAAA60B,cAAA,aACCD,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAMnyB,2EAHP,cASF2sB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,aACCD,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAK,wEAHN,KAKI0J,GAAYtC,QALhB,wBCpRAuC,GAAU,SAAAljC,GAAa,IAAVmjC,EAAUnjC,EAAVmjC,IAClB,OACCpP,EAAA50B,EAAA60B,cAAA,OACCmP,IAAKA,EACLtG,OAAQ,GACRtG,MAAM,OACN6M,IAAI,OACJzI,MAAO,CAAExE,YAAa,MAkEVkN,OA7Df,SAAA3iC,GAA+E,IAAzD22B,EAAyD32B,EAAzD22B,SAAUiM,EAA+C5iC,EAA/C4iC,SAAUvuB,EAAqCrU,EAArCqU,MAAOwuB,EAA8B7iC,EAA9B6iC,UAAWC,EAAmB9iC,EAAnB8iC,YAAax8B,EAAMtG,EAANsG,GAAMy8B,EAClDC,oBAAS,GADyCC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GACvE1Q,EADuE4Q,EAAA,GAC/DC,EAD+DD,EAAA,GAAAE,EAE9CH,mBAAS,MAFqCI,EAAAxjC,OAAA4J,GAAA,EAAA5J,CAAAujC,EAAA,GAEvEE,EAFuED,EAAA,GAE7DE,EAF6DF,EAAA,GAGxE5P,EAAO+P,QAAQF,GAefG,EAAWV,EAAczP,EAAA50B,EAAA60B,cAACmQ,GAAD,CAAShB,IAAKK,IAAkB,KAE/D,OACCzP,EAAA50B,EAAA60B,cAAAD,EAAA50B,EAAAqjC,SAAA,KACCzO,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC6C,MAAO2I,EACPrO,QAdgB,SAAA6D,GAClBkL,EAAYlL,EAAMsL,gBAchBC,YAAWr9B,EACXs9B,gBAAc,QAEbJ,EACDnQ,EAAA50B,EAAA60B,cAAA,QACC2G,MAAO,CACNnE,SAAU,IACV8E,SAAU,SACViJ,aAAc,aAGdxvB,GAEDwuB,GAEFxP,EAAA50B,EAAA60B,cAACwQ,GAAA,EAAD,CACCx9B,GAAIA,EACJktB,KAAMA,EACN6P,SAAUA,EASV9O,QA/CuB,WACzB2O,GAAW7Q,GACXiR,EAAY,OA8CV3P,QAvCiB,WACnB2P,EAAY,QAwCT3M,uHCjEQoN,GAAc,SAAAziC,GAC1B,OAAQA,GACP,KAAKujB,KAAWC,SAASpU,KACxB,OAAOszB,KACR,KAAKnf,KAAWI,OAAOvU,KACtB,OAAOuzB,KACR,KAAKpf,KAAWE,OAAOrU,KACtB,OAAOwzB,KACR,KAAKrf,KAAWsf,KAAKzzB,KACpB,OAAO0zB,KACR,QACC,MAAO,qHCYJC,GAAa5M,GAAoB6M,MACjCjH,GAAYC,aAAW/C,IA6FdxE,SA3Ff,SAAAz2B,GAAiD,IAA/BilC,EAA+BjlC,EAA/BilC,mBAAoB9+B,EAAWnG,EAAXmG,KAAM/F,EAAKJ,EAALI,EACrCqzB,EAAUsK,KACV93B,EAAW0wB,YAAY5wB,MACvBtE,EAAUk1B,YAAYn1B,KACtB0jC,EAAST,GAAYhjC,EAAQI,OAAOG,UACpCmjC,EACuB,SAA5B1jC,EAAQI,OAAOG,SACZ5B,EAAE,aACFqB,EAAQU,OACRijC,aAAc3jC,EAAQI,OAAOrB,UAC7BJ,EAAE,cAEN,OACC2zB,EAAA50B,EAAA60B,cAACqR,GAAA,EAAD,CAAQ5Q,UAAWhB,EAAQgI,OAAQzG,MAAM,UAAUuG,SAAS,UAC3DxH,EAAA50B,EAAA60B,cAACsR,GAAA,EAAD,CAAS7Q,UAAWhB,EAAQkJ,SAC3B5I,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQuI,SACvBjI,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CACCE,MAAM,UACND,aAAW,cACXE,QAASgQ,EACTxQ,UAAWC,IAAWjB,EAAQiJ,cAE9B3I,EAAA50B,EAAA60B,cAACuR,GAAApmC,EAAD,OAMD40B,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWC,IAAWjB,EAAQqI,KAAMrI,EAAQ8I,kBAIhDxI,EAAA50B,EAAA60B,cAACwR,GAAArmC,EAAD,CACCsmC,SAAU,GACVC,KAAMC,8BAAmBlkC,EAAQI,OAAOrB,WAEzCuzB,EAAA50B,EAAA60B,cAAC4R,GAAD,CACC5+B,GAAG,cACHw8B,YAAa0B,EACb3B,UAAWxP,EAAA50B,EAAA60B,cAAC6R,GAAA1mC,EAAD,MACX4V,MAAOowB,EACPpS,QAAQ,GAERgB,EAAA50B,EAAA60B,cAAC+Q,GAAD,CACCj7B,MAAM,UACN6I,GAAI,CAAE+lB,SAAU,cAAgBvyB,EAAO,YACvC2/B,QAAS1lC,EAAE,YAEX2zB,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAAC+O,GAAA5jC,EAAD,OAED40B,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtO,QAAS,CAAE8O,QAAS9O,EAAQ8O,SAC5BA,QAASniC,EAAE,cAIb2zB,EAAA50B,EAAA60B,cAACgR,GAAA,EAAD,CACCl7B,MAAM,SACNmrB,QAAS,WACR8Q,iBAGDhS,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAACgS,GAAA7mC,EAAD,OAED40B,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtO,QAAS,CAAE8O,QAAS9O,EAAQ8O,SAC5BA,QAASniC,EAAE,gBAMhB2zB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQuI,SACvBjI,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWC,IAAWjB,EAAQqI,KAAMrI,EAAQgJ,eAChD1I,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CACC9C,QAAQ,YACRlK,MAAM,UACNP,UAAWhB,EAAQqI,KACnBmK,QAAM,GAEL7lC,EAAE6F,0JC/FJigC,GAAoB,IACpBC,eACL,SAAAA,EAAYvT,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAgtB,IAClBxlB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA6lC,GAAAplB,KAAA5H,KAAMyZ,KAYPwT,QAAU,SAAAjD,GACT,OAAMA,GAAOz0B,eAAY23B,QAAQC,UAAUpa,KAAKiX,GACxCoD,WAAQC,wBAAwBrD,EAAK/7B,mCAGtC+7B,GAlBWxiB,EAqBnB8lB,aAAe,SAAA5I,GACdA,GAAMA,EAAG7E,iBAAmB6E,EAAG7E,kBAC/B6E,GAAMA,EAAG9E,gBAAkB8E,EAAG9E,iBAC9B,IAAIhG,EAASpS,EAAKlhB,MAAMszB,OACxBpS,EAAKmS,SAAS,CAAEC,QAASA,KAzBPpS,EAqDnB+lB,0BAA4B,SAAAtT,GAC3B,IAAMuT,EAAUhmB,EAAKylB,QAAQhT,EAAU+P,KACjCyD,EAAUjmB,EAAKylB,QAAQzlB,EAAKiS,MAAMuQ,KAClC0D,EAAelmB,EAAKylB,QAAQhT,EAAU0T,aACpC91B,EAAcoiB,EAAdpiB,UAEJ21B,IAAYC,MACG51B,GAAa+1B,aAAa/1B,IAG3C2P,EAAKqmB,aAAermB,EAAKqmB,cAAgBC,SAASjT,cAAc,SAChErT,EAAKumB,gBAAgB,CACpBC,MAAOxmB,EAAKylB,QAAQO,GACpBS,SAAUzmB,EAAKylB,QAAQS,IAAiBQ,SAGzC1mB,EAAK2mB,aAAe3mB,EAAK2mB,cAAgB,IAAIC,MAC7C5mB,EAAK6mB,gBAAgB,CACpBL,MAAOxmB,EAAKylB,QAAQO,GACpBS,SAAUzmB,EAAKylB,QAAQS,IAAiBQ,UAxEzB1mB,EAwFnB8mB,iBAAmB,WACd9mB,EAAK+mB,cACRC,aAAahnB,EAAK+mB,aAClB/mB,EAAK+mB,YAAc,OA3FF/mB,EA+FnBinB,OAAS,SAAAR,GACJzmB,EAAK2mB,eACR3mB,EAAK2mB,aAAaO,QAAU,KAC5BlnB,EAAK2mB,aAAaQ,OAAS,KAC3BnnB,EAAK2mB,aAAaS,QAAU,KAE5BpnB,EAAK8mB,mBACL9mB,EAAK2mB,aAAanE,IAAMiE,GAGzBzmB,EAAK8mB,mBAEL9mB,EAAKmS,SAAS,CACboS,OAAQkC,GAAY,QA5GHzmB,EAgHnB6mB,gBAAkB,SAAAxnC,GAAyB,IAAtBmnC,EAAsBnnC,EAAtBmnC,MAAOC,EAAepnC,EAAfonC,SAC3BzmB,EAAK+mB,YAAc7b,WAAW,WAC7BlL,EAAKinB,OAAOR,IACVlB,IAEHvlB,EAAK2mB,aAAaO,QAAUlnB,EAAK2mB,aAAaS,QAAUpnB,EAAKinB,OAAO5Q,KAAZ12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,GAEvDymB,GAGDzmB,EAAK2mB,aAAaQ,OAAS,WAC1BnnB,EAAK8mB,mBACL9mB,EAAKmS,SAAS,CACboS,OAAQiC,KAIVxmB,EAAK2mB,aAAanE,IAAMgE,GAjINxmB,EAoInBumB,gBAAkB,SAAAxmC,GAAyB,IAAtBymC,EAAsBzmC,EAAtBymC,MAAOC,EAAe1mC,EAAf0mC,SAC3BzmB,EAAKqmB,aAAa7D,IAAMgE,EAExBxmB,EAAK+mB,YAAc7b,WAAW,WAC7BlL,EAAKinB,OAAOR,IACVlB,IAEHvlB,EAAKqmB,aAAagB,iBAAmB,SAAAnnC,GAAgBA,EAAbs5B,OACvCxZ,EAAK8mB,mBACL9mB,EAAKmS,SAAS,CACbmV,SAAUd,MA5IZxmB,EAAKlhB,MAAQ,CACZylC,OAAQ,KACRnS,QAAQ,EACRkV,SAAU,MAGXtnB,EAAK6mB,gBAAkB7mB,EAAK6mB,gBAAgBxQ,KAArB12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IACvBA,EAAKumB,gBAAkBvmB,EAAKumB,gBAAgBlQ,KAArB12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IACvBA,EAAK+mB,YAAc,KAVD/mB,mFA4BC,IAAAyW,EACiCje,KAAKyZ,MAAjDuQ,EADW/L,EACX+L,IAAK2D,EADM1P,EACN0P,YAAa91B,EADPomB,EACOpmB,UAAWk3B,EADlB9Q,EACkB8Q,WAC/BC,IAAYn3B,GAAa+1B,aAAa/1B,GAE5C,GAAIm3B,IAAYD,EACf,OAAO/uB,KAAK2Z,SAAS,CACpBoS,OAAQkD,OAIND,GACHhvB,KAAK6tB,aAAeC,SAASjT,cAAc,SAC3C7a,KAAK+tB,gBAAgB,CACpBC,MAAOhuB,KAAKitB,QAAQjD,GACpBiE,SAAUjuB,KAAKitB,QAAQU,IAAgBO,SAGxCluB,KAAKmuB,aAAe,IAAIC,MACxBpuB,KAAKquB,gBAAgB,CACpBL,MAAOhuB,KAAKitB,QAAQjD,GACpBiE,SAAUjuB,KAAKitB,QAAQU,IAAgBO,uDA+BzCluB,KAAKsuB,mBACDtuB,KAAKmuB,eACRnuB,KAAKmuB,aAAaO,QAAU,KAC5B1uB,KAAKmuB,aAAaQ,OAAS,KAC3B3uB,KAAKmuB,aAAaS,QAAU,KAC5B5uB,KAAKmuB,aAAe,8CA+DN,IAAA9T,EAAAra,KACPsa,EAAYta,KAAKyZ,MAAjBa,QACR,OACCM,EAAA50B,EAAA60B,cAAA,YACCD,EAAA50B,EAAA60B,cAACqU,GAAA,EAAD,CACCC,MAAI,EACJtT,MAAM,UACNP,UAAWC,IAAWjB,EAAQ8U,gBAC9BtT,QAAS,WACRzB,EAAKiT,iBAGN1S,EAAA50B,EAAA60B,cAACwU,GAAArpC,EAAD,OAEAga,KAAKsvB,2EAKgB,IAAAxP,EACU9f,KAAKyZ,MAA/BxyB,EADgB64B,EAChB74B,EAAGgjC,EADanK,EACbmK,IAAK3P,EADQwF,EACRxF,QAASnqB,EADD2vB,EACC3vB,KADDo/B,EAEavvB,KAAK1Z,MAAlCszB,EAFgB2V,EAEhB3V,OAAQmS,EAFQwD,EAERxD,OAAQ+C,EAFAS,EAEAT,SAExB,OACClU,EAAA50B,EAAA60B,cAACyD,EAAA,EAAD,CACCvD,KAAMnB,EACNzpB,KAAMA,GAAQ,SACdktB,UAAU,EACVnC,QAASlb,KAAKstB,aACdhT,QAAS,CAAEyM,MAAOzM,EAAQkV,SAE1B5U,EAAA50B,EAAA60B,cAAC2D,EAAA,EAAD,CAAelD,UAAWhB,EAAQmV,mBAChC1D,EACAnR,EAAA50B,EAAA60B,cAAA,OACCoP,IAAKA,EACLD,IAAK+B,EACLzK,UAAU,QACVhG,UAAWC,IAAWjB,EAAQoV,YAAapV,EAAQqV,YACnDC,YAAa,SAAAjQ,GAAK,OAAIA,EAAMC,oBAG7BhF,EAAA50B,EAAA60B,cAAA,SACCmP,IAAK8E,EACLe,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJC,UAAQ,EACR1U,UAAWC,IAAWjB,EAAQoV,YAAapV,EAAQqV,eAItD/U,EAAA50B,EAAA60B,cAAC6D,EAAA,EAAD,KACC9D,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ7C,QAAS9b,KAAKstB,aAAczR,MAAM,WACxC50B,EAAE,6CAOC,IAAAgpC,EAOJjwB,KAAKyZ,MALRwQ,EAFOgG,EAEPhG,IACAiG,EAHOD,EAGPC,gBACA5U,EAJO2U,EAIP3U,UACAhB,EALO2V,EAKP3V,QACA6V,EANOF,EAMPE,kBANOC,EAQqBpwB,KAAK1Z,MAA1BylC,EARAqE,EAQArE,OAAQ+C,EARRsB,EAQQtB,SAChB,OAAO/C,GAAU+C,EAChBlU,EAAA50B,EAAA60B,cAAA,OACCS,UAAWC,IAAWjB,EAAQ+V,UAAW/U,EAAWhB,EAAQgW,UAEzDvE,EACFnR,EAAA50B,EAAA60B,cAAA,OACCoP,IAAKA,EACLD,IAAKhqB,KAAK1Z,MAAMylC,OAChBzK,UAAU,QACVhG,UAAWC,IAAWjB,EAAQqV,WAAYrU,EAAWhB,EAAQiW,KAC7DX,YAAa,SAAAjQ,GAAK,OAAIA,EAAMC,kBAC5B9D,QAASqU,GAAqBnwB,KAAKstB,eAGpC1S,EAAA50B,EAAA60B,cAAA,SACCmP,IAAK8E,EACLxT,UAAWC,IAAWjB,EAAQqV,WAAYrU,EAAWhB,EAAQiW,KAC7DV,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJjU,QAASqU,GAAqBnwB,KAAKstB,eAGpC4C,GAAmBlwB,KAAKwwB,gBACxBL,GAAqBnwB,KAAKsvB,0BAG5B1U,EAAA50B,EAAA60B,cAAA,QAAMS,UAAWC,IAAWjB,EAAQqV,WAAYrU,IAC/CV,EAAA50B,EAAA60B,cAAA,QAAMS,UAAWhB,EAAQmW,UACxB7V,EAAA50B,EAAA60B,cAAC4L,GAAA,EAAD,eAtPavK,aAsQHoB,KAAUjB,YC1RH,SAAAC,GAAK,MAAK,CAC/BqT,WAAY,CACXhV,IAAK,EACL4H,KAAM,EACNnF,MAAO,OACPsG,OAAQ,OACRtB,SAAU,WACVnF,QAAS,gBAEVoT,UAAW,CACV1V,IAAK,EACL4H,KAAM,EACNnF,MAAO,OACPsG,OAAQ,cACRtB,SAAU,WACVnF,QAAS,gBAEVwT,SAAU,CACTrO,SAAU,WACVzH,IAAK,mBACL4H,KAAM,mBACNtF,QAAS,gBAEVmS,eAAgB,CACfhN,SAAU,WACVzH,IAAK2B,EAAMC,QAAQ,GACnBiG,MAAOlG,EAAMC,QAAQ,GACrBmU,OAAQ,UACRtT,MAAO,OACPsG,OAAQ,OACRrB,UAAW,QAEZmN,OAAQ,CACPmB,0BAA2B,CAC1BzL,SAAQ,gBAAA7rB,OAAkBijB,EAAMC,QAAQ,GAAhC,QAETqU,2BAA4B,CAC3BvO,UAAW,SAGboN,kBAAmB,CAClBoB,2BAA4B,CAC3BxT,SAAU,OACVyT,UAAW,QACX7T,QAAS,QACTL,OAAQ,QAET+T,0BAA2B,CAC1BxN,YAAa,EACbD,aAAc,IAGhBwM,YAAa,CACZhM,OAAQ,OACRrG,SAAU,QAEXkT,IAAK,CACJnT,MAAO,OACPsG,OAAQ,QAET4M,QAAS,CACR5M,OAAQ,cACRtG,MAAO,iBD4NgBf,CAAmB2Q,oCErR/B+D,GAAmB,SAAAlqC,GAA2C,IAAxCmqC,EAAwCnqC,EAAxCmqC,OAAQC,EAAgCpqC,EAAhCoqC,UAAWC,EAAqBrqC,EAArBqqC,SAAUC,EAAWtqC,EAAXsqC,KAEzDC,EAAatD,SAASjT,cAAc,UACpCwW,EAAcvD,SAASjT,cAAc,UAErC0V,EAAM,IAAInC,MAKhB,OAJAmC,EAAIe,YAAc,YAClBf,EAAIvG,IAAMgH,EAGH,IAAI/wB,QAAQ,SAACC,EAASuS,GAC5B8d,EAAI5B,OAAS,WACZ,IAAMvR,EAAQmT,EAAInT,MACZsG,EAAS6M,EAAI7M,OAGb6N,EAAO,CACZC,EAAG54B,KAAK64B,MAAMrU,GAAS6T,EAAUO,EAAI,MACrCE,EAAG94B,KAAK64B,MAAM/N,GAAUuN,EAAUS,EAAI,MACtCtU,MAAOxkB,KAAK64B,MAAMrU,GAAS6T,EAAU7T,MAAQ,MAC7CsG,OAAQ9qB,KAAK64B,MAAM/N,GAAUuN,EAAUvN,OAAS,OAGjD0N,EAAWhU,MAAQmU,EAAKnU,MACxBgU,EAAW1N,OAAS6N,EAAK7N,OACZ0N,EAAWO,WAAW,MAE9BC,UACJrB,EACAgB,EAAKC,EACLD,EAAKG,EACLH,EAAKnU,MACLmU,EAAK7N,OACL,EACA,EACA6N,EAAKnU,MACLmU,EAAK7N,QAGN2N,EAAYjU,MAAQ+T,EAAK/T,MACzBiU,EAAY3N,OAASyN,EAAKzN,OAEb2N,EAAYM,WAAW,MAE/BC,UACJR,EACA,EACA,EACAG,EAAKnU,MACLmU,EAAK7N,OACL,EACA,EACAyN,EAAK/T,MACL+T,EAAKzN,QAGN2N,EAAYQ,OAAO,SAAAC,GACbA,GACJrf,EAAO,uBAERqf,EAAK75B,KAAOi5B,EACZhxB,EAAQ6xB,IAAIC,gBAAgBF,KAC1B,sGC9CAG,eACL,SAAAA,EAAYxY,GAAO,IAAAjS,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAiyB,IAClBzqB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA8qC,GAAArqB,KAAA5H,KAAMyZ,KAaPyY,OAAS,SAACC,EAAeC,GACxB,IAAMC,EAAIlrC,OAAA22B,EAAA,EAAA32B,CAAAqgB,GACJsqB,EAAOK,EAAc,GAC3B,GAAKL,EAAL,CACA,IAAMQ,EAAYP,IAAIC,gBAAgBF,GAEtCO,EAAK1Y,SAAS,CACboS,OAAQuG,EACRC,QAAST,EAAK75B,KACdu6B,KAAMV,EAAK3hC,OAGZqX,EAAKiS,MAAMmM,SAAS,CACnB6M,QAASH,EACTE,KAAMV,EAAK3hC,SA5BMqX,EAgCnBkrB,SAAW,SAAAlgC,GACVgV,EAAKmrB,gBAAgBngC,GADN,IAGPu5B,EAAWvkB,EAAKlhB,MAAhBylC,OAEJA,IACHgG,IAAIa,gBAAgB7G,GACpBvkB,EAAKmS,SAAS,CAAEoS,OAAQ,GAAIwG,QAAS,KACrC/qB,EAAKiS,MAAMmM,SAAS,CAAE6M,QAAS,KAAMD,KAAM,SAxC1BhrB,EA4CnBqrB,aAAe,SAAAtB,GACd/pB,EAAKmS,SAAS,CAAE4X,UA7CE/pB,EAgDnBsrB,YAAc,WAAM,IAAAvD,EACqB/nB,EAAKlhB,MAArCylC,EADWwD,EACXxD,OAAQwF,EADGhC,EACHgC,KAAMiB,EADHjD,EACGiD,KAAMD,EADThD,EACSgD,QADTtU,EAEQzW,EAAKiS,MAAxBmM,EAFW3H,EAEX2H,SAAUuL,EAFClT,EAEDkT,KAClBJ,GAAiB,CAChBC,OAAQjF,EACRkF,UAAWM,EACXL,SAAQ,WAAA73B,OAAak5B,GACrBpB,SACE3tB,KAAK,SAAAuvB,GACPhB,IAAIa,gBAAgB7G,GACpBvkB,EAAKmS,SAAS,CAAEoS,OAAQgH,EAAaC,UAAU,IAC/CpN,EAAS,CACR6M,QAASM,EACTP,YA7DgBhrB,EAkEnBmrB,gBAAkB,SAAAngC,GACbA,EAAEqtB,iBACLrtB,EAAEqtB,kBAECrtB,EAAEygC,aACLzgC,EAAEygC,YAAYC,4BAvEG1rB,EA2EnB2rB,WAAa,WAAM,IAAArT,EACmBtY,EAAKiS,MAAlCxyB,EADU64B,EACV74B,EAAGqzB,EADOwF,EACPxF,QAAS6W,EADFrR,EACEqR,KAAMiC,EADRtT,EACQsT,OADRhD,EAEO5oB,EAAKlhB,MAAtBylC,EAFUqE,EAEVrE,OAAQyG,EAFEpC,EAEFoC,KAChB,OACC5X,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ+Y,YACtBtH,IAAW6B,aAAa4E,GACxB5X,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQgZ,iBAEpBnC,GACFvW,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRlK,MAAM,UACNC,QAAS,SAAAtpB,GACRgV,EAAKmrB,gBAAgBngC,GACrBgV,EAAKmS,SAAS,CAAEqZ,UAAU,KAE3B1X,UAAWhB,EAAQiZ,aAEnB3Y,EAAA50B,EAAA60B,cAAC2Y,GAAAxtC,EAAD,CAAUs1B,UAAWhB,EAAQyQ,WAC5B9jC,EAAE,kBAbN,OAiBC2zB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRjK,QAAStU,EAAKkrB,SACdpX,UAAWhB,EAAQiZ,aAEnB3Y,EAAA50B,EAAA60B,cAAC4Y,GAAAztC,EAAD,CAAWs1B,UAAWhB,EAAQyQ,WAC7B9jC,EAAE,oBAIL2zB,EAAA50B,EAAA60B,cAAC6Y,GAAA1tC,EAAD,MAED40B,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,gBAAQ5zB,EAAE,2BAAV,MAED2zB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,0CAEDD,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYvN,UAAWhB,EAAQ8Y,OAAQvX,MAAM,SAC3CuX,MAtHa,IAEVjC,EAAuB1X,EAAvB0X,KAAMpF,EAAiBtS,EAAjBsS,OAAQyG,EAAS/Y,EAAT+Y,KAChBmB,EAASxC,EAAOA,EAAK/T,MAAQ+T,EAAKzN,YAASv9B,EAH/B,OAKlBqhB,EAAKlhB,MAAQ,CACZylC,OAAQA,GAAU,GAClByG,KAAMA,GAAQ,GACdD,QAAS,GACTS,UAAU,EACVzB,KAAM,CAAEoC,OAAQA,IAVCnsB,wEA8HV,IAAA6S,EAAAra,KAAAiwB,EACsCjwB,KAAKyZ,MAA3CxyB,EADAgpC,EACAhpC,EAAGqzB,EADH2V,EACG3V,QAAS1e,EADZq0B,EACYr0B,MAAOg4B,EADnB3D,EACmB2D,eADnBC,EAE0C7zB,KAAK1Z,MAA/CirC,EAFAsC,EAEAtC,KAAMyB,EAFNa,EAEMb,SAAUT,EAFhBsB,EAEgBtB,QAASxG,EAFzB8H,EAEyB9H,OAAQyG,EAFjCqB,EAEiCrB,KAEnC1D,EAAWlB,aAAa4E,GAC9B,OACC5X,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQwZ,SACvBlZ,EAAA50B,EAAA60B,cAACqR,GAAA,EAAD,CACC9J,SAAS,SACTvG,MAAM,UACNvB,QAAS,CACR0H,KAAM1H,EAAQyZ,SAGfnZ,EAAA50B,EAAA60B,cAACsR,GAAA,EAAD,KACEJ,GAAUwG,EACV3X,EAAA50B,EAAA60B,cAAA,YACEjf,GAAS,QADX,KACsB22B,GAGtB3X,EAAA50B,EAAA60B,cAAA,gBAAQjf,GAAS,eAAjB,OAIHgf,EAAA50B,EAAA60B,cAAA,WACEmY,EACApY,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ0Z,SAAUlY,QAAS9b,KAAK2yB,iBAC/C/X,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACCC,WAAS,EACT3X,QAAS,EACT4X,aAAa,SACbjX,WAAW,UAEXtC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAACyZ,GAAAtuC,EAAD,CACCw7B,MAAO,CAAEnE,SAAU,OAAQyT,UAAW,KACtCyD,WAAY,CACXlX,SAAU,OACVyT,UAAW,QACX1T,MAAO,OACPsG,OAAQ,QAETpI,UAAWhB,EAAQka,mBACnBjD,KAAMA,EACNvH,IAAK+B,GAAU,GACfnG,SAAU5lB,KAAK6yB,gBAIjBjY,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYhN,MAAM,UAAUiN,cAAY,GACtC7hC,EAAE,kBAEJ2zB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRlK,MAAM,UACNC,QAAS9b,KAAK8yB,YACd2B,UAAWlD,EAAKnU,QAAUmU,EAAK7N,OAC/BpI,UAAWhB,EAAQiZ,aAEnB3Y,EAAA50B,EAAA60B,cAAC6Z,GAAA1uC,EAAD,CAAUs1B,UAAWhB,EAAQyQ,WAC5B9jC,EAAE,uBAEJ2zB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRjK,QAAS,kBAAMzB,EAAKV,SAAS,CAAEqZ,UAAU,KACzC1X,UAAWhB,EAAQiZ,aAEnB3Y,EAAA50B,EAAA60B,cAAC4Y,GAAAztC,EAAD,CAAWs1B,UAAWhB,EAAQyQ,WAC7B9jC,EAAE,4BAMP2zB,EAAA50B,EAAA60B,cAAC8Z,GAAA,EAAD,CACC5b,OAAO,uBACPmZ,OAAQlyB,KAAKkyB,OACb5W,UAAWhB,EAAQ0Z,UAEnBpZ,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACCC,WAAS,EACT3X,QAAS,EACT4X,aAAa,SACbjX,WAAW,UAEXtC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACrBvF,EACAlU,EAAA50B,EAAA60B,cAAA,SAAOmV,UAAQ,EAAChG,IAAK+B,EAAQ57B,KAAK,cAElCyqB,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC5K,IAAK+B,EACL9B,IAAK,OACL3O,UAAWhB,EAAQka,sBAItB5Z,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAAA7a,KAAMmzB,WAAN,UAMLvY,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,iBAAS+Y,EAAT,cAxOiB1X,aAqPPoB,KAAUjB,YC1QH,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACNwX,OAAQ,CACP5L,aAAc5L,GAEfyX,SAAU,CACT/W,QAAS,OACT2F,cAAe,SACfD,KAAM,MACNe,OAAQ,OACRtG,MAAO,OACPZ,OAAM,cAAAnjB,OAAgBijB,EAAMwH,QAAQ+Q,KAAK,MACzC9Q,WAAYzH,EAAMwH,QAAQC,WAAWC,QACrCC,QAAS,GACTyM,OAAQ,UACRvO,SAAU,UAEXqS,mBAAoB,CACnB1D,UAAW,IACXzT,SAAU,OACVqG,OAAQ,OACRtG,MAAO,QAERmW,YAAa,CACZpL,aAAc5L,EACdS,YAAaT,GAEdwO,SAAU,CACT/N,YAAaT,GAEd+W,cAAe,CACdwB,UAAWvY,KD0OWF,CAAmB4V,KElQ7B,SAAS8C,GAAcxX,GAAW,IAC1CyX,EAD0C,SAAAxb,GAAA,SAAAwb,IAAA,IAAA9V,EAAA1X,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAg1B,GAAA,QAAA7V,EAAAl5B,UAAAC,OAAAoJ,EAAA,IAAA8vB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAA/vB,EAAA+vB,GAAAp5B,UAAAo5B,GAAA,OAAA7X,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,MAAAkf,EAAA/3B,OAAAwgB,EAAA,EAAAxgB,CAAA6tC,IAAAptB,KAAA9O,MAAAomB,EAAA,CAAAlf,MAAA3G,OAAA/J,MAE/C2lC,SAAW,SAAApuC,GAYL,IAXLquC,EAWKruC,EAXLquC,UACAC,EAUKtuC,EAVLsuC,YACAC,EASKvuC,EATLuuC,aACAC,EAQKxuC,EARLwuC,WACAC,EAOKzuC,EAPLyuC,YACAjiB,EAMKxsB,EANLwsB,IACAkiB,EAKK1uC,EALL0uC,MAEA3P,GAGK/+B,EAJL2uC,SAIK3uC,EAHL++B,UACA4M,EAEK3rC,EAFL2rC,KACAC,EACK5rC,EADL4rC,QAEIgD,GAAU,EAEVF,IACHE,EAAUC,aACTP,EACAE,EACAD,EACAE,KAIGC,IAAUJ,EAAcE,GAAcD,EAAeE,KACzDG,GAAU,GAGX,IAAME,EAAW,CAACR,EAAaC,EAAc,MAE7C5tB,EAAKiS,MAAMwb,SAASC,EAAW,CAC9BO,QAASA,EACT/gB,IAAK,CAAErB,IAAKA,EAAK/jB,KAAMqmC,GACvBC,OAAO,IAUgB,oBAAbhQ,GACVA,EAASsP,EARO,CAChB9X,MAAOiY,EACP3R,OAAQ4R,EACR9C,OACAC,aA1C6CjrB,EAkD/CquB,cAlD+C1uC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAkD/B,SAAAO,IAAA,IAAAxX,EAAAwtC,EAAAC,EAAAC,EAAA/hB,EAAAkiB,EAAAC,EAAA5P,EAAAjuB,EAAAw5B,EAAA7xB,EAAArZ,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAAvX,EAAA4X,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GASX,GAPH41B,EAFcxtC,EAEdwtC,UACAC,EAHcztC,EAGdytC,YACAC,EAJc1tC,EAId0tC,aACA/hB,EALc3rB,EAKd2rB,IACAkiB,EANc7tC,EAMd6tC,MACAC,EAPc9tC,EAOd8tC,SACA5P,EARcl+B,EAQdk+B,SAEDjuB,EAVe2H,EAAApZ,OAAA,EAAAoZ,EAAA,QAAAnZ,EAYVqvC,GAAa79B,EAAM86B,UAAW7M,EAZpB,CAAArmB,EAAAN,KAAA,eAaduI,EAAKiS,MAAMwb,SAASC,EAAW,CAC9BO,SAAS,EACT/gB,IAAK,CAAErB,IAAKA,EAAK/jB,KAAM,IACvBsmC,OAAO,IAGRhQ,EAASsP,EAAWv9B,GAnBN4H,EAAAK,OAAA,oBAuBVjI,EAAM66B,MAAS76B,EAAM86B,QAvBX,CAAAlzB,EAAAN,KAAA,eAwBduI,EAAKiS,MAAMwb,SAASC,EAAW,CAC9BO,SAAS,EACTG,OAAO,IA1BMr2B,EAAAK,OAAA,wBAAAL,EAAAN,KAAA,GA+BI62B,aAAa,CAAEtD,KAAM76B,EAAM66B,KAAMxI,IAAKryB,EAAM86B,UA/BhD,QA+BTtB,EA/BS5xB,EAAAC,KAiCfgI,EAAKytB,SAAS,CACbC,YACAC,cACAC,eACAC,WAAYlE,EAAK/T,MACjBkY,YAAanE,EAAKzN,OAClBrQ,MACAkiB,QACAC,WACA5P,WACA4M,KAAM76B,EAAM66B,KACZC,QAAS96B,EAAM86B,UA5CD,yBAAAlzB,EAAAO,SAAAZ,MAlD+BsI,EAAA,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA6tC,EAAAxb,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA6tC,EAAA,EAAA76B,IAAA,SAAAxJ,MAAA,WAmG9C,IAAM8oB,EAAQzZ,KAAKyZ,MACnB,OAAOmB,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GAAehE,EAAf,CAAsBoc,cAAe71B,KAAK61B,qBApGHb,EAAA,CACvB9Y,aAyHzB,OAAO5R,YAbP,SAAyBhkB,EAAOmzB,GAE/B,MAAO,CACNlkB,YAFkBjP,EAAX0F,OAEauJ,YAAYkkB,EAAMsc,cAIxC,SAA4B5Z,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGLgT,EAAU0X,IC9HE,SAASgB,GAAczY,GA0BrC,OAzBkB,SAAA9D,GACjB,IAAMlkB,EACLioB,YAAY,SAAAl3B,GAAK,OAAIkP,aAAsBlP,EAAOmzB,EAAMsc,eAAgB,GAUzE,OACCnb,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKhE,EADL,CAECwb,SAXqB,SACtB96B,EADsBtT,GAGlB,IADF4uC,EACE5uC,EADF4uC,QACEQ,EAAApvC,EADO6tB,WACP,IAAAuhB,EADa,CAAE5iB,IAAK,GAAI/jB,KAAM,IAC9B2mC,EAAAC,EAAArvC,EADoC+uC,aACpC,IAAAM,KAAAC,EAAAtvC,EADmDuvC,iBACnD,IAAAD,KACIJ,EAAetc,EAAfsc,WACRpR,YAAQsQ,aAASc,EAAY57B,EAAK,CAAEs7B,UAAS/gB,MAAKkhB,QAAOQ,gBAOxDC,cAAe9gC,MCxBZ,ICmBM+gC,GAAb,SAAA9c,GACC,SAAA8c,EAAY7c,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAs2B,IAClB9uB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAmvC,GAAA1uB,KAAA5H,KAAMyZ,KAMPgL,aAAe,SAACxsB,EAAMtH,GACrB,IAAI4lC,EAASpvC,OAAAC,GAAA,EAAAD,CAAA,GAAQqgB,EAAKlhB,MAAMoK,QAChC6lC,EAAUt+B,GAAQtH,EAClB6W,EAAKmS,SAAS,CAAEjpB,OAAQ6lC,KAVN/uB,EAanBgvB,KAAO,WACN,IAAMC,EAAOjvB,EAAKlhB,MAAMoK,OACxBvJ,OAAO+S,KAAKu8B,GAAMC,QAAQ,SAAAv8B,GACzBqN,EAAKiS,MAAMkd,cAAcx8B,EAAKs8B,EAAKt8B,MAEpCqN,EAAKiS,MAAM6T,gBAhBX9lB,EAAKlhB,MAAQ,CACZoK,OAAQ,IAHS8W,EADpB,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAAmvC,EAAA9c,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAAmvC,EAAA,EAAAn8B,IAAA,SAAAxJ,MAAA,WAuBE,IAEIimC,GADc52B,KAAKyZ,MAAM4c,eAAiB,IACrBr2B,KAAKyZ,MAAMod,aAChCzZ,EAAQpd,KAAKyZ,MAAM2D,OAAS0Z,KAC5BpT,EAAS1jB,KAAKyZ,MAAMiK,QAAUqT,KAClC,OACCnc,EAAA50B,EAAA60B,cAAA,YACCD,EAAA50B,EAAA60B,cAACyD,EAAA,EAAD,CACCvD,KAAM/a,KAAKyZ,MAAMG,OAGjBtgB,MAAO0G,KAAKyZ,MAAMngB,MAClBnJ,KAAM6P,KAAKyZ,MAAMtpB,MAAQ,UAGzByqB,EAAA50B,EAAA60B,cAAC0D,EAAA,EAAD,KACC3D,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CAAYG,QAAS9b,KAAKyZ,MAAM6T,cAC/B1S,EAAA50B,EAAA60B,cAACmc,GAAAhxC,EAAD,OAEAga,KAAKyZ,MAAMxyB,EAAE+Y,KAAKyZ,MAAMngB,QAE1BshB,EAAA50B,EAAA60B,cAAC2D,EAAA,EAAD,KACC5D,EAAA50B,EAAA60B,cAACoc,GAAD,CACCr7B,WAASoE,KAAKyZ,MAAMyd,SACpBnL,OAAQ/rB,KAAKyZ,MAAMsS,QAAU,GAC7BnG,SAAU5lB,KAAKyZ,MAAMoc,cAAchY,KAAK7d,KAAM,CAC7Ck1B,UAAWl1B,KAAKyZ,MAAMod,YACtB1B,YAAa/X,EACbgY,aAAc1R,EACdrQ,IAAKrT,KAAKyZ,MAAM2Z,OAChBmC,MAAOv1B,KAAKyZ,MAAM8b,MAClBC,SAAUx1B,KAAKyZ,MAAM+b,SACrB5P,SAAU5lB,KAAKykB,eAEhBmP,oBAAkB5zB,KAAKyZ,MAAMma,eAC7BR,OAAQwD,EAASA,EAAOxD,OAAS,GACjCjC,KAAM,CAAE/T,MAAOA,EAAOsG,OAAQA,MAGhC9I,EAAA50B,EAAA60B,cAAC6D,EAAA,EAAD,KACC9D,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ7C,QAAS9b,KAAKyZ,MAAM6T,aAAczR,MAAM,WAC9C,UAEFjB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC7C,QAAS9b,KAAKw2B,KACd3a,MAAM,UACN+C,WAAS,EACT6V,YACIz0B,KAAKyZ,MAAM4c,eAAiB,IAAIr2B,KAAKyZ,MAAMod,cAG9C,aA1ERP,EAAA,CAA+Bpa,aAsGhB5R,mBAdf,SAAyBhkB,GAGxB,MAAO,CACNgC,QAHahC,EAAME,QAGF8B,UAInB,SAA4B6zB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIxB7R,CAGb6sB,GAAapC,GAAc1Y,YD5HP,SAAAC,GAErB,MAAO,IC0HqBD,CAAmBia,2DC7G1Cc,oLACI,IAAAnZ,EAUJje,KAAKyZ,MARR4d,EAFOpZ,EAEPoZ,QACA/c,EAHO2D,EAGP3D,QACA9R,EAJOyV,EAIPzV,QACA8uB,EALOrZ,EAKPqZ,WACAC,EANOtZ,EAMPsZ,KACAhiC,EAPO0oB,EAOP1oB,YACAiiC,EAROvZ,EAQPuZ,aACA/C,EATOxW,EASPwW,SAED,OACC7Z,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ8H,UACvBxH,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQgW,SACvB1V,EAAA50B,EAAA60B,cAACqU,GAAA,EAAD,CACCuI,WAAS,EACT5b,MAAM,UAENC,QAAS,kBAAMyb,KACf9C,SACCA,GACA4C,IACCC,EAAWpxC,UACViB,OAAO+S,KAAK3E,EAAYiiC,IAAiB,IAAItxC,QAK/CsiB,EAAUoS,EAAA50B,EAAA60B,cAAC6c,GAAA1xC,EAAD,MAAgB40B,EAAA50B,EAAA60B,cAAC6Z,GAAA1uC,EAAD,SAEzBqxC,GACFzc,EAAA50B,EAAA60B,cAAC4L,GAAA,EAAD,CAAkB0K,KAAM,GAAI7V,UAAWhB,EAAQqd,uBAhC/Bzb,aA+DP5R,mBAff,SAAyBhkB,EAAOmzB,GAE/B,IAAMztB,EAAS1F,EAAM0F,OACrB,MAAO,CACNqrC,QAASrrC,EAAOqB,SAASosB,EAAMme,WAC/BriC,YAAavJ,EAAOuJ,cAItB,SAA4B4mB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIxB7R,CAGbgT,EAAUjB,YC/EU,SAAAC,GAAK,MAAK,CAC/B0F,KAAM,CACL/E,QAAS,OACTC,WAAY,UAEboT,QAAS,CACRlO,SAAU,YAEXyV,cAAe,CACdp8B,gBAAiBogB,KAAM,KACvBkM,UAAW,CACVtsB,gBAAiBogB,KAAM,OAGzB8b,YAAa,CACZ9b,MAAOA,KAAM,KACbuG,SAAU,WACVzH,KAAM,EACN4H,MAAO,EACPL,OAAQ,GAET4V,eAAgB,CACfjc,MAAOA,KAAM,KACbuG,SAAU,WACVzH,IAAK,MACL4H,KAAM,MACNuS,WAAY,GACZ5Q,YAAa,IAEd9B,SAAU,CACTA,SAAU,QACVzH,IAAK,GACL6H,MAAO,GACPN,OAAQ5F,EAAM4F,OAAOI,OAAS,KD8CpBjG,CAAmB+a,4EEjFlBtV,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAG9B,MAAO,CACNwb,UAAW,CACVrU,OAAQ,EACRX,WALa,SAMbX,SAAU,WACVD,SAAU,UAEXoO,IAAK,CACJnO,SAAU,WACVzH,IAAK,EACLyM,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACP5F,OAAQ,OAGR8G,OAAQ,OACRtG,MAAO,QAER4a,YAAa,CACZ9T,WAAY3H,GAEb0b,WAAY,CACXjb,YAAaT,GAEd7S,MAAO,CACNmS,MAAOS,EAAMwH,QAAQpa,MAAMsb,MAE5BkT,UAAW,CACV/P,aAAc5L,EACdS,YAAaT,GAEd5B,IAAK,CACJsC,QAAS,OACT2F,cAAe,SACfuV,SAAU,OACV9a,SAAU,OAEX+a,YAAa,CACZnb,QAAS,OACT2F,cAAe,MACfuV,SAAU,OACVjb,WAAY,SACZrB,MAAOS,EAAMwH,QAAQoD,UAAUlC,KAC/BmD,aAAc5L,GAEf8b,WAAY,CACXzb,OAAQL,EACR2H,WAAY,GAEboU,SAAU,CACTlW,SAAU,WACVgF,OAAQ7K,EACRiG,MAAOjG,yDC3CJgc,GAAWvZ,GAAoBL,KAE/B6Z,GAAO,SAAA3xC,GAAA,IAAGsqC,EAAHtqC,EAAGsqC,KAAH,OACZvW,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAItH,GACdvW,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CACC6P,QAAM,EACN3S,QAAO,IAAA1sB,OAAM83B,GACb3P,MAAO,CAAEmX,cAAe,cAEvB1xC,aAAE,UAKA2xC,oLACI,IAAA3a,EAQJje,KAAKyZ,MANRa,EAFO2D,EAEP3D,QACAhhB,EAHO2kB,EAGP3kB,MACAu/B,EAJO5a,EAIP4a,SACAC,EALO7a,EAKP6a,QACAC,EANO9a,EAMP8a,SACAC,EAPO/a,EAOP+a,eAED,OACCpe,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQgW,SACvB1V,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,EAAG0c,QAAQ,SAAS/b,WAAW,UACvDtC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYvN,UAAWhB,EAAQhL,KAAMyW,QAAQ,KAAKmT,MAAM,UACtDjyC,aAAEqS,GAAS,QAGZu/B,GACAje,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYvN,UAAWhB,EAAQhL,KAAMyW,QAAQ,aAC3C9+B,aAAE4xC,KAKNje,EAAA50B,EAAA60B,cAACse,GAAD,CAAMhI,KAAM,IACZvW,EAAA50B,EAAA60B,cAACse,GAAD,CAAMhI,KAAM,IACZvW,EAAA50B,EAAA60B,cAACse,GAAD,CAAMhI,KAAM,IACZvW,EAAA50B,EAAA60B,cAACse,GAAD,CAAMhI,KAAM,IACZvW,EAAA50B,EAAA60B,cAACse,GAAD,CAAMhI,KAAM,IACZvW,EAAA50B,EAAA60B,cAACse,GAAD,CAAMhI,KAAM,IACZvW,EAAA50B,EAAA60B,cAACse,GAAD,CAAMhI,KAAM,IAEZvW,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,EAAGrE,GAAI,GACrBxZ,EAAA50B,EAAA60B,cAAC+Z,GAAD,CAAK5K,IAAKoP,KAAWnP,IAAK,KAAM3O,UAAWhB,EAAQiW,OAEpD3V,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,EAAGrE,GAAI,GACrBxZ,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY6P,QAAM,EAACpd,UAAWhB,EAAQhL,KAAMyW,QAAQ,SAClDsT,OAAO/sC,SAAS8zB,MAElBxF,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY6P,QAAM,EAACpd,UAAWhB,EAAQhL,KAAMyW,QAAQ,SAClDsT,OAAO/sC,SAAS8zB,MAElBxF,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY6P,QAAM,EAACpd,UAAWhB,EAAQhL,KAAMyW,QAAQ,SAClDsT,OAAO/sC,SAAS8zB,MAElBxF,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY6P,QAAM,EAACpd,UAAWhB,EAAQhL,KAAMyW,QAAQ,SAClDsT,OAAO/sC,SAAS8zB,OAGnBxF,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,EAAGrE,GAAI,GACrBxZ,EAAA50B,EAAA60B,cAAC+Z,GAAD,CAAK5K,IAAKsP,KAAWrP,IAAK,MAAO3O,UAAWhB,EAAQiW,OAErD3V,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,EAAGrE,GAAI,IACnB4E,GACDpe,EAAA50B,EAAA60B,cAAC0d,GAAD,CACCxS,QAAQ,YACRvsB,GAAIu/B,GAAY,IAChB5H,KAAK,QACLtV,MAAM,WAEL50B,aAAE6xC,GAAW,sBA7DKzY,IAAMnE,WA+ElBoB,KAAUjB,YC3GH,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACN+T,QAAS,CACR1T,OAAM,GAAAvjB,OAAe,EAAVkjB,EAAL,WACNc,SAAU,KAEXkT,IAAK,CACJlT,SAAU,OACVqG,OAAQ,UDkGcrH,CAAmBuc,KE3EpCW,GAAsCC,WAAtCD,UAAWE,GAA2BD,WAA3BC,UAAWC,GAAgBF,WAAhBE,YACtBC,GAAmBC,SAAnBD,eAEO,SAASE,GAAQtc,GAAW,IACpCuc,EADoC,SAAAtgB,GAEzC,SAAAsgB,EAAYrgB,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA85B,IAClBtyB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA2yC,GAAAlyB,KAAA5H,KAAMyZ,KAYPsgB,UAAY,WAAe,IAAdrmC,EAAczN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOg4B,EACOzW,EAAKiS,MAA9BhhB,EADkBwlB,EAClBxlB,QAASxR,EADSg3B,EACTh3B,EAAGuP,EADMynB,EACNznB,SACpBiC,EAAQshC,UACP,WACA9yC,EAAEuP,EAAU,CAAEpH,QAAQ,IAAU,MAAQsE,EAAK4F,OAAS,KAjBrCkO,EAwEnBid,aAAe,SAACxsB,EAAMtH,GAAU,IACvBqpC,EAAaxyB,EAAKiS,MAAlBugB,SADuBzK,EAEF/nB,EAAKlhB,MAA1BoN,EAFuB67B,EAEvB77B,KAAM4jC,EAFiB/H,EAEjB+H,WAERzhC,EAAU,IAAImkC,EAAStmC,GAC7BmC,EAAQoC,GAAQtH,EAEhB,IAAMspC,EAAK3C,EAAW9jC,MAAM,GAExBymC,EAAGC,QAAQjiC,GAAQ,GACtBgiC,EAAGrmC,KAAKqE,GAGTuP,EAAKmS,SAAS,CAAEjmB,KAAMmC,EAAQskC,WAAY7C,WAAY2C,KArFpCzyB,EAwFnB4yB,yBAA2B,SAAAC,GAAY,IAAAva,EACRtY,EAAKiS,MAA3BugB,EAD8Bla,EAC9Bka,SAAUvhC,EADoBqnB,EACpBrnB,QADoB23B,EAES5oB,EAAKlhB,MAA5CgxC,EAF8BlH,EAE9BkH,WAAYgD,EAFkBlK,EAElBkK,iBAAkB5mC,EAFA08B,EAEA18B,KAChC6mC,EAAwBD,EAAiBD,GACzCxkC,EAAU,IAAImkC,EAAStmC,GAC7BmC,EAAQwkC,GAAYE,EAEpB,IAAMN,EAAK3C,EAAWjlC,OAAO,SAAA4nC,GAC5B,OAAOA,IAAOI,IAGf7yB,EAAKmS,SAAS,CAAEjmB,KAAMmC,EAAQskC,WAAY7C,WAAY2C,IAEtDxhC,EAAQ+hC,sBAAsB9mC,EAAK7F,GAAIwsC,IArGrB7yB,EAwGnBizB,gBAAkB,SAACC,EAAO/pC,GACzB,IAAIgqC,EAAexzC,OAAAC,GAAA,EAAAD,CAAA,GAAQqgB,EAAKlhB,MAAMs0C,cACtCD,EAAgBD,GAAS/pC,EACzB6W,EAAKmS,SAAS,CAAEihB,aAAcD,KA3GZnzB,EA+GnB+vB,KAAO,WAAM,IAAAtH,EAC2BzoB,EAAKiS,MAApCjjB,EADIy5B,EACJz5B,SAAU6gC,EADNpH,EACMoH,QAAS5+B,EADfw3B,EACex3B,QADfo7B,EAEiBrsB,EAAKlhB,MAA1BoN,EAFImgC,EAEJngC,KAFImgC,EAEEyD,WAECpxC,SAAWmxC,IACzB5+B,EAAQoiC,WAAW,CAClBrkC,WACA9C,SAED8T,EAAKmS,SAAS,CAAE2d,WAAY,OAxHX9vB,EAgInB8lB,aAAe,WAGd,KAFgD,SAAjC9lB,EAAKiS,MAAMnxB,QAAQwyC,WAElC,CAEA,IAAIlhB,EAASpS,EAAKlhB,MAAMy0C,QACxBvzB,EAAKmS,SAAS,CAAEohB,SAAUnhB,MApI1BpS,EAAK+vB,KAAO/vB,EAAK+vB,KAAK1Z,KAAV12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IACZA,EAAKlhB,MAAQ,CACZs0C,aAAc,GACdlnC,KAAM,KACN4mC,iBAAkB,GAClBhD,WAAY,GACZyD,SAAS,EACTC,aAAc,MATGxzB,EAFsB,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA2yC,EAAAtgB,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA2yC,EAAA,EAAA3/B,IAAA,qBAAAxJ,MAAA,WAuBpB,IAAAsqC,EACgBj7B,KAAKyZ,MAAjC/lB,EADYunC,EACZvnC,KAAMwnC,EADMD,EACNC,QAASlB,EADHiB,EACGjB,SAEvB,GAAKtmC,EAAL,CAKA,IAAM4mC,EAAmB,IAAIN,EAAStmC,GAEtCsM,KAAK2Z,SAAS,CAAEjmB,KAAKvM,OAAAC,GAAA,EAAAD,CAAA,GAAMuM,GAAQ4mC,iBAAkBA,IACrDt6B,KAAK+5B,UAAUO,QAPdt6B,KAAK+5B,UAAU,CAAEzgC,MAAO4hC,MA3Be,CAAA/gC,IAAA,4BAAAxJ,MAAA,SA2CfspB,EAAWkhB,GAAW,IACvCnB,EAAah6B,KAAKyZ,MAAlBugB,SAEJoB,EAAkB,IAAIpB,EADTh6B,KAAK1Z,MAAdoN,MACmC,IAIvC2nC,EAAc,IAAIrB,EADP/f,EAAUvmB,MACkB,IAEvC0nC,EAAgBE,aAAeD,EAAYC,YAK9Ct7B,KAAK2Z,SAAS,CACbjmB,KAAM2nC,EAAYlB,WAClBG,iBAAkBe,EAClBT,aAAc,GACdtD,WAAY,KAIdt3B,KAAK+5B,UAAUsB,KAjEyB,CAAAlhC,IAAA,uBAAAxJ,MAAA,WAqEpCqP,KAAK1Z,MAAMoN,MACdsM,KAAKyZ,MAAMhhB,QAAQ8iC,cAAc,SAAWv7B,KAAK1Z,MAAMoN,KAAK7F,IAAI,KAtEzB,CAAAsM,IAAA,cAAAxJ,MAAA,SA8H7B6qC,GACX,OAAOx7B,KAAK1Z,MAAMoN,KAAK4jC,WAAW4C,QAAQsB,IAAS,IA/HX,CAAArhC,IAAA,cAAAxJ,MAAA,SA2I7BsH,GAEX,OADgBmb,aAAUnb,GAAlBob,MA5IgC,CAAAlZ,IAAA,gBAAAxJ,MAAA,SAgJ3BsH,EAAM29B,EAAOxC,GAAQ,IAAAqI,EACHz7B,KAAKyZ,MAA5BjjB,EAD0BilC,EAC1BjlC,SAAUy+B,EADgBwG,EAChBxG,SACdhoB,EAAS,KAEb,OAAQzW,GACP,IAAK,SACJyW,EAASssB,GAAUjgC,MACnB,MACD,IAAK,SACJ2T,EAASwsB,GAAUngC,MACnB,MACD,IAAK,WACJ2T,EAASysB,GAAYpgC,MAMvB,IAAMpE,EAASwmC,OAAIzG,SAASh9B,EAAMgV,GAClCgoB,EAAS,QAAS,CACjBQ,SAAUvgC,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,MAtKgC,CAAAz7B,IAAA,sBAAAxJ,MAAA,SA0KrBsH,EAAM29B,EAAOxC,GAAQ,IAAAuI,EACT37B,KAAKyZ,MAA5BjjB,EADgCmlC,EAChCnlC,SAAUy+B,EADsB0G,EACtB1G,SACdhoB,EAAS,KAEb,OAAQzW,GACP,IAAK,SACJyW,EAASssB,GAAUqC,YACnB,MACD,IAAK,SACJ3uB,EAASwsB,GAAUmC,YAKrB,IAAM1mC,EAASwmC,OAAIzG,SAASh9B,EAAMgV,GAClCgoB,EAAS,cAAe,CACvBQ,SAAUvgC,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,MA5LgC,CAAAz7B,IAAA,SAAAxJ,MAAA,WAgMhC,IAAA0pB,EAAAra,KAAA67B,EAaJ77B,KAAKyZ,MAVRa,GAHOuhB,EAEPtmC,YAFOsmC,EAGPvhB,SACArzB,EAJO40C,EAIP50C,EACAqB,EALOuzC,EAKPvzC,QACAkO,EANOqlC,EAMPrlC,SACAwjC,EAPO6B,EAOP7B,SACAkB,EAROW,EAQPX,QACAluC,EATO6uC,EASP7uC,KACAqpC,EAVOwF,EAUPxF,cACAN,EAXO8F,EAWP9F,WACG5iC,EAZIhM,OAAAiM,GAAA,EAAAjM,CAAA00C,EAAA,6GAgBR,IAFkB77B,KAAKyZ,MAAM/lB,KAG5B,OACCknB,EAAA50B,EAAA60B,cAACihB,GAAD,CACCxiC,MAAOrS,EAAE,wBACT4xC,SAAU5xC,EAAE,0BAA2B,CACtCqI,KAAM,CAACkH,EAASgzB,cAAe0R,KAEhCnC,SAAQ,cAAA1/B,OAAgBrM,GACxB8rC,QAAQ,oBASX,IAAMiD,EAA+B,SAAtBzzC,EAAQwyC,UACjBpnC,EAAO,IAAIsmC,EAASh6B,KAAK1Z,MAAMoN,MAAQ,IACzCsoC,EAAuB,WAAbxlC,EACVu1B,EAASr4B,EAAKuoC,KAAKxJ,SAAW/+B,EAAKkE,UAAYlE,EAAKwoC,iBAElDC,EAAW9F,EAAa,MACxB+F,EAAiB/F,EAAa,YACpC,OACCzb,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACCC,OAAQt8B,KAAK1Z,MAAMgxC,WAAWpxC,OAC9B4jB,QAAS7iB,EAAE,2BAEZ2zB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACCC,WAAS,EACTlhB,UAAWhB,EAAQ4d,UACnBtb,OAAO,QACPlT,QAASyyB,KAAcA,EAAS/I,QAEhCxY,EAAA50B,EAAA60B,cAAC4hB,GAAA,EAAD,KAAax1C,EAAE,QAAS,CAAEmI,QAAQ,KAClCwrB,EAAA50B,EAAA60B,cAAC6hB,GAAA,EAAD,CACCF,WAAS,EACT5d,WAAS,EACTzuB,KAAK,OACL8H,KAAMhR,EAAE,QAAS,CAAEmI,QAAQ,IAC3BuB,MAAO+C,EAAK4F,MACZssB,SAAU,SAAAlB,GACTrK,EAAKsiB,cAAcjY,EAAG1D,OAAOrwB,OAAO,GACpC0pB,EAAKoK,aAAa,QAASC,EAAG1D,OAAOrwB,QAEtCisC,UAAW,KACXC,OAAQ,SAAAnY,GACPrK,EAAKogB,gBAAgB,SAAS,IAE/BqC,QAAS,kBAAMziB,EAAKsiB,cAAcjpC,EAAK4F,OAAO,IAC9Cm7B,UAAWz0B,KAAK1Z,MAAMs0C,aAAathC,MACnCyjC,aACCniB,EAAA50B,EAAA60B,cAACmiB,GAAA,EAAD,CAAgB5a,SAAS,OACxBxH,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CAGC8Y,SAAUsH,EACVlgB,MAAM,YACNP,UAAWhB,EAAQ0d,YACnBlc,QAAS,SAAA4I,GAAE,OAAIrK,EAAKogB,gBAAgB,SAAS,KAE7C7f,EAAA50B,EAAA60B,cAACoiB,GAAAj3C,EAAD,UAKHm2C,GAAYA,EAAS/I,QAAU+I,EAASvG,OACxChb,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KACEj2C,EAAEk1C,EAAS/I,OAAQ,CAAE9jC,KAAM6sC,EAAS7oB,gBAM3B,aAAb9c,GACAokB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACsiB,GAADh2C,OAAAs2B,OAAA,GACKtqB,EADL,CAEC44B,OAAQA,EACRuB,aAActtB,KAAKstB,aACnB1T,OAAQ5Z,KAAK1Z,MAAMy0C,QACnBpE,cAAe32B,KAAKykB,aACpBsR,WAAYriC,EAAK0pC,IACjBhgB,MACCpd,KAAKyZ,MAAM4jB,iBACV1D,GAAejmC,EAAKy9B,OAAS,IAAI/T,MAEnCsG,OACC1jB,KAAKyZ,MAAM6jB,kBACV3D,GAAejmC,EAAKy9B,OAAS,IAAIzN,OAEnCpqB,MAAOrS,EAAE+Y,KAAKyZ,MAAM8jB,gBACpB3J,eAAgB3sC,EAAE+Y,KAAKyZ,MAAM+jB,oBAC7BjI,MAAOv1B,KAAKyZ,MAAMgkB,eAClBrK,OAAQpzB,KAAKyZ,MAAMikB,gBACnB7G,YAAY,UAGdjc,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,GAAIC,GAAI,GAAIsJ,GAAI,GACtC/iB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACC3f,OAAO,QACP4f,WAAS,EACTlhB,UAAWhB,EAAQ4d,UACnBxuB,QAAS0yB,KAAoBA,EAAehJ,QAE5CxY,EAAA50B,EAAA60B,cAAC4hB,GAAA,EAAD,CAAYmB,QAAQ,eAClB32C,EAAE,cAAe,CAAEmI,QAAQ,KAE7BwrB,EAAA50B,EAAA60B,cAAC6hB,GAAA,EAAD,CACCF,WAAS,EACT5d,WAAS,EACTif,WAAS,EACTC,KAAM,EACN3tC,KAAK,OACL8H,KAAK,cACLtH,MAAO+C,EAAKkoC,aAAe,GAC3BhW,SAAU,SAAAlB,GACTrK,EAAK0jB,oBAAoBrZ,EAAG1D,OAAOrwB,OAAO,GAC1C0pB,EAAKoK,aAAa,cAAeC,EAAG1D,OAAOrwB,QAE5CisC,UAAW,KACXC,OAAQ,SAAAnY,GACPrK,EAAKogB,gBAAgB,eAAe,IAErCqC,QAAS,kBACRziB,EAAK0jB,oBAAoBrqC,EAAKkoC,aAAa,IAE5CnH,UAAWz0B,KAAK1Z,MAAMs0C,aAAagB,YACnCmB,aACCniB,EAAA50B,EAAA60B,cAACmiB,GAAA,EAAD,CAAgB5a,SAAS,OACxBxH,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CAECE,MAAM,YACNP,UAAWhB,EAAQ0d,YACnBvD,SAAUsH,EACVjgB,QAAS,SAAA4I,GAAE,OACVrK,EAAKogB,gBAAgB,eAAe,KAGrC7f,EAAA50B,EAAA60B,cAACoiB,GAAAj3C,EAAD,UAKHo2C,GAAoBA,EAAehJ,OACnCxY,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KACEj2C,EAAEm1C,EAAehJ,OAAQ,CACzB9jC,KAAM8sC,EAAe9oB,eAItB5f,EAAKkoC,aACLhhB,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KACEj2C,EAAE,0BAOT2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,GAAIC,GAAI,GAAIsJ,GAAI,GACrC39B,KAAKyZ,MAAMukB,UACXpjB,EAAA50B,EAAA60B,cAAA,OAAK2G,MAAO,CAAEpE,MAAO,MACpBxC,EAAA50B,EAAA60B,cAACojB,GAAA,EAAD,CACC3iB,UAAWC,IACVjB,EAAQyd,UACRzd,EAAQ4jB,eAGTtjB,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC1E,iBAAiB,EACjBlG,IAAK+B,EACL9B,IAAKv2B,EAAKyqC,SACV7iB,UAAWC,IAAWjB,EAAQiW,IAATppC,OAAA80B,EAAA,EAAA90B,CAAA,GACnBmzB,EAAQ8jB,QACRp+B,KAAKyZ,MAAM4kB,aAAetC,MAG7BnhB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC8Y,WAAS,EACTtI,MAAI,EACJtT,MAAM,YACNP,UAAWhB,EAAQge,SACnBxc,QAAUigB,EAA6B,KAApB/7B,KAAKstB,aACxBmH,SAAUsH,GAEVnhB,EAAA50B,EAAA60B,cAACoiB,GAAAj3C,EAAD,aAUT40B,EAAA50B,EAAA60B,cAAA,aACI7a,KAAK1Z,MAAMgxC,WAAWpxC,QACxB00B,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ8d,aACvBxd,EAAA50B,EAAA60B,cAACyjB,EAAAt4C,EAAD,CAAiBs1B,UAAWhB,EAAQ2d,aACpCrd,EAAA50B,EAAA60B,cAAA,QAAMS,UAAWhB,EAAQ2d,YACvBhxC,EAAE,mBADJ,KAGC+Y,KAAK1Z,MAAMgxC,WAAW3vC,IAAI,SAAAkxB,GAC1B,OACC+B,EAAA50B,EAAA60B,cAAC0jB,GAAA,EAAD,CACCjjB,UAAWhB,EAAQ+d,WACnBl+B,IAAK0e,EACLjd,MAAO3U,EAAE4xB,EAAG,CAAEzpB,QAAQ,IACtBovC,SAAU,kBAAMnkB,EAAK+f,yBAAyBvhB,UAOpD+B,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAC4jB,GAAD,CACC7G,UAAW,SAAWlkC,EAAK7F,GAC3B2pC,aAAc,UAAYzB,EAC1BuB,WAAYt3B,KAAK1Z,MAAMgxC,WACvBC,KAAMv3B,KAAKu3B,KACX9C,UACEz0B,KAAK1Z,MAAMgxC,WAAWpxC,UACrBiB,OAAO+S,KAAKm8B,GAAenwC,UAIhC00B,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKtqB,EADL,CAEC7K,QAASA,EACTrB,EAAGA,EACHy3C,SAAU1+B,KAAK1Z,MAAMgxC,WAAWpxC,OAChCwN,KAAMA,EACN6jC,KAAMv3B,KAAKu3B,KACX9S,aAAczkB,KAAKykB,aACnBka,cAAe3+B,KAAKstB,aAAazP,KAAK7d,MACtC46B,aAAc56B,KAAK1Z,MAAMs0C,aACzBH,gBAAiBz6B,KAAKy6B,gBAAgB5c,KAAK7d,MAC3Cg8B,QAASA,EACTxlC,SAAUA,EACVulC,OAAQA,WAzc4BjC,EAAA,CACvB5d,aAydb0iB,EAAmB,SAAA/3C,GAGxB,IAH6C,IAAlB0P,EAAkB1P,EAAlB0P,MAAOkD,EAAW5S,EAAX4S,KAC9BS,EAAO/S,OAAO+S,KAAK3D,GAEd6F,EAAQ,EAAGA,EAAQlC,EAAKhU,OAAQkW,IAAS,CACjD,IACM1I,EAAO6C,EADD2D,EAAKkC,IAGjB,GAAM1I,GAAQA,EAAKmrC,OAAWplC,GAAQ/F,EAAKmrC,QAAUplC,EACpD,OAAO/F,EAIT,OAAO,MA6BR,OAAO4W,YA1BP,SAAyBhkB,EAAOmzB,GAAO,IAC9BjzB,EAAYF,EAAZE,QAEF+P,EAAQ/P,EAAQ+P,MAAMkjB,EAAMjjB,UAC5B3I,EAAK4rB,EAAMuG,MAAMpX,OAAOk2B,OAC1BprC,EAAO6C,EAAM1I,GAMjB,OAJK6F,QAA2BvN,IAAnBszB,EAAMjjB,WAClB9C,EAAOkrC,EAAiB,CAAEroC,MAAOA,EAAOkD,KAAM5L,KAGxC,CACNvF,QAAS9B,EAAQ8B,QACjBoL,KAAMA,EACNqiC,WAAY,WAAariC,EAAOA,EAAK7F,IAAM6F,EAAK+F,KAAO,YACvDyhC,QAASrtC,EACTb,KAAMD,aAAWzG,KAInB,SAA4B61B,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGL+R,YAAWyF,GAAXzF,CAAmB8a,GAAa7Z,EAAUwc,6DCriBvCiF,GAAsB,CAC3BC,YAAa,EACbC,mBAAoB,CAAC,EAAG,GAAI,GAAI,GAAI,KACpCC,cAAe,WACd,MAAO,CACNjb,QAAS,UACTkN,KAAM,QACN/T,MAAO,OACP8b,MAAO,WAGTiG,WAAY,CACXnuB,KAAM,CACLouB,QAASn4C,aAAE,kBACXo4C,QAASp4C,aAAE,iBACXq4C,oBAAqB,SAAAC,GAAM,SAAAlmC,OACvBpS,aAAE,uBAAwB,CAC5BqI,KAAM,CAACiwC,EAAO3jC,OAAS2jC,QAG1BC,WAAY,CACXvgC,KAAMhY,aAAE,cACRw4C,SAAUx4C,aAAE,cACZ+3C,YAAa/3C,aAAE,uBACfy4C,YAAaz4C,aAAE,uBAEhBu8B,QAAS,CACRh3B,OAAQvF,aAAE,gBACV04C,YAAa14C,aAAE,gBACf24C,MAAO34C,aAAE,eACT44C,YAAa54C,aAAE,mBACf64C,YAAa74C,aAAE,iBAEhBoL,OAAQ,CACPrL,IAAKC,aAAE,oBACPqS,MAAOrS,aAAE,sBACT84C,MAAO94C,aAAE,uBAEV44C,YAAa,CACZvmC,MAAOrS,aAAE,mBACT+4C,UAAW/4C,aAAE,yBAEdg5C,aAAc,CACb3wB,KAAMroB,aAAE,uBACRi5C,OAAQj5C,aAAE,gBACVk5C,WAAYl5C,aAAE,4BAIF,SAASm5C,GAAqB3mB,GAAO,IAC3CngB,EAAkCmgB,EAAlCngB,MAAOjG,EAA2BomB,EAA3BpmB,KAAMgtC,EAAqB5mB,EAArB4mB,QAASpwB,EAAYwJ,EAAZxJ,QAE9B,OACC2K,EAAA50B,EAAA60B,cAACylB,GAAAt6C,EAAD,CACCsT,MAAOA,EACPjG,KAAMA,EACNgtC,QAASA,EACTpwB,QAAO9oB,OAAAC,GAAA,EAAAD,CAAA,GACH43C,GACA9uB,EAFG,CAGNswB,UAAW,EACX/zC,QAASitB,EAAM+mB,SACfC,UAAWhnB,EAAMinB,WACjBd,OAAQnmB,EAAMknB,QACdC,eAAgBnnB,EAAMonB,cAAgB,WAAa,OACnDC,sBAAsBrnB,EAAMsnB,sFC/D1BC,GAAiB,SAACC,EAAqBnpC,EAAQq5B,GACpD,IAAM3V,EAAO,CACZid,GAAI,CAAE3b,SAAU,IAChBuX,GAAI,CAAEvX,SAAU,IAChBokB,GAAI,CAAEpkB,SAAU,KAEXqkB,EAAWvmB,EAAA50B,EAAA60B,cAACumB,GAAAp7C,EAAD,CAAmBw7B,MAAOhG,EAAK2V,GAAOtV,MAAO,cACxDwlB,EAAWzmB,EAAA50B,EAAA60B,cAACymB,GAAAt7C,EAAD,CAAaw7B,MAAOhG,EAAK2V,GAAOtV,MAAO,YAClD0lB,EAAc3mB,EAAA50B,EAAA60B,cAAC2mB,EAAAx7C,EAAD,CAAaw7B,MAAOhG,EAAK2V,GAAOtV,MAAO,UACrD4lB,EAAW7mB,EAAA50B,EAAA60B,cAAC6mB,GAAA17C,EAAD,CAAoBw7B,MAAOhG,EAAK2V,GAAOtV,MAAO,cAC/D,GAA4B,WAAxBolB,GAA6D,cAAzBnpC,EAAOoP,cAC9C,OAAOi6B,EACR,OAAQrpC,EAAOoP,eACd,IAAK,SACL,IAAK,QACJ,OAAOm6B,EACR,IAAK,UACL,IAAK,eACL,IAAK,UACJ,OAAOF,EACR,IAAK,UACL,IAAK,eACL,IAAK,YACL,IAAK,UACJ,OAAOI,EACR,IAAK,WACJ,OAAOE,EACR,QACC,MAAO,cClCG3f,GAAS,SAAAxF,GAAK,MAAK,CAC/BqlB,QAAS,CACRvkB,MAAO,OACPsG,OAAQ,OACRoN,UAAW,GACXzT,SAAU,IACVqT,OAAQ,uBCMGkR,GAAsB,SAAA/6C,GAK7B,IAAAg7C,EAAAh7C,EAJL2d,eAIK,IAAAq9B,EAJK,GAILA,EAAAC,EAAAj7C,EAHLk7C,mBAGK,IAAAD,EAHS,GAGTA,EAAAE,EAAAn7C,EAFLo7C,kBAEK,IAAAD,EAFQ,GAERA,EAAAE,EAAAr7C,EADLs7C,sBACK,IAAAD,EADY,EACZA,EACC7jC,EAAMmG,EAAQ,IAAM,EACpB3L,EAAM2L,EAAQ,IAAM,IACpB49B,EAhBe,SAAC/jC,EAAKxF,EAAKwpC,GAAyB,IAAlBC,EAAkBr8C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EAKnD,OAFc+N,aAFD6E,EAAMwF,GACCgkC,GACUhtC,QAAQitC,IAazBC,CAAclkC,EAAKxF,EAAKopC,EAAYE,GACjD,MAAO,CACN9vC,QAAQ,EACR4qB,QAAS,OACTulB,WAAY,SACZC,wBAAyB,CACxBC,OAAQ,SAAAn5B,GAAC,SAAAlQ,OACL0oC,EADK,MAAA1oC,OACWspC,aAAcp5B,EAAE,GAAI,GAD/B,OAAAlQ,OACuCspC,aAAcp5B,EAAE,GAAI,KACpEq5B,OAAQ,SAACC,EAAYC,EAAW1mC,GAE/B,OADAymC,EAAWzmC,GAAS,GACbymC,IAITE,cAAe,CACdC,MAAO,GACPC,MAAO,SAACC,EAAWC,GAClB,IAAMC,EAAWxyC,OAAOsyC,EAAU9gC,WAAW7I,QAAQ,WAAY,KACjE,OAAI4pC,EAAQj9C,OAAS,IACbk9C,EAAWD,EAAQ,IAAMC,EAAWD,EAAQ,KAIrDlmB,QAAS,SAAC4lB,EAAYjd,EAAUxpB,EAAOmjC,GACtC,OACC3kB,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAYh7B,GAAE,gBAAAwL,OAAkBkmC,EAAOtnC,MAAQ6wB,cAAY,GACzDiZ,GAEFnnB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAK6d,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACtB3oB,EAAA50B,EAAA60B,cAAA2oB,GAAA,GACCnlC,IAAKA,EACLxF,IAAKA,EACL4qC,MAAO,CACN,CACC9yC,MAAO0N,EACPzC,MAAO+mC,aAActkC,EAAK,IAE3B,CACC1N,MAAOkI,EACP+C,MAAO+mC,aAAc9pC,EAAK,KAI5BupC,KAAMA,EACNzxC,MACCkyC,EAAWzmC,GAAOlW,OAAS,EAAI28C,EAAWzmC,GAASoI,EAEpDohB,SAAU,SAACz5B,EAAGu3C,GACb9d,EAAS8d,EAAUtnC,EAAOmjC,IAE3BoE,kBAAkB,OAClBC,kBAAA,gBAAAvqC,OAAiCkmC,EAAOtnC,MACxC4rC,iBAAkB,SAAAt6B,GAAC,OAAIo5B,aAAcp5B,EAAG,IACxCu6B,iBAAkB,SAAAv6B,GAAC,OAAIo5B,aAAcp5B,EAAG,YCvEzC,SAASw6B,GAATl9C,GAA8D,IAAtCm9C,EAAsCn9C,EAAtCm9C,SAAUC,EAA4Bp9C,EAA5Bo9C,aAAcC,EAAcr9C,EAAdq9C,WAAc5Z,EAC5CC,mBAAS,IADmCC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAC7Dj3B,EAD6Dm3B,EAAA,GACvD2Z,EADuD3Z,EAAA,GAAAE,EAEtCH,mBAAS,IAF6BI,EAAAxjC,OAAA4J,GAAA,EAAA5J,CAAAujC,EAAA,GAE7D2V,EAF6D1V,EAAA,GAEpDyZ,EAFoDzZ,EAAA,GAI9D0Z,EAAe7mB,YAAY,SAAAl3B,GAAK,OAAI09C,EAAS19C,EAAO29C,KAEpDK,EAAaC,sBAAY,WAC9BJ,EAAQE,GACRD,EAAWF,MACT,CAACA,EAAYG,IAOhB,OALAG,oBAAU,WACTF,KAEE,CAACD,EAAan+C,OAAQ89C,EAAUC,IAE5B,CAAE5wC,OAAMgtC,UAASiE,+CCLnB1f,GAAYC,aAAW,SAAAvI,GAAK,MAAK,CACtCgU,QAAS,CACR1T,OAAQN,EAAMC,QAAQ,GACtB6F,SAAU,YAEX0V,eAAgB,CACf1V,SAAU,WACVzH,IAAK,MACL4H,KAAM,MACNuS,WAAY,GACZ5Q,YAAa,OAIR,SAASugB,GAAT59C,GAAsC,IAAhB69C,EAAgB79C,EAAhB69C,aAC5B,OACC9pB,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAA+pB,GAAA,GAAStrC,MAAOrS,aAAE,gBACjB2zB,EAAA50B,EAAA60B,cAAAc,EAAA,GAAYG,QAAS4oB,GACpB9pB,EAAA50B,EAAA60B,cAAAgqB,GAAA,WAmBE,SAASC,GAATp9C,GAAgE,IAApCq9C,EAAoCr9C,EAApCq9C,uBAAwBtQ,EAAY/sC,EAAZ+sC,SACpDna,EAAUsK,KACVogB,EAAkBxnB,YAAY,SAAAl3B,GAAK,OACxCsH,aAAkBtH,EAAO2+C,QAG1B,OACCrqB,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAA+pB,GAAA,GAAStrC,MAAOrS,aAAE,uBACjB2zB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKe,GAAI,EAAGC,GAAI,GACf5L,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQgW,SACvB1V,EAAA50B,EAAA60B,cAAA8D,EAAA,GACCumB,UAAWtqB,EAAA50B,EAAA60B,cAAAsqB,GAAA,QACXrpB,QAASipB,EACThf,QAAQ,YACRlK,MAAM,UACN4Y,SAAUA,GAAYuQ,GAErB/9C,aAAE,uBAEH+9C,GACApqB,EAAA50B,EAAA60B,cAAA4L,GAAA,GAAkB0K,KAAM,GAAI7V,UAAWhB,EAAQwd,qBC/CtD,IAAMsN,GAAepmB,GAAoBrD,EAAA,GAEnCiJ,GAAYC,aAAW/C,IAEvBujB,GAAU,SAAAx+C,GAAA,IACfyzB,EADezzB,EACfyzB,QACAxe,EAFejV,EAEfiV,OACAf,EAHelU,EAGfkU,eACAuqC,EAJez+C,EAIfy+C,WACAzqC,EALehU,EAKfgU,UALe,MAMV,CACL,CACC5C,KAAM,KACNgY,QAAS,CACRgN,QAAS,WACT5qB,QAAQ,IAGV,CACC4F,KAAM,mBACNgY,QAAS,CACRgN,QAAS,WACTwjB,UAAU,EACVpuC,QAAQ,IAGV,CACC4F,KAAM,QACN2D,MAAO3U,aAAE,cACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNolC,UAAU,EACV8E,iBAAkB,SAAAh+C,GAAiC,IAA9BsG,EAA8BtG,EAA9BsG,GAAI+J,EAA0BrQ,EAA1BqQ,SAAUC,EAAgBtQ,EAAhBsQ,UAClC,OAEC+iB,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACCzE,mBAAmB,EACnB7U,UAAWC,IAAWjB,EAAQqnB,SAC9B3X,IAAKpyB,EACLqyB,IAAKp8B,EACLgK,UAAWA,EACXk3B,YAAU,OAMf,CACC92B,KAAM,SACN2D,MAAO3U,aAAE,eACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN0nC,cAAe,CACdC,MAAO,CAAC,SAAU,SAAU,aAC5BC,MAAO,SAACnrC,EAAQqrC,GACf,QAAIA,EAAQj9C,SAAgBi9C,EAAQqC,SAAS1tC,EAAOC,qBAItDwtC,iBAAkB,SAAA79C,GAAA,IAAGqQ,EAAHrQ,EAAGqQ,kBAAmBC,EAAtBtQ,EAAsBsQ,aAAtB,OACjB4iB,EAAA50B,EAAA60B,cAACD,EAAA50B,EAAMqjC,SAAP,KACEtxB,EAAmB,IACnBipC,GAAejpC,EAAmBC,EAAc,UAMrD,CACCC,KAAM,gBACN2D,MAAO3U,aAAE,gBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNkqC,iBAAkB,SAAArtC,GAAa,OAC9B0iB,EAAA50B,EAAA60B,cAACD,EAAA50B,EAAMqjC,SAAP,QAAAhwB,OAAoBnB,EAAc7C,QACjC,GADD,KAAAgE,OAEKyC,MAEH8lC,GAAoB,CACtBp9B,QAAS,CAAC,EAAG8gC,GACbvD,YAAa96C,aAAE,sBAIlB,CACCgR,KAAM,wBACN2D,MAAO3U,aAAE,oBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNkqC,iBAAkB,SAAAntC,GAAqB,SAAAiB,SACjCjB,GAAyB,GAAK,IAAI/C,QAAQ,GADT,OAEpCusC,GAAoB,CACtBp9B,QAAS,CAAC,EAAG,KACbu9B,YAAa96C,aAAE,0BAIlB,CACCgR,KAAM,cACN2D,MAAO3U,aAAE,qBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNkqC,iBAAkB,SAAAtwC,GAAW,OAAIwwC,mBAAQxwC,GAAe,KACrD2sC,GAAoB,CACtBp9B,QAAS,CAAC,EAAGzJ,GACbgnC,YAAa96C,aAAE,0BAIlB,CACCgR,KAAM,SACN2D,MAAO3U,aAAE,sBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNkqC,iBAAkB,SAAA1uC,GAAM,OAAI4uC,mBAAQ5uC,GAAU,KAC3C+qC,GAAoB,CACtBp9B,QAAS,CAAC,EAAG3J,GACbknC,YAAa96C,aAAE,qBAIlB,CACCgR,KAAM,mBACN2D,MAAO3U,aAAE,YACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNkqC,iBAAkB,SAAAltC,GAAgB,OACjCuiB,EAAA50B,EAAA60B,cAACD,EAAA50B,EAAMqjC,SAAP,QAAAhwB,OAAoBhB,EAAiBhD,QACpC,GADD,KAAAgE,OAEKyC,OAIR,CACC7D,KAAM,UACN2D,MAAO3U,aAAE,gBACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNqqC,cAAe,OACfH,iBAAkB,SAAAjtC,GAAO,OAAIzE,aAAeyE,MAG9C,CACCL,KAAM,aACN2D,MAAO3U,aAAE,eACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNkqC,iBAAkB,SAAAhtC,GAAU,OAAI1E,aAAe0E,MAGjD,CACCN,KAAM,sBACN2D,MAAO3U,aAAE,aACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNkqC,iBAAkB,SAAA/sC,GAAmB,OACpC3E,aAAe2E,MAGlB,CACCP,KAAM,UACN2D,MAAO3U,aAAE,WACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNolC,UAAU,EACV8E,iBAAkB,SAAAz9C,GAAA,IAAGkF,EAAHlF,EAAGkF,KAAMa,EAAT/F,EAAS+F,GAAIkK,EAAbjQ,EAAaiQ,kBAAb,OACjB6iB,EAAA50B,EAAA60B,cAACD,EAAA50B,EAAMqjC,SAAP,KACCzO,EAAA50B,EAAA60B,cAAA+pB,GAAA,GACCtrC,MAAOrS,aAAE,cAET0+C,WAAY,KAEZ/qB,EAAA50B,EAAA60B,cAACuqB,GAAD,CACC5rC,GAAE,cAAAH,OAAgBrM,EAAhB,cAAAqM,OAAiCxL,GACnCk4B,QAAQ,YACRnK,aAAW,WAEXhB,EAAA50B,EAAA60B,cAAA+qB,GAAA,GAAY/pB,MAAM,eAGI,WAAtB9jB,GACqB,cAAtBA,IACA6iB,EAAA50B,EAAA60B,cAAA+pB,GAAA,GACCtrC,MAAOrS,aAAE,gBAET0+C,WAAY,KAEZ/qB,EAAA50B,EAAA60B,cAACuqB,GAAD,CACC5rC,GAAE,cAAAH,OAAgBrM,EAAhB,sBAAAqM,OAAyCxL,GAC3Ck4B,QAAQ,YACRnK,aAAW,UAEXhB,EAAA50B,EAAA60B,cAAAgrB,GAAA,GAAShqB,MAAM,oBA+BjBiqB,GAAa,SAAA79C,KAAG0D,SAAH,IAAamQ,EAAb7T,EAAa6T,OAAQwoC,EAArBr8C,EAAqBq8C,WAArB,MAAuC,CACzD9B,WAAY,cACZ5B,eAAgB,OAChBmF,WAAY,SAACC,EAAWC,EAAW5F,EAAShtC,GAAhC,OAxBM,SAAC2yC,EAAWC,EAAW5F,EAAShtC,EAAM1H,EAAUmQ,GAClE,IAAMoqC,EAAa7yC,EAAK1L,IAAI,SAAAyN,GAAC,MAAK,CACjCgH,MAAOhH,EAAEgH,MACT/I,KAAM,CACL+B,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GAAG0E,kBAJL,GAAAsB,OAKFjE,EAAE/B,KAAK,GALL,KAAAgG,OAKWyC,GALX,GAAAzC,SAMAjE,EAAE/B,KAAK,IAAM,GAAK,IAAIgC,QAAQ,GAN9B,KAOLD,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GACPQ,aAAeuB,EAAE/B,KAAK,IACtBQ,aAAeuB,EAAE/B,KAAK,KACtBQ,aAAeuB,EAAE/B,KAAK,SAGxB,MAAO,GAAAgG,OAAG2sC,EAAU3F,IAAbhnC,OAAwB4sC,EAAUC,IAAcC,OAOtDJ,CAAWC,EAAWC,EAAW5F,EAAShtC,EAAM1H,EAAUmQ,IAC3DsqC,cAAe,kBAAMxrB,EAAA50B,EAAA60B,cAAC4pB,GAAD,CAAYC,aAAcJ,KAC/C+B,oBAAqB,SAACpG,EAAcqG,EAAaC,GAChD,IAAMC,EAAkBvG,EAAa5sC,KAAK1L,IAAI,SAAAyN,GAAC,OAAIA,EAAEqxC,YAC/Ch4C,EAAgB63C,EACpBj0C,OAAO,SAAAqB,GAAI,OAAI8yC,EAAgBhB,SAAS9xC,EAAK+yC,YAAc/yC,EAAKL,KAAK,KACrE1L,IAAI,SAAA+L,GAAI,OAAIA,EAAKL,KAAK,KACxB,OACCunB,EAAA50B,EAAA60B,cAACiqB,GAAD,CACCC,uBAAwB,kBACvBpgB,YAAQ+hB,YAA4Bj4C,KAErCgmC,SAAmC,IAAzBhmC,EAAcvI,YA2CbygD,OArCf,SAAwBltB,GACvB,IAAMa,EAAUsK,KACV53B,EAAOwwB,YAAYzwB,MACnBgO,EAAiByiB,YAAY7kB,KAC7BkC,EAAY2iB,YAAYzkB,KACxBusC,EAAa9nB,YAAYxkB,KALD4tC,EAMDppB,YAAY51B,MAAjCkU,EANsB8qC,EAMtB9qC,OAAQnQ,EANci7C,EAMdj7C,SANck7C,EAQQ9C,GAAa,CAClDC,SAAU5sC,IACV6sC,aAAcj3C,EACdk3C,WAAY,kBACXmB,GAAQ,CACP15C,WACA2uB,UACAxe,SACAf,iBACAF,YACAyqC,kBAVKjyC,EARsBwzC,EAQtBxzC,KAAMgtC,EARgBwG,EAQhBxG,QAASiE,EAROuC,EAQPvC,WAcjBr0B,EAAU61B,GAAW,CAAEn6C,WAAUmQ,SAAQwoC,eAE/C,OACC1pB,EAAA50B,EAAA60B,cAACulB,GAADj5C,OAAAs2B,OAAA,CACCnkB,MAAOrS,aAAE,iBACToM,KAAMA,EACNgtC,QAASA,EACTpwB,QAASA,EACT4wB,eAAa,EACbE,gBAAc,GACVtnB,uDCzRDmL,GAAYC,aC7BI,SAAAvI,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GACxBuqB,EAAWxqB,EAAMwH,QAAQpa,MAAMsb,KACrC,MAAO,CACNhD,KAAM,CACLnG,MAAO,SACPkrB,WAAY,CACXlrB,MAAO,UAGTjC,OAAQ,CACPiC,MAAO,UAERmrB,eAAgB,CAEf5kB,SAAU,WACVgF,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACP7H,IAAK,GAENssB,UAAW,CACV7kB,SAAU,WACVgF,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACP7H,IAAK,KAENusB,YAAa,CACZ9kB,SAAU,WACVzH,IAAK,GACL4H,KAAM,GACNC,MAAO,GACP4E,OAAQ,GACRnD,QAAS,GACToD,UAAW,OACXC,UAAW,SACXrK,QAAS,OACT0F,KAAM,EACNU,eAAgB,gBAChBT,cAAe,SACfukB,wBAAyB,QACzBC,0BAA2B,CAC1BjkB,YAAa,EACbD,aAAc,IAGhB8M,SAAU,CACT5N,SAAU,WACVgF,OAAQ,EACR7E,KAAM,GACNC,MAAO,IAERA,MAAO,CACN6kB,UAAW,QACXpqB,QAAS,eACTG,MAAO,MACPkqB,0BAA2B,CAC1BlqB,MAAO,QAGTmF,KAAM,CACLtF,QAAS,eACToqB,UAAW,OACXjqB,MAAO,MACPkqB,0BAA2B,CAC1BlqB,MAAO,QAGTmqB,cAAe,CACdnqB,MAAO,OACPoqB,QAAS,CACRpqB,MAAO,OACPsG,OAAQ,SAGV+jB,gBAAiB,CAChBC,SAAU,CACT5qB,SAAU,OACVF,OAAQ,aAETyqB,UAAW,SACXjqB,MAAO,QAERuqB,sBAAuB,CACtB/qB,OAAQL,EACR6F,SAAU,YAEX0V,eAAgB,CACf1V,SAAU,WACVzH,IAAK,MACL4H,KAAM,MACNuS,WAAY,GACZ5Q,YAAa,IAEd0jB,QAAS,CACR/rB,MAAOirB,EACPjqB,YAAaiqB,EACbe,QAAS,CACRhsB,MAAOirB,GAER9pB,YAAaT,EACb4L,aAAc5L,MDtEXurB,GAAa,SAAAjhD,GAA+C,IAA5CkhD,EAA4ClhD,EAA5CkhD,MAAOC,EAAqCnhD,EAArCmhD,YAAa1tB,EAAwBzzB,EAAxByzB,QAAwBnzB,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,mCACjE,OAAIwyC,OAAO4O,YAAc,IAEvBrtB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACqtB,GAAA,EAAD,CAAW5sB,UAAWhB,EAAQmtB,iBAA9B,IACGO,EAAc,EADjB,IACqBD,EAAM7hD,OAD3B,KACqC6hD,EAAMC,GAAa1uC,OAExDshB,EAAA50B,EAAA60B,cAACstB,GAAA,EAAD,CACCC,WAAYJ,EACZ3F,MAAO0F,EAAM7hD,OACbk8B,SAAU,SACV2D,QAAQ,WACRzK,UAAWhB,EAAQitB,iBAMtB3sB,EAAA50B,EAAA60B,cAACwtB,GAAA,EAAD,CAAYC,kBAAgB,EAACF,WAAYJ,GACvCD,EAAMpgD,IAAI,SAAC4gD,EAAMnzC,GACjB,OACCwlB,EAAA50B,EAAA60B,cAAC2tB,GAAA,EAAD,CAAMruC,IAAKouC,EAAKjvC,OACfshB,EAAA50B,EAAA60B,cAACqtB,GAAA,EAAD,KAAYK,EAAKjvC,YA+LRmvC,GAvLS,SAAAhvB,GAAS,IAAAivB,EAK5BjvB,EAHHkvB,mBAF+B,IAAAD,EAEjB,EAFiBA,EAAAE,EAK5BnvB,EAFHsuB,aAH+B,IAAAa,EAGvB,GAHuBA,EAM1BtuB,EAAUsK,KANgB0F,EAQMC,oBAAUoe,GARhBne,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAQzB0d,EARyBxd,EAAA,GAQZqe,EARYre,EAAA,GAS1Bse,EAAaf,EAAM7hD,OAAS8hD,GAAeA,EAAc,EAEzDO,EAAOR,EAAMC,IAAgB,GAC7Be,EAAYR,EAAK9uB,OAAS,GACxBsc,EAAegT,EAAfhT,WACFiT,EAAOT,EAAK9f,WAAa,KAdCwgB,EAeoBV,EAA5CW,sBAfwB,IAAAD,EAeP,KAfOA,EAeDE,EAAqBZ,EAArBY,QAASC,EAAYb,EAAZa,QAElC7zC,EAAcioB,YAAY,SAAAl3B,GAAK,OACpCkP,aAAsBlP,EAAOyvC,KAGxBsT,EAlE0B,WAAsB,IAArB9zC,EAAqBtP,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAS/C,OARekB,OAAO+S,KAAK3E,GAAaxO,OAAO,SAACuiD,EAAWnvC,GAC1D,IAAMua,EAAMnf,EAAY4E,GAIxB,OAHIua,EAAIkhB,OACP0T,EAAU11C,KAAK,CAAEyf,IAAKqB,EAAI0e,OAAQsH,MAAOzzC,aAAEkT,EAAK,CAAE/K,QAAQ,MAEpDk6C,GACL,IA2DiBC,CAAyBh0C,GAEvC8hC,EAAU7Z,YAAY,SAAAl3B,GAAK,OAAIsH,aAAkBtH,EAAOyvC,KAExDyT,EAAcjF,sBAAY,WAC/B,OAAQp9C,OAAO+S,KAAK3E,GAAe,IAAIrP,QACrC,CAACqP,IAIEk0C,EAAWlF,sBAAW,eAAAh9C,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAC3B,SAAAO,EAAMwqC,GAAN,IAAAC,EAAA,OAAAthC,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OAEO0qC,EAAYD,EAAW1B,GADV0B,EAAW1B,GAGZ2B,IACjBd,EAAea,GALjB,wBAAAnqC,EAAAO,SAAAZ,MAD2B,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAS3B,CAAC+hD,IAGI4B,EAAmBrF,sBAAWp9C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAC,SAAAC,IAAA,OAAAyJ,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAChC6pC,GACHW,EAASzB,EAAc,GAFY,wBAAAjpC,EAAAe,SAAAlB,MAIlC,CAACkqC,EAAYd,EAAayB,IAEvBI,EAAetF,sBAAWp9C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAC,SAAAqC,IAAA,OAAAqH,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OAC5BiqC,EACHA,EAAe,CACdE,UACArT,aACAH,OAAO,EACPuT,QAASA,GAAY,kBAAMM,EAASzB,EAAc,MAEzCwB,KACVC,EAASzB,EAAc,GATQ,wBAAA7mC,EAAArB,SAAAkB,MAW9B,CACFgnC,EACAyB,EACAD,EACAL,EACAD,EACAE,EACArT,IAGDyO,oBAAU,WACL0E,GACHA,EAAe,CAAEE,UAASrT,aAAYH,OAAO,KAE5C,CAACoS,EAAakB,EAAgBE,EAASrT,IAE1C,IAAM+T,EAAevF,sBAAW,eAAAt8C,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAC/B,SAAA0B,EAAMqkB,GAAN,OAAArc,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,OACgB,UAAXylB,EAAGvqB,MACNuqB,EAAG9E,iBACHiqB,KAHF,wBAAA/oC,EAAAhB,SAAAO,MAD+B,gBAAAN,GAAA,OAAA9X,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAO/B,CAAC4jD,IAGF,OACCjvB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ0sB,eAAgB+C,WAAYD,GACnDlvB,EAAA50B,EAAA60B,cAACojB,GAAA,EAAD,CACC3jB,QAAS,CACR0H,KAAM1H,EAAQ0vB,aAGfpvB,EAAA50B,EAAA60B,cAACovB,GAAD9iD,OAAAs2B,OAAA,GACKhE,EADL,CAECsuB,MAAOA,EACPztB,QAASA,EACT0tB,YAAaA,EACbyB,SAAUA,MAGZ7uB,EAAA50B,EAAA60B,cAAA,WAEAD,EAAA50B,EAAA60B,cAACojB,GAAA,EAAD,CACC3jB,QAAS,CACR0H,KAAM1H,EAAQ2sB,YAGfrsB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ4sB,eACpB8B,GAAQpuB,EAAA50B,EAAA60B,cAACmuB,EAASD,KAElBM,GACFzuB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3J,MAAM,cACTwtB,EAAY1hD,IAAI,SAAA+sB,GAAG,OACnBkG,EAAA50B,EAAA60B,cAAC0jB,GAAA,EAAD,CACCpkC,IAAKua,EAAIgmB,MACTpgB,QAAS,CAAE0H,KAAM1H,EAAQstB,SACzBpsB,KAAMZ,EAAA50B,EAAA60B,cAACqvB,EAAAlkD,EAAD,MACN+/B,QAAQ,WACRoL,KAAK,QACLv1B,MAAK,GAAAvC,OAAKqb,EAAIgmB,MAAT,MAAArhC,OAAmBqb,EAAIrB,KAC5BwI,MAAM,gBAOXjB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ0V,UACvBpV,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQiI,OACtBumB,GAAgBP,EAAK4B,oBAAsBX,IAG3C,GAFA5uB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ7C,QAAS8tB,GAAmB3iD,aAAE,UAMxC2zB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQkI,QAEtB+lB,EAAK6B,WAAe7B,EAAK4B,oBAAsBX,IAE5C,KADH5uB,EAAA50B,EAAA60B,cAAC0tB,EAAK6B,UAAN,MAG+B,oBAAxB7B,EAAK8B,gBACX9B,EAAK4B,oBAAsBX,IAEzB,KADH5uB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ7C,QAASysB,EAAK8B,gBAAiBpjD,aAAE,YAIxCshD,EAAK+B,aAAiBpB,EACvBtuB,EAAA50B,EAAA60B,cAAA,QAAMS,UAAWhB,EAAQqtB,uBACxB/sB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC8V,SAAU4C,IAAamS,MAAkBN,EACzCnjB,QAAQ,YACRlK,MAAM,UACNC,QAAS+tB,GAER5iD,aAAE,aAEHowC,GACAzc,EAAA50B,EAAA60B,cAAC4L,GAAA,EAAD,CACC0K,KAAM,GACN7V,UAAWhB,EAAQwd,kBAInB,KACHyQ,EAAK+B,cAAgBpB,GAAkBM,IACvC5uB,EAAA50B,EAAA60B,cAAC0tB,EAAK+B,YAAN,MAEA,QElODC,iMACiBtwB,GACrB,OAAOhJ,KAAKC,UAAUlR,KAAKyZ,SAAWxI,KAAKC,UAAU+I,oCAG7C,IAAAzS,EAAAxH,KACF+nC,EAAQ,GADN9pB,EAYJje,KAAKyZ,MATR2d,EAHOnZ,EAGPmZ,QACAoT,EAJOvsB,EAIPusB,UAEAC,GANOxsB,EAKPosB,eALOpsB,EAMPwsB,QACArB,EAPOnrB,EAOPmrB,QACAsB,EAROzsB,EAQPysB,WACAC,EATO1sB,EASP0sB,iBACAC,EAVO3sB,EAUP2sB,eACGz3C,EAXIhM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,8GAaF4sB,EAAe,kBACpBjwB,EAAA50B,EAAA60B,cAAC2vB,EAADrjD,OAAAs2B,OAAA,GAAetqB,EAAf,CAAqBi2C,QAASA,EAASqB,OAAQA,EAAQxjD,EAAGA,SAErD8uC,GAAc6U,GAAkB,IAAM,IAAMxB,EA8BlD,OA5BAsB,EAAWhU,QAAQ,SAAC6R,EAAMnsC,GACzB2rC,EAAMn0C,KAAK,CACV0F,MAAOrS,aAAEshD,EAAKjvC,OACd8wC,UAAWS,EACXpiB,UAAY8f,EAAKW,eAEdX,EAAKA,MAAQA,EADbpR,GAAaoR,EAAKA,MAAQA,GAE7BW,eAAgBX,EAAKW,eACrB4B,oBAAqBvC,EAAKuC,oBAC1B1B,UACA3vB,MAAMtyB,OAAAC,GAAA,EAAAD,CAAA,GAAMqgB,EAAKiS,MAAZ,CAAmB2vB,UAASrT,WAAYA,EAAa,IAAM35B,QAIlE2rC,EAAMn0C,KAAK,CACV0F,MAAOrS,aAAE0jD,EAAiBrxC,OAAS,WACnCgxC,YAAa,kBACZ1vB,EAAA50B,EAAA60B,cAACuc,EAADjwC,OAAAs2B,OAAA,GAAatqB,EAAb,CAAmBi2C,QAASA,EAASqB,OAAQA,EAAQxjD,EAAGA,SAEzDmjD,UAAWS,EACXpiB,UAAW0O,GAAawT,EAAiBpC,MAAQoC,GACjDvB,UACA3vB,MAAMtyB,OAAAC,GAAA,EAAAD,CAAA,GACF6Y,KAAKyZ,MADJ,CAEJsc,WAAYA,EAAa,IAAM2U,EAAWxkD,WAM3C00B,EAAA50B,EAAA60B,cAACkwB,GAAD,CAAiBhD,MAAOA,WArDH7rB,aAkETsE,wBAAW,SAAC/G,EAAO0G,GAAR,OACzBvF,EAAA50B,EAAA60B,cAACmwB,GAAD7jD,OAAAs2B,OAAA,GAAehE,EAAf,CAAsBsG,aAAcI,sCCvExB2B,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GACxB0uB,EAAaryC,KAAKC,IAAIwgC,OAAO6R,YAAc3uB,EAAS,KAC1D,MAAO,CACNiT,OAAQ,CACPnN,UAAS,GAAAhpB,OAAK4xC,EAAL,MACT/lB,SAAU,KACV7H,SAAU,KACV5hB,gBAAiBo5B,KAAK,KAEtBhE,2BAA4B,CAC3BxT,SAAU,OACV6H,SAAQ,gBAAA7rB,OAAkBijB,EAAMC,QAAQ,GAAhC,QAETqU,2BAA4B,CAC3BvO,UAAS,QAAAhpB,OAAU4xC,EAAV,OAAA5xC,OAA0BijB,EAAMC,QAAQ,GAAxC,SAGX4uB,YAAa,CACZluB,QAAS,OACT2F,cAAe,MACf1F,WAAY,SACZmG,eAAgB,gBAChB+nB,SAAU,cAEXvnB,QAAS,CACR5G,QAAS,OACT2F,cAAe,SACfD,KAAM,WACNP,SAAU,WACV6B,QAAS,EACTrH,OAAM,KAAAvjB,OAAOkjB,EAAP,OAAAljB,OAAoBkjB,EAApB,OAAAljB,OAAiCkjB,EAAjC,MACN8uB,gBAAiB,CAChBtoB,WAAYxG,GAEb4F,SAAU,UACVkF,UAAW,QAEZikB,WAAY,CAMXruB,QAAS,OACT2F,cAAe,SACfD,KAAM,GAEP4oB,QAAS,CACR3uB,OAAQ,SACRQ,MAAO,QAERouB,YAAa,CACZvpB,SAAU,GAEXwpB,0BAA2B,CAC1BC,WAAY,EACZ1uB,YAAaV,EAAMC,QAAQ,IAE5BovB,kBAAmB,CAClB1uB,QAAS,OACT2F,cAAe,MACfS,eAAgB,SAChBnG,WAAY,SACZ0uB,UAAW,CACV3nB,QAAS3H,EAAMC,QAAQ,KAGzBsvB,QAAS,CACRnb,OAAQ,WAETob,YAAa,CACZ9uB,YAAaV,EAAMC,QAAQ,IAE5BwvB,QAAQ5kD,OAAA80B,EAAA,EAAA90B,CAAA,CACPwxC,cAAe,YAEf0O,UAAW,SACV/qB,EAAMmG,YAAYupB,KAAK,MAAQ,CAC/B3E,UAAW,SAGb4E,SAAU,CACT5E,UAAW,QAEZ6E,qBAAsB,CACrB9pB,SAAU,WACVG,KAAM,mBACN5H,IAAK,oBAENwxB,SAAU,CACT/pB,SAAU,QACVzH,IAAK,GACL6H,MAAO,GACPN,OAAQ5F,EAAM4F,OAAOI,QAEtB8pB,UAAW,CACVjvB,UAAW,aACXkvB,aAAc,aACdC,QAAS,QAEVC,QAAS,CACR5xB,IAAK,OACL4H,KAAM,OACNC,MAAO,EACP4E,OAAQ,EACRhK,MAAO,QACPsG,OAAQ,OACRtB,SAAU,YAEXoqB,SAAU,CACTpqB,SAAU,YAEXqqB,iBAAkB,CACjBtkB,aAAc,QAEfukB,mBAAoB,CACnBzvB,QAAS,OACT0F,KAAM,EACNC,cAAe,SACfS,eAAgB,SAChBnG,WAAY,YC5FTyvB,GAAUtwB,YAAWyF,GAAXzF,CAbA,SAAAx1B,GAA4D,IAAzD+U,EAAyD/U,EAAzD+U,MAAO0f,EAAkDz0B,EAAlDy0B,UAAWhB,EAAuCzzB,EAAvCyzB,QAASkH,EAA8B36B,EAA9B26B,MAAO1F,EAAuBj1B,EAAvBi1B,QAAuB30B,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,mDAC3E,OACC+zB,EAAA50B,EAAA60B,cAAA,QACCS,UAAWC,IAAWjB,EAAQuxB,QAASvwB,GACvCkG,MAAOA,EACP1F,QAASA,GAER,IACAlgB,EAAO,OAOLgxC,GAAavsB,IAAMG,WAAW,SAAoB/G,EAAO0G,GAC9D,OAAOvF,EAAA50B,EAAA60B,cAACgyB,GAAA,EAAD1lD,OAAAs2B,OAAA,CAAOqvB,UAAU,KAAK3sB,IAAKA,GAAS1G,MAGtCmL,GAAYC,aAAW/C,IAEd,SAAS+X,GAAQtc,GAC/B,SAASwvB,EAAWtzB,GAAO,IAEzBsG,EAoBGtG,EApBHsG,aACAitB,EAmBGvzB,EAnBHuzB,WACAC,EAkBGxzB,EAlBHwzB,WACAxV,EAiBGhe,EAjBHge,UACA1R,EAgBGtM,EAhBHsM,QAEAlK,GAcGpC,EAfHyzB,WAeGzzB,EAdHoC,OACAsV,EAaG1X,EAbH0X,KACAhC,EAYG1V,EAZH0V,KACAge,EAWG1zB,EAXH0zB,aACAC,EAUG3zB,EAVH2zB,SACA3Y,EASGhb,EATHgb,SACAnZ,EAQG7B,EARH6B,UACAE,EAOG/B,EAPH+B,KACAliB,EAMGmgB,EANHngB,MACA+zC,EAKG5zB,EALH4zB,cACAvxB,EAIGrC,EAJHqC,QACA0gB,EAGG/iB,EAHH+iB,UACA8Q,EAEG7zB,EAFH6zB,aACGn6C,EArBsBhM,OAAAiM,GAAA,EAAAjM,CAsBtBsyB,EAtBsB,0NAwBpB8zB,EAAW,CAChB1xB,QACAsV,OACAhC,OACApJ,WAGKzL,EAAUsK,KA/BU0F,EAgCFC,oBAAS,GAhCPC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAgCnBvP,EAhCmByP,EAAA,GAgCbgjB,EAhCahjB,EAAA,GAkCpB8C,EAAY,eAAA/lC,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,IAAA,OAAAmJ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UACQ,oBAAjBquC,GAAgCvyB,EADvB,CAAAxb,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EAEbquC,IAFa,OAKpBE,GAASzyB,GALW,wBAAAxb,EAAAO,SAAAZ,MAAH,yBAAA3X,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAQZy5B,EAAW,eAAAh4B,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAC,EAAM8lB,GAAN,OAAArc,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACnBylB,GAAMA,EAAG7E,iBAAmB6E,EAAG7E,kBAC/B6E,GAAMA,EAAG9E,gBAAkB8E,EAAG9E,iBAFX7gB,EAAAE,KAAA,EAGbquB,IAHa,OAIfxR,GAASA,IAJM,wBAAA/c,EAAAe,SAAAlB,MAAH,gBAAAuB,GAAA,OAAAzY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAWbwnD,EAAkB,KAElBT,EACHS,EAAkB9xB,IACRsxB,EACVQ,EAAkBd,GACRlV,EACVgW,EAAkBve,MAElBue,EAAkB9uB,IAClB4uB,EAAS/Q,UAAYA,GAGtB,IAAMkR,EAAqBN,EACxBnmD,aAAEmmD,EAAU,CAAE99C,KAAM69C,GAAgB,CAAC,MACrC,GAEH,OACCvyB,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAC4yB,EAADtmD,OAAAs2B,OAAA,CACCgX,SAAUA,EACV7Y,aAAY8xB,EACZ9xC,MAAO8xC,EACP5xB,QAAS,SAAA4I,GAAE,OAAIhF,EAAYgF,KACvB6oB,EALL,CAMCjyB,UAAWC,IACVD,EADoBn0B,OAAA80B,EAAA,EAAA90B,CAAA,GAEjBmzB,EAAQ6xB,WAAa1U,GAFJtwC,OAAA80B,EAAA,EAAA90B,CAAA,GAGjBmzB,EAAQqzB,MAAkB,UAAV9xB,GAHC10B,OAAA80B,EAAA,EAAA90B,CAAA,GAIjBmzB,EAAQszB,OAAmB,WAAV/xB,MAGpBL,GACCwxB,GAAcU,GAEjB9yB,EAAA50B,EAAA60B,cAACyD,EAAA,EAAD,CAKCvD,KAAMA,EACNG,QAASoS,EACTugB,oBAAqBjB,GACrBtyB,QAAS,CAAEyM,MAAOzM,EAAQkV,SAI1B5U,EAAA50B,EAAA60B,cAAC0D,EAAA,EAAD,CAAauvB,mBAAiB,GAC7BlzB,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CACC9C,QAAQ,YACRzL,QAAS,CACR0H,KAAMzG,IAAWjB,EAAQ6wB,YAAa7wB,EAAQ8xB,aAG9CnlD,aAAEqS,GACHshB,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CAAYG,QAASwR,GACpB1S,EAAA50B,EAAA60B,cAACmc,GAAAhxC,EAAD,SAGY,IACf40B,EAAA50B,EAAA60B,cAAC2D,EAAA,EAAD,CAAelE,QAAS,CAAE0H,KAAM1H,EAAQuJ,UACvCjJ,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,CAAW0C,IAAKJ,GAAkB5sB,EAAlC,CAAwC46C,YAjExB,WACnBP,GAAQ,QAkELH,GAAiBzyB,EAAA50B,EAAA60B,cAAC6D,EAAA,EAAD,KAAgB2uB,KAatC,OAAO7sB,qBAAW,SAAC/G,EAAO0G,GAAR,OACjBvF,EAAA50B,EAAA60B,cAACkyB,EAAD5lD,OAAAs2B,OAAA,GAAgBhE,EAAhB,CAAuBsG,aAAcI,qDCnKxB,SAAS6tB,GAAazwB,GAAW,IACzC0wB,EADyC,SAAAz0B,GAE9C,SAAAy0B,EAAYx0B,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAiuC,IAClBzmC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA8mD,GAAArmC,KAAA5H,KAAMyZ,KAUPgL,aAAe,SAAC+W,EAAM7qC,EAAO4lC,GAC5B/uB,EAAKiS,MAAMhhB,QAAQy1C,cAClB1mC,EAAKiS,MAAM5jB,QACX0gC,GAASpvC,OAAA80B,EAAA,EAAA90B,CAAA,GAAOq0C,EAAO7qC,GACvB,SACAuF,YAhBiBsR,EAoBnBijC,OAAS,WAAM,IACNsD,EAAgBvmC,EAAKiS,MAArBs0B,YACJA,GACHA,KAvBiBvmC,EA2BnB+vB,KAAO,WAAM,IAAAtZ,EACiBzW,EAAKiS,MAA1BhhB,EADIwlB,EACJxlB,QAAS5C,EADLooB,EACKpoB,QACjB4C,EAAQ01C,QAAQt4C,GAEhB2R,EAAKijC,SACLhyC,EAAQ21C,aAAa,WAhCH5mC,EAmCnB2R,OAAS,WACR3R,EAAKijC,SACLjjC,EAAKiS,MAAMhhB,QAAQ21C,aAAa,WAlChC5mC,EAAK+vB,KAAO/vB,EAAK+vB,KAAK1Z,KAAV12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IAEZA,EAAKlhB,MAAQ,CACZszB,QAAQ,EACRy0B,OAAO,GAPU7mC,EAF2B,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA8mD,EAAAz0B,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA8mD,EAAA,EAAA9zC,IAAA,SAAAxJ,MAAA,WA0CrC,IAAAmvB,EACqB9f,KAAKyZ,MAAdtmB,GADZ2sB,EACAxF,QADAnzB,OAAAiM,GAAA,EAAAjM,CAAA24B,EAAA,cAER,OACClF,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKtqB,EADL,CAECokC,KAAMv3B,KAAKu3B,KACX9S,aAAczkB,KAAKykB,aACnBtL,OAAQnZ,KAAKmZ,cAjD8B80B,EAAA,CACxB/xB,aA0EvB,OAAO5R,YAbP,SAAyBhkB,EAAOmzB,GAAO,IAC9BztB,EAAW1F,EAAX0F,OACR,MAAO,CACN6J,QAAS,IAAIK,UAAOlK,EAAO6J,QAAP,UAItB,SAA4BsmB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGL2jC,8CCtEGrpB,GAAYC,aCfI,SAAAvI,GAAK,MAAK,CAC/BgyB,YAAa,CAEZppB,SAAU,QD8GGqpB,OAhGf,SAAkB90B,GACjB,IAAMa,EAAUsK,KAGfgB,EAgBGnM,EAhBHmM,SAJuB4oB,EAoBpB/0B,EAfH7d,aALuB,IAAA4yC,EAKf,GALeA,EAMvB79C,EAcG8oB,EAdH9oB,MANuB89C,EAoBpBh1B,EAbHpd,cAPuB,IAAAoyC,EAOd,GAPcA,EAAAC,EAoBpBj1B,EAZHk1B,cARuB,IAAAD,EAQd,UARcA,EAAAE,EAoBpBn1B,EAXHgb,gBATuB,IAAAma,KAAAC,EAoBpBp1B,EAVH/P,aAVuB,IAAAmlC,KAWvBC,EASGr1B,EATHq1B,WAXuBC,EAoBpBt1B,EAPH+iB,iBAbuB,IAAAuS,KAcvBzzB,EAMG7B,EANH6B,UACAka,EAKG/b,EALH+b,SACAlP,EAIG7M,EAJH6M,QACA0oB,EAGGv1B,EAHHu1B,WACAjpB,EAEGtM,EAFHsM,QACAkpB,EACGx1B,EADHw1B,cAGKC,EAAa7uB,IAAM8uB,OAAO,MAtBRC,EAuBY/uB,IAAMkK,SAAS,GAvB3B8kB,EAAAloD,OAAA4J,GAAA,EAAA5J,CAAAioD,EAAA,GAuBjBE,EAvBiBD,EAAA,GAuBLE,EAvBKF,EAAA,GAiCxB,OATAhvB,IAAMmkB,UAAU,WACf+K,EAAcL,EAAWz0C,QAAQ+0C,cAC/B,IAQF50B,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACCjhB,UAAWC,IAAWD,EAAWhB,EAAQg0B,aACzC7Z,SAAUA,EACV/qB,MAAOA,EACP8yB,UAAWA,EACXzW,QAASA,GAETnL,EAAA50B,EAAA60B,cAAC4hB,GAAA,EAAD,CAAYtc,IAAK+uB,EAAYtR,QAAS+Q,EAAQnZ,SAAUA,GACtD55B,GAECS,EAAOnW,SAAWogC,EACpB1L,EAAA50B,EAAA60B,cAAC40B,GAAA,EAAD,CACC9+C,MAAOA,EAAM9C,IAAM8C,EACnBi1B,SAnBiB,SAAAjG,GACpBiG,EAASjG,EAAMqB,OAAOrwB,QAmBnB2+C,WAAYA,EACZL,cAAeA,GAEd9nD,OAAA2D,GAAA,EAAA3D,CAAIkV,GAAQ1U,IAAI,SAAAqiC,GAChB,OAAOA,EAAIztB,MACVqe,EAAA50B,EAAA60B,cAAC60B,GAAA,EAAD,CAAev1C,IAAK6vB,EAAIztB,MAAMtE,MAAQ+xB,EAAIztB,OACxCytB,EAAIztB,MAAMtE,MAAQ+xB,EAAIztB,OAGxBqe,EAAA50B,EAAA60B,cAACgR,GAAA,EAAD,CACC1xB,IAAK6vB,EAAIr5B,MAAMwJ,KAAO6vB,EAAIr5B,MAAM9C,IAAMm8B,EAAIr5B,MAC1CA,MAAOq5B,EAAIr5B,MAAM9C,IAAMm8B,EAAIr5B,OAE1Bq5B,EAAIpuB,UAKL0qB,EAGJ1L,EAAA50B,EAAA60B,cAAAD,EAAA50B,EAAAqjC,SAAA,KACCzO,EAAA50B,EAAA60B,cAAC6hB,GAAA,EAAD,CAAOjI,UAAQ,EAAC9jC,MAAO1J,aAAE,kBACzB2zB,EAAA50B,EAAA60B,cAAC80B,GAAD,OAJD/0B,EAAA50B,EAAA60B,cAAC6hB,GAAA,EAAD,CAAOjI,UAAQ,EAAC9jC,MAAOq+C,IAMrB,IACFF,GAAcl0B,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KAAiB4R,8CE/E3Bc,GAAepW,WAAfoW,WAEFC,GAAU9zC,aAAUC,aAAarU,IAAI,SAAAwI,GAC1C,MAAO,CACNQ,MAAOR,EACPyL,MAAOzL,EAAKjH,MAAM,KAAK,MAqMVo0B,KAFQ0wB,eA9LtB,SAAA8B,EAAYr2B,GAAO,IAAAjS,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA8vC,IAClBtoC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA2oD,GAAAloC,KAAA5H,KAAMyZ,KAiDPs2B,sBAAwB,SAACna,EAAOjlC,GAC/B,IAAMuE,EAASwmC,OAAIzG,SAAStkC,EAAOi/C,GAAWz/C,MAC9CqX,EAAKiS,MAAMgL,aAAa,OAAQ9zB,GAChC6W,EAAKiS,MAAMwb,SAAS,OAAQ,CAC3BQ,SAAUvgC,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,KAxDU,IAEV//B,EAAY4jB,EAAZ5jB,QAFU,OAGlB2R,EAAKm1B,cAAc9mC,EAAQyD,OAAO,GAClCkO,EAAKu2B,oBAAoBloC,EAAQ+lC,aAAa,GAC9Cp0B,EAAKwoC,kBAAkBn6C,EAAQo6C,WAAW,GAC1CzoC,EAAKuoC,uBAAsB,EAAOl6C,EAAQ1F,MANxBqX,kFASA0oC,GAEjBA,EAAUr6C,QAAQyD,QAAU0G,KAAKyZ,MAAM5jB,QAAQyD,OAC/C42C,EAAUr6C,QAAQ1F,OAAS6P,KAAKyZ,MAAM5jB,QAAQ1F,MAC9C+/C,EAAUr6C,QAAQomC,KAAKkU,aAAenwC,KAAKyZ,MAAM5jB,QAAQomC,KAAKkU,YAE9DnwC,KAAKowC,yDAIOn4C,EAAM29B,EAAOxC,GAC1B,IAAMl+B,EAASwmC,OAAIzG,SAASh9B,EAAM23C,GAAWt2C,OAE7C0G,KAAKyZ,MAAMwb,SAAS,QAAS,CAC5BQ,SAAUvgC,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,gDAIW39B,EAAM29B,EAAOxC,GAChC,IAAMl+B,EAASwmC,OAAIzG,SAASh9B,EAAM23C,GAAWhU,aAE7C57B,KAAKyZ,MAAMwb,SAAS,cAAe,CAClCQ,SAAUvgC,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,8CAISqa,EAAWra,GAC5B,IAAMya,EAAW,SAAAnhC,GAAG,MAAM,gBAAgB6D,KAAK7D,GAAyBA,EAA/C,UAAA7V,OAAuC6V,IAC1Dha,EAASwmC,OAAIzG,SAASob,EAASJ,GAAYL,GAAWK,WAC5DjwC,KAAKyZ,MAAMwb,SAAS,YAAa,CAChCQ,SAAUvgC,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,IAEH1gC,EAAOwU,OAAO1J,KAAKowC,iBAAiBC,EAASJ,+CAahC,IAAAhyB,EACgBje,KAAKyZ,MAA/BgL,EADUxG,EACVwG,aAAc5uB,EADJooB,EACIpoB,QACdo6C,EAAiCp6C,EAAjCo6C,UAAW32C,EAAsBzD,EAAtByD,MAAOnJ,EAAe0F,EAAf1F,KAClBggD,EADiCt6C,EAATomC,KACxBkU,WACFF,GAOLxrB,EAAa,YC1FiB,SAAA59B,GAK3B,IAJLopD,EAIKppD,EAJLopD,UACAr5C,EAGK/P,EAHL+P,SACAitB,EAEKh9B,EAFLg9B,QACAysB,EACKzpD,EADLypD,cAEA,GAAML,EAAW,CAChB,IAAMle,EAAM7iB,KAAIuF,MAAMw7B,GAAW,GAGjC,GAFAle,EAAIvlC,OAAS,KAETulC,EAAIwe,UAAYxe,EAAIye,KAAM,CAC7B,IAAMC,EAAW,GACjB,GAAIH,EAAe,CAClB,QAAAI,EAAA,EAAAC,EAAyBxpD,OAAOypD,QAAQ7e,EAAItlC,OAA5CikD,EAAAC,EAAAzqD,OAAAwqD,IAAoD,KAAA5oD,EAAA6oD,EAAAD,GAAAhpD,EAAAP,OAAA4J,GAAA,EAAA5J,CAAAW,EAAA,GAA1CqS,EAA0CzS,EAAA,GAArCiJ,EAAqCjJ,EAAA,GAC/CmpD,KAAW12C,KAASxJ,IACvB8/C,EAASt2C,GAAOxJ,GAGlBohC,EAAItlC,MAAQgkD,MACN,CACN,IAAMhkD,EAAKtF,OAAAC,GAAA,EAAAD,CAAA,GAAQ0pD,KAAe9e,EAAItlC,OAElCmK,IACHnK,EAAK,aAAmBmK,GAErBitB,IACHp3B,EAAK,YAAkBo3B,GAExBkO,EAAItlC,MAAQA,EAEb,OAAOyiB,KAAI4hC,OAAO/e,IAIpB,OAAOke,EDkDgBc,CAAkB,CACtCd,YACAr5C,SAAU0C,EACVuqB,QAAS1zB,EACTmgD,eAAgBH,oDAMIzrB,GAAI,IAClBuX,EAASj8B,KAAKyZ,MAAM5jB,QAApBomC,KACF+U,EAAO7pD,OAAAC,GAAA,EAAAD,CAAA,GAAQ80C,GAErB+U,EAAQb,WAAazrB,EAAG1D,OAAOiwB,QAC/BjxC,KAAKyZ,MAAMgL,aAAa,OAAQusB,oCAGxB,IAAA32B,EAAAra,KAAA8f,EAC4C9f,KAAKyZ,MAAjDxyB,EADA64B,EACA74B,EAAG4O,EADHiqB,EACGjqB,QAASwgC,EADZvW,EACYuW,cAAe5R,EAD3B3E,EAC2B2E,aAC3BwrB,EAA8Cp6C,EAA9Co6C,UAAW9/C,EAAmC0F,EAAnC1F,KAAMmJ,EAA6BzD,EAA7ByD,MAAOsiC,EAAsB/lC,EAAtB+lC,YACxBuU,EAD8Ct6C,EAATomC,KACrCkU,WACFe,EAAW7a,EAAa,MACxB8a,EAAiB9a,EAAa,YAC9B+a,EAAe/a,EAAa,UAElC,OACCzb,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,EAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,OACLtH,MAAO2I,EACPssB,SAAU,SAAAlB,GAAE,OAAID,EAAa,QAASC,EAAG1D,OAAOrwB,QAChDksC,OAAQ,kBAAMxiB,EAAKsiB,cAAcrjC,GAAO,IACxCwjC,QAAS,kBAAMziB,EAAKsiB,cAAcrjC,GAAO,IACzCoQ,MAAOwnC,KAAcA,EAAStb,MAC9BgH,UAAW,IACXkS,WACCoC,GAAcA,EAAStb,MACpBsb,EAAS9d,OACTnsC,EAAE,mBAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACL0tC,WAAS,EACTC,KAAM,EACNliC,MAAO3U,EAAE,cAAe,CAAEmI,QAAQ,IAClCuB,MAAOirC,EACPhW,SAAU,SAAAlB,GAAE,OAAID,EAAa,cAAeC,EAAG1D,OAAOrwB,QACtDksC,OAAQ,WACPxiB,EAAK0jB,oBAAoBnC,GAAa,IAEvCkB,QAAS,kBAAMziB,EAAK0jB,oBAAoBnC,GAAa,IACrDlyB,MAAOynC,KAAoBA,EAAevb,MAC1CgH,UAAW,IACXkS,WACCqC,GAAoBA,EAAevb,MAChCub,EAAe/d,OACfnsC,EAAE,yBAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,EAAE,YAAa,CAAEmI,QAAQ,IAChCuB,MAAOs/C,EACPrqB,SAAU,SAAAlB,GAAE,OAAID,EAAa,YAAaC,EAAG1D,OAAOrwB,QACpDksC,OAAQ,kBAAMxiB,EAAK21B,kBAAkBC,GAAW,IAChDnT,QAAS,kBAAMziB,EAAK21B,kBAAkBC,GAAW,IACjDvmC,MAAO0nC,KAAkBA,EAAaxb,MACtCkZ,WACCsC,GAAkBA,EAAaxb,MAAQwb,EAAahe,OAAS,MAIhExY,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAA50B,EAAA60B,cAAC22B,GAAA,EAAD,CACCP,QAASd,EACTvqB,SAAU,SAAAlB,GAAE,OAAIrK,EAAKo3B,uBAAuB/sB,IAC5C/zB,MAAM,WACNkrB,MAAM,YAGRjgB,MAAO3U,EAAE,mBAGX2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,IACtBzZ,EAAA50B,EAAA60B,cAAC62B,GAAD,CACClV,WAAS,EACThH,UAAQ,EACR5P,SAAU5lB,KAAK+vC,sBAAsBlyB,KAAK7d,MAAM,GAChD3D,OAAQwzC,GACRl/C,MAAOR,EAAO,GACdyL,MAAO3U,EAAE,SAAU,CAAEmI,QAAQ,IAC7Bu/C,OAAO,aACP12C,KAAK,qBA/KcikB,eEbpBy1B,GAAyB,SAAAxhD,GAE9B,KADAA,EAAOA,GAAQ,IAEd,MAAO,CACNitB,MAAO,EACPsG,OAAQ,GAIV,IAAMkuB,EAAQzhD,EAAKjH,MAAM,KAAK,GAAGA,MAAM,KACvC,MAAO,CACNk0B,MAAOnpB,SAAS29C,EAAM,GAAI,IAC1BluB,OAAQzvB,SAAS29C,EAAM,GAAI,MAwFdt0B,KAFQ0wB,GAAajZ,8MAlDnC8c,gBAAkB,SAACrW,EAAMjL,GAAQ,IAAAtS,EACEzW,EAAKiS,MAA/B5jB,EADwBooB,EACxBpoB,SAER4uB,EAHgCxG,EACfwG,cAEJ+W,EADAr0C,OAAAC,GAAA,EAAAD,CAAA,GAAQ0O,EAAQomC,KAAS1L,wFAjCnB,IAAAzQ,EAC0B9f,KAAKyZ,MAA1C5jB,EADWiqB,EACXjqB,QAASo/B,EADEnV,EACFmV,SAAUY,EADR/V,EACQ+V,cACnB1lC,EAAe0F,EAAf1F,KAAM8rC,EAASpmC,EAATomC,KACNxJ,EAAkBwJ,EAAlBxJ,QAASD,EAASyJ,EAATzJ,KAHEsf,EAKOH,GAAuBxhD,GAAzCitB,EALW00B,EAKX10B,MAAOsG,EALIouB,EAKJpuB,OAEX+O,EACHoD,EACC,CACCX,UAAW,OACXC,YAAa/X,EACbgY,aAAc1R,EACdrQ,IAAK,qBACLkiB,OAAO,EACPC,UAAU,GAEX,CACC/C,UACAD,SAIFyC,EAAS,OAAQ,CAChBQ,SAAS,EACT/gB,IAAK,CAAErB,IAAK,sBACZuiB,OAAO,qCAWD,IAAA3F,EAC8BjwB,KAAKyZ,MAAnC5jB,EADAo6B,EACAp6B,QAAS5O,EADTgpC,EACShpC,EAAG4uC,EADZ5F,EACY4F,cACZ1lC,EAAe0F,EAAf1F,KAAM8rC,EAASpmC,EAATomC,KACRrF,EAAS52B,KAAKyZ,MAAM4c,cAAX,KAHP0b,EAIkBJ,GAAuBxhD,GAAzCitB,EAJA20B,EAIA30B,MAAOsG,EAJPquB,EAIOruB,OAEf,OACC9I,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,GACdtZ,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAACoc,GAAD,CACCr7B,MAAO3U,EAAE,yBACT8kC,OAAQkQ,EAAKxJ,SAAW,GACxBD,KAAMyJ,EAAKzJ,MAAQ,GACnB5M,SAAUiQ,EAAchY,KAAK7d,KAAM,CAClCk1B,UAAW,OACXC,YAAa/X,EACbgY,aAAc1R,EACdrQ,IAAK,qBACLkiB,OAAO,EACPC,UAAU,EACV5P,SAAU5lB,KAAK6xC,kBAEhBje,eAAgB3sC,EAAE,uBAAwB,CACzCqI,KAAM,CAAC8tB,EAAOsG,EAAQ,QAEvB0P,OAAQwD,EAASA,EAAOxD,OAAS,GACjCjC,KAAM,CACL/T,MAAOA,EACPsG,OAAQA,eAnEUxH,2BCyDb81B,GAAiB,WAKzB,IAJJC,EAIIhsD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAJS,GACboW,EAGIpW,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAFJ+rD,EAEIjsD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADJgsD,EACIlsD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACJ,OAAK8rD,GAGJA,EAAaA,EAAW/qC,cAAci/B,QAEtC9pC,EAASA,EAAOhK,OAAO,SAAA+/C,GACtB,OACEH,IAI0B,IAH3BG,EAAWx2C,MACTsL,cACAi/B,OACAjM,QAAQ+X,MAKUtqD,IAAI,SAAA+L,GACzB,OAAOA,EAAK/C,QAIJ60C,SAASyM,KACjBC,GACEC,IAAoBA,EAAiBF,IAEvC51C,EAAOzI,KAhDY,SAAAq+C,GACrB,MAAO,CACNr2C,MAAK,GAAAvC,OAAK5J,YACT,oBADI,MAAA4J,OAEC44C,EAAW/qC,cAAci/B,OAF1B,KAGLx1C,MAAOshD,EAAW/qC,cAAci/B,QA2CnBkM,CAAcJ,IAGpB51C,GA3BAA,GCNMggB,mBClFO,SAAAC,GAAK,MAAK,CAC/B0F,KAAM,CACLC,SAAU,EACVyB,OAAQ,KAETwQ,UAAW,CACVjS,SAAU,EACVG,SAAU,YAEX2E,MAAO,CACN3E,SAAU,WAEVF,OAAQ,IACR4S,UAAWxY,EAAMC,QAAQ,GACzBgG,KAAM,EACNC,MAAO,EACPL,SAAU,SACVuB,OAAQ,IACRtG,MAAO,QAERk1B,KAAM,CACL11B,OAAM,GAAAvjB,OAAKijB,EAAMC,QAAQ,GAAK,EAAxB,OAAAljB,OAA+BijB,EAAMC,QAAQ,GAAK,EAAlD,OAEPg2B,UAAW,CACVpa,SAAU,UD0DG9b,CAzEf,SAAsB5C,GAiBjBA,EAfH5rB,GAF2B,IAG3BysB,EAcGb,EAdHa,QACAje,EAaGod,EAbHpd,OACAm2C,EAYG/4B,EAZH+4B,SACA7hD,EAWG8oB,EAXH9oB,MACAiL,EAUG6d,EAVH7d,MACAmqB,EASGtM,EATHsM,QACAmsB,EAQGz4B,EARHy4B,YACAC,EAOG14B,EAPH04B,iBAEAzoC,GAKG+P,EANHg5B,qBAMGh5B,EALH/P,OACAgpC,EAIGj5B,EAJHi5B,UACAC,EAGGl5B,EAHHk5B,OACA/sB,EAEGnM,EAFHmM,SAf2B0E,GAAAnjC,OAAAiM,GAAA,EAAAjM,CAiBxBsyB,EAjBwB,gKAkBQ8Q,mBAAS,KAlBjBC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAkBrB2nB,EAlBqBznB,EAAA,GAkBTooB,EAlBSpoB,EAAA,GAoBtBqoB,EAAcb,GACnBC,EACA51C,EACA61C,EACAC,GAED3N,oBAAU,WACTmO,KAEE,IAEH,IAAMluB,EAAe,SAAA/wB,GACpB,IAAMo/C,EAAep/C,EAAOA,EAAK/C,OAAS+C,EAAKkI,MAAQlI,EACvDkyB,EAASktB,IAGV,OACCl4B,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ4Z,WACvBtZ,EAAA50B,EAAA60B,cAAAk4B,GAAA,GACCP,SAAUA,EACVviC,QAAS4iC,EACTG,eAAgB,SAAAC,GAAM,OAAIA,EAAOr3C,OACjCgqB,SAAU,SAACz5B,EAAGu3C,GAAJ,OAAiBjf,EAAaif,IACxCwP,cAAe,SAAC/mD,EAAGu3C,GAAJ,OAAiBkP,EAAclP,IAC9CyP,YAAa,SAAAvqC,GAEZ,OADIjY,IAAOiY,EAAOwqC,WAAWziD,MAAQA,GAEpCiqB,EAAA50B,EAAA60B,cAACw2B,GAAA,EAADlqD,OAAAs2B,OAAA,GACK7U,EADL,CAEChN,MAAOA,EACPmqB,QAASA,EACTyW,WAAS,EACT9yB,MAAOA,MAIV8yB,WAAS,IAET9yB,GACAkR,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,CAAgBxzB,OAAK,EAAC7b,GAAG,wBACvB6kD,iBE9CDjP,GAAQ,CACb,CACC9yC,MAAO,EACPiL,MAAO,OAER,CACCjL,MAAO,GACPiL,MAAO,UAER,CACCjL,MAAO,GACPiL,MAAO,SAIHy3C,GAAgBlsD,OAAO+S,KAAKo5C,MAAS3rD,IAAI,SAAAwS,GAC9C,MAAO,CACNxJ,MAAO,CACNwJ,IAAKA,EACLkC,OAAQlC,EACRo5C,WAAYD,KAAQn5C,GAAKo5C,WACzBvyB,OAAQ,CAAEwyB,IAAK,GAAIC,MAAO,GAC1B73C,MAAOnM,YAAS,gBAAA4J,OAAiBc,EAAIqvB,gBACrCkqB,YAAajkD,YAAS,gBAAA4J,OAAiBc,EAAIqvB,iBAE5C5tB,MAAOnM,YAAS,WAAA4J,OAAYc,EAAIqvB,cAAhB,eAIZmqB,eACL,SAAAA,EAAYl6B,GAAO,IAAAjS,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA2zC,IAClBnsC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAwsD,GAAA/rC,KAAA5H,KAAMyZ,KAkCPm6B,mBAAqB,SAACx3C,EAAOo/B,EAAMkI,GAClC,IAAMmQ,EAAU1sD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMwtD,SAC5BC,EAAS5sD,OAAAC,GAAA,EAAAD,CAAA,GAAQ0sD,EAAWz3C,GAAO4kB,QACzC+yB,EAAUvY,GAAQkI,EAClBmQ,EAAWz3C,GAAXjV,OAAAC,GAAA,EAAAD,CAAA,GAAyB0sD,EAAWz3C,GAApC,CAA4C4kB,OAAQ+yB,IACpDvsC,EAAKwsC,yBAAyBH,GAC9BrsC,EAAKmS,SAAS,CAAEm6B,QAASD,KAzCPrsC,EA4CnBusC,UAAY,SAAA/yB,GACX,IAAM6yB,EAAU1sD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMwtD,SAC5BC,EAAS5sD,OAAAC,GAAA,EAAAD,CAAA,GAAQ65B,GACvB+yB,EAAU55C,IAAM05C,EAAW3tD,OAC3B6tD,EAAU/yB,OAAV75B,OAAAC,GAAA,EAAAD,CAAA,GAAwB65B,EAAOA,QAC/B6yB,EAAWjgD,KAAKmgD,GAChBvsC,EAAKmS,SAAS,CAAEm6B,QAASD,KAlDPrsC,EAqDnBysC,aAAe,SAAA73C,GACd,IAAMy3C,EAAU1sD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMwtD,SAClCD,EAAWK,OAAO93C,EAAO,GACzBoL,EAAKwsC,yBAAyBH,GAC9BrsC,EAAKmS,SAAS,CAAEm6B,QAASD,IACzBrsC,EAAKirC,qBAAqB,CACzB5kD,GAAE,UAAAwL,OAAY+C,GACdq5B,SAAS,EACTG,OAAO,KA7DUpuB,EAiEnBirC,qBAAuB,SAAA5rD,GAA4B,IAAzBgH,EAAyBhH,EAAzBgH,GAAI4nC,EAAqB5uC,EAArB4uC,QAASG,EAAY/uC,EAAZ+uC,MACtCpuB,EAAKiS,MAAMwb,SAASpnC,EAAI,CACvB4nC,UACA/gB,IAAK,CAAErB,IAAK,sBACZuiB,WArEiBpuB,EAyEnB2sC,UAAY,SAAA5sD,GAUN,IAAA6sD,EAAA7sD,EATL8U,cASK,IAAA+3C,EATI,GASJA,EARLb,EAQKhsD,EARLgsD,WACAG,EAOKnsD,EAPLmsD,YACA93C,EAMKrU,EANLqU,MACAQ,EAKK7U,EALL6U,MACA4kB,EAIKz5B,EAJLy5B,OACA/5B,EAGKM,EAHLN,EACAqzB,EAEK/yB,EAFL+yB,QACA+b,EACK9uC,EADL8uC,cAEMxoC,EAAE,UAAAwL,OAAa+C,GACrB,OACCwe,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIpE,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAACw5B,GAAD,CACCxmD,GAAIA,EACJi/C,UAAU,OACVwH,aAAW,EACX9e,UAAU,EACV9rB,MAAO2sB,EAAcxoC,IAAOwoC,EAAcxoC,GAAI+nC,MAC9C8c,UACCrc,EAAcxoC,IAASwoC,EAAcxoC,GAAI+nC,MACtCS,EAAcxoC,GAAIulC,OAClB,KAEJxN,SAAU,SAAA8d,GACTl8B,EAAKosC,mBAAmBx3C,EAAO,MAAOsnC,EAAU6P,GAChD/rC,EAAKirC,qBAAqB,CACzB5kD,KACA4nC,QAASiO,EACT9N,OAAO,KAGT+c,OAAQ,kBACPnrC,EAAKirC,qBAAqB,CACzB5kD,KACA4nC,QAASzU,EAAOwyB,IAChB5d,OAAO,KAGT6c,qBAAsBjrC,EAAKirC,qBAE3B72C,MAAOA,EACP83C,YAAaA,EACbr3C,OAAQA,EACR1L,MAAOqwB,EAAOwyB,IACde,gBAAgB,WAChBC,+BAA+B,EAC/BtC,aAAc71C,EAAOnW,OACrB6/B,QAAQ,cAGVnL,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIpE,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYh7B,GAAE,gBAAAwL,OAAkB+C,IAE9BnV,EAAE,qBAAsB,CACxBqI,KAAM,CAAC0xB,EAAOyyB,UAGhB74B,EAAA50B,EAAA60B,cAAC2oB,GAAA,EAAD,CACClpB,QAAS,CAAE0H,KAAM1H,EAAQm6B,OAAQC,UAAWp6B,EAAQo6B,WACpD9Q,kBAAA,gBAAAvqC,OAAiC+C,GACjCiC,IAAK,EACLxF,IAAK,IACLupC,KAAM,EACNuB,kBAAkB,OAClBlP,UAAWzT,EAAOwyB,IAClB7iD,MAAOqwB,EAAOyyB,MACdhQ,MAAOA,GACP7d,SAAU,SAAClB,EAAIgf,GAAL,OACTl8B,EAAKosC,mBAAmBx3C,EAAO,QAASsnC,EAAU6P,QAKtD34B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAACwgC,WAAS,EAACuE,GAAI,EAAGpE,GAAI,EAAGnX,WAAW,UAC7CtC,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CAAYG,QAAS,kBAAMtU,EAAKysC,aAAa73C,KAC5Cwe,EAAA50B,EAAA60B,cAACmc,GAAAhxC,EAAD,UAxJc,IAGV8tD,GAAYr6B,EAAM5jB,QAAQomC,MAAQ,IAAlC6X,QAHU,OAIlBtsC,EAAKlhB,MAAQ,CACZwtD,QAAQ3sD,OAAA2D,GAAA,EAAA3D,CAAM2sD,GAAW,KALRtsC,wFASMssC,GAAS,IAAA71B,EACCje,KAAKyZ,MAA/B5jB,EADyBooB,EACzBpoB,QAAS4uB,EADgBxG,EAChBwG,aACXkwB,EAAcxtD,OAAA2D,GAAA,EAAA3D,CAAI2sD,GAAS/sD,OAChC,SAACC,EAAK4tD,GACL,IAAMC,EAAgB7tD,EAAI4tD,EAAGrB,aAAe,GAO5C,OAJMqB,EAAG5zB,OAAOwyB,KACfqB,EAAcjhD,KAAKghD,EAAG5zB,QAEvBh6B,EAAI4tD,EAAGrB,YAAcsB,EACd7tD,GAER,CAAE8tD,UAAW,GAAIC,KAAM,KAGhB9Y,EAASpmC,EAATomC,KACF+U,EAAO7pD,OAAAC,GAAA,EAAAD,CAAA,GAAQ80C,GAGrB+U,EAAQ8C,QAAR3sD,OAAA2D,GAAA,EAAA3D,CAAsB2sD,GACtBa,EAAY1Y,KAAO+U,EAEnBvsB,EAAa,KAAM,KAAMkwB,oCA+HjB,IAAAt6B,EAAAra,KAAA8f,EAMJ9f,KAAKyZ,MAJRxyB,EAFO64B,EAEP74B,EAEAqzB,EAJOwF,EAIPxF,QACGnnB,EALIhM,OAAAiM,GAAA,EAAAjM,CAAA24B,EAAA,iBASAg0B,EAAY9zC,KAAK1Z,MAAjBwtD,QACR,OACCl5B,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACbtxC,OAAA2D,GAAA,EAAA3D,CAAI2sD,GAASnsD,IACb,eAAAG,EAAA7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAOK,GAPL+uD,EAAAltD,EAEEuU,cAFF,IAAA24C,EAEW,GAFXA,EAGEzB,EAHFzrD,EAGEyrD,WACA33C,EAJF9T,EAIE8T,MACA83C,EALF5rD,EAKE4rD,YALFuB,EAAAntD,EAMEk5B,cANF,IAAAi0B,EAMW,GANXA,EAQC74C,EARDnW,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAA,OAUCy0B,EAAA50B,EAAA60B,cAACR,EAAK85B,UAANhtD,OAAAs2B,OAAA,CACCtjB,IAAKiC,EACLR,MAAO3U,EAAE2U,GACT83C,YAAazsD,EAAEysD,GACft3C,MAAOA,EACPC,QAASi3C,KAAQj3C,IAAW,IAAI2tB,KAAO,GACvCupB,WAAYA,EACZvyB,OAAQA,EACR/5B,EAAGA,EACHqzB,QAASA,GACLnnB,OAMRynB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC62B,GAAD,CACC3rB,QAAQ,WACRyW,WAAS,EACT5W,SAAU,SAAA5E,GACT3G,EAAK05B,UAAL5sD,OAAAC,GAAA,EAAAD,CAAA,GAAoB65B,KAErB3kB,OAAMlV,OAAA2D,GAAA,EAAA3D,CAAMksD,IACZ1iD,MAAO,GACPiL,MAAO3U,EAAE,cACT0nD,OAAO,aACP12C,KAAK,SACLg3C,cAAeiG,iBArNQh5B,aAwOfoB,KAFY0wB,GAAa3xB,YA3QzB,CACdo4B,OAAQ,CACPxwB,QAAS,YAEVywB,UAAW,CACV/5B,IAAK,SAsQiC0B,CAAmBs3B,oGC7QrDwB,GAAa,CAClB7oD,SAAU8oD,KACVC,OAAQC,KACRC,IAAKC,MAGAC,GAAgB,SAAAjC,GAErB,OADaA,EAAItqD,MAAM,KAAK,IAAM,QAiDpBwsD,8MA5CdC,kBAAoB,SAAC30B,EAAQ7wB,EAAMlJ,EAAGmV,GACrC,IAAMw5C,EAAaT,GAAWhlD,IAAS0lD,KACvC,OACCj7B,EAAA50B,EAAA60B,cAAA,QAAM1gB,IAAK6mB,EAAOwyB,IAAMxyB,EAAOyyB,MAAQr3C,GACtCwe,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,KACC/L,EAAA50B,EAAA60B,cAACqO,GAAA,EAAD,KACCtO,EAAA50B,EAAA60B,cAAC+6B,EAAD,OAEDh7B,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCQ,QAASniC,EAAE+5B,EAAOwyB,IAAK,CAAEsC,UAAU,IACnC5uB,UAAWlG,EAAOyyB,QAEnB74B,EAAA50B,EAAA60B,cAACk7B,GAAA,EAAD,KAA0B/0B,EAAOyyB,QAElC74B,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,UAKHitB,YAAc,SAAAnvD,GAAA,IAAAovD,EAAApvD,EAAGitD,eAAH,IAAAmC,EAAa,GAAbA,EAAiBC,EAAjBrvD,EAAiBqvD,UAAWjvD,EAA5BJ,EAA4BI,EAA5BE,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,oCACb+zB,EAAA50B,EAAA60B,cAAC2N,GAAA,EAAD,CACC2tB,OAAK,EACLC,UACCF,EAAYt7B,EAAA50B,EAAA60B,cAAC60B,GAAA,EAAD,KAAgBzoD,EAAEivD,IAA8B,MAG5DpC,EAAQnsD,IAAI,SAAAq5B,GACZ,IAAM7wB,EAAOslD,GAAcz0B,EAAOwyB,KAClC,OAAOhsC,EAAKmuC,kBAAkB30B,EAAQ7wB,EAAMlJ,+EAM9C,OAAO2zB,EAAA50B,EAAA60B,cAAA7a,KAAMg2C,YAAgBh2C,KAAKyZ,cAnCVyC,aC8Gbm6B,GAAUh6B,YAAWyF,GAAXzF,CA5HP,SAAAx1B,GAAA,IACfyzB,EADezzB,EACfyzB,QACAiI,EAFe17B,EAEf07B,KACAC,EAHe37B,EAGf27B,MACAlH,EAJez0B,EAIfy0B,UACAg7B,EALezvD,EAKfyvD,cACAC,EANe1vD,EAMf0vD,eANeC,EAAA3vD,EAOf26B,aAPe,IAAAg1B,EAOP,GAPOA,EAAA,OASf57B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACCvgC,MAAI,EACJwgC,WAAS,EACT3X,QAAS,EACTkc,GAAI,GACJnd,UAAWC,IAAWD,GACtBkG,MAAOA,GAEP5G,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACCvgC,MAAI,EACJ+kC,GAAI,GACJrE,GAAI,EACJuJ,GAAI,EACJriB,UAAWC,IAAWjB,EAAQyxB,QAASzxB,EAAQm8B,UAAWH,IAEzD/zB,GAEF3H,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACCvgC,MAAI,EACJ+kC,GAAI,GACJrE,GAAI,EACJuJ,GAAI,EACJriB,UAAWC,IACVjB,EAAQ2xB,SACR3xB,EAAQ8xB,UACRmK,IAGA/zB,MAwFSk0B,GAAar6B,YAAWyF,GAAXzF,CAnFP,SAAA90B,KAAG+yB,QAAH,IAAY4D,EAAZ32B,EAAY22B,SAAU5C,EAAtB/zB,EAAsB+zB,UAAtB,OAClBV,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCpI,MAAO,EACPsG,OAAQ,EACRzG,QAAQ,OACR2F,cAAc,SACdtH,UAAWA,GAEV4C,KA4EUy4B,GAAct6B,YAAWyF,GAAXzF,CAxEP,SAAA30B,KAAG4yB,QAAH,IAAY4D,EAAZx2B,EAAYw2B,SAAU5C,EAAtB5zB,EAAsB4zB,UAAtB,OACnBV,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKvD,SAAU,EAAG3G,UAAWA,GAC3B4C,KAuEU04B,GAAmBv6B,YAAWyF,GAAXzF,CAnEP,SAAAv0B,GAAA,IAAGwyB,EAAHxyB,EAAGwyB,QAAS4D,EAAZp2B,EAAYo2B,SAAZp2B,EAAsBwzB,UAAtB,OACxBV,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWC,IAAWjB,EAAQmyB,mBAAoBvuB,KAmE3C24B,GAAax6B,YAAWyF,GAAXzF,CAhEP,SAAAp0B,GAAA,IAAGqyB,EAAHryB,EAAGqyB,QAASjH,EAAZprB,EAAYorB,IAAKyjC,EAAjB7uD,EAAiB6uD,OAAjB7uD,EAAyBqzB,UAAzB,OAClBV,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWC,IAAWjB,EAAQqxB,oBAClC/wB,EAAA50B,EAAA60B,cAAA4L,GAAA,GAAkBnL,UAAWhB,EAAQmxB,0BAA2Bta,KAAM,KACtEvW,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYJ,UAAU,OAAtB,IAA8BpV,EAA9B,KACCyjC,GACAl8B,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYJ,UAAU,OACrB7N,EAAA50B,EAAA60B,cAAA,cAASi8B,QA0DDC,GAAqB16B,YAAWyF,GAAXzF,CAnDP,SAAAj0B,GAAA,IAAGkyB,EAAHlyB,EAAGkyB,QAAH,OAC1BM,EAAA50B,EAAA60B,cAAA4L,GAAA,GACCnL,UAAWC,IAAWjB,EAAQ4xB,sBAC9B/a,KAAM,OAiDK6lB,GAAqB36B,YAAWyF,GAAXzF,CA7CP,SAAA9yB,GAAA,IAC1B20B,EAD0B30B,EAC1B20B,SAD0B+4B,EAAA1tD,EAE1B2tD,YAF0B,IAAAD,EAEnB,GAFmBA,EAG1B5f,EAH0B9tC,EAG1B8tC,QAH0B8f,EAAA5tD,EAI1BsyB,aAJ0B,IAAAs7B,EAIlB,UAJkBA,EAAA,OAM1Bv8B,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCpI,MAAO,EACPsG,OAAQ,EACRzG,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,SACfoC,QAAO,GAAApsB,OAAKwiB,EAAL,SACPA,MAAK,GAAAxiB,OAAKwiB,EAAL,kBAEJwb,GACAzc,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAAA4L,GAAA,GACC5K,MAAK,GAAAxiB,OAAKwiB,EAAL,iBAELsV,KAAM,MAIRjT,EACAg5B,EACC7kD,OAAO,SAAAm/B,GAAC,QAAMA,GAAKA,EAAE1nB,UACrBniB,IAAI,SAAC0rB,EAAKjX,GACV,IAAM0N,EAAU7iB,aAAEosB,EAAIvJ,QAAS,CAAExa,KAAM+jB,EAAI/jB,OAC3C,OACCsrB,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY1uB,IAAKiC,EAAOqsB,UAAU,OAChCpV,EAAI+jC,OAASx8B,EAAA50B,EAAA60B,cAAA,cAAS/Q,GAAoBA,QChIpCgY,GAAS,SAAAxF,GAErB,MAAO,CACN+6B,WAAY,CACXvmB,UAAW,IACX1T,MAAO,OACPC,SAAU,OACVqG,OAAQ,OACRgC,UAAWpJ,EAAMg7B,QAAQ,IAE1BC,kBAAmB,CAClB7zB,OAAQ,iBCIL8zB,eACL,SAAAA,EAAY/9B,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAw3C,IAClBhwC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAqwD,GAAA5vC,KAAA5H,KAAMyZ,KACD8d,KAAO9d,EAAM8d,KAFA/vB,wEAKV,IAAAyW,EAC8Bje,KAAKyZ,MAAnCa,EADA2D,EACA3D,QAAShyB,EADT21B,EACS31B,QAAY6K,EADrBhM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,uBAEApoB,EAAe1C,EAAf0C,QAAS5O,EAAMkM,EAANlM,EACTkJ,EAA8C0F,EAA9C1F,KAAMmJ,EAAwCzD,EAAxCyD,MAAOsiC,EAAiC/lC,EAAjC+lC,YAAaK,EAAoBpmC,EAApBomC,KAAM6Y,EAAcj/C,EAAdi/C,UAExC,OACCl6B,EAAA50B,EAAA60B,cAAC67B,GAAD,KACC97B,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,QAAS,CAAEmI,QAAQ,IAC3BozB,MAAOl6B,EAAQI,OAAOrB,UAEvBuzB,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS9zB,KAAMt7B,EAAE,OAAQ,CAAEmI,QAAQ,IAASozB,MAAOryB,IACnDyqB,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS9zB,KAAMt7B,EAAE,QAAS,CAAEmI,QAAQ,IAASozB,MAAOlpB,IACpDshB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,cAAe,CAAEmI,QAAQ,IACjCozB,MAAOoZ,IAERhhB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,SACRu7B,MACC5H,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC1E,iBAAiB,EACjB5U,UAAWhB,EAAQ+8B,WACnBrtB,IAAKiS,EAAKxJ,SAAW,GACrBxI,IAAK3wB,EACLzB,UAAWokC,EAAKzJ,KAChBzD,YAAU,MAIZ+lB,GACAl6B,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,YAAa,CAAEmI,QAAQ,IAC/BozB,MACC5H,EAAA50B,EAAA60B,cAAC48B,GAADtwD,OAAAs2B,OAAA,GACKtqB,EADL,CAEC2gD,QAASgB,EACT7tD,EAAGA,OAOP2zB,EAAA50B,EAAA60B,cAAA,oBAnD2BqB,aAwEhC,IAAMw7B,GAAuB1J,GAAa3xB,YAAWyF,GAAXzF,CAAmBm7B,KAC9CltC,eARf,SAAyBhkB,GAExB,MAAO,CACNgC,QAFmBhC,EAAZE,QAEU8B,UAKJgiB,CAAyBgT,EAAUo6B,KChFnC,SAASC,GAAep6B,GAAW,IAC3C0wB,EAD2C,SAAAz0B,GAEhD,SAAAy0B,EAAYx0B,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAiuC,IAClBzmC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA8mD,GAAArmC,KAAA5H,KAAMyZ,KAUPgL,aAAe,SAAC+W,EAAM7qC,EAAO4lC,GAC5B/uB,EAAKiS,MAAMhhB,QAAQy1C,cAClB1mC,EAAKiS,MAAM5jB,QACX0gC,GAASpvC,OAAA80B,EAAA,EAAA90B,CAAA,GAAOq0C,EAAO7qC,GACvB,WACAoF,cAhBiByR,EAoBnBijC,OAAS,WAAM,IACNsD,EAAgBvmC,EAAKiS,MAArBs0B,YACJA,GACHA,KAvBiBvmC,EA2BnB+vB,KA3BmBpwC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA2BZ,SAAAO,IAAA,IAAA+e,EAAAxlB,EAAA5C,EAAAomC,EAAA+U,EAAA,OAAA3oC,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAgf,EACuBzW,EAAKiS,MAA1BhhB,EADFwlB,EACExlB,QAAS5C,EADXooB,EACWpoB,QACTomC,EAASpmC,EAATomC,MACF+U,EAHA7pD,OAAAC,GAAA,EAAAD,CAAA,GAGe80C,IACb2b,eAAgB,EACxBpwC,EAAKid,aAAa,OAAQusB,GALpBzxC,EAAAN,KAAA,EAMAxG,EAAQo/C,aAAa,CAAEjhD,SAAUf,IANjC,OAQNm7C,EAAQ4G,eAAgB,EACxBpwC,EAAKid,aAAa,OAAQusB,GAC1BxpC,EAAKijC,SACLhyC,EAAQ21C,aAAa,YAXf,yBAAA7uC,EAAAO,SAAAZ,MA3BYsI,EAyCnB2R,OAAS,WACR3R,EAAKijC,SACLjjC,EAAKiS,MAAMhhB,QAAQ21C,aAAa,aAxChC5mC,EAAK+vB,KAAO/vB,EAAK+vB,KAAK1Z,KAAV12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IAEZA,EAAKlhB,MAAQ,CACZszB,QAAQ,EACRy0B,OAAO,GAPU7mC,EAF6B,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA8mD,EAAAz0B,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA8mD,EAAA,EAAA9zC,IAAA,SAAAxJ,MAAA,WAgDvC,IAAAmvB,EACqB9f,KAAKyZ,MAAdtmB,GADZ2sB,EACAxF,QADAnzB,OAAAiM,GAAA,EAAAjM,CAAA24B,EAAA,cAER,OACClF,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKtqB,EADL,CAECokC,KAAMv3B,KAAKu3B,KACX9S,aAAczkB,KAAKykB,aACnBtL,OAAQnZ,KAAKmZ,cAvDgC80B,EAAA,CAC1B/xB,aAsFvB,OAAO5R,YAnBP,SAAyBhkB,EAAOmzB,GAAO,IAC9BjzB,EAAoBF,EAApBE,QAASwF,EAAW1F,EAAX0F,OAEXgL,EAAUxQ,EAAQ+P,MAAR,QAA2B,GACrCqG,EAAezV,OAAOuJ,OAAOsG,IAAY,GAC/C,MAAO,CACNnB,QAAS,IAAIE,YAAS/J,EAAO6J,QAAP,UACtBmB,UACA4F,eACAy6B,QAASrrC,EAAOqB,SAASyqD,QAI3B,SAA4B37B,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGL2jC,GC1BY8J,OA1Df,SAAuBt+B,GAAO,IACrBwiB,EAASze,YAAY1nB,MAArBmmC,KACA+b,EAAkB/b,EAAlB+b,cACFC,EAAaz6B,YAAYzmB,KACzBmhD,EAAkB16B,YAAYvmB,KAC9BkhD,EAAaD,GAAmBA,EAAgBhyD,OActD,OACC00B,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACCC,WAAS,EACT3X,QAAS,EACTuwB,UAAWqL,EAAa,KAAO,SAC/Bj7B,WAAYi7B,EAAa,KAAO,UAEhCv9B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAAC87B,GAAD,KACEwB,EACAv9B,EAAA50B,EAAA60B,cAACu9B,GAAD,CACChzB,SAAU4yB,EACVzhD,MAAO2hD,EACPjjB,SAAUxb,EAAMwb,SAChBojB,aA3Bc,WAAgD,IAAAxxD,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAtCugD,EAA6C3/C,EAA7C2/C,gBAAiB8R,EAA4BzxD,EAA5ByxD,iBAClC3+C,EAAQxS,OAAOuJ,OAAO4nD,GAAkB3wD,IAAI,SAAAgJ,GACjD,OAAOsnD,EAAWtnD,KAGbqgD,EAAO7pD,OAAAC,GAAA,EAAAD,CAAA,GAAQ80C,GACrB+U,EAAQgH,cAAgBxR,EAExB7hB,YAAQ4zB,YAAkB,UAAW5+C,IACrCgrB,YAAQ4zB,YAAkB,OAAQvH,KAmB5BwH,SAAO,EACP9X,YAAU,EACVG,eAAa,EACbF,SAAO,EACP8X,WAAS,IAGV79B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC4Y,UAAU,SAAS5vB,WAAW,UAC7CtC,EAAA50B,EAAA60B,cAAA,SAAI5zB,aAAE,gCACN2zB,EAAA50B,EAAA60B,cAAC69B,GAAD,CACC3yB,QAAQ,WACRlK,MAAM,YACNuxB,SAAS,4DCrDZuL,GAAmB,SAAA9xD,GAAA,IAAA+xD,EAAA/xD,EACxB20B,YADwB,IAAAo9B,EACjBh+B,EAAA50B,EAAA60B,cAACg+B,GAAA7yD,EAAD,MADiB4yD,EAExBE,EAFwBjyD,EAExBiyD,UACAC,EAHwBlyD,EAGxBkyD,YAHwB,OAKxBn+B,EAAA50B,EAAA60B,cAACmiB,GAAA,EAAD,CAAgB5a,SAAS,OACxBxH,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CAAYE,MAAOi9B,EAAWh9B,QAASi9B,GACrCv9B,KAKSw9B,GAAb,SAAAx/B,GAAA,SAAAw/B,IAAA,OAAA7xD,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAg5C,GAAA7xD,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA6xD,GAAAlgD,MAAAkH,KAAA/Z,YAAA,OAAAkB,OAAA4yB,EAAA,EAAA5yB,CAAA6xD,EAAAx/B,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA6xD,EAAA,EAAA7+C,IAAA,SAAAxJ,MAAA,WACU,IAAAstB,EACwDje,KAAKyZ,MAA7Dw/B,EADAh7B,EACAg7B,aAAcz9B,EADdyC,EACczC,KAAMs9B,EADpB76B,EACoB66B,UAAWC,EAD/B96B,EAC+B86B,YAAgB5lD,EAD/ChM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,mDAER,OACCrD,EAAA50B,EAAA60B,cAACq+B,GAAA,EAAD/xD,OAAAs2B,OAAA,CACC07B,WAAY,CACX1kB,SAAUthC,EAAKshC,SACfsI,aAAckc,EACbr+B,EAAA50B,EAAA60B,cAACu+B,GAAD,CACC59B,KAAMA,EACNs9B,UAAWA,EACXC,YAAaA,IAEX,OAED5lD,QAfR6lD,EAAA,CAAoC98B,aAqBrB88B,UA2BuB38B,YCpEhB,SAAAC,GACrB,MAAO,CACN+8B,wBAAyB,CACxBx9B,MAAOS,EAAMwH,QAAQw1B,OAAOC,OAE7BC,wBAAyB,CACxB39B,MAAOS,EAAMwH,QAAQw1B,OAAOC,MAC5BE,mCAAoC,CACnC59B,MAAOS,EAAMwH,QAAQw1B,OAAOC,QAG9BG,+BAAgC,GAChCC,4BAA6B,CAC5BC,UAAW,CAEVp9B,OAAQ,gBAETq9B,WAAY,CACXr9B,OAAQ,mBDkD0BH,CAzBT,SAAA90B,GAA8C,IAA3C+yB,EAA2C/yB,EAA3C+yB,QAAS2+B,EAAkC1xD,EAAlC0xD,aAAcz9B,EAAoBj0B,EAApBi0B,KAASroB,EAAWhM,OAAAiM,GAAA,EAAAjM,CAAAI,EAAA,mCAC1E,OACCqzB,EAAA50B,EAAA60B,cAACi/B,GAAD3yD,OAAAs2B,OAAA,CACCs8B,gBAAiB,CAChBz/B,QAAS,CACR0H,KAAM1H,EAAQk/B,yBAEfQ,iBAAkB,CACjBh4B,KAAM1H,EAAQk/B,wBACdS,QAAS3/B,EAAQo/B,iCAGnBP,WAAY,CACX1kB,SAAUthC,EAAKshC,SACfna,QAAS,CACR0H,KAAM1H,EAAQ++B,wBACdp4B,UAAW3G,EAAQq/B,6BAEpB5c,aAAckc,EAAer+B,EAAA50B,EAAA60B,cAACu+B,GAAD,CAAkB59B,KAAMA,IAAW,OAE7DroB,uBErCC+mD,GAAmB3kD,eAAnB2kD,eAEFC,GAAS,IAAIC,KAEbC,GAAsB,SAAAxzD,GAAyC,IAAtCqR,EAAsCrR,EAAtCqR,cAAeG,EAAuBxR,EAAvBwR,iBAC7C,IACC,IAAMiiD,EAAMJ,GAAehiD,IAAkBlE,WAAWkE,GAClDmG,EAAM67C,GAAe7hD,IAAqBrE,WAAWqE,GAC3D,GAAKiiD,EAEE,IAAKj8C,EAEL,CACN,IAAMpJ,EAAc+T,SAAMy8B,QAAQ7sC,KAAK2U,MAAO+sC,EAAMj8C,EAAO,MAC3D,OAAOpX,aAAE,oBAAqB,CAAEqI,KAAM,CAAC2F,KAHvC,OAAOhO,aAAE,eAFT,OAAOA,aAAE,mBAOT,MAAOytB,GACR,MAAO,QA8NM6lC,OA1Nf,SAAAhzD,GAAyC,IAAdwuC,EAAcxuC,EAAdwuC,WACpBM,EAAgB7Y,YACrB,SAAAl3B,GAAK,OAAIkP,aAAsBlP,EAAOyvC,IAAe,KAG9Cj6B,EAAW0hB,YAAY51B,MAAvBkU,OACFlF,EAAW4mB,YAAY1nB,MAG5BwD,EASG1C,EATH0C,MACAuM,EAQGjP,EARHiP,WACA3N,EAOGtB,EAPHsB,cACAG,EAMGzB,EANHyB,iBAEAE,EAIG3B,EAJH2B,WACAC,EAGG5B,EAHH4B,oBACAgiD,EAEG5jD,EAFH4jD,kBAhBuCC,EAkBpC7jD,EADHqlC,YAjBuC,IAAAwe,EAiBhC,GAjBgCA,EAoBhCC,EAAwCze,EAAxCye,eAAgBC,EAAwB1e,EAAxB0e,oBAElBtjB,EAAU7Z,YAAY,SAAAl3B,GAAK,OAChCsH,aAAkBtH,EAAOs0D,QAGpB7yC,EAAOxP,QAAcpS,EACrBqT,EAAKhB,QAAuBrS,EAC5B0pB,EAAMsqC,GAAOU,OAAOC,UAEpB5J,EAAW7a,EAAa,MACxB0kB,EAAa1kB,EAAa,cAC1B2kB,EAAS3kB,EAAa,iBACtB4kB,EAAU5kB,EAAa,WACvB6kB,EAAQ7kB,EAAa,oBAErBphC,EAAcolD,GAAoB,CACvCniD,gBACAG,qBAGKuN,EAASC,EAAW,IAAM,GAC1BC,EAAWD,EAAW,IAAM,GAElC,OACC+U,EAAA50B,EAAA60B,cAAA,WACEwc,EACAzc,EAAA50B,EAAA60B,cAACk8B,GAAD,MAEAn8B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,IACtBzZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,QACLtH,MAAO2I,EACPssB,SAAU,SAAAlB,GACTC,YAAQ4zB,YAAkB,QAAS7zB,EAAG1D,OAAOrwB,SAE9C+Y,MAAOwnC,KAAcA,EAAStb,MAC9BgH,UAAW,IACXkS,WACCoC,GAAcA,EAAStb,MACpBsb,EAAS9d,OACTnsC,aAAE,uBAKR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CAAaC,WAAS,EAAC/H,UAAQ,GAC9B7Z,EAAA50B,EAAA60B,cAAC4hB,GAAA,EAAD,CAAYmB,QAAQ,oBAClB32C,aAAE,2BAEJ2zB,EAAA50B,EAAA60B,cAAC6hB,GAAA,EAAD,CAAO7uC,GAAG,mBAAmB8C,MAAOiV,EAAOsJ,KAAO,KAClD0L,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KAAiBt3B,EAAO/X,MAI1B+sB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CAAaC,WAAS,EAAC/H,UAAQ,GAC9B7Z,EAAA50B,EAAA60B,cAAC4hB,GAAA,EAAD,CAAYmB,QAAQ,sBAClB32C,aAAE,2BAEJ2zB,EAAA50B,EAAA60B,cAAC6hB,GAAA,EAAD,CAAO7uC,GAAG,qBAAqB8C,MAAOmV,EAASoJ,KAAO,KACtD0L,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KAAiBp3B,EAASjY,MAG5B+sB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,uBAAwB,CAChCqI,KAAM,CAACqrD,EAAqB7+C,EAAQ4+C,EAAgB5+C,KAErD7D,KAAK,gBACLtH,MAAOuH,EACP0tB,SAAU,SAAAlB,GACT,IAAM/zB,EAAQ+zB,EAAG1D,OAAOrwB,MACxBg0B,YAAQ4zB,YAAkB,gBAAiB5nD,IAC3Cg0B,YACCw2B,aAAqB,CACpBplB,aACAyF,KAAM,gBACN7qC,QACAilC,OAAO,MAIVlsB,MAAOqxC,KAAgBA,EAAWnlB,MAClCgH,UAAW,IACXkS,WACCiM,GAAgBA,EAAWnlB,MAAQmlB,EAAW3nB,OAAS,MAI1DxY,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,YAAa,CAAEqI,KAAM,CAAC2F,KAC/BgD,KAAK,mBACLtH,MAAO0H,EACPutB,SAAU,SAAAlB,GACT,IAAM/zB,EAAQ+zB,EAAG1D,OAAOrwB,MACxBg0B,YAAQ4zB,YAAkB,mBAAoB5nD,IAC9Cg0B,YACCw2B,aAAqB,CACpBplB,aACAyF,KAAM,mBACN7qC,QACAilC,OAAO,MAIVlsB,MAAOsxC,KAAYA,EAAOplB,MAC1BgH,UAAW,IACXkS,WACCkM,GAAYA,EAAOplB,MAAQolB,EAAO5nB,OAASnsC,aAAE,qBAIhD2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAACugC,GAAD,CACCC,WAAYp0D,aAAE,sBACdq0D,aAAW,EACX9e,WAAS,EACTyc,cAAY,EACZr9C,MAAO3U,aAAE,mBACTs0D,QAAS1rC,EACT2rC,QAAShiD,EACTosB,SAAU,SAAA52B,GACT21B,YAAQ4zB,YAAkB,aAAcvpD,EAAI8rD,aAE7CnqD,MAAOoX,GAAQ,KACf2B,MAAOuxC,KAAaA,EAAQrlB,MAC5BkZ,WACCmM,GAAaA,EAAQrlB,MAClBqlB,EAAQ7nB,OACRnsC,aAAE,sCAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAACugC,GAAD,CACCC,WAAYp0D,aAAE,oBACdq0D,aAAW,EACX9e,WAAS,EACTyc,cAAY,EACZr9C,MAAO3U,aAAE,iBACTs0D,QAASxzC,GAAQ8H,EACjB+V,SAAU,SAAA52B,GAAG,OACZ21B,YAAQ4zB,YAAkB,sBAAuBvpD,EAAI8rD,aAEtDnqD,MAAO6I,GAAM,KACbkQ,MAAOwxC,KAAWA,EAAMtlB,MACxBkZ,WACCoM,GAAWA,EAAMtlB,MACdslB,EAAM9nB,OACNnsC,aAAE,+BAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAAC4gC,GAAA,EAAD,CAAWC,KAAG,GACb9gC,EAAA50B,EAAA60B,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAA50B,EAAA60B,cAAC22B,GAAA,EAAD,CACCP,UAAWuJ,EACX50B,SAAU,SAAAlB,GAAE,OACXC,YACC4zB,YACC,oBACA7zB,EAAG1D,OAAOiwB,QAAU,EAAI,QAI3BtgD,MAAM,sBAGRiL,MAAO3U,aAAE,iCCvPJ00D,GAAe,SAAA90D,GAAqB,IAE5CiwD,EAF0B7vD,EAAkBJ,EAAlBI,EAC1BosB,EAAM,GAEV,OAHgDxsB,EAAfgC,UAIhC,KAAKujB,KAAWC,SAASpU,KACxBob,EAAM,0BACNyjC,EAAS,+BACT,MACD,KAAK1qC,KAAWI,OAAOvU,KACtBob,EAAM,wBACN,MACD,KAAKjH,KAAWE,OAAOrU,KACtBob,EAAM,wBACN,MACD,QACCA,EAAM,0BAIR,OAAOuH,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,EAAEosB,GAAMyjC,OAAQ7vD,EAAE6vD,MCErC8E,GAAa,SAAA/0D,GAAe,IAAZ0P,EAAY1P,EAAZ0P,MACrB,OACCqkB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACu9B,GAAD,CAAc7hD,MAAOA,EAAOiqC,UAAQ,EAACiY,WAAS,EAAC/X,YAAU,EAACC,SAAO,OAoHrE,IACekb,GADgBlE,GA9G/B,WAA+C,IAAhB9hD,GAAgB5P,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAZ4P,QACxBrI,EAAegwB,YAAYh0B,KAC3BX,EAAW20B,YAAYn0B,KAErByS,EADU0hB,YAAY51B,MACtBkU,OACFu7B,EAAU7Z,YAAY,SAAAl3B,GAAK,OAChCsH,aAAkBtH,EAAOs0D,QAIzBthD,EAaGzD,EAbHyD,MAEAtC,EAWGnB,EAXHmB,QACA6O,EAUGhQ,EAVHgQ,WACA3N,EASGrC,EATHqC,cACAG,EAQGxC,EARHwC,iBAGAG,EAKG3C,EALH2C,oBACAD,EAIG1C,EAJH0C,WACAiiD,EAGG3kD,EAHH2kD,kBApB6CsB,EAuB1CjmD,EADHomC,YAtB6C,IAAA6f,EAsBtC,GAtBsCA,EA6B9C,OAJAtX,oBAAU,WACT7f,YAAQo3B,gBACN,IAEI1kB,EACNzc,EAAA50B,EAAA60B,cAACk8B,GAAD,MAEAn8B,EAAA50B,EAAA60B,cAAC67B,GAAD,KACEza,EAAK2b,cACLh9B,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACCh8B,EAAA50B,EAAA60B,cAACmhC,GAAD,CAAc/0D,EAAGA,KAAG4B,SAAUA,KAE5B,KACJ+xB,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS9zB,KAAMt7B,aAAE,QAAS,CAAEmI,QAAQ,IAASozB,MAAOlpB,IACpDshB,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS9zB,KAAMt7B,aAAE,QAAS,CAAEmI,QAAQ,IAASozB,MAAOh1B,IAYpDotB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,aAAE,UAAW,CAAEmI,QAAQ,IAC7BozB,MAAO5H,EAAA50B,EAAA60B,cAACohC,GAAD,CAAY1lD,MAAOS,MAE3B4jB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,aAAE,aAAc,CAAEmI,QAAQ,IAChCozB,MACC5H,EAAA50B,EAAA60B,cAAA,WACEhV,EAAWle,IAAI,SAAAqH,GAAG,OAClB4rB,EAAA50B,EAAA60B,cAAA,OAAK1gB,IAAKnL,EAAInB,IAAd,GAAAwL,OAAsBrK,EAAIkgB,IAA1B,OAAA7V,OAAmCrK,EAAInB,UAK3C+sB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,aAAE,MAAO,CAAEmI,QAAQ,IACzBozB,MAAK,GAAAnpB,OAAKhB,EAAL,KAAAgB,OAAyByC,KAE/B8e,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,aAAE,gBAAiB,CAAEmI,QAAQ,IACnCozB,MAAK,GAAAnpB,OAAKnB,EAAL,KAAAmB,OAAsByC,KAG5B8e,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS9zB,KAAMt7B,aAAE,QAASu7B,MAAK,GAAAnpB,OAAK4iC,EAAKigB,cAAV,KAAA7iD,OAA2ByC,KAC1D8e,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,aAAE,4BACRu7B,MAAK,GAAAnpB,OAAK4iC,EAAKkgB,oBAAV,KAAA9iD,OAAiCyC,KAOvC8e,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,aAAE,aAAc,CAAEmI,QAAQ,IAChCozB,MAAO3uB,aAAe0E,KAEvBqiB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,aAAE,sBAAuB,CAAEmI,QAAQ,IACzCozB,MAAO3uB,aAAe2E,KAEtBgiD,GAAqB5/B,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS7zB,MAAOv7B,aAAE,4BAOxC2zB,EAAA50B,EAAA60B,cAAA,eChIW,SAASmzB,GAAazwB,GAAW,IACzC0wB,EADyC,SAAAz0B,GAE9C,SAAAy0B,EAAYx0B,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAiuC,IAClBzmC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA8mD,GAAArmC,KAAA5H,KAAMyZ,KAUPgL,aAAe,SAAC+W,EAAM7qC,EAAO4lC,GAC5B/uB,EAAKiS,MAAMhhB,QAAQy1C,cAClB1mC,EAAKiS,MAAM5jB,QACX0gC,GAASpvC,OAAA80B,EAAA,EAAA90B,CAAA,GAAOq0C,EAAO7qC,GACvB,SACAyF,YAhBiBoR,EAoBnBijC,OAAS,WAAM,IACNsD,EAAgBvmC,EAAKiS,MAArBs0B,YACJA,GACHA,KAvBiBvmC,EA2BnB+vB,KAAO,WAAM,IAAAtZ,EACiBzW,EAAKiS,MAA1BhhB,EADIwlB,EACJxlB,QAAS5C,EADLooB,EACKpoB,QAEjB4C,EAAQ2jD,QAAQvmD,GAEhB2R,EAAKijC,SACLhyC,EAAQ21C,aAAa,WAjCH5mC,EAoCnB2R,OAAS,WACR3R,EAAKijC,SACLjjC,EAAKiS,MAAMhhB,QAAQ21C,aAAa,WAnChC5mC,EAAK+vB,KAAO/vB,EAAK+vB,KAAK1Z,KAAV12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IAEZA,EAAKlhB,MAAQ,CACZszB,QAAQ,EACRy0B,OAAO,GAPU7mC,EAF2B,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA8mD,EAAAz0B,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA8mD,EAAA,EAAA9zC,IAAA,SAAAxJ,MAAA,WA2CrC,IAAAmvB,EACqB9f,KAAKyZ,MAAdtmB,GADZ2sB,EACAxF,QADAnzB,OAAAiM,GAAA,EAAAjM,CAAA24B,EAAA,cAER,OACClF,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKtqB,EADL,CAECokC,KAAMv3B,KAAKu3B,KACX9S,aAAczkB,KAAKykB,aACnBtL,OAAQnZ,KAAKmZ,cAlD8B80B,EAAA,CACxB/xB,aA2EvB,OAAO5R,YAbP,SAAyBhkB,EAAOmzB,GAAO,IAC9BztB,EAAW1F,EAAX0F,OACR,MAAO,CACN6J,QAAS,IAAIO,UAAOpK,EAAO6J,QAAP,UAItB,SAA4BsmB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGL2jC,GC6FYoO,OA5Jf,SAAAx1D,GAAqC,IAAdkvC,EAAclvC,EAAdkvC,WAChBlgC,EAAU2nB,YAAYvnB,MACtBqmD,EAAgB9+B,YAAY3hB,MAC1BvC,EAAwDzD,EAAxDyD,MAAOsiC,EAAiD/lC,EAAjD+lC,YAAaxhC,EAAoCvE,EAApCuE,QAASjK,EAA2B0F,EAA3B1F,KAAMkI,EAAqBxC,EAArBwC,iBAErCg/B,EAAU7Z,YAAY,SAAAl3B,GAAK,OAChCsH,aAAkBtH,EAAOi2D,QAGpBlmB,EAAgB7Y,YACrB,SAAAl3B,GAAK,OAAIkP,aAAsBlP,EAAOyvC,IAAe,KAGtDyO,oBAAU,WACT7f,YAAQ63B,iBAEN,IAhBiC,IAmB5BtL,EAKJ7a,EALH/8B,MACa63C,EAIV9a,EAJHuF,YACS6gB,EAGNpmB,EAHHj8B,QACMsiD,EAEHrmB,EAFHlmC,KACkB6qD,EACf3kB,EADHh+B,iBAGOyD,EAAWlU,KAAXkU,OAER,OACC8e,EAAA50B,EAAA60B,cAAA,WACEwc,EACAzc,EAAA50B,EAAA60B,cAACk8B,GAAD,MAEAn8B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO,WAAa3U,aAAE,QAAS,CAAEmI,QAAQ,IACzC6I,KAAK,OACLtH,MAAO2I,EACPssB,SAAU,SAAAlB,GAAE,OAAIC,YAAQg4B,YAAc,QAASj4B,EAAG1D,OAAOrwB,SACzD+Y,MAAOwnC,KAAcA,EAAStb,MAC9BgH,UAAW,IACXkS,WACCoC,GAAcA,EAAStb,MACpBsb,EAAS9d,OACTnsC,aAAE,mBAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACL0tC,WAAS,EACTC,KAAM,EACNliC,MAAO3U,aAAE,cAAe,CAAEmI,QAAQ,IAClCuB,MAAOirC,EACPhW,SAAU,SAAAlB,GAAE,OACXC,YAAQg4B,YAAc,cAAej4B,EAAG1D,OAAOrwB,SAEhD+Y,MAAOynC,KAAoBA,EAAevb,MAC1CgH,UAAW,IACXkS,WACCqC,GAAoBA,EAAevb,MAChCub,EAAe/d,OACfnsC,aAAE,yBAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,gBACTgR,KAAK,UACLtH,MAAOyJ,EACPwrB,SAAU,SAAAlB,GAAE,OACXC,YAAQg4B,YAAc,UAAWj4B,EAAG1D,OAAOrwB,SAE5C+Y,MAAO+yC,KAAgBA,EAAW7mB,MAClCgH,UAAW,IACXkS,WACC2N,GAAgBA,EAAW7mB,MAC1B6mB,EAAWrpB,OAEXxY,EAAA50B,EAAA60B,cAAA,QACC+hC,wBAAyB,CACxBC,OAAQ51D,aAAE,mCAOhB2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,IACtBzZ,EAAA50B,EAAA60B,cAAC62B,GAAD,CACClV,WAAS,EACThH,UAAQ,EACR5P,SAAU,SAAAj1B,GAAK,OAAIg0B,YAAQg4B,YAAc,OAAQhsD,KACjD0L,OAAQigD,EACR3rD,MAAOR,EAAO,GACdyL,MAAO3U,aAAE,SAAU,CAAEmI,QAAQ,IAC7Bu/C,OAAO,aACP12C,KAAK,SACLyR,MAAOgzC,KAAaA,EAAQ9mB,MAC5BgH,UAAW,IACXkS,WACC4N,GAAaA,EAAQ9mB,MAClB8mB,EAAQtpB,OACRnsC,aAAE,uBAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,GAAIC,GAAI,IACtBzZ,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,qBAAsB,CAAEqI,KAAM,CAACwM,KACxC7D,KAAK,mBACLtH,MAAO0H,EACPutB,SAAU,SAAAlB,GACT,IAAM/zB,EAAQ+zB,EAAG1D,OAAOrwB,MACxBg0B,YAAQg4B,YAAc,mBAAoBhsD,IAC1Cg0B,YACCw2B,aAAqB,CACpBplB,aACAyF,KAAM,mBACN7qC,QACAilC,OAAO,MAIVlsB,MAAOsxC,KAAYA,EAAOplB,MAC1BgH,UAAW,IACXkS,WACCkM,GAAYA,EAAOplB,MAChBolB,EAAO5nB,OACPnsC,aAAE,iDCvJL2oD,GAAepW,WAAfoW,WAEF+B,GAAyB,SAAAxhD,GAE9B,KADAA,EAAOA,GAAQ,kBAEd,MAAO,CACNitB,MAAO,EACPsG,OAAQ,GAIV,IAAMkuB,EAAQzhD,EAAKjH,MAAM,KAAK,GAAGA,MAAM,KACvC,MAAO,CACNk0B,MAAOnpB,SAAS29C,EAAM,GAAI,IAC1BluB,OAAQzvB,SAAS29C,EAAM,GAAI,MAsKdt0B,KAFQw/B,GAAa/nB,8MApJnCgoB,cAAgB,SAAAC,GAAe,IAAA/+B,EACezW,EAAKiS,MAA1C5jB,EADsBooB,EACtBpoB,QAASo/B,EADahX,EACbgX,SAAUY,EADG5X,EACH4X,cACnB1lC,EAAe0F,EAAf1F,KAAM8rC,EAASpmC,EAATomC,KACNxJ,EAAkBwJ,EAAlBxJ,QAASD,EAASyJ,EAATzJ,KAHasf,EAKJH,GAAuBxhD,GAAzCitB,EALsB00B,EAKtB10B,MAAOsG,EALeouB,EAKfpuB,OAEVs5B,EASMvqB,GACVoD,EACC,CACCX,UAAW,OACXC,YAAa/X,EACbgY,aAAc1R,EACdrQ,IAAK,qBACLkiB,OAAO,EACPC,UAAU,GAEX,CACC/C,UACAD,SApBFyC,EAAS,OAAQ,CAChBQ,SAAS,EACT/gB,IAAK,CACJrB,IAAK,qBACL/jB,KAAM,CAAC8tB,EAAOsG,EAAQ,OAEvBkS,OAAO,OAoBVqnB,oBAAsB,SAAChN,EAAWra,EAAOonB,GACxC,IAAM9nD,EAASwmC,OAAIzG,SAASgb,EAAWL,GAAWK,WAClDzoC,EAAKiS,MAAMwb,SAAS,YAAa,CAChCQ,SAAUunB,IAAgB9nD,EAAOwU,MACjCgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,OAITsnB,qBAAuB,SAAAF,GAAe,IAAAG,EACT31C,EAAKiS,MAAM5jB,QAA/BomC,EAD6BkhB,EAC7BlhB,KAAMgU,EADuBkN,EACvBlN,UACRe,EAAO7pD,OAAAC,GAAA,EAAAD,CAAA,GAAQ80C,GACrB+U,EAAQgM,YAAcA,EAEtBx1C,EAAKiS,MAAMgL,aAAa,OAAQusB,GAChCxpC,EAAKy1C,oBAAoBhN,EAAW,KAAM+M,GAC1Cx1C,EAAKu1C,cAAcC,MAGpBnL,gBAAkB,SAACrW,EAAMjL,GAAQ,IAAAzQ,EACEtY,EAAKiS,MAA/B5jB,EADwBiqB,EACxBjqB,SAER4uB,EAHgC3E,EACf2E,cAEJ+W,EADAr0C,OAAAC,GAAA,EAAAD,CAAA,GAAQ0O,EAAQomC,KAAS1L,wFAlEnB,IACX16B,EAAYmK,KAAKyZ,MAAjB5jB,QACAomC,EAAoBpmC,EAApBomC,KAAMgU,EAAcp6C,EAAdo6C,UACN+M,EAAgB/gB,EAAhB+gB,YAEJA,IACHh9C,KAAK+8C,cAAcC,GACnBh9C,KAAKi9C,oBAAoBhN,GAAW,EAAM+M,qCA+DnC,IAAA3iC,EAAAra,KAAAiwB,EAOJjwB,KAAKyZ,MALR5jB,EAFOo6B,EAEPp6B,QACA5O,EAHOgpC,EAGPhpC,EACA4uC,EAJO5F,EAIP4F,cACAQ,EALOpG,EAKPoG,cACA5R,EANOwL,EAMPxL,aAEOwrB,EAA0Bp6C,EAA1Bo6C,UAAW9/C,EAAe0F,EAAf1F,KAAM8rC,EAASpmC,EAATomC,KACnB+gB,EAAc/gB,EAAK+gB,cAAe,EAClCpmB,EAAS52B,KAAKyZ,MAAM4c,cAAX,KACT+mB,EAAiB/mB,EAAa,UAX5B0b,EAYkBJ,GAAuBxhD,GAAzCitB,EAZA20B,EAYA30B,MAAOsG,EAZPquB,EAYOruB,OAEf,OACC9I,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAA50B,EAAA60B,cAACwiC,GAAA,EAAD,CACCpM,QAAS+L,EACTp3B,SAAU,SAAAlB,GAAE,OAAIrK,EAAK6iC,qBAAqBx4B,EAAG1D,OAAOiwB,YAGtDr1C,MAAO3U,EAAE,uBAEV2zB,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KAAiBj2C,EAAE,4BAEpB2zB,EAAA50B,EAAA60B,cAACyiC,GAAA,EAAD,CAAUC,GAAIP,GACbpiC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,EAAE,YAAa,CAAEmI,QAAQ,IAChCuB,MAAOs/C,EACPrqB,SAAU,SAAAlB,GAAE,OAAID,EAAa,YAAaC,EAAG1D,OAAOrwB,QACpDksC,OAAQ,kBACPxiB,EAAK4iC,oBAAoBhN,GAAW,EAAM+M,IAE3ClgB,QAAS,kBACRziB,EAAK4iC,oBAAoBhN,GAAW,EAAO+M,IAE5CtzC,MAAO0zC,KAAoBA,EAAexnB,MAC1CkZ,WACCsO,GAAoBA,EAAexnB,MAChCwnB,EAAehqB,OACfnsC,EAAE,+BAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAACoc,GAAD,CACCr7B,MAAO3U,EAAE,6BACT8kC,OAAQkQ,EAAKxJ,SAAW,GACxB7M,SAAUiQ,EAAchY,KAAK7d,KAAM,CAClCk1B,UAAW,OACXC,YAAa/X,EACbgY,aAAc1R,EACdrQ,IAAK,qBACLkiB,OAAO,EACPC,UAAU,EACV5P,SAAU5lB,KAAK6xC,kBAEhBje,eAAgB3sC,EAAE,2BAA4B,CAC7CqI,KAAM,CAAC8tB,EAAOsG,EAAQ,QAEvB0P,OAAQwD,EAASA,EAAOxD,OAAS,GACjCjC,KAAM,CACL/T,MAAOA,EACPsG,OAAQA,iBA/IQxH,gBCLpBo3B,GAAU,CACfyB,KAAM,CAAE/qB,IAXDjuB,aAAUyhD,eAAe71D,IAAI,SAAA6rD,GACnC,MAAO,CACN53C,MAAO43C,EAAIpW,IACXzsC,MAAO6iD,EAAIpW,OAQQmW,WAAY,QACjCkK,OAAQ,CAAEzzB,IAAK,GAAIupB,WAAY,SAW1B9P,GAAQ,CACb,CACC9yC,MAAO,EACPiL,MAAO,OAER,CACCjL,MAAO,GACPiL,MAAO,UAER,CACCjL,MAAO,GACPiL,MAAO,SAIHy3C,GAAgBlsD,OAAO+S,KAAKo5C,IAAS3rD,IAAI,SAAAwS,GAC9C,MAAO,CACNxJ,MAAO,CACNwJ,IAAKA,EACLkC,OAAQlC,EACRo5C,WAAYD,GAAQn5C,GAAKo5C,WACzBvyB,OAAQ,CAAEwyB,IAAK,GAAIC,MAAO,GAC1B73C,MAAOnM,YAAS,gBAAA4J,OAAiBc,EAAIqvB,gBACrCkqB,YAAajkD,YAAS,gBAAA4J,OAAiBc,EAAIqvB,iBAE5C5tB,MAAOnM,YAAS,WAAA4J,OAAYc,EAAIqvB,cAAhB,eAIZk0B,eACL,SAAAA,EAAYjkC,GAAO,IAAAjS,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA09C,IAClBl2C,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAu2D,GAAA91C,KAAA5H,KAAMyZ,KAgCPm6B,mBAAqB,SAACx3C,EAAOo/B,EAAMkI,GAClC,IAAMmQ,EAAU1sD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMwtD,SAC5BC,EAAS5sD,OAAAC,GAAA,EAAAD,CAAA,GAAQ0sD,EAAWz3C,GAAO4kB,QACzC+yB,EAAUvY,GAAQkI,EAClBmQ,EAAWz3C,GAAXjV,OAAAC,GAAA,EAAAD,CAAA,GAAyB0sD,EAAWz3C,GAApC,CAA4C4kB,OAAQ+yB,IACpDvsC,EAAKwsC,yBAAyBH,GAC9BrsC,EAAKmS,SAAS,CAAEm6B,QAASD,KAvCPrsC,EA0CnBusC,UAAY,SAAA/yB,GACX,IAAM6yB,EAAU1sD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMwtD,SAC5BC,EAAS5sD,OAAAC,GAAA,EAAAD,CAAA,GAAQ65B,GACvB+yB,EAAU55C,IAAM05C,EAAW3tD,OAC3B6tD,EAAU/yB,OAAV75B,OAAAC,GAAA,EAAAD,CAAA,GAAwB65B,EAAOA,QAC/B6yB,EAAWjgD,KAAKmgD,GAChBvsC,EAAKmS,SAAS,CAAEm6B,QAASD,KAhDPrsC,EAmDnBysC,aAAe,SAAA73C,GACd,IAAMy3C,EAAU1sD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMwtD,SAClCD,EAAWK,OAAO93C,EAAO,GACzBoL,EAAKwsC,yBAAyBH,GAC9BrsC,EAAKmS,SAAS,CAAEm6B,QAASD,IACzBrsC,EAAKirC,qBAAqB,CACzB5kD,GAAE,UAAAwL,OAAY+C,GACdq5B,SAAS,EACTG,OAAO,KA3DUpuB,EA+DnBirC,qBAAuB,SAAA5rD,GAA4B,IAAzBgH,EAAyBhH,EAAzBgH,GAAI4nC,EAAqB5uC,EAArB4uC,QAASG,EAAY/uC,EAAZ+uC,MACtCpuB,EAAKiS,MAAMwb,SAASpnC,EAAI,CACvB4nC,UACA/gB,IAAK,CAAErB,IAAK,sBACZuiB,WAnEiBpuB,EAuEnB2sC,UAAY,SAAA5sD,GAUN,IAAA6sD,EAAA7sD,EATL8U,cASK,IAAA+3C,EATI,GASJA,EARLb,EAQKhsD,EARLgsD,WACAG,EAOKnsD,EAPLmsD,YACA93C,EAMKrU,EANLqU,MACAQ,EAKK7U,EALL6U,MACA4kB,EAIKz5B,EAJLy5B,OACA/5B,EAGKM,EAHLN,EACAqzB,EAEK/yB,EAFL+yB,QACA+b,EACK9uC,EADL8uC,cAEMxoC,EAAE,UAAAwL,OAAa+C,GACrB,OACCwe,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIpE,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAACw5B,GAAD,CACCxmD,GAAIA,EACJi/C,UAAU,OACVwH,aAAW,EACX9e,UAAU,EACV9rB,MAAO2sB,EAAcxoC,IAAOwoC,EAAcxoC,GAAI+nC,MAC9C8c,UACCrc,EAAcxoC,IAASwoC,EAAcxoC,GAAI+nC,MACtCS,EAAcxoC,GAAIulC,OAClB,KAEJxN,SAAU,SAAA8d,GACTl8B,EAAKosC,mBAAmBx3C,EAAO,MAAOsnC,EAAU6P,GAChD/rC,EAAKirC,qBAAqB,CACzB5kD,KACA4nC,QAASiO,EACT9N,OAAO,KAGT+c,OAAQ,kBACPnrC,EAAKirC,qBAAqB,CACzB5kD,KACA4nC,QAASzU,EAAOwyB,IAChB5d,OAAO,KAITh6B,MAAOA,EACP83C,YAAaA,EACbr3C,OAAQA,EACR1L,MAAOqwB,EAAOwyB,IACde,gBAAgB,WAChBC,+BAA+B,EAC/BtC,aAAc71C,EAAOnW,OACrB6/B,QAAQ,cAGVnL,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIpE,GAAI,GACtBzZ,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYh7B,GAAE,gBAAAwL,OAAkB+C,IAE9BnV,EAAE,qBAAsB,CACxBqI,KAAM,CAAC0xB,EAAOyyB,UAGhB74B,EAAA50B,EAAA60B,cAAC2oB,GAAA,EAAD,CACClpB,QAAS,CAAE0H,KAAM1H,EAAQm6B,OAAQC,UAAWp6B,EAAQo6B,WACpD9Q,kBAAA,gBAAAvqC,OAAiC+C,GACjCiC,IAAK,EACLxF,IAAK,IACLupC,KAAM,EACNuB,kBAAkB,OAClBlP,UAAWzT,EAAOwyB,IAClB7iD,MAAOqwB,EAAOyyB,MACdhQ,MAAOA,GACP7d,SAAU,SAAClB,EAAIgf,GAAL,OACTl8B,EAAKosC,mBAAmBx3C,EAAO,QAASsnC,EAAU6P,QAKtD34B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAACwgC,WAAS,EAACuE,GAAI,EAAGpE,GAAI,EAAGnX,WAAW,UAC7CtC,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CAAYG,QAAS,kBAAMtU,EAAKysC,aAAa73C,KAC5Cwe,EAAA50B,EAAA60B,cAACmc,GAAAhxC,EAAD,UArJc,IAGV8tD,GAAYr6B,EAAM5jB,QAAQomC,MAAQ,IAAlC6X,QAHU,OAIlBtsC,EAAKlhB,MAAQ,CACZwtD,QAASA,GAAW,IALHtsC,wFASMssC,GACxB,IAAMa,EAAcxtD,OAAA2D,GAAA,EAAA3D,CAAI2sD,GAAS/sD,OAChC,SAACC,EAAK4tD,GACL,IAAMC,EAAgB7tD,EAAI4tD,EAAGrB,aAAe,GAM5C,OAJMqB,EAAG5zB,OAAOwyB,KACfqB,EAAcjhD,KAAKghD,EAAG5zB,QAEvBh6B,EAAI4tD,EAAGrB,YAAcsB,EACd7tD,GAER,CAAE8tD,UAAW,GAAIC,KAAM,KAGhB9Y,EAASj8B,KAAKyZ,MAAM5jB,QAApBomC,KACF+U,EAAO7pD,OAAAC,GAAA,EAAAD,CAAA,GAAQ80C,GAGrB+U,EAAQ8C,QAAR3sD,OAAA2D,GAAA,EAAA3D,CAAsB2sD,GACtBa,EAAY1Y,KAAO+U,EAEnBhxC,KAAKyZ,MAAMgL,aAAa,KAAM,KAAMkwB,oCA8H5B,IAAAt6B,EAAAra,KAAAie,EAMJje,KAAKyZ,MAJRxyB,EAFOg3B,EAEPh3B,EAEAqzB,EAJO2D,EAIP3D,QACGnnB,EALIhM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,iBASA61B,EAAY9zC,KAAK1Z,MAAjBwtD,QAER,OACCl5B,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACbjtC,OAAA2D,GAAA,EAAA3D,CAAI2sD,GAASnsD,IACb,eAAAG,EAAA7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAOK,GAPL+uD,EAAAltD,EAEEuU,cAFF,IAAA24C,EAEW,GAFXA,EAGEzB,EAHFzrD,EAGEyrD,WACA33C,EAJF9T,EAIE8T,MACA83C,EALF5rD,EAKE4rD,YALFuB,EAAAntD,EAMEk5B,cANF,IAAAi0B,EAMW,GANXA,EAQC74C,EARDnW,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAA,OAUCy0B,EAAA50B,EAAA60B,cAACR,EAAK85B,UAANhtD,OAAAs2B,OAAA,CACCtjB,IAAKiC,EACLR,MAAO3U,EAAE2U,GACT83C,YAAazsD,EAAEysD,GACft3C,MAAOA,EACPC,QAASi3C,GAAQj3C,IAAW,IAAI2tB,KAAO,GACvCupB,WAAYA,EACZvyB,OAAQA,EACR/5B,EAAGA,EACHqzB,QAASA,GACLnnB,OAKRynB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC0gC,GAAI,IACdxZ,EAAA50B,EAAA60B,cAAC62B,GAAD,CACC3rB,QAAQ,WACRyW,WAAS,EACT5W,SAAU,SAAA5E,GACT3G,EAAK05B,UAAL5sD,OAAAC,GAAA,EAAAD,CAAA,GAAoB65B,KAErB3kB,OAAMlV,OAAA2D,GAAA,EAAA3D,CAAMksD,IACZ1iD,MAAO,GACPiL,MAAO3U,EAAE,cACT0nD,OAAO,aACP12C,KAAK,SACLg3C,cAAeiG,iBAlNQh5B,aAqOfoB,KAFYw/B,GAAazgC,YAxQzB,CACdo4B,OAAQ,CACPxwB,QAAS,YAEVywB,UAAW,CACV/5B,IAAK,SAmQiC0B,CAAmBqhC,MCtRrDC,GAAe,SAAA92D,GAAoC,IAAjC0pC,EAAiC1pC,EAAjC0pC,IAAK0f,EAA4BppD,EAA5BopD,UAAWhpD,EAAiBJ,EAAjBI,EAAGqzB,EAAczzB,EAAdyzB,QAC1C,OACCM,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,2BACRu7B,MACC5H,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC1E,iBAAiB,EACjB5V,QAAS,CACRiW,IAAKjW,EAAQ+8B,WACb/mB,QAAShW,EAAQi9B,mBAElBvtB,IAAKuG,EAAIkC,SAAW,GACpBxI,IAAKgmB,EACLp4C,UAAW04B,EAAIiC,KACfzD,YAAU,MAIbnU,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,gBAAiB,CAAEmI,QAAQ,IACnCozB,MACC5H,EAAA50B,EAAA60B,cAAC4O,GAAD,CAAQrJ,KAAM6vB,EAAWjvB,OAAO,UAC9BivB,OAQD2N,eACL,SAAAA,EAAYnkC,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA49C,IAClBp2C,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAy2D,GAAAh2C,KAAA5H,KAAMyZ,KACD8d,KAAO9d,EAAM8d,KAFA/vB,wEAKV,IAAAyW,EAC+Cje,KAAKyZ,MAApDa,EADA2D,EACA3D,QAAShyB,EADT21B,EACS31B,QAASu1D,EADlB5/B,EACkB4/B,gBAAoB1qD,EADtChM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,yCAEApoB,EAAe1C,EAAf0C,QAAS5O,EAAMkM,EAANlM,EAEhBkJ,EAQG0F,EARH1F,KACAmJ,EAOGzD,EAPHyD,MACAsiC,EAMG/lC,EANH+lC,YACAxhC,EAKGvE,EALHuE,QACA6hC,EAIGpmC,EAJHomC,KACA8Y,EAGGl/C,EAHHk/C,KACA9E,EAEGp6C,EAFHo6C,UACA53C,EACGxC,EADHwC,iBAGD,OACCuiB,EAAA50B,EAAA60B,cAAC67B,GAAD,KACC97B,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,QAAS,CAAEmI,QAAQ,IAC3BozB,MAAOl6B,EAAQI,OAAOrB,UAEvBuzB,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS9zB,KAAMt7B,EAAE,OAAQ,CAAEmI,QAAQ,IAASozB,MAAOryB,IACnDyqB,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS9zB,KAAMt7B,EAAE,QAAS,CAAEmI,QAAQ,IAASozB,MAAOlpB,IACpDshB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,cAAe,CAAEmI,QAAQ,IACjCozB,MAAOoZ,IAERhhB,EAAA50B,EAAA60B,cAACw7B,GAAD,CAAS9zB,KAAMt7B,EAAE,UAAW,CAAEmI,QAAQ,IAASozB,MAAOpoB,IACtDwgB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC7zB,MACC5H,EAAA50B,EAAA60B,cAAAgO,GAAA,OACCjO,EAAA50B,EAAA60B,cAAA,OACC+hC,wBAAyB,CACxBC,OAAQ51D,EAAE,2BAGZ2zB,EAAA50B,EAAA60B,cAAA,OACC+hC,wBAAyB,CACxBC,OAAQ51D,EAAE,mCAOf2zB,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,sBACRu7B,MAAK,GAAAnpB,OAAKhB,EAAL,KAAAgB,OAAyBwkD,KAE9B5hB,EAAK+gB,aACLpiC,EAAA50B,EAAA60B,cAACijC,GAAD,CACCvtB,IAAK0L,EACLgU,UAAWA,EACXhpD,EAAGA,EACHqzB,QAASA,IAIXM,EAAA50B,EAAA60B,cAAA,WACCk6B,GACAn6B,EAAA50B,EAAA60B,cAACw7B,GAAD,CACC9zB,KAAMt7B,EAAE,OAAQ,CAAEmI,QAAQ,IAC1BozB,MACC5H,EAAA50B,EAAA60B,cAAC48B,GAADtwD,OAAAs2B,OAAA,GACKtqB,EADL,CAEC2gD,QAASiB,EACT9tD,EAAGA,gBAxEgBi1B,aAkG5B,IAAM6hC,GAAmBjB,GAAazgC,YAAWyF,GAAXzF,CAAmBuhC,KAC1CtzC,eATf,SAAyBhkB,GAExB,MAAO,CACNgC,QAFmBhC,EAAZE,QAEU8B,QACjBu1D,gBAAiBj2D,aAAgBtB,GAAOwV,SAK3BwO,CAAyBgT,EAAUygC,0BCpH5C3mB,GAAU,SAAAvwC,GAAmCA,EAAhCgP,QAAgC,IAAvB5O,EAAuBJ,EAAvBI,EAAGswC,EAAoB1wC,EAApB0wC,KAAoBpwC,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,wBAClD,OACC+zB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ9C,MAAM,UAAUC,QAASyb,GAEhC3c,EAAA50B,EAAA60B,cAAC6Z,GAAA1uC,EAAD,CAAUw7B,MAAO,CAAExE,YAAa,KAC/B/1B,EAAE,UAsBA+2D,GAAoBhQ,GAAa5W,IACjC6mB,GAAsBtG,GAlBZ,SAAApwD,GAA8D,IAA3D22D,EAA2D32D,EAA3D22D,aAAcC,EAA6C52D,EAA7C42D,YAAatoD,EAAgCtO,EAAhCsO,QAAS5O,EAAuBM,EAAvBN,EAAGswC,EAAoBhwC,EAApBgwC,KAAoBpwC,OAAAiM,GAAA,EAAAjM,CAAAI,EAAA,qDAC7E,OACCqzB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC9C,MAAM,UACNC,QAASyb,EACT9C,SAAU5+B,EAAQomC,KAAK2b,eAEtB/hD,EAAQomC,KAAK2b,cACbh9B,EAAA50B,EAAA60B,cAACujC,GAAAp4D,EAAD,MAEAm4D,GAAevjC,EAAA50B,EAAA60B,cAAC6Z,GAAA1uC,EAAD,CAAUw7B,MAAO,CAAExE,YAAa,KAE/C/1B,EAAEi3D,GAAgB,oBAOhBG,GAAoBvB,GAAa1lB,IAEjCoT,GAAY,SAAA9iD,GAAkB,IAAZ+xB,EAAYtyB,OAAAm3D,GAAA,EAAAn3D,CAAA,GAAAO,GACnC,OAAOkzB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ7C,QAASrC,EAAMN,QAASM,EAAMxyB,EAAE,YAG1Cs3D,GAAoBvQ,GAAaxD,IACjCgU,GAAwB7G,GAAenN,IACvCiU,GAAsB3B,GAAatS,IAEnCkU,GAAe,CACpBC,kBAAkB,EAClBnjC,KAAMZ,EAAA50B,EAAA60B,cAAC+jC,GAAA54D,EAAD,OA2BD64D,GAAyB9R,GAvBH,SAAAtzB,GAAK,OAChCmB,EAAA50B,EAAA60B,cAACikC,GAAD33D,OAAAs2B,OAAA,GACKhE,EADL,CAEC2d,QAAS4mB,GACTxT,UAAW+T,GACX3T,eAAgB,cAChBp0C,SAAU,SACV4yC,QAAS,cACTsB,WAAY,CACX,CAAEpxC,MAAO,kBAAmBivC,KAAMuH,IAClC,CAAEx2C,MAAO,kBAAmBivC,KAAMwW,IAClC,CAAEzlD,MAAO,oBAAqBivC,KAAMoL,KAErChJ,iBAAkB,CACjBrxC,MAAO,wBACPivC,KAAMiP,IAEPtgB,SAAS,wBACT8nB,cAAY,EACZC,UAAW/oD,eAMAgpD,GAAgB,SAAAzlC,GAAK,OACjCmB,EAAA50B,EAAA60B,cAACgkC,GAAD13D,OAAAs2B,OAAA,GACKhE,EACAilC,GAFL,CAGCtR,SAAS,WACT9zC,MAAM,sBAIF6lD,GAAY,CACjBR,kBAAkB,EAClBnjC,KAAMZ,EAAA50B,EAAA60B,cAACukC,GAAAp5D,EAAD,CAAc61B,MAAM,aAGdwjC,GAAqB,SAAA5lC,GAAK,OACtCmB,EAAA50B,EAAA60B,cAACgkC,GAAD13D,OAAAs2B,OAAA,GAA4BhE,EAAW0lC,GAAvC,CAAkD7lD,MAAM,oBAmDnDgmD,GAA6BvS,GA/CH,SAAAtzB,GAAK,OACpCmB,EAAA50B,EAAA60B,cAACikC,GAAD33D,OAAAs2B,OAAA,GACKhE,EADL,CAEC2d,QAAS6mB,GACTzT,UAAWgU,GACX5T,eAAgB,gBAChBp0C,SAAU,WACV4yC,QAAS,gBACTsB,WAAY,CACX,CACCpxC,MAAO,sBACPivC,KAAMwP,GACN7O,eAAgB,SAAAphD,GAAA,IAAGiuC,EAAHjuC,EAAGiuC,WAAYH,EAAf9tC,EAAe8tC,MAAOuT,EAAtBrhD,EAAsBqhD,QAASoW,EAA/Bz3D,EAA+By3D,UAA/B,OACf56B,YACC66B,aAA2B,CAC1BzpB,aACAH,QACAuT,UACAoW,iBAMJ,CACCjmD,MAAO,wBACPivC,KAAMgS,GACNrR,eAAgB,SAAAjhD,GAAA,IAAG8tC,EAAH9tC,EAAG8tC,WAAYH,EAAf3tC,EAAe2tC,MAAOuT,EAAtBlhD,EAAsBkhD,QAASoW,EAA/Bt3D,EAA+Bs3D,UAA/B,OACf56B,YACC86B,aAA2B,CAC1B1pB,aACAH,QACAuT,UACAoW,kBAKL5U,iBAAkB,CACjBrxC,MAAO,wBACPivC,KAAMmX,IAEPT,UAAWlpD,YACX4pD,kBAAkB,oCAMPC,GAAoB,SAAAnmC,GAAK,OACrCmB,EAAA50B,EAAA60B,cAACykC,GAADn4D,OAAAs2B,OAAA,GACKhE,EACAilC,GAFL,CAGCtR,SAAS,eACT9zC,MAAM,0BAsCFumD,GAAyB9S,GAjCH,SAAAtzB,GAAK,OAChCmB,EAAA50B,EAAA60B,cAACikC,GAAD33D,OAAAs2B,OAAA,GACKhE,EADL,CAEC2d,QAASinB,GACT7T,UAAWiU,GACX7T,eAAgB,cAChBp0C,SAAU,SACV4yC,QAAS,YACTsB,WAAY,CACX,CACCpxC,MAAO,kBACPivC,KAAM8T,GACNnT,eAAgB,SAAA9gD,GAAA,IAAG2tC,EAAH3tC,EAAG2tC,WAAYH,EAAfxtC,EAAewtC,MAAOuT,EAAtB/gD,EAAsB+gD,QAASoW,EAA/Bn3D,EAA+Bm3D,UAA/B,OACf56B,YACCm7B,aAAsB,CACrB/pB,aACAH,QACAuT,UACAoW,iBAIJ,CAAEjmD,MAAO,qBAAsBivC,KAAMwX,IACrC,CAAEzmD,MAAO,iBAAkBivC,KAAMmV,KAElC/S,iBAAkB,CAAErxC,MAAO,wBAAyBivC,KAAMqV,IAC1D1mB,SAAS,wBACTyoB,kBAAkB,uBAClBK,qBAAqB,0BACrBf,UAAW7oD,eAMA6pD,GAAgB,SAAAxmC,GAAK,OACjCmB,EAAA50B,EAAA60B,cAACglC,GAAD14D,OAAAs2B,OAAA,GACKhE,EACAilC,GAFL,CAGCtR,SAAS,WACT9zC,MAAM,sBC3MF8rC,GAAepmB,GAAoBrD,EAAA,GAEnCiJ,GAAYC,aAAW/C,IAEvBujB,GAAU,SAAAx+C,GAAA,IAAGyzB,EAAHzzB,EAAGyzB,QAASm+B,EAAZ5xD,EAAY4xD,UAAWD,EAAvB3xD,EAAuB2xD,QAAvB,MAAqC,CACpD,CACCvgD,KAAM,QACN2D,MAAO3U,aAAE,cACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNolC,UAAU,EACV8E,iBAAkB,SAAAh+C,GAAiC,IAA9BsG,EAA8BtG,EAA9BsG,GAAI+J,EAA0BrQ,EAA1BqQ,SAAUC,EAAgBtQ,EAAhBsQ,UAClC,OACC+iB,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACCzE,mBAAmB,EACnB7U,UAAWC,IAAWjB,EAAQqnB,SAC9B3X,IAAKpyB,EACLqyB,IAAKp8B,EACLgK,UAAWA,EACXk3B,YAAU,OAMf,CACC92B,KAAM,QACN2D,MAAO3U,aAAE,cACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EAENkqC,iBAAkB,eAACjsC,EAADrT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBi6D,aAAe5mD,EAAO,OAG1D,CACCrB,KAAM,OACN2D,MAAO3U,aAAE,aACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNkqC,iBAAkB,kBAAAt/C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAYsT,QAAQ,UAAW,OAG3D,CACCtB,KAAM,UACN2D,MAAO3U,aAAE,gBACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNqqC,cAAe,OACfH,iBAAkB,SAAAjtC,GAAO,OAAIzE,aAAeyE,MAG9C,CACCL,KAAM,UACN2D,MAAO3U,aAAE,WACTgpB,QAAS,CACR5d,QAAQ,EACR4qB,SAAUw7B,EACVp9C,MAAM,EACNolC,UAAU,EACV8E,iBAAkB,SAAA79C,GAAA,IAAG8R,EAAH9R,EAAG8R,GAAI9F,EAAPhM,EAAOgM,KAAP,OACjBknB,EAAA50B,EAAA60B,cAACD,EAAA50B,EAAMqjC,SAAP,KACCzO,EAAA50B,EAAA60B,cAAA+pB,GAAA,GACCtrC,MAAOrS,aAAE,cAET0+C,WAAY,KAEZ/qB,EAAA50B,EAAA60B,cAACslC,GAAD,CAAc3mD,GAAIA,EAAIusB,QAAQ,YAAYnK,aAAW,WACpDhB,EAAA50B,EAAA60B,cAAA+qB,GAAA,GAAY/pB,MAAM,eAGlB28B,GACD59B,EAAA50B,EAAA60B,cAAA+pB,GAAA,GACCtrC,MAAOrS,aAAE,iBAET0+C,WAAY,KAEZ/qB,EAAA50B,EAAA60B,cAAA,YACCD,EAAA50B,EAAA60B,cAACulC,GAAD,CACC9S,aAAc,kBACb3oB,YACC07B,YAAU,CACT3sD,OACA8C,SAAU,SACVwjC,SAAU9jC,cAIb82C,YAAU,YAwBblH,GAAa,SAAAh+C,GAAA,IAAGw4D,EAAHx4D,EAAGw4D,aAAchc,EAAjBx8C,EAAiBw8C,WAAjB,MAA6C,CAC/D9B,WAAY,cACZ+d,aAFkBz4D,EAA6Bs9B,SAG/CghB,cAAe,kBAAMxrB,EAAA50B,EAAA60B,cAAC4pB,GAAD,CAAYC,aAAcJ,KAC/CyB,WAAY,SAACC,EAAWC,EAAW5F,EAAShtC,GAAhC,OAjBM,SAAC2yC,EAAWC,EAAW5F,EAAShtC,GAClD,IAAM6yC,EAAa7yC,EAAK1L,IAAI,SAAAyN,GAAC,MAAK,CACjCgH,MAAOhH,EAAEgH,MACT/I,KAAM,CACL+B,EAAE/B,KAAK,GAAGxF,GACVuH,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GAAGkG,QAAQ,UAAW,IAC7B1F,aAAeuB,EAAE/B,KAAK,QAGxB,MAAO,GAAAgG,OAAG2sC,EAAU3F,IAAbhnC,OAAwB4sC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAW5F,EAAShtC,IAC3CitD,iBA2DcE,OAxDf,SAAsB/mC,GACrB,IAAMa,EAAUsK,KACV53B,EAAOwwB,YAAYzwB,MAExBwJ,EAMGkjB,EANHljB,MACAkiD,EAKGh/B,EALHg/B,UACAD,EAIG/+B,EAJH++B,QACAiI,EAGGhnC,EAHHgnC,cACApI,EAEG5+B,EAFH4+B,aAR2BqI,EAUxBjnC,EADH2L,gBAT2B,IAAAs7B,EAShB,GATgBA,EAAAp2B,EAYYC,mBAAS,IAZrBC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAYrB2Z,EAZqBzZ,EAAA,GAYPm2B,EAZOn2B,EAAA,GAAAqc,EAcU9C,GAAa,CAClDC,SAAUtqC,IACVuqC,eACAC,WAAY,kBACXmB,GAAQ,CACP/qB,UACAm+B,YACAD,eAPKnlD,EAdoBwzC,EAcpBxzC,KAAMgtC,EAdcwG,EAcdxG,QAASiE,EAdKuC,EAcLvC,WAgBvBE,oBAAU,WACTmc,EAAgB,CAAE3zD,OAAMuJ,WACtB,CAACvJ,EAAMuJ,IAEV,IAAM+pD,EAAe/b,sBACpB,SAACp4C,EAAGy0D,GACH,IAAMpa,EAAkBoa,EAAgBj5D,IAAI,SAAA+zD,GAAG,OAAIA,EAAIjV,YACjD6R,EAAmB9R,EAAgB7+C,IAAI,SAAAyN,GAAC,OAAI/B,EAAK+B,GAAGvH,KAE1DwqD,GAAgBA,EAAa,CAAE7R,kBAAiB8R,sBAEjD,CAACjlD,EAAMglD,IAGFpoC,EAAU61B,GAAW,CAAEwa,eAAcl7B,WAAUkf,eACrD,OACC1pB,EAAA50B,EAAA60B,cAACulB,GAADj5C,OAAAs2B,OAAA,CACCnkB,MAAOmnD,EAAgBx5D,aAAE,qBAAuBA,aAAE,aAClDoM,KAAMA,EACNgtC,QAASA,EACTpwB,QAASA,GACLwJ,KChLD2rB,GAAepmB,GAAoBrD,KAEnCiJ,GAAYC,aAAW/C,IAEvBujB,GAAU,SAAAx+C,GAAA,IAAGyzB,EAAHzzB,EAAGyzB,QAAH,MAAiB,CAChC,CACCriB,KAAM,QACN2D,MAAO3U,aAAE,cACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNolC,UAAU,EACV8E,iBAAkB,SAAAh+C,GAAiC,IAA9BsG,EAA8BtG,EAA9BsG,GAAI+J,EAA0BrQ,EAA1BqQ,SAAUC,EAAgBtQ,EAAhBsQ,UAClC,OACC+iB,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACCzE,mBAAmB,EACnB7U,UAAWC,IAAWjB,EAAQqnB,SAC9B3X,IAAKpyB,EACLqyB,IAAKp8B,EACLgK,UAAWA,EACXk3B,YAAU,OAMf,CACC92B,KAAM,QACN2D,MAAO3U,aAAE,eACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,IAGR,CACCpD,KAAM,OACN2D,MAAO3U,aAAE,aACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,IAGR,CACCpD,KAAM,UACN2D,MAAO3U,aAAE,gBACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNqqC,cAAe,OACfH,iBAAkB,SAAAjtC,GAAO,OAAIzE,aAAeyE,MAG9C,CACCL,KAAM,UACN2D,MAAO3U,aAAE,WACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNolC,UAAU,EACV8E,iBAAkB,SAAA79C,GAAA,IAAG8R,EAAH9R,EAAG8R,GAAH,OACjBohB,EAAA50B,EAAA60B,cAAC+pB,GAAA,EAAD,CACCtrC,MAAOrS,aAAE,cAET0+C,WAAY,IACZ/pB,aAAW,QAEXhB,EAAA50B,EAAA60B,cAACgmC,GAAD,CAAcrnD,GAAIA,EAAIusB,QAAQ,aAC7BnL,EAAA50B,EAAA60B,cAAA+qB,GAAA,GAAY/pB,MAAM,mBAqBlBiqB,GAAa,SAAAh+C,GAAA,IAAGw8C,EAAHx8C,EAAGw8C,WAAH,MAAqB,CACvC9B,WAAY,cACZ5B,eAAgB,OAChBwF,cAAe,kBAAMxrB,EAAA50B,EAAA60B,cAAC4pB,GAAD,CAAYC,aAAcJ,KAC/CyB,WAAY,SAACC,EAAWC,EAAW5F,EAAShtC,GAAhC,OAjBM,SAAC2yC,EAAWC,EAAW5F,EAAShtC,GAClD,IAAM6yC,EAAa7yC,EAAK1L,IAAI,SAAAyN,GAAC,MAAK,CACjCgH,MAAOhH,EAAEgH,MACT/I,KAAM,CACL+B,EAAE/B,KAAK,GAAGxF,GACVuH,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GAAGkG,QAAQ,UAAW,IAC7B1F,aAAeuB,EAAE/B,KAAK,QAGxB,MAAO,GAAAgG,OAAG2sC,EAAU3F,IAAbhnC,OAAwB4sC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAW5F,EAAShtC,MA6B7BytD,OA1Bf,SAAsBrnC,GACrB,IAAMa,EAAUsK,KACV53B,EAAOwwB,YAAYzwB,MAFG85C,EAIU9C,GAAa,CAClDC,SAAU9qC,IACV+qC,aAAcj3C,EACdk3C,WAAY,kBACXmB,GAAQ,CACP/qB,eALKjnB,EAJoBwzC,EAIpBxzC,KAAMgtC,EAJcwG,EAIdxG,QAASiE,EAJKuC,EAILvC,WASjBr0B,EAAU61B,GAAW,CAAExB,eAE7B,OACC1pB,EAAA50B,EAAA60B,cAACulB,GAADj5C,OAAAs2B,OAAA,CACCnkB,MAAOrS,aAAE,aACToM,KAAMA,EACNgtC,QAASA,EACTpwB,QAASA,GACLwJ,mCCrIMqI,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAG9B,MAAO,CACNwkC,KAAM,CACL/jC,YAAaT,EACb4L,aAAc5L,EACda,MAAO,IACPH,QAAS,QACTmF,SAAU,WACV/E,SAAU,OACV2jC,0BAA2B,CAC1BpkC,OAAQ,EACRuL,aAAc5L,IAGhBwb,UAAW,CACVrU,OAAQ,EACRX,WAjBa,SAkBbX,SAAU,WACVD,SAAU,UAEXoO,IAAK,CACJnO,SAAU,WACVzH,IAAK,EACLyM,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACP5F,OAAQ,OAGR8G,OAAQ,OACRrG,SAAU,OACVD,MAAO,OACP0T,UAAW,QAEZmwB,UAAW,CACVhkC,QAAS,OACT2F,cAAe,MACf1F,WAAY,QACZib,SAAU,QAEXH,YAAa,CACZ9T,WAAY3H,GAEb7S,MAAO,CACNmS,MAAOS,EAAMwH,QAAQpa,MAAMsb,MAE5BppB,MAAO,CACNusB,aAAc5L,EACdV,MAAOS,EAAMwH,QAAQxU,KAAK2Y,MAE3BqQ,SAAU,CACTlW,SAAU,WACV0S,UAAS,iBAAAz7B,OAAmB,GAAKkjB,EAAxB,OACT5B,IAAK,EACL6H,MAAOjG,KCwFJ2kC,GAA0B/pB,GAtHT,SAAAtwC,GAejB,IAdL6M,EAcK7M,EAdL6M,KACAzM,EAaKJ,EAbLI,EAGAqzB,GAUKzzB,EAZLs6D,eAYKt6D,EAXLqoB,IAWKroB,EAVLyzB,SAGAsgB,GAOK/zC,EATLw3C,WASKx3C,EARLk1C,OAQKl1C,EAPL+zC,cACAH,EAMK5zC,EANL4zC,gBACAxF,EAKKpuC,EALLouC,SACAoB,EAIKxvC,EAJLwvC,cAEA5R,GAEK59B,EAHLu6D,sBAGKv6D,EAFL49B,cACGtxB,EACEhM,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,wKACCw6D,EAAmBhrB,EAAa,cAEtC,OACCzb,EAAA50B,EAAA60B,cAACymC,GAAA,EAAD,CAAMhmC,UAAWhB,EAAQymC,KAAMQ,QAAQ,GACtC3mC,EAAA50B,EAAA60B,cAAC2mC,GAAA,EAAD,CAAWlnC,QAAS,CAAE0H,KAAM1H,EAAQyd,WAAa/N,IAAI,IACpDpP,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC1E,iBAAiB,EACjB5U,UAAWhB,EAAQiW,IACnBvG,IAAKt2B,EAAKwoC,iBACVjS,IAAKv2B,EAAK+tD,kBACVjgC,MAAO,CAAEkP,OAAQ,cAYnB9V,EAAA50B,EAAA60B,cAAC6mC,GAAA,EAAD,KACE9mB,EAAa6mB,kBACb7mC,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAECzyB,WAAS,EACTzuB,KAAK,OACLyL,MAAO3U,EAAE,oBAAqB,CAAEmI,QAAQ,IACxCuB,MAAO+C,EAAK+tD,mBAAqB,GACjC77B,SAAU,SAAAlB,GAAE,OAAID,EAAa,oBAAqBC,EAAG1D,OAAOrwB,QAE5DksC,OAAQ,WACPpC,EAAgB,qBAAqB,GACrCxF,EAAS,oBAAqB,CAC7BQ,SACE/hC,EAAK+tD,mBAAqB3uC,aAASpf,EAAK+tD,mBAC1C/sC,IAAK,CAAErB,IAAK,mBACZuiB,OAAO,KAGTkH,QAAS,kBACR3pC,EAAK8hC,SAAS,oBAAqB,CAClCQ,SACE/hC,EAAK+tD,mBAAqB3uC,aAASpf,EAAK+tD,mBAC1C/sC,IAAK,CAAErB,IAAK,mBACZuiB,OAAO,KAGTlsB,MACC23C,GAAsBA,EAAiBzrB,MACtChb,EAAA50B,EAAA60B,cAAA,gBAAQwmC,EAAiBjuB,OAAzB,KACG,KAEL0b,WACEuS,GAAqBA,EAAiBzrB,MAEnC,KADHhb,EAAA50B,EAAA60B,cAAA,WAAM5zB,EAAE,uCAKX2zB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,WACEnnB,EAAK+tD,kBACL7mC,EAAA50B,EAAA60B,cAAC4O,GAAD,CAAQrJ,KAAM1sB,EAAK+tD,kBAAmBzgC,OAAO,UAC3CttB,EAAK+tD,mBAGP7mC,EAAA50B,EAAA60B,cAAA,QAAM2G,MAAO,CAAEzE,QAAS,KACtB,IACA91B,EAAE,yBAiBLo6D,GAAsBA,EAAiBzrB,MACvChb,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,QAAMS,UAAWhB,EAAQ5Q,OACvB,IACA23C,EAAiBjuB,OAAQ,MAGzB,UAUJuuB,GAAiB,WAA+C,IAAAp6D,EAAAtB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAO27D,EAAAr6D,EAA5Ci0C,YAA4C,IAAAomB,EAArC,GAAqCA,EAAAC,EAAAt6D,EAAjCoJ,aAAiC,IAAAkxD,EAAzB,GAAyBA,EAAAC,EAAAv6D,EAArBmM,KACxCuoC,QAD6D,IAAA6lB,EAAd,GAAcA,GAC7D7lB,KACF+U,EAAO7pD,OAAAC,GAAA,EAAAD,CAAA,GAAQ80C,GAGrB,OAFA+U,EAAQxV,GAAQ7qC,EAETqgD,GAoHF+Q,GAAsB5qB,GA1FT,SAAAzvC,GAeb,IAdLgM,EAcKhM,EAdLgM,KACAzM,EAaKS,EAbLT,EAGAqzB,GAUK5yB,EAZLy5D,eAYKz5D,EAXLwnB,IAWKxnB,EAVL4yB,SAEAyhB,GAQKr0C,EATL22C,WASK32C,EARLq0C,QACAnB,EAOKlzC,EAPLkzC,aACAH,EAMK/yC,EANL+yC,gBACAxF,EAKKvtC,EALLutC,SACAoB,EAIK3uC,EAJL2uC,cAEA5R,GAEK/8B,EAHL05D,sBAGK15D,EAFL+8B,cAGMu2B,GADD7zD,OAAAiM,GAAA,EAAAjM,CAAAO,EAAA,wKACU2uC,EAAa,kBADvBxzB,EAEiCjb,eAA9BP,EAFHwb,EAEGxb,QAASsE,EAFZkX,EAEYlX,SAAUmQ,EAFtB+G,EAEsB/G,OACrBkmD,EAAS9vD,aACdtG,yBAAc8H,EAAK2E,kBAAoB,IAAIhR,IAAY,KAAKiX,IAAI,KAChE3S,GACA,GAGK0M,OAC0BlS,IAA/BuN,EAAKuoC,KAAK5jC,iBACP3E,EAAKuoC,KAAK5jC,iBACV2pD,EAEJ,OACCpnC,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACCC,WAAS,EACTlhB,UAAWhB,EAAQ4d,UACnBtb,OAAO,QACPlT,QAASsxC,GAETpgC,EAAA50B,EAAA60B,cAAC4hB,GAAA,EAAD,KAAax1C,EAAE,qBAAsB,CAAEqI,KAAM,CAACwM,MAC9C8e,EAAA50B,EAAA60B,cAAC6hB,GAAA,EAAD,CACCF,WAAS,EACT5d,WAAS,EACTzuB,KAAK,OACL8H,KAAM,mBACNtH,MAAO0H,GAAoB,GAC3ButB,SAAU,SAAAlB,IAlES,WAA+C,IAA9C/zB,EAA8C1K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtC,GAAIu1C,EAAkCv1C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAA5ByvC,EAA4B3vC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAArBitC,EAAqBntC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAAAF,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAI5Dq1C,EAAM,CACd/F,QAJqBlgC,eAAY2kD,eAAevpD,IAChBqY,SAAMld,WAAW6E,EAAO,IAIxD+jB,IAAK,CAAErB,IAAK+f,GAAU,sBACtBwC,MAAOA,IA4DJqsB,CACCv9B,EAAG1D,OAAOrwB,MACV,oBACA,EACA,GACAskC,GAEDxQ,EACC,OACAk9B,GAAe,CACdnmB,KAAM,mBACN7qC,MAAO+zB,EAAG1D,OAAOrwB,MACjB+C,WAIHkpC,UAAW,KACXC,OAAQ,SAAAnY,GACP+V,EAAgB,oBAAoB,IAErChG,UAAWmG,EAAaviC,iBACxB0kC,aACCniB,EAAA50B,EAAA60B,cAACmiB,GAAA,EAAD,CAAgB5a,SAAS,OACxBxH,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CAGC8Y,SAAUmG,EAAY,kBAAwBmB,EAC9ClgB,MAAM,YACNP,UAAWhB,EAAQ0d,YACnBlc,QAAS,SAAA4I,GAAE,OAAI+V,EAAgB,oBAAoB,KAEnD7f,EAAA50B,EAAA60B,cAACoiB,GAAAj3C,EAAD,UAMJ40B,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KACE8d,GAAYA,EAAO5nB,OACjBnsC,EAAE+zD,EAAO5nB,OAAQ,CAAE9jC,KAAM0rD,EAAO1nC,aAChCrsB,EAAE,2BAiGHi7D,GAAuB/qB,GAzFT,SAAArvC,GAcd,IAbL4L,EAaK5L,EAbL4L,KACAzM,EAYKa,EAZLb,EAGAqzB,GASKxyB,EAXLq5D,eAWKr5D,EAVLonB,IAUKpnB,EATLwyB,SAEAyhB,GAOKj0C,EARLu2C,WAQKv2C,EAPLi0C,QACAnB,EAMK9yC,EANL8yC,aACAH,EAKK3yC,EALL2yC,gBACAxF,EAIKntC,EAJLmtC,SACAoB,EAGKvuC,EAHLuuC,cACA5R,EAEK38B,EAFL28B,aAGMg4B,GADDt1D,OAAAiM,GAAA,EAAAjM,CAAAW,EAAA,gJACcuuC,EAAa,SAE1Bj8B,EAAU1G,EAAKuoC,KAAK7hC,QAE1B,OACCwgB,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACCC,WAAS,EACTlhB,UAAWhB,EAAQ4d,UACnBtb,OAAO,QACPlT,QAAS+yC,GAAc7hB,EAAaxgC,SAEpCwgB,EAAA50B,EAAA60B,cAAC4hB,GAAA,EAAD,KAAax1C,EAAE,iBACf2zB,EAAA50B,EAAA60B,cAAC6hB,GAAA,EAAD,CACCF,WAAS,EACT5d,WAAS,EACTzuB,KAAK,OACL8H,KAAM,UACNtH,MAAOyJ,GAAW1G,EAAK0G,SAAW,GAClCwrB,SAAU,SAAAlB,IAzIU,WAA+C,IAA9C/zB,EAA8C1K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtC,GAAIu1C,EAAkCv1C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAA5ByvC,EAA4B3vC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAArBitC,EAAqBntC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAAAF,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAK7Dq1C,EAAM,CACd/F,SALciG,OAAIzG,SAAStkC,EAAO6oC,WAAQD,UAAUn/B,SAE7BsP,MAIvBgL,IAAK,CAAErB,IAAK+f,GAAU,oBACtBwC,MAAOA,IAkIJusB,CAAgBz9B,EAAG1D,OAAOrwB,MAAO,WAAW,EAAM,GAAIskC,GACtDxQ,EACC,OACAk9B,GAAe,CACdnmB,KAAM,UACN7qC,MAAO+zB,EAAG1D,OAAOrwB,MACjB+C,WAIHkpC,UAAW,KACXC,OAAQ,SAAAnY,GACP+V,EAAgB,WAAW,IAE5BhG,WAAY/gC,EAAK0G,UAAYwgC,EAAaxgC,QAC1C2iC,cACErpC,EAAK0G,SACLwgB,EAAA50B,EAAA60B,cAACmiB,GAAA,EAAD,CAAgB5a,SAAS,OACxBxH,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CACC8Y,SAAUmG,EAAaxgC,SAAW2hC,EAClClgB,MAAM,YACNP,UAAWhB,EAAQ0d,YACnBlc,QAAS,SAAA4I,GAAE,OAAI+V,EAAgB,WAAW,KAE1C7f,EAAA50B,EAAA60B,cAACoiB,GAAAj3C,EAAD,UAOL40B,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KACEuf,GAAgBA,EAAWrpB,QAAUwH,EAAaxgC,QAClDnT,EAAEw1D,EAAWrpB,OAAQ,CAAE9jC,KAAMmtD,EAAWnpC,aAExCsH,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACE/J,EAAaxgC,SACbwgB,EAAA50B,EAAA60B,cAAA,OACC+hC,wBAAyB,CACxBC,OAAQ51D,EAAE,0BAIb2zB,EAAA50B,EAAA60B,cAAA,OACC+hC,wBAAyB,CACxBC,OAAQ51D,EAAE,qCAYZm7D,GAAY,SAAAn6D,GAAA,IACjBqyB,EADiBryB,EACjBqyB,QACA1iB,EAFiB3P,EAEjB2P,SACAC,EAHiB5P,EAGjB4P,UACAyB,EAJiBrR,EAIjBqR,MACA+kC,EALiBp2C,EAKjBo2C,WACAM,EANiB12C,EAMjB02C,cACAzvB,EAPiBjnB,EAOjBinB,IAPiB,OASjB0L,EAAA50B,EAAA60B,cAACymC,GAAA,EAAD,CAAMhmC,UAAWhB,EAAQymC,KAAMQ,QAAQ,GACtC3mC,EAAA50B,EAAA60B,cAAC2mC,GAAA,EAAD,CAAWlnC,QAAS,CAAE0H,KAAM1H,EAAQyd,YACnCnd,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC1E,iBAAiB,EACjBlG,IAAKpyB,EACLqyB,IAAK3wB,EACLgiB,UAAWhB,EAAQiW,IACnB14B,UAAWA,EACXk3B,YAAU,KAGXsP,GACAzjB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,MACRoJ,MAAI,EACJtT,MAAM,YACNC,QAAS6iB,EACTrjB,UAAWhB,EAAQge,UAEnB1d,EAAA50B,EAAA60B,cAACoiB,GAAAj3C,EAAD,OAIDkpB,GACA0L,EAAA50B,EAAA60B,cAAC6mC,GAAA,EAAD,KACC9mC,EAAA50B,EAAA60B,cAAC4O,GAAD,CAAQrJ,KAAMlR,EAAK8R,OAAO,UACxB9R,MAuHOmzC,GAAahmC,YAAWyF,GAAXzF,CAhHP,SAAAj0B,GAUb,IATLsL,EASKtL,EATLsL,KACAzM,EAQKmB,EARLnB,EACAk6D,EAOK/4D,EAPL+4D,eACAjyC,EAMK9mB,EANL8mB,IACAoL,EAKKlyB,EALLkyB,QACA+jB,EAIKj2C,EAJLi2C,WACA7nC,EAGKpO,EAHLoO,SACAokC,EAEKxyC,EAFLwyC,aACGznC,EACEhM,OAAAiM,GAAA,EAAAjM,CAAAiB,EAAA,sFACCwP,EAAWlE,EAAKkE,SAChBC,EAAYnE,EAAKmE,UAEvB,OACC+iB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,GAAIC,GAAI,GAAIsJ,GAAI,GACtC/iB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,EAAGC,GAAI,EAAGsJ,GAAI,GACtB,WAAbnnC,EACAokB,EAAA50B,EAAA60B,cAACqmC,GAAD/5D,OAAAs2B,OAAA,CACCsY,WAAYriC,EAAK0pC,IACjB1pC,KAAMA,EACNzM,EAAGA,EACHioB,IAAKA,EACLoL,QAASA,EACT+jB,WAAYA,EACZzD,aAAcA,GACVznC,IAGLynB,EAAA50B,EAAA60B,cAACynC,GAAD,CACChoC,QAASA,EACT1iB,SAAUA,EACVC,UAAWA,EACXyB,MAAO5F,EAAK4F,MACZ+kC,WAAYA,EACZM,cAAexrC,EAAKwrC,cACpBzvB,IAAKA,KAIR0L,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,EAAGC,GAAI,EAAGsJ,GAAI,GACpC/iB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACV,WAAb/lB,GACAokB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACknC,GAAD56D,OAAAs2B,OAAA,CACCsY,WAAYriC,EAAK0pC,IACjB1pC,KAAMA,EACNzM,EAAGA,EACHioB,IAAKA,EACLoL,QAASA,EACT+jB,WAAYA,EACZzD,aAAcA,GACVznC,KAIO,WAAbqD,GACAokB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACqnC,GAAD/6D,OAAAs2B,OAAA,CACCsY,WAAYriC,EAAK0pC,IACjB1pC,KAAMA,EACNzM,EAAGA,EACHioB,IAAKA,EACLoL,QAASA,EACT+jB,WAAYA,EACZzD,aAAcA,GACVznC,EARL,CASCypB,OAAO,QACP4f,WAAS,MAIZ5hB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MAAO+C,EAAKvD,KACZyL,MAAO3U,EAAE,OAAQ,CAAEmI,QAAQ,IAC3BqlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,KAGVpd,MAAMmjC,QAAQ7uD,EAAKqhD,OAAsB,WAAbv+C,GAC5BokB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC1gD,MAAO+C,EAAKqhD,KACVptD,IAAI,SAAA6rD,GAAG,UAAAn6C,OAAQm6C,EAAIA,IAAZ,KAAAn6C,OAAmBm6C,EAAIC,MAAvB,QACP+O,KAAK,OACP5mD,MACC3U,EAAE,OAAQ,CAAEmI,QAAQ,IAApB,KAAAiK,OAAmC3F,EAAKqhD,KAAK7uD,OAA7C,KAEDuuC,UAAQ,EACR7X,OAAO,QACPihB,WAAS,EACTrB,WAAS,EACTsB,KAAM,SAQbljB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,GAAIC,GAAI,GAAIsJ,GAAI,GACrCwjB,MAmLQsB,GAAgBpmC,YAAWyF,GAAXzF,CA3KP,SAAA9yB,GAShB,IARLmK,EAQKnK,EARLmK,KACAzM,EAOKsC,EAPLtC,EACAk6D,EAMK53D,EANL43D,eACAjyC,EAKK3lB,EALL2lB,IACAoL,EAIK/wB,EAJL+wB,QACA+jB,EAGK90C,EAHL80C,WAEGlrC,GACE5J,EAFLiN,SAEKrP,OAAAiM,GAAA,EAAAjM,CAAAoC,EAAA,wEACCqO,EAAWlE,EAAKkE,SAChBE,EAASpE,EAAKoE,QAAU,GAFzBiP,EAGwBnf,eAArB+D,EAHHob,EAGGpb,SAAUmQ,EAHbiL,EAGajL,OAClB,OACC8e,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,GAAIC,GAAI,GAAIsJ,GAAI,GACtC/iB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ2mC,WACvBrmC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,EAAGC,GAAI,EAAGsJ,GAAI,GACpC/iB,EAAA50B,EAAA60B,cAACynC,GAAD,CACChoC,QAASA,EACT1iB,SAAUA,EACV0B,MAAO5F,EAAK4F,MACZ+kC,WAAYA,EACZM,cAAexrC,EAAKwrC,cACpBzvB,IAAKA,KAGP0L,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,EAAGC,GAAI,EAAGsJ,GAAI,GACpC/iB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,GAAIC,GAAI,GAC9BzZ,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MAAO+C,EAAK7F,GACZ+N,MAAO3U,EAAE,KAAM,CAAEmI,QAAQ,IACzBqlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,KAGX5hB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MAAOkD,aAAeH,EAAK4E,SAC3BsD,MAAO3U,EAAE,UAAW,CAAEmI,QAAQ,IAC9BqlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,KAGX5hB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MAAOkD,aAAeH,EAAK6E,YAC3BqD,MAAO3U,EAAE,aAAc,CAAEmI,QAAQ,IACjCqlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,KAGX5hB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MAAOkD,aAAeH,EAAK8E,qBAC3BoD,MAAO3U,EAAE,sBAAuB,CAAEmI,QAAQ,IAC1CqlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,KAGX5hB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MAAO+C,EAAK8mD,kBAAoB,EAChC5+C,MAAO3U,EAAE,0BACTwtC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,OAKb5hB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,GAAIC,GAAI,GAC9BzZ,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MAAOmH,EAAOC,kBACd6D,MAAO3U,EAAE,SAAU,CAAEmI,QAAQ,IAC7BqlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,EACT2c,WAAY,CACXpc,aACCniB,EAAA50B,EAAA60B,cAACmiB,GAAA,EAAD,CAAgB5a,SAAS,OACvB4e,GACAlpC,EAAOC,kBACPD,EAAOG,KACP,WAON2iB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,QACEmH,EAAOM,uBAAyB,GAAK,IACrC/C,QAAQ,GACVuG,MAAO3U,EAAE,mBAAoB,CAAEqI,KAAM,CAAC,OACtCmlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,KAGX5hB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MACCuB,aAAkBwB,EAAKwE,cAAevM,GACtC,IACAmQ,EAEDF,MAAO3U,EAAE,gBAAiB,CAAEmI,QAAQ,IACpCqlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,KAGX5hB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CAEC1gD,MACCuB,aACCtG,wBAAa8H,EAAK2E,kBAAkBiG,IAAI,KACxC3S,GACA,GAED,IACAmQ,EAEDF,MAAO3U,EAAE,MAAO,CAAEmI,QAAQ,IAC1BqlC,UAAQ,EACR7X,OAAO,QACP4f,WAAS,YAUlB5hB,EAAA50B,EAAA60B,cAAA,YAEDD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIrE,GAAI,GAAIC,GAAI,GAAIsJ,GAAI,GACrCwjB,+CClqBOuB,GAAgB,CAC5B,UACA,UACA,UACA,UACA,UACA,WAGUC,GAAwB,CAClCC,YAAY,EACZC,SAAU,CACT14C,KAAM,QACN24C,aAAc,EACdrnD,gBAAiBsnD,KAAOC,qBAAqB,UAAW,MAU1DC,KAAMC,KAAU,CAAE/1D,OAAQw1D,KC2BXQ,OAlDf,SAAAt8D,GAIG,IAHFiK,EAGEjK,EAHFiK,WAGEsyD,EAAAv8D,EAFFsU,mBAEE,IAAAioD,EAFYV,GAAcx8D,OAE1Bk9D,EAAAC,EAAAx8D,EADFqU,mBACE,IAAAmoD,EADYX,GACZW,EACIhwD,EAAOmqB,YAAY,SAAAl3B,GAAK,OAC7B2U,YAA4B3U,EAAO,CAClCwK,aACAoK,cACAC,kBAIF,OACCyf,EAAA50B,EAAA60B,cAACyoC,GAAA,EAAD,CACClmC,MAAO,IACPsG,OAAQ,IACRrwB,KAAMA,EACN4c,QAAS,CAERszC,OAAQ,CACPnhC,SAAU,UAEX9oB,MAAO,CACN2jB,SAAS,EACT3N,KAAMroB,aAAE,6BAETu8D,WAAW,EACXX,SAAU,CACTY,UAAW,CACV7nD,MAAO,SAASlI,EAAML,GACrB,OACCA,EAAKS,SAASJ,EAAKgwD,cAAc9nD,MACjC,KACAvI,EAAKM,OAAOD,EAAK0I,OACjB,KACA/I,EAAKS,SAASJ,EAAKgwD,cAAcrwD,KAAKK,EAAK0I,cC5B7CipC,GAAU,SAAAx+C,GAAA,IACfiV,EADejV,EACfiV,OACAjB,EAFehU,EAEfgU,UACAE,EAHelU,EAGfkU,eACAC,EAJenU,EAIfmU,YACAF,EALejU,EAKfiU,OALe,MAMV,CACL,CACC7C,KAAM,UACN2D,MAAO3U,aAAE,WACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,IAGR,CACCpD,KAAM,cACN2D,MAAO3U,aAAE,qBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPu+C,cAAe,OACfH,iBAAkB,SAAAtwC,GAAW,OAAI0uD,aAAuB1uD,GAAe,KACpE2sC,GAAoB,CACtBp9B,QAAS,CAAC,EAAGzJ,GACbgnC,YAAa96C,aAAE,0BAIlB,CACCgR,KAAM,WACN2D,MAAO3U,aAAE,oBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPo+C,iBAAkB,SAAAjrC,GAAQ,SAAAjB,OACtBsqD,aAAuBrpD,GAAY,GADb,KAAAjB,OACmByC,KAC1C8lC,GAAoB,CACtBp9B,QAAS,CAAC,EAAGxJ,GACb+mC,YAAa96C,aAAE,uBAIlB,CACCgR,KAAM,SACN2D,MAAO3U,aAAE,sBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNkqC,iBAAkB,SAAA1uC,GAAM,OAAI8sD,aAAuB9sD,GAAU,KAC1D+qC,GAAoB,CACtBp9B,QAAS,CAAC,EAAG3J,GACbknC,YAAa96C,aAAE,qBAIlB,CACCgR,KAAM,MACN2D,MAAO3U,aAAE,OACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNkqC,iBAAkB,SAAAlrC,GAAG,SAAAhB,OAAOgB,EAAP,OAClBunC,GAAoB,CACtBp9B,QAAS,CAAC,EAAG1J,GACbinC,YAAa96C,aAAE,cACfg7C,WAAY,GACZE,eAAgB,QAMd2D,GAAa,SAAAv+C,GAAA,IAAG+8C,EAAH/8C,EAAG+8C,WAAH,MAAqB,CACvC9B,WAAY,cACZ5B,eAAgB,OAChBwF,cAAe,kBAAMxrB,EAAA50B,EAAA60B,cAAC4pB,GAAD,CAAYC,aAAcJ,KAC/CtF,YAAa,KAiCC4kB,OA9Bf,SAAAl8D,GAAqD,IAAdoJ,EAAcpJ,EAAdoJ,WAC9BgL,EAAW0hB,YAAY51B,MAAvBkU,OAD4C+nD,EAGOrmC,YAC1D,SAAAl3B,GAAK,OAAIiU,YAA6BjU,EAAOwK,KADtC+J,EAH4CgpD,EAG5ChpD,UAAWE,EAHiC8oD,EAGjC9oD,eAAgBC,EAHiB6oD,EAGjB7oD,YAAaF,EAHI+oD,EAGJ/oD,OAHI+rC,EAOd9C,GAAa,CAClDC,SAAUpqC,IACVqqC,aAAcnzC,EACdozC,WAAY,kBACXmB,GAAQ,CAAEvpC,SAAQjB,YAAWE,iBAAgBC,cAAaF,cAJpDzH,EAP4CwzC,EAO5CxzC,KAAMgtC,EAPsCwG,EAOtCxG,QAASiE,EAP6BuC,EAO7BvC,WAOjBr0B,EAAU61B,GAAW,CAAExB,eAE7B,OACC1pB,EAAA50B,EAAA60B,cAACulB,GAAD,CACC9mC,MAAOrS,aAAE,4BACToM,KAAMA,EACNgtC,QAASA,EACTpwB,QAASA,4EC/EN2U,GAAYC,aAAW,SAAAvI,GAC5B,MAAO,CACNd,KAAM,CACLkI,OAAQ,OACRtG,MAAO,QAER0mC,cAAe,CACdC,aAAY,gBAAA1qD,OAAkBijB,EAAMwH,QAAQ+Q,KAAK7P,OAElDg/B,aAAc,CACbD,aAAY,eAAA1qD,OAAiBijB,EAAMwH,QAAQ+Q,KAAK7P,OAEjDi/B,eAAgB,CACf7mC,MAAO,OACPiqB,UAAW,QAEZ6c,SAAU,CACTC,WAAY,SACZhnC,UAAW,aAEZinC,UAAW,CACVC,eAAgB,aAmNJxe,OA9Mf,SAAiBpsB,GAChB,IAAMa,EAAUsK,KACV9zB,EAAa2oB,EAAM3oB,WAFF81C,EAGMppB,YAAY51B,MAAjCkU,EAHe8qC,EAGf9qC,OAAQnQ,EAHOi7C,EAGPj7C,SACV6B,EAAegwB,YAAYh0B,KAC3B86D,EAAoB9mC,YAAY,SAAAl3B,GAAK,OAC1CsT,YAA6BtT,EAAOwK,KAE/B8F,EAAW4mB,YAAY,SAAAl3B,GAAK,OACjCqQ,YAAgCrQ,EAAOwK,KATjB+yD,EAWkCrmC,YACxD9vB,KADO62D,EAXeV,EAWfU,YAAaC,EAXEX,EAWFW,cAAen9D,EAXbw8D,EAWax8D,QAASo9D,EAXtBZ,EAWsBY,QAGvC1sD,EAAoBnB,EAASkB,OAAOC,kBAG1C,MADuB,WAAtBA,GAAwD,cAAtBA,EAGlC6iB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKk/B,GAAI,EAAGppC,UAAWC,IAAWjB,EAAQ8pC,YACzCxpC,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKk/B,GAAI,EAAGznC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,MAApB,GAAA1sB,OAA6BpS,aAAE,cAAe,CAC7CqI,KAAM,CAACi1D,GAAe,WAEvB3pC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,MAApB,GAAA1sB,OAA6BpS,aAAE,qBAAsB,CACpDqI,KAAM,CAAC28B,aAAcz+B,QAEtBotB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAApB,GAAA1sB,OAAgCpS,aAAE,aAAc,CAC/CqI,KAAM,CAAC28B,aAAcn7B,EAAY,WAGnC8pB,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAC6N,GAAD,CAAapN,UAAWC,IAAWjB,EAAQkB,UAG7CZ,EAAA50B,EAAA60B,cAAAkO,GAAA,QACAnO,EAAA50B,EAAA60B,cAAA2K,GAAA,GACCm/B,GAAI,EACJ1nC,QAAQ,OACRoG,eAAe,gBACf8Q,aAAa,UAEbvZ,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKvI,QAAQ,OAAO2F,cAAc,UACjChI,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,cAAS5zB,aAAE,6BAEZ2zB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAASw+B,GAC7B3pC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAASy+B,GAC7B5pC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS1+B,GAC7BuzB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS0+B,IAE9B7pC,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS9+B,aAAE,yBAC/B2zB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aAEnBnL,EAAA50B,EAAA60B,cAAA,cAAShnB,aAAe+C,EAAS4B,wBAGnCoiB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS9+B,aAAE,wBAC/B2zB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,cAASoR,aAAcn7B,OAI1B8pB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKvI,QAAQ,OAAO2F,cAAc,SAAS1F,WAAW,YACrDtC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,MAAM9+B,aAAE,iBAC5B2zB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,MACnBnL,EAAA50B,EAAA60B,cAAA,iBAAAxhB,OAAYsqD,cAEV/yD,OAAOuH,uBAAYvB,EAASsB,eAAiB,IAAKvM,KACjDiL,EAASkB,OAAOM,sBAAwB,MACxC/C,QAAQ,IAJX,KAAAgE,OAKKyC,OAKR8e,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKvI,QAAQ,OAAOoG,eAAe,iBAClCzI,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,MAAM9+B,aAAE,gCAG9B2zB,EAAA50B,EAAA60B,cAAAkO,GAAA,GAASzN,UAAWC,IAAWjB,EAAQwpC,iBACvClpC,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKm/B,GAAI,EAAG1nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAClB9+B,aAAE,kBAAmB,CACrBqI,KAAM,CACLuE,aAAe+C,EAAS2B,YACxB1E,aAAe+C,EAAS4B,0BAK5BoiB,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,iBAAAxhB,OAAYsqD,aACX/yD,OAAOuH,uBAAYvB,EAASsB,eAAiB,IAAKvM,KAChDiL,EAASkB,OAAOM,sBAAwB,MAF3C,KAAAiB,OAGKyC,OAIR8e,EAAA50B,EAAA60B,cAAAkO,GAAA,QACAnO,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKm/B,GAAI,EAAG1nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS9+B,aAAE,uBAEhC2zB,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,cAAS8oC,aAAuB/sD,EAAS3B,iBAI5C2lB,EAAA50B,EAAA60B,cAAAkO,GAAA,QACAnO,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKm/B,GAAI,EAAG1nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS9+B,aAAE,kBAEhC2zB,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,cAAS8oC,aAAuB/sD,EAASC,YAI5C+jB,EAAA50B,EAAA60B,cAAAkO,GAAA,QAECu7B,EAAkBp+D,OAAS,GAC3B00B,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKm/B,GAAI,EAAG1nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,MAClB9+B,aAAE,iCAIN2zB,EAAA50B,EAAA60B,cAAAkO,GAAA,GAASzN,UAAWC,IAAWjB,EAAQwpC,iBACvClpC,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAA+pC,GAAA,GAAOzzB,KAAK,SACXvW,EAAA50B,EAAA60B,cAAAgqC,GAAA,OACCjqC,EAAA50B,EAAA60B,cAAAiqC,GAAA,GAAUxpC,UAAWC,IAAWjB,EAAQwpC,gBACvClpC,EAAA50B,EAAA60B,cAAAkqC,GAAA,OACCnqC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,cAAS5zB,aAAE,cAGb2zB,EAAA50B,EAAA60B,cAAAkqC,GAAA,OACCnqC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,cAAS5zB,aAAE,wBAGb2zB,EAAA50B,EAAA60B,cAAAkqC,GAAA,OACCnqC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,cAAS5zB,aAAE,yBAGb2zB,EAAA50B,EAAA60B,cAAAkqC,GAAA,OACCnqC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAA50B,EAAA60B,cAAA,cAAS5zB,aAAE,yBAKf2zB,EAAA50B,EAAA60B,cAAAmqC,GAAA,OACEV,EACCjpD,KAAK,SAACrV,EAAGI,GAAJ,OAAUA,EAAEkU,SAAWtU,EAAEsU,WAC9B3S,IAAI,SAACiC,EAAOwL,GAAR,OACJwlB,EAAA50B,EAAA60B,cAAAiqC,GAAA,GAAU3qD,IAAK/E,GACdwlB,EAAA50B,EAAA60B,cAAAkqC,GAAA,GAAWzpC,UAAWC,IAAWjB,EAAQ4pC,WACxCtpC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAASn8B,EAAMwQ,UAEpCwgB,EAAA50B,EAAA60B,cAAAkqC,GAAA,OACCnqC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAClB49B,aAAuB/5D,EAAMqL,eAGhC2lB,EAAA50B,EAAA60B,cAAAkqC,GAAA,OACCnqC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAClB49B,aAAuB/5D,EAAMiN,UAGhC+jB,EAAA50B,EAAA60B,cAAAkqC,GAAA,OACCnqC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,SAApB,GAAA1sB,OACKsqD,aACH/5D,EAAM0Q,UAFR,KAAAjB,OAGMyC,aA3KS,MCjBZmpD,OAnDf,SAAwBxrC,GAAO,IAAAmtB,EAC2BppB,YACxD9vB,KADO62D,EADsB3d,EACtB2d,YAAaC,EADS5d,EACT4d,cAAen9D,EADNu/C,EACMv/C,QAASo9D,EADf7d,EACe6d,QAI7C,OACC7pC,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKk/B,GAAI,EAAGC,GAAI,GACf/pC,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,MAAM,oBAE3BnL,EAAA50B,EAAA60B,cAAAymC,GAAA,OACC1mC,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAAAw2B,GAAA,GACCz1C,MAAO3U,aAAE,gBACT0J,MAAO4zD,GAAe,GACtB3+B,SAAU,SAAAlB,GAAE,OACXC,YAAQugC,YAAkB,CAAEX,YAAa7/B,EAAG1D,OAAOrwB,UAEpD6rC,WAAS,IAEV5hB,EAAA50B,EAAA60B,cAAAw2B,GAAA,GACCz1C,MAAO3U,aAAE,mBACT0J,MAAO6zD,GAAiB,GACxB5+B,SAAU,SAAAlB,GAAE,OACXC,YAAQugC,YAAkB,CAAEV,cAAe9/B,EAAG1D,OAAOrwB,UAEtD6rC,WAAS,IAEV5hB,EAAA50B,EAAA60B,cAAAw2B,GAAA,GACCz1C,MAAO3U,aAAE,WACT0J,MAAOtJ,GAAW,GAClBu+B,SAAU,SAAAlB,GAAE,OACXC,YAAQugC,YAAkB,CAAE79D,QAASq9B,EAAG1D,OAAOrwB,UAEhD6rC,WAAS,IAEV5hB,EAAA50B,EAAA60B,cAAAw2B,GAAA,GACCz1C,MAAO3U,aAAE,WACT0J,MAAO8zD,GAAW,GAClB7+B,SAAU,SAAAlB,GAAE,OACXC,YAAQugC,YAAkB,CAAET,QAAS//B,EAAG1D,OAAOrwB,UAEhD6rC,WAAS,IAET/iB,EAAMyE,aCtCN0G,GAAYC,aAAW,SAAAvI,GAC5B,MAAO,CACN6oC,GAAI,CACH/nC,MAAO,QACPiF,UAAW,QACX4B,QAAS,OAEVmhC,aAAaj+D,OAAA80B,EAAA,EAAA90B,CAAA,GACXm1B,EAAMmG,YAAYupB,KAAK,MAAQ,CAC/B/uB,QAAS,SAGXooC,cAAcl+D,OAAA80B,EAAA,EAAA90B,CAAA,GACZm1B,EAAMmG,YAAYC,GAAG,MAAQ,CAC7BzF,QAAS,YAKb,SAASqoC,GAAgB7rC,GACxB,IAAMa,EAAUsK,KACV2gC,EAAUpW,mBACRrQ,EAAW0mB,eAAX1mB,OACFvoC,EAAQinB,YAAY,SAAAl3B,GAAK,OAAIkI,aAAwBlI,KAErDm/D,EAA0BhsC,EAAMqlB,QAAUA,EAC1C4mB,EAAWD,EAA0B,CAACA,GAA2BlvD,EACvE,OAAwB,IAApBmvD,EAASx/D,OACL00B,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CAAU7iC,GAAI,oCAErBohB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKvI,QAAQ,OAAOoG,eAAe,SAAS8Q,aAAa,UACxDvZ,EAAA50B,EAAA60B,cAAA2K,GAAA,GACCvI,QAAQ,OACRoG,eAAe,SACf8Q,aAAa,SACbvR,cAAc,UAEdhI,EAAA50B,EAAA60B,cAAC8qC,GAAD,KACC/qC,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKm/B,GAAI,GACR/pC,EAAA50B,EAAA60B,cAAC+qC,GAAA5/D,EAAD,CACC6/D,QAAS,kBACRjrC,EAAA50B,EAAA60B,cAAA8D,EAAA,GACCumB,UAAWtqB,EAAA50B,EAAA60B,cAAAsqB,GAAA,QACXpf,QAAQ,YACRlK,MAAM,UACN2gB,WAAS,GAER,GAAAnjC,OAACosD,EAEIx+D,aAAE,iBADFA,aAAE,yBAIV48B,QAAS,kBAAM0hC,EAAQ9qD,aAI1BmgB,EAAA50B,EAAA60B,cAAAymC,GAAA,OACC1mC,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKlK,UAAWC,IAAWjB,EAAQ+qC,gBAClCzqC,EAAA50B,EAAA60B,cAAA2K,GAAA,GACC3M,EAAG,EACHoE,QAAQ,OACRoG,eAAe,SACfnG,WAAW,SACX0F,cAAc,UAEdhI,EAAA50B,EAAA60B,cAAA+qB,GAAA,QACAhrB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAQ,WAAW9I,QAAQ,QAAQ6L,cAAY,GACzD7hC,aAAE,mCAIN2zB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKlK,UAAWC,IAAWjB,EAAQ8qC,eACjCM,EAASx/D,OAAS,GAClB00B,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKrF,IAAKolC,EAASjqC,UAAWC,IAAWjB,EAAQ6qC,KAC/CO,EAAS/9D,IAAI,SAAAmJ,GAAU,OACvB8pB,EAAA50B,EAAA60B,cAACirC,GAAD,CAASh1D,WAAYA,EAAYqJ,IAAKrJ,WC5D/C,IAAMi1D,GAAY,mBAELhwD,GAAb,SAAAyjB,GACC,SAAAzjB,EAAY0jB,EAAOusC,GAAS,IAAAx+C,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAjK,IAC3ByR,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA4O,GAAA6R,KAAA5H,KAAMyZ,EAAOusC,KAQdC,gBAAkB,SAACtmC,EAAOvjB,GACzBoL,EAAKmS,SAAS,CAAEusC,SAAU9pD,KAVCoL,EAa5B2+C,gBAAkB,SAAAt/D,GAA8B,IAA3B+P,EAA2B/P,EAA3B+P,SAAU6B,EAAiB5R,EAAjB4R,QAASxR,EAAQJ,EAARI,EACvC,OACC2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC9C,MAAM,YACNC,QAAS,WACRrjB,EAAQsY,cAAc,CAAEna,eAGxB3P,EAAE,0BApBPugB,EAAKlhB,MAAQ,CACZ4/D,SAAU,EACVE,WAAY,IALc5+C,EAD7B,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA4O,EAAAyjB,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA4O,EAAA,EAAAoE,IAAA,SAAAxJ,MAAA,WA+BU,IAAAstB,EAWJje,KAAKyZ,MATRxyB,EAFOg3B,EAEPh3B,EACAqzB,EAHO2D,EAGP3D,QACA5mB,EAJOuqB,EAIPvqB,KAIA+E,EAROwlB,EAQPxlB,QACA+mB,EATOvB,EASPuB,QAGO0mC,EAAalmD,KAAK1Z,MAAlB4/D,SACFvsD,EAAQjG,EAAK8D,KAAKR,QAClBJ,EAAW,IAAIZ,YAActC,GAC7BoE,GAAUlB,EAASkB,QAAU,IAAIG,KACjCF,EAAoBnB,EAASkB,OAAOC,kBACpC6N,EAAShP,EAASY,KAAKqO,WAAW,GAClCC,EAAWlP,EAASY,KAAKqO,WAAW,GAC1C,OACC+U,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAC4nC,GAAD,CACC/uD,KAAMkD,EACN3P,EAAGA,EACHk6D,gBAOa,UAAXrpD,GACW,WAAXA,GACW,aAAXA,GACW,cAAXA,IACA8iB,EAAA50B,EAAA60B,cAAA7a,KAAMmmD,gBAAN,CACCvvD,SAAUA,EACV3P,EAAGA,EACHwR,QAASA,EACT+mB,QAASA,MAKb5E,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACqR,GAAA,EAAD,CAAQ9J,SAAS,SAASvG,MAAM,UAAUP,UAAWhB,EAAQgI,QAC5D1H,EAAA50B,EAAA60B,cAAC8K,GAAA,EAAD,CACCh1B,MAAOu1D,EACPtgC,SAAU5lB,KAAKimD,gBACfI,YAAU,EACVC,cAAc,MACdzgC,eAAe,UACfC,UAAU,WAEVlL,EAAA50B,EAAA60B,cAACmL,GAAA,EAAD,CAAKpqB,MAAO3U,EAAE,gBACd2zB,EAAA50B,EAAA60B,cAACmL,GAAA,EAAD,CAAKpqB,MAAO3U,EAAE,oBACd2zB,EAAA50B,EAAA60B,cAACmL,GAAA,EAAD,CAAKpqB,MAAO3U,EAAE,iBACU,WAAtB8Q,GACqB,cAAtBA,IACA6iB,EAAA50B,EAAA60B,cAACmL,GAAA,EAAD,CAAKpqB,MAAO3U,EAAE,eAIjB2zB,EAAA50B,EAAA60B,cAAA,OAAK2G,MAAO,CAAEsT,UAAW,KACV,IAAboxB,GACAtrC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK+gC,OAAK,EAACC,MAAO,CAAE/tB,GAAI,EAAGpE,GAAI,EAAGsJ,GAAI,IACrC/iB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAACiqC,GAAI,EAAGtJ,GAAI,GAAIoE,GAAI,IAC7B7d,EAAA50B,EAAA60B,cAAC4rC,GAAD,CAA6B31D,WAAY4C,EAAK7F,OAGhD+sB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK+gC,OAAK,EAACC,MAAO,CAAE/tB,GAAI,EAAGpE,GAAI,EAAGsJ,GAAI,IACrC/iB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAACiqC,GAAI,EAAGtJ,GAAI,GAAIoE,GAAI,IAC7B7d,EAAA50B,EAAA60B,cAAC6rC,GAAD,CAAuB51D,WAAY4C,EAAK7F,QAK9B,IAAbq4D,GACAtrC,EAAA50B,EAAA60B,cAACu9B,GAAD,CAAc7hD,MAAOoD,EAAO8mD,eAAa,EAACjI,SAAO,IAEpC,IAAb0N,GACAtrC,EAAA50B,EAAA60B,cAAC2N,GAAA,EAAD,KACC5N,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAA/mB,OAAKuM,EAAOsJ,IAAZ,aAAA7V,OAA2BzC,EAAS/I,GAApC,YAEJ+sB,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,EAAE,qBAG3B2zB,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAA/mB,OAAKuM,EAAOsJ,IAAZ,aAAA7V,OAA2BzC,EAAS/I,GAApC,sCAEJ+sB,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,EAAE,4BAG3B2zB,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAA/mB,OAAKyM,EAASoJ,IAAd,aAAA7V,OAA6BzC,EAAS/I,GAAtC,YAEJ+sB,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,EAAE,uBAG3B2zB,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAA/mB,OAAKyM,EAASoJ,IAAd,aAAA7V,OAA6BzC,EAAS/I,GAAtC,sCAEJ+sB,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CAAcQ,QAASniC,EAAE,+BAKf,IAAbi/D,GAAkBtrC,EAAA50B,EAAA60B,cAACyqC,GAAD,CAAiBxmB,OAAQloC,EAAS/I,YApJ3DkI,EAAA,CAA8BmmB,aAoL9B,IAAMyqC,GAAe9sB,GAAQxd,YCjNP,SAAAC,GACrB,MAAO,CACNgG,OAAQ,CACPJ,OAAQ5F,EAAM4F,OAAOI,OAAS,KD8MJjG,CAAmBtmB,KACjCuU,eAlBf,SAAyBhkB,EAAOsgE,GAAU,IACjCpgE,EAAYF,EAAZE,QAER,MAAO,CACNmT,MAAOnT,EAAQ+P,MAAR,OACPswD,WAAYrgE,EAAQ0G,GAAGC,OAAO44D,IAC9B/rB,SAAUhkC,YACVQ,SAAU,aAIZ,SAA4B2lB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAKxB7R,CAGbgT,EAAUqpC,KElNGlmC,MACd7F,EAAA50B,EAAA60B,cAAA,SACCD,EAAA50B,EAAA60B,cAAA,QAAMnd,EAAE,83NAGT,gBACA,eCNc+iB,MACd7F,EAAA50B,EAAA60B,cAAA,SACCD,EAAA50B,EAAA60B,cAAA,QAAMnd,EAAE,g9HAET,iBACA,cC2BKopD,GAAY9nC,GAvBF,SAAAn4B,GAAA,IAAAkgE,EAAAlgE,EACfmgE,kBADe,IAAAD,EACF,GADEA,EAGfvrC,GAHe30B,EAEfogE,UAFepgE,EAGf20B,MACAliB,EAJezS,EAIfyS,MACAm7B,EALe5tC,EAKf4tC,SACAna,EANezzB,EAMfyzB,QACG4sC,EAPY//D,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,uEASf+zB,EAAA50B,EAAA60B,cAAA,MAAA1zB,OAAAs2B,OAAA,GACKypC,EADL,CAEC5rC,UAAWC,IAAWjB,EAAQ6sC,QAAThgE,OAAA80B,EAAA,EAAA90B,CAAA,GAAqBmzB,EAAQma,SAAWA,MAE7D7Z,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQkB,MAAOA,GAC/BZ,EAAA50B,EAAA60B,cAAA,UAAKvhB,GACLshB,EAAA50B,EAAA60B,cAAA,MAAIS,UAAWhB,EAAQ0sC,YACrBA,EAAWr/D,IAAI,SAASy/D,EAAOjtD,GAC/B,OAAOygB,EAAA50B,EAAA60B,cAAA,MAAI1gB,IAAKA,GAAT,IAAgBitD,EAAhB,WAQLC,oLACI,IAAAppC,EACaje,KAAKyZ,MAApBxyB,EADEg3B,EACFh3B,EAAGqzB,EADD2D,EACC3D,QACT,OACCM,EAAA50B,EAAA60B,cAACyD,EAAA,EAAD,CACCvD,MAAM,EACNT,QAAS,CAAEyM,MAAOzM,EAAQgtC,aAC1BC,cAAe,CACdjtC,QAAS,CACR0H,KAAM1H,EAAQktC,WAGhBhrB,WAAS,EACTnf,SAAS,MAETzC,EAAA50B,EAAA60B,cAAC0D,EAAA,EAAD,KAAct3B,EAAE,gBAChB2zB,EAAA50B,EAAA60B,cAAC2D,EAAA,EAAD,KACC5D,EAAA50B,EAAA60B,cAACisC,GAAD,CACCxsC,QAASA,EACThhB,MAAOrS,EAAE,cACTu0B,KACCZ,EAAA50B,EAAA60B,cAAC4sC,GAAD,CACCjmC,MAAO,CAAEpE,MAAO,IAAKsG,OAAQ,KAC7B7H,MAAM,YAGRmrC,WAAY,CACX//D,EAAE,oBACFA,EAAE,oBACFA,EAAE,qBAEHuS,GAAG,wBACHytD,UAAWhgE,EAAE,mBAId2zB,EAAA50B,EAAA60B,cAACisC,GAAD,CACCxsC,QAASA,EACThhB,MAAOrS,EAAE,aACTu0B,KACCZ,EAAA50B,EAAA60B,cAAC6sC,GAAD,CACClmC,MAAO,CAAEpE,MAAO,IAAKsG,OAAQ,KAC7B7H,MAAM,YAGRmrC,WAAY,CACX//D,EAAE,oBACFA,EAAE,oBACFA,EAAE,qBAEHuS,GAAG,uBACHytD,UAAWhgE,EAAE,2BAnDMi1B,aA4DVoB,KAAUjB,YCjGH,WACrB,MAAO,CACNmrC,SAAU,CACT/rD,gBAAiB,4BAElB0rD,QAAS,CACRlqC,QAAS,eACTG,MAAO,MACPsG,OAAQ,OACR2jB,UAAW,SACXsgB,cAAe,MACf5qC,QAAS,GACT6qC,yBAA0B,CACzBl3B,OAAQ,UACR3T,QAAS,GAEV8qC,aAAc,CACb9qC,QAAS,IAEV+qC,0BAA2B,CAC1B1qC,MAAO,SAGT5B,KAAM,CACL4B,MAAO,IACPsG,OAAQ,IACR9G,OAAQ,QAEToqC,WAAY,CACX/iC,QAAS,EACT8jC,OAAQ,CACP9qC,QAAS,QACT+qC,UAAW,WDiEU3rC,CAAmBgrC,KEzFtCY,GAAgB,CACrBhiC,MAAM,EACNiiC,YAAa,GACbvsD,YAAa,EACbwsD,YAAa,EACbC,eAAgB,IAGJC,GAAmB,SAAAxhE,GAmB1BA,EAlBLmG,KAkBKnG,EAjBLkJ,UAiBKlJ,EAhBLwK,UAgBK,IAfL2D,EAeKnO,EAfLmO,QACAC,EAcKpO,EAdLoO,YACA4B,EAaKhQ,EAbLgQ,OACAyxD,EAYKzhE,EAZLyhE,IAYKC,EAAA1hE,EAXLopB,eAWK,IAAAs4C,EAXK,GAWLA,EAVLthE,EAUKJ,EAVLI,EAUKuhE,EAAA3hE,EATL4hE,cASK,IAAAD,EATI,YASJA,EAAAE,EAAA7hE,EARL8hE,eAQK,IAAAD,EARK,QAQLA,EAAAE,EAAA/hE,EAPLgiE,eAOK,IAAAD,EAPK,QAOLA,EAAAE,EAAAjiE,EANLkiE,eAMK,IAAAD,EANK,QAMLA,EAAAE,EAAAniE,EALLoiE,eAKK,IAAAD,EALK,QAKLA,EAAAE,EAAAriE,EAJLsiE,eAIK,IAAAD,EAJKxG,GAAc,GAInBwG,EAAAE,EAAAviE,EAHLwiE,eAGK,IAAAD,EAHK1G,GAAc,GAGnB0G,EAAAE,EAAAziE,EAFL0iE,eAEK,IAAAD,EAFK5G,GAAc,GAEnB4G,EAAAE,EAAA3iE,EADL4iE,eACK,IAAAD,EADK9G,GAAc,GACnB8G,EACG1tD,EAAW0hB,YAAY51B,MAAvBkU,OAGR0oC,oBAAU,WACTklB,KAAMC,cAAcC,SAAS,CAC5BC,UAAW,SAASC,GACnB,GAAIA,EAAMC,QAAQC,SAAWF,EAAMC,QAAQC,QAAQ9jE,OAAQ,CAC1D,IAAM+jE,EAAcH,EAAMI,WAAWH,QAAQC,QAAQ,GAC/CG,EAAML,EAAMK,IACZ34B,EAAIy4B,EAAYG,kBAAkB54B,EAClC64B,EAAgBP,EAAMQ,OAAO,YACnC,GAAID,EAAe,CAClB,IAAME,EAAOF,EAAc1vC,IACrB6vC,EAAUH,EAAcjjC,OAC9B+iC,EAAI5yB,OACJ4yB,EAAIM,YACJN,EAAIO,OAAOl5B,EAAG+4B,GACdJ,EAAIQ,OAAOn5B,EAAGg5B,GACdL,EAAIS,UAAY,EAChBT,EAAIU,YAAY,CAAC,EAAG,IACpBV,EAAIW,YAAc,UAClBX,EAAIY,SACJZ,EAAIa,iBAOT,IAAMC,EAAY,CACjBt3D,OAAQqB,EAAQrB,OAChBG,SAAU,CAAC3M,OAAAC,GAAA,EAAAD,CAAA,GAEN8gE,GAFK,CAGRxsD,gBAAiBsnD,KAAOC,qBAAqBmG,EAAS,GACtDtsC,YAAakmC,KAAOC,qBAAqBmG,EAAS,GAClDvtD,MAAO+sD,EACPt1D,KAAM2B,EAAQlB,SACdo3D,QAAS,aAPD/jE,OAAAC,GAAA,EAAAD,CAAA,GAUL8gE,GAVK,CAWRxsD,gBAAiBsnD,KAAOC,qBAAqBqG,EAAS,GACtDxsC,YAAakmC,KAAOC,qBAAqBqG,EAAS,GAClDztD,MAAOitD,EACPx1D,KAAM4B,EAAYnB,SAClBo3D,QAAS,aAfD/jE,OAAAC,GAAA,EAAAD,CAAA,GAkBL8gE,GAlBK,CAmBRxsD,gBAAiBsnD,KAAOC,qBAAqBuG,EAAS,GACtD1sC,YAAakmC,KAAOC,qBAAqBuG,EAAS,GAClD3tD,MAAOmtD,EACP11D,KAAMwD,EAAO/C,SACbo3D,QAAS,aAvBD/jE,OAAAC,GAAA,EAAAD,CAAA,GA0BL8gE,GA1BK,CA2BRxsD,gBAAiBsnD,KAAOC,qBAAqByG,EAAS,GACtD5sC,YAAakmC,KAAOC,qBAAqByG,EAAS,GAClD0B,qBAAsB1B,EACtB7tD,MAAOqtD,EACP51D,KAAMi1D,EAAIx0D,SACVo3D,QAAS,eAKNE,EAAe,CACpB5H,WAAW,EACXZ,YAAY,EAEZyI,qBAAqB,EACrB/xD,MAAO,CACN2jB,SAAS,EACT3N,KAAMW,EAAQ3W,OAEfupD,SAAU,CACTpnD,gBAAiB,QACjB0O,KAAM,QACNmhD,WAAW,EACX7H,UAAW,CACV7nD,MAAO,SAAS3U,EAAGyW,GAElB,IAAI+qD,EAAS/qD,EAAE5J,SAAS7M,EAAEy8D,cAAc9nD,MACpC2vD,EACH9C,IAAWE,EAAX,GAAAtvD,OACMmyD,aAA4BvkE,EAAEskE,QADpC,KAAAlyD,OAC+CyC,GAC5C0vD,aAA4BvkE,EAAEskE,QAClC,SAAAlyD,OAAUovD,EAAV,MAAApvD,OAAqBkyD,MAIxBE,MAAO,CACNthD,KAAM,QACNmhD,WAAW,GAEZhB,OAAQ,CACPoB,MAAO,CACN,CACCzuC,SAAS,EACT0uC,UAAW,CACV1uC,SAAS,GAEV2uC,WAAY,CACX3uC,SAAS,EACT4uC,YAAa5kE,EAAEwhE,GAAU,cAE1BqD,MAAO,CACNC,UAAU,EACVC,SAAU,SAASC,EAAM7vD,EAAO8vD,GAC/B,OAAO9vD,EAAQxD,KAAK2U,MAAM2+C,EAAMhmE,OAAS,IAAM,GAAK+lE,MAKxDE,MAAO,CACN,CACCR,UAAW,CACV1uC,SAAS,GAEV6uC,MAAO,CACNM,aAAa,GAEdR,WAAY,CACX3uC,SAAS,EACT4uC,YAAalD,GAEd96D,GAAI,YAEL,CACCsC,KAAM,SACN8sB,SAAS,EACTmF,SAAU,QACVwpC,WAAY,CACX3uC,SAAS,EACT4uC,YAAahD,GAEdh7D,GAAI,WACJi+D,MAAO,CACNM,aAAa,EACb9pB,UAAW,GAGZqpB,UAAW,CACVU,iBAAiB,IAGnB,CACCl8D,KAAM,SACN8sB,SAAS,EACTmF,SAAU,QACVwpC,WAAY,CACX3uC,SAAS,EACT4uC,YAAa9C,GAEdl7D,GAAI,WACJi+D,MAAO,CACNM,aAAa,EACb9pB,UAAW,GAGZqpB,UAAW,CACVU,iBAAiB,IAGnB,CACCl8D,KAAM,SACN8sB,SAAS,EACT0uC,UAAW,CACVU,iBAAiB,GAElBT,WAAY,CACX3uC,SAAS,EACT4uC,YAAa5C,GAEdp7D,GAAI,eAMR,OAAO+sB,EAAA50B,EAAA60B,cAACyoC,GAAA,EAAD,CAAM5/B,OAAQ,IAAKrwB,KAAM43D,EAAWh7C,QAASm7C,KCtKzB/uC,YAAW,SAAAC,GAAK,MAAK,CAChDytC,QAAS,CACRtuD,gBAAiB6gB,EAAMwH,QAAQw1B,OAAOC,MACtC19B,MAAO,sBACP6J,UAAWpJ,EAAMg7B,QAAQ,GACzBx6B,SAAU,MALgBT,CAOxBuoB,MAPG,IASD0nB,GAAiBznC,aAAW,SAAAvI,GAAK,MAAK,CAC3CytC,QAAS,CACR3nC,SAAU,WACV3mB,gBAAiB6gB,EAAMwH,QAAQw1B,OAAOiT,OAEvCC,QA7DuB3wC,EA6DAS,EAAMwH,QAAQw1B,OAAOiT,MA5DrC,CACNE,kCAAmC,CAClC9xC,IAAK,EACL4H,KAAM,EACNuS,UAAW,UACX1X,MAAO,MACPsG,OAAQ,MACRgpC,YAAa,CACZ/wD,YAAa,gBACbkhB,YAAW,2BAAAxjB,OAA6BwiB,EAA7B,kBAGb8wC,+BAAgC,CAC/BvlC,OAAQ,EACR7E,KAAM,EACN4F,aAAc,UACd/K,MAAO,MACPsG,OAAQ,MACRgpC,YAAa,CACZ/wD,YAAa,gBACbkhB,YAAW,GAAAxjB,OAAKwiB,EAAL,0CAGb+wC,iCAAkC,CACjCrqC,KAAM,EACN2B,WAAY,UACZR,OAAQ,MACRtG,MAAO,MACPsvC,YAAa,CACZ/wD,YAAa,gBACbkhB,YAAW,eAAAxjB,OAAiBwiB,EAAjB,8BAGbgxC,gCAAiC,CAChCrqC,MAAO,EACPxF,YAAa,UACb0G,OAAQ,MACRtG,MAAO,MACPsvC,YAAa,CACZ/wD,YAAa,gBACbkhB,YAAW,uCAAAxjB,OAAyCwiB,OAqBvDixC,MAAO,CACN1qC,SAAU,WACVtF,SAAU,EACV4vC,YAAa,CACZ7oC,QAAS,KACTjH,OAAQ,OACRK,QAAS,QACTG,MAAO,EACPsG,OAAQ,EACRqpC,YAAa,WAvEhB,IAAwBlxC,IA4EjB,SAASmxC,GAAavzC,GAAO,IAAAwzC,EACLX,KAAtBQ,EAD2BG,EAC3BH,MAAUxyC,EADiBnzB,OAAAiM,GAAA,EAAAjM,CAAA8lE,EAAA,WAAA7d,EAEH/uB,IAAMkK,SAAS,MAFZ8kB,EAAAloD,OAAA4J,GAAA,EAAA5J,CAAAioD,EAAA,GAE5B8d,EAF4B7d,EAAA,GAElB8d,EAFkB9d,EAAA,GAInC,OACCz0B,EAAA50B,EAAA60B,cAAC+pB,GAAA,EAADz9C,OAAAs2B,OAAA,CACCnD,QAASA,EACT8yC,YAAa,CACZC,cAAe,CACdC,UAAW,CACVR,MAAO,CACNS,QAASziC,QAAQoiC,GACjBM,QAASN,OAKTzzC,EAZL,CAaCngB,MACCshB,EAAA50B,EAAA60B,cAACD,EAAA50B,EAAMqjC,SAAP,KACE5P,EAAMngB,MACPshB,EAAA50B,EAAA60B,cAAA,QAAMS,UAAWwxC,EAAO3sC,IAAKgtC,QAWP9wC,YAAW,SAAAC,GAAK,MAAK,CAC/CytC,QAAS,CACRtuD,gBAAiB,UACjBogB,MAAO,sBACPwB,SAAU,IACVP,SAAUR,EAAMmxC,WAAWC,QAAQ,IACnClxC,OAAQ,uBANiBH,CAQvBuoB,MARG,ICtGDhgB,GAAYC,aAAW,SAAAvI,GAC5B,MAAO,CACN0F,KAAM,CACLI,SAAU,WACV3mB,gBAAiB,SAAA5U,GAAA,IAAA8mE,EAAA9mE,EAAG+mE,eAAH,IAAAD,EAAa,GAAbA,EAAA,OACfrxC,EAAMwH,QAAQ8pC,IAAY,IAAI5oC,MAAQ1I,EAAMwH,QAAQC,WAAWC,SACjEnI,MAAO,SAAAt0B,GAAA,IAAAsmE,EAAAtmE,EAAGqmE,eAAH,IAAAC,EAAa,GAAbA,EAAA,OACLvxC,EAAMwH,QAAQ8pC,IAAY,IAAI/lC,cAC/BvL,EAAMwH,QAAQxU,KAAK8Z,UAErB0kC,SAAU,CACTlxC,OAAQN,EAAMC,QAAQ,GACtB0F,SAAU,GAEX8rC,SAAU,CACTC,mBAAoB,CACnBt9B,OAAQ,YAGVu9B,SAAU,CACT7mC,OAAQ,EACRhF,SAAU,WACVhF,MAAO,WA8DK8wC,GAzDG,SAAAz0C,GAAS,IAEzBngB,EAQGmgB,EARHngB,MACAu/B,EAOGpf,EAPHof,SACAk1B,EAMGt0C,EANHs0C,SACA7vC,EAKGzE,EALHyE,SACApC,EAIGrC,EAJHqC,QACA8xC,EAGGn0C,EAHHm0C,QACAtnC,EAEG7M,EAFH6M,QACA6nC,EACG10C,EADH00C,QAGK7zC,EAAUsK,GAAU,CAAEgpC,YAE5B,OACChzC,EAAA50B,EAAA60B,cAACymC,GAAA,EAAD,CAEChmC,UAAWC,IAAWjB,EAAQ0H,KAAM1H,EAAQwzC,SAAvB3mE,OAAA80B,EAAA,EAAA90B,CAAA,GACnBmzB,EAAQyzC,WAAaA,IAEvBjyC,QAASA,GAETlB,EAAA50B,EAAA60B,cAAC6mC,GAAA,EAAD,KACEpoD,GACAshB,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,KAAK+G,QAAM,GAC7BxzB,GAGFu/B,GACAje,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYJ,UAAU,IAAIqE,QAAM,GAC9B+L,EAAU,IACVs1B,GACAvzC,EAAA50B,EAAA60B,cAACmyC,GAAD,CACC1zD,MACCshB,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYJ,UAAU,IAAI1C,QAAQ,WAChCooC,IAIHvzC,EAAA50B,EAAA60B,cAACyjB,EAAAt4C,EAAD,CAAUw7B,MAAO,CAAE1E,SAAU,QAKhCoB,GAEDoI,GAAW1L,EAAA50B,EAAA60B,cAACuL,GAAA,EAAD,CAAgB9K,UAAWhB,EAAQ2zC,gGCrE5CnqC,GAAU,CACfsF,QAAS,CAAEpE,KATW,UASI6C,aAVb,QAWbX,UAAW,CAAElC,KATW,UASM6C,aAXjB,QAYb9C,UAAW,CAAEC,KARY,UAQMK,MAPA,UAOyBwC,aAZ3C,QAab5C,UAAW,CAAED,KAPY,UAOMK,MANA,UAMyBwC,aAb3C,QAcbgN,KAAM,CAAE7P,KAXgB,UAWC6C,aAdZ,QAebvF,OAAQ,CAAE0C,KAAM6P,KAAK,KAAMhN,aAAcgN,KAAK,MAC9CnrB,MAAO0kD,KACPn1C,QAASo1C,KACT1gB,MAAO2gB,KACPC,kBAAmB,EACnBC,YAAa,GACbl/C,KAAMulB,KACNnZ,OAAQ,CACP+yC,mBAAoB55B,KAAK,KACzBJ,SAAUI,KAAK,OAIJvY,GAAQoyC,aAAe,CACnCjB,WAAY,CACXkB,WAAY,6CACZ7xC,SAAU,IAEXgH,QAAQ38B,OAAAC,GAAA,EAAAD,CAAA,GAAM28B,IACd8qC,UAAW,CACVC,UAAW,CACV7sC,KAAM,CACLvF,aAAc,GAEfqyC,SAAU,CACTryC,aAAc,IAGhBsyC,aAAc,CACbC,KAAM,CACL7K,WAAY,UAEbniC,KAAM,CACLmiC,WAAY,WAGd8K,SAAU,CACTC,QAAS,CACRzyC,aAAc,IAGhB0yC,WAAY,CACXpF,QAAS,CAAEttC,aAAc,IAE1B2yC,eAAgB,CACfN,SAAU,CACTryC,aAAc,IAGhB4yC,UAAW,CACVP,SAAU,CACTryC,aAAc,IAGhB6yC,cAAe,CACdR,SAAU,CACTryC,aAAc,IAGhB8yC,iBAAkB,CACjBvtC,KAAM,CACLvF,aAAc,IAGhB+yC,SAAU,CACTxtC,KAAM,CACLvF,aAAc,GAEfqyC,SAAU,CACTryC,aAAc,IAchBgzC,eAAgB,CACfztC,KAAM,CACL/E,QAAS,OACT0F,KAAM,EACNsB,QAAS,IAGXyrC,UAAW,CACVC,aAAc,CACbl0D,gBAAiBqoB,GAAQxB,OAAO0C,KAChCnJ,MAAOiI,GAAQxB,OAAOuF,eAGxB+nC,uBAAwB,CACvBpsC,QAAS,CACRS,QAAS,IAGX4rC,mBAAoB,CACnB7tC,KAAM,CACL3E,SAAU,UAIZyyC,gBAAiB,CAChB9tC,KAAM,CACL5E,MAAO,oBAGT2yC,qBAAsB,CACrBC,cAAe,CACdtsC,OAAQ,uBAMCusC,GAAWC,aAAoB5zC,GAAO,CAClDrM,QAAS,CAAC,KAAM,KAAM,KAAM,KAAM,MAClCkgD,OAAQ,IC/IIruC,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAE9B,MAAO,CACN6zC,mBAAoB,CACnBnzC,QAAS,OACT2F,cAAe,MACfuV,SAAU,OACV9U,eAAgB,UAChBK,OAAQ,QAEToqC,SAAU,CACTlxC,OAAQL,EACR0F,SAAU,GAEX8rC,SAAU,CACTC,mBAAoB,CACnBt9B,OAAQ,YAGV2/B,kBAAmB,CAClBzzC,OAAQL,EACR0H,QAAS1H,EACTa,MAAK,eAAA/jB,OAA2B,EAAVkjB,EAAjB,UCSF+zC,GAAaC,KAA+B5oE,IAAI,SAAA6oE,GACrD,IAAMC,EAAUtpE,OAAAC,GAAA,EAAAD,CAAA,GAAQqpE,GAExB,OADAC,EAAW70D,MAAQ3U,aAAEupE,EAAG50D,OACjB60D,IAGFC,GAAU,CACfpsC,UAAW,CACV,CACC1oB,MAAO3U,aAAE,iBACT0J,MAAO,eACPkrB,MF/BuB,WEiCxB,CACCjgB,MAAO3U,aAAE,qBACT0J,MAAO,cACPkrB,MFzCoB,WE2CrB,CACCjgB,MAAO3U,aAAE,gBACT0J,MAAO,cACPkrB,MF7CsB,WE+CvB,CACCjgB,MAAO3U,aAAE,aACT40B,MFhDsB,YEmDxBwI,WAAY,CACX,CACCzoB,MAAO3U,aAAE,eACT0J,MAAO,eACPkrB,MFtDuB,WEwDxB,CACCjgB,MAAO3U,aAAE,qBACT0J,MAAO,cACPkrB,MF9DoB,WEgErB,CACCjgB,MAAO3U,aAAE,gBACT0J,MAAO,cACPkrB,MFlEsB,WEoEvB,CACCjgB,MAAO3U,aAAE,YACT40B,MFrEsB,aE0EnB80C,GAAY,CACjBC,KAAM,oBACNC,IAAK,wBACLC,KAAM,uBAGA,SAASC,GAATlqE,GAA8B,IAARmG,EAAQnG,EAARmG,KAEtBstB,EADYuK,aAAW/C,GACb8C,GACR9oB,EAAW0hB,YAAY51B,MAAvBkU,OAEF/L,EAAYytB,YAAY9tB,KAAiBK,WAAa,GACtDgD,EAAmByqB,YAAY,SAAAl3B,GAAK,OACzCuL,aAAuBvL,EAAO,CAC7B0G,OACA+C,gBAII4K,EAAc6iB,YAAY,SAAAl3B,GAAK,OACpCyL,aAAkBzL,EAAO,CACxB0G,OACA+C,gBAII+C,EAAa0qB,YAAY,SAAAl3B,GAAK,OACnC0L,aAAiB1L,EAAO,CACvB0G,OACA+C,gBAIIihE,EAAaxzC,YAAY,SAAAl3B,GAAK,OACnCqM,YAAiBrM,EAAO,CACvB0G,OACA+C,gBAIIkhE,EAA0C,OAArBl+D,EACrBm+D,EAA8B,OAAfp+D,EACfq+D,EAA4B,OAAfH,EACbI,EAAgC,OAAhBz2D,EAEhB3F,EAAUwoB,YAAY,SAAAl3B,GAAK,OAChCmO,YAA6BnO,EAAO,CAAE0G,OAAM+C,gBAGvCkF,EAAcuoB,YAAY,SAAAl3B,GAAK,OACpC6N,YAAiC7N,EAAO,CAAE0G,OAAM+C,gBAG3C8G,EAAS2mB,YAAY,SAAAl3B,GAAK,OAC/BgO,YAA4BhO,EAAO,CAAE0G,OAAM+C,gBAGtCu4D,EAAM9qC,YAAY,SAAAl3B,GAAK,OAC5BsO,YAAyBtO,EAAO,CAAE0G,OAAM+C,gBAGnCshE,EACJx6D,EAAOlD,OAAOkD,EAAOlD,OAAOzN,OAAS,KACrC+O,EAAYA,EAAYtB,OAAOzN,OAAS,KACzC8O,EAAQA,EAAQrB,OAAOzN,OAAS,GACjC,OACC00B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ81C,oBACvBx1C,EAAA50B,EAAA60B,cAACy2C,GAAD,KACC12C,EAAA50B,EAAA60B,cAAC62B,GAAD,CACClV,WAAS,EACT5gC,MAAO3U,aAAE,oBACT6nD,WAAY7nD,aAAE0pE,GAAU5gE,IACxB61B,SAAU,SAAA52B,GAAG,OAAI21B,YAAQ4sC,YAAyBviE,KAClDqN,OAAQi0D,GACR3/D,MAAOZ,EACP4+C,OAAO,sBAGT/zB,EAAA50B,EAAA60B,cAACy2C,GAAD,CACC1D,QAAQ,UACR/0B,SAAU5xC,aAAE,2BACZq/B,QAAS2qC,IAAuBI,EAChC/3D,MAAK,GAAAD,OAAKsqD,aAAuB5wD,GAAoB,IACrDo7D,QAASlnE,aAAE,+BAEZ2zB,EAAA50B,EAAA60B,cAACy2C,GAAD,CACC1D,QAAQ,YACR/0B,SAAU5xC,aAAE,sBACZknE,QAASlnE,aAAE,wBACXq/B,QACC8qC,GACAH,IACCI,GACD12D,EAAc5H,IAAqBy+D,IAEpCl4D,MAAK,GAAAD,OAAKsqD,aAAuBhpD,GAAe,GAA3C,MAAAtB,OAAkDrF,WACrD2G,EAAc5H,EAAoB,KAAO,GACzCsC,QAAQ,GAFL,MAAAgE,OAEYpS,aAAE,aAFd,OAII,eAAT+F,GACA4tB,EAAA50B,EAAA60B,cAACy2C,GAAD,CACC1D,QAAQ,YACR/0B,SAAU5xC,aAAE,qBACZknE,QAASlnE,aAAE,sBAAuB,CAAEqI,KAAM,CAACwM,KAC3CxC,MAAK,KAAAD,OAAOsqD,aACX3vD,WAAWlB,GAAc,GAAGuC,QAAQ,IADhC,KAAAgE,OAEAyC,GACLwqB,QAAS4qC,IAAiBG,IAIlB,cAATrkE,GACA4tB,EAAA50B,EAAA60B,cAACy2C,GAAD,CACC1D,QAAQ,YACR/0B,SAAU5xC,aAAE,uBACZknE,QAASlnE,aAAE,yBACXqS,MAAK,KAAAD,OAAOsqD,aACX3vD,WAAWlB,GAAc,GAAGuC,QAAQ,IADhC,KAAAgE,OAEAyC,GACLwqB,QAAS4qC,IAAiBG,IAG5Bz2C,EAAA50B,EAAA60B,cAACy2C,GAAD,CACC1D,QAAQ,OACR/0B,SAAU5xC,aAAE,iBACZknE,QAASlnE,aAAE,mBACXq/B,QAAS6qC,IAAeE,EACxB/3D,MAAK,KAAAD,OAAOsqD,aACX3vD,WAAWg9D,GAAc,GAAG37D,QAAQ,IADhC,KAAAgE,OAEAyC,EAFA,cAMR8e,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC42C,GAAD,CACCzkE,KAAMA,EACN+C,UAAWA,EACXkgB,QAAS,CACR3W,OACEg3D,GAAW/9D,KAAK,SAAAvM,GAAC,OAAIA,EAAE2K,QAAUZ,KAAc,IAAI6L,OAAS,IAE/D5G,QAASA,EACTC,YAAaA,EACb4B,OAAQA,EACRyxD,IAAKA,EACLK,QAAS+H,GAAQ1jE,GAAM,GAAG4O,MAC1ButD,QAASuH,GAAQ1jE,GAAM,GAAG6uB,MAC1BgtC,QAAS6H,GAAQ1jE,GAAM,GAAG4O,MAC1BytD,QAASqH,GAAQ1jE,GAAM,GAAG6uB,MAC1BktC,QAAS2H,GAAQ1jE,GAAM,GAAG4O,MAC1B2tD,QAASmH,GAAQ1jE,GAAM,GAAG6uB,MAC1BotC,QAASyH,GAAQ1jE,GAAM,GAAG4O,MAC1B6tD,QAASiH,GAAQ1jE,GAAM,GAAG6uB,MAC1B50B,EAAGA,SCpNOyqE,OAlBR,SAAwBj4C,GAC9B,IAAMzsB,EAAOwwB,YAAYzwB,MAMzB,OAJAy3C,oBAAU,WACT7f,YAAQoV,YAAU,WAAY9yC,aAAE,gBAC9B,IAEa,eAAT+F,GAAkC,cAATA,EAC/B4tB,EAAA50B,EAAA60B,cAAC82C,GAAD,CAAY/3C,QAAQ,IAEpBgB,EAAA50B,EAAA60B,cAAAojB,GAAA,GAAOsC,UAAW,GACjB3lB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAACk2C,GAAD,CAAY/jE,KAAMA,OC8CtB,IAAM4kE,GAAW/3B,GAvDjB,SAAArgB,GACC,SAAAq4C,EAAYp4C,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA6xD,IAClBrqD,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA0qE,GAAAjqD,KAAA5H,KAAMyZ,KACDnzB,MAAQ,CACZynD,aAAa,GAHIvmC,EADpB,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA0qE,EAAAr4C,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA0qE,EAAA,EAAA13D,IAAA,SAAAxJ,MAAA,WAYU,IAAAstB,EACqBje,KAAKyZ,MAA1B/lB,EADAuqB,EACAvqB,KAAMzM,EADNg3B,EACMh3B,EAAMkM,EADZhM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,cAGR,OAAKvqB,EAGJknB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACwnC,GAAD,CACC3uD,KAAMA,EACNzM,EAAGA,EACHioB,IAAKxb,EAAKo+D,MACV3Q,eACCvmC,EAAA50B,EAAA60B,cAAC48B,GAADtwD,OAAAs2B,OAAA,GACKtqB,EADL,CAEC2gD,QAASpgD,EAAKohD,UACd7tD,EAAGA,EACHivD,UAAW,uBAbEt7B,EAAA50B,EAAA60B,cAAA,4BAfpBg3C,EAAA,CAA0B31C,cAwDX5R,eAdf,SAAyBhkB,EAAOmzB,GAC/B,MAAO,CACNugB,SAAU9jC,UACVM,SAAU,WAIZ,SAA4B2lB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAKxB7R,CAGbgT,EAAUs0C,0BClDNG,GAAa9jE,oCACb+jE,GAAY9iD,KAAIuF,MAAMs9C,IACtBE,GAAM,GAAA54D,OAAM24D,GAAUzhB,SAAhB,MAAAl3C,OAA6B24D,GAAUxhB,MAE7C0hB,GAAgB,yGAAA74D,OAC4B44D,GAD5B,2NAYhBE,GAAkB,SAAAtrE,GAAgD,IAA7CI,EAA6CJ,EAA7CI,EAAGqB,EAA0CzB,EAA1CyB,QAA0C8pE,EAAAvrE,EAAjCwrE,YAAiC,IAAAD,EAA1B,GAA0BA,EAAtB93C,EAAsBzzB,EAAtByzB,QAASg4C,EAAazrE,EAAbyrE,OAClDzkE,EAAiCwkE,EAAjCxkE,GAAIsC,EAA6BkiE,EAA7BliE,KAAM4kD,EAAuBsd,EAAvBtd,KAAM37C,EAAiBi5D,EAAjBj5D,aAClB5L,EAAelF,EAAQK,SAAStB,QAElCuqD,EAAQzhD,EAAKjH,MAAM,KAAK,GAAGA,MAAM,KACrC0oD,EAAQ,CACPx0B,MAAOw0B,EAAM,GACbluB,OAAQkuB,EAAM,IAGf,IAAM3hC,EAAU,CACfsiD,cAAe/kE,EACfglE,kBAAmB/qE,eACnBgrE,gBAAiBtiE,EACjBuiE,WAAW,EACX5d,UAAWC,GAAQ,GAEnB33B,MAAOw0B,EAAMx0B,MACbsG,OAAQkuB,EAAMluB,OACdrrB,iBAAkB,IAClBmiD,kBAAmB,IACnBphD,eACAu5D,WAAY9kE,GAGTpB,EAAQmmE,mBAAmB3hD,KAAKC,UAAU,CAAEjB,aAI5C4iD,EACH,sBAAAx5D,OAHS04D,GAAatlE,EAGtB,mBAAA4M,OAEWu4C,EAAMx0B,MAFjB,oBAAA/jB,OAGYu4C,EAAMluB,OAHlB,kFAAArqB,OAOY64D,GAPZ,oBAWD,OACCt3C,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQw4C,kBACtB7rE,EAAE,oBACH2zB,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CACCE,MAAM,UACNC,QAAS,WACRi3C,KAAKF,GACLP,GAAUA,MAGX13C,EAAA50B,EAAA60B,cAACukC,GAAAp5D,EAAD,QAGF40B,EAAA50B,EAAA60B,cAACojB,GAAA,EAAD,KACCrjB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ04C,iBAAkBH,KAE1C5kE,IAWSglE,GAAb,SAAAz5C,GACC,SAAAy5C,EAAYx5C,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAizD,IAClBzrD,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA8rE,GAAArrD,KAAA5H,KAAMyZ,KAQPy5C,8BAAgC,WAC/B,IAAMt5C,EAASpS,EAAKlhB,MAAM6sE,gBAC1B3rD,EAAKmS,SAAS,CAAEw5C,iBAAkBv5C,KAXhBpS,EAcnBy+C,gBAAkB,SAACtmC,EAAOvjB,GACzBoL,EAAKmS,SAAS,CAAEusC,SAAU9pD,GAAS,WAC9BoL,EAAK4rD,UAAU34D,SAClB+M,EAAK4rD,UAAU34D,QAAQ44D,eAAe,CACrCC,SAAU,SACVC,MAAO,aAjBV/rD,EAAKlhB,MAAQ,CACZ6sE,iBAAiB,EACjBjN,SAAU,GAEX1+C,EAAK4rD,UAAY/yC,IAAMmzC,YANLhsD,EADpB,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA8rE,EAAAz5C,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA8rE,EAAA,EAAA94D,IAAA,SAAAxJ,MAAA,WA0BU,IAAA0pB,EAAAra,KAAAie,EACyDje,KAAKyZ,MAA9DxyB,EADAg3B,EACAh3B,EAAGqzB,EADH2D,EACG3D,QAASyhB,EADZ9d,EACY8d,OAAQroC,EADpBuqB,EACoBvqB,KAAMpL,EAD1B21B,EAC0B31B,QAASkO,EADnCynB,EACmCznB,SAAarD,EADhDhM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,sDAEAioC,EAAalmD,KAAK1Z,MAAlB4/D,SAER,OACCtrC,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACwnC,GAADl7D,OAAAs2B,OAAA,CACC/pB,KAAMA,EACN8C,SAAUA,EACVvP,EAAGA,EACHioB,IAAKxb,EAAKo+D,MACVzzB,YAAatC,EACbolB,eAAgB,MACZhuD,IAELynB,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACqR,GAAA,EAAD,CAAQ9J,SAAS,SAASvG,MAAM,WAC/BjB,EAAA50B,EAAA60B,cAAC8K,GAAA,EAAD,CACCh1B,MAAOu1D,EACPtgC,SAAU5lB,KAAKimD,gBAAgBpoC,KAAK7d,MACpCmgB,IAAKngB,KAAKozD,UACV/M,YAAU,EACVC,cAAc,MACdzgC,eAAe,UACfC,UAAU,WAEVlL,EAAA50B,EAAA60B,cAACmL,GAAA,EAAD,CAAKpqB,MAAO3U,EAAE,mBAKhB2zB,EAAA50B,EAAA60B,cAAA,OAAK2G,MAAO,CAAEsT,UAAW,KACV,IAAboxB,GACAtrC,EAAA50B,EAAA60B,cAAC44C,GAAD,CACCn5C,QAASA,EACTrzB,EAAGA,EACHqB,QAASA,EACT+pE,KAAM3+D,EACN4+D,OAAQ,kBACPj4C,EAAKZ,MAAMhhB,QAAQi7D,SAAS,CAC3BvjE,KAAM,SACNyL,MAAO3U,EAAE,uBACTg0B,QAAS,gBApEnBg4C,EAAA,CAA0B/2C,aA4G1B,IAAMy3C,GAAW95B,GAAQxd,YCrNH,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACNu2C,iBAAkB,CACjB3qC,aAAc5L,EACdV,MAAOS,EAAMwH,QAAQxU,KAAK2Y,KAC1BhL,QAAS,OACT2F,cAAe,MACf1F,WAAY,SACZmG,eAAgB,iBAEjB2vC,gBAAiB,CAChB7O,WAAY,WACZhnC,UAAW,aACX8G,QAAS1H,EACTK,OAAQ,EACRg3C,UAAW,gBDqMWv3C,CAAmB42C,KAC7B3oD,eAtBf,SAAyBhkB,GAGxB,MAAO,CACNgC,QAHmBhC,EAAZE,QAGU8B,QACjB0xC,SAAU5jC,UACVI,SAAU,SAEVgnC,mBAAoB,uBACpBD,eAAgB,wBAChBG,gBAAiB,mBACjBD,gBAAgB,IAIlB,SAA4BthB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAKxB7R,CAGbqpD,IExGaE,GAjGc,WAAkC,IAAAhtE,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAxBmjD,EAA+BviD,EAA/BuiD,QAASrT,EAAsBlvC,EAAtBkvC,WAChCj6B,EAAW0hB,YAAY51B,MAAvBkU,OACmCjD,EAAQ2kB,YAClDtzB,KADO2Z,kCAFsDiwD,EAMrBt2C,YAAY,SAAAl3B,GAAK,OACzDmP,aAAyBnP,EAAO8iD,KADzB2qB,EANsDD,EAMtDC,iBAAkBC,EANoCF,EAMpCE,WAIpB38B,EAAU7Z,YAAY,SAAAl3B,GAAK,OAAIsH,aAAkBtH,EAAOyvC,KAVAk+B,EAYDz2C,YAC5D,SAAAl3B,GAAK,OAAIkP,aAAsBlP,EAAOyvC,IAAe,KAD5Bm+B,EAZoCD,EAYtDF,iBAAyCI,EAZaF,EAYzBD,WAIrC,OACCp5C,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,WACE,IACA5zB,aAAE,4DAA6D,CAC/DqI,KAAM,CAACuJ,EAAKiD,MAGd8e,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC5c,SAAU4C,EACVlnC,KAAK,OACLqlC,UAAQ,EACRgH,WAAS,EACT5gC,MAAO3U,aAAE,eACTgR,KAAK,aACLtH,MAAOqjE,GAAc,GAErBpuC,SAAU,SAAAlB,GAAE,OACXC,YACCyvC,YAAqB,CACpBzmD,GAAIy7B,EACJjvC,IAAK,aACLxJ,MAAO+zB,EAAG1D,OAAOrwB,UAIpB+Y,MAAOyqD,KAAaA,EAAQv+B,MAC5BkZ,WAAYqlB,GAAaA,EAAQv+B,MAAQu+B,EAAQ/gC,OAAS,KAE1DiE,EAAUzc,EAAA50B,EAAA60B,cAAC80B,GAAD,MAAmB,KAC9B/0B,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACClhD,KAAK,OACLqsC,WAAS,EACThH,UAAQ,EACR55B,MAAO3U,aAAE,sBACTgR,KAAK,mBACLtH,MAAOojE,GAAoB,GAC3BnuC,SAAU,SAAAlB,GAAE,OACXC,YACCyvC,YAAqB,CACpBzmD,GAAIy7B,EACJjvC,IAAK,mBACLxJ,MAAO+zB,EAAG1D,OAAOrwB,UAIpB+Y,MAAOwqD,KAAeA,EAAUt+B,MAChCkZ,WACCl0B,EAAA50B,EAAA60B,cAAA,YACCD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCwS,KAAK,QACLrV,QAAS,WACR6I,YACCyvC,YAAqB,CACpBzmD,GAAIy7B,EACJjvC,IAAK,mBACLxJ,MAAOkI,OAKT5R,aAAE,yBAA0B,CAC5BqI,KAAM,CAACuJ,EAAKiD,MAGd8e,EAAA50B,EAAA60B,cAAA,YACEq5C,GAAeA,EAAUt+B,MAAQs+B,EAAU9gC,OAAS,SCvF7C,SAASihC,GAAkB92C,GAAW,IAE9C+2C,EAF8C,SAAA96C,GAAA,SAAA86C,IAAA,IAAAp1C,EAAA1X,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAs0D,GAAA,QAAAn1C,EAAAl5B,UAAAC,OAAAoJ,EAAA,IAAA8vB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAA/vB,EAAA+vB,GAAAp5B,UAAAo5B,GAAA,OAAA7X,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,MAAAkf,EAAA/3B,OAAAwgB,EAAA,EAAAxgB,CAAAmtE,IAAA1sD,KAAA9O,MAAAomB,EAAA,CAAAlf,MAAA3G,OAAA/J,MAOnDm1B,aAAe,SAACxsB,EAAMtH,GAAU,IAAAstB,EACLzW,EAAKiS,MAAvBhhB,EADuBwlB,EACvBxlB,QAAS87D,EADct2C,EACds2C,KACjB97D,EAAQ27D,qBAAqB,CAAEzmD,GAAI4mD,EAAMp6D,IAAKlC,EAAMtH,MAAOA,KATT6W,EAmBnDijC,OAAS,SAAC/1B,EAAK/G,EAAI6mD,GAAY,IACtBzmB,EAAgBvmC,EAAKiS,MAArBs0B,YAEJA,GACHA,IAGDvmC,EAAKitD,oBA1B6CjtD,EA6BnDitD,iBAAmB,WAAM,IAAA30C,EACEtY,EAAKiS,MAAvBhhB,EADgBqnB,EAChBrnB,QAAS87D,EADOz0C,EACPy0C,KACjB97D,EAAQi8D,oBAAoB,CAAE/mD,GAAI4mD,KA/BgB/sD,EAkCnDmtD,cAAgB,SAAA9tE,GAAkB,IAAf6tB,EAAe7tB,EAAf6tB,IAAKjR,EAAU5c,EAAV4c,IAAUwsB,EACVzoB,EAAKiS,MAApBxyB,EADyBgpC,EACzBhpC,EAAGwR,EADsBw3B,EACtBx3B,QAGPic,GACHjc,EAAQi7D,SAAS,CAChBvjE,KAAM,SACNyL,MAAO3U,EAAE,kBAAmB,CAAEqI,KAAM,CAACyzD,KAAO6R,UAAUlgD,MACtDuG,QAAS,MAIXzT,EAAKijC,OAAO/1B,EAAKjR,EAAK2b,MAAMmjC,QAAQ9+C,KA9Cc+D,EAiDnD+vB,KAAO,WACN/vB,EAAKid,aAAa,0BAA0B,GAC5Cjd,EAAKiS,MACHo7C,OAAO,CACPC,IAAKttD,EAAKiS,MAAMnxB,QAChB8gB,YAAa5B,EAAKiS,MAAMrQ,cAExB5F,KAAK,WAAc,IAAbC,EAAaxd,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACZ6uB,QAAQigD,IAAI,cAAetxD,GAE3B,IAAMuxD,EAAMvxD,EAAIwxD,WAAaxxD,EACvBiR,EAAMjR,EAAIiR,KAAO,KAEvBlN,EAAKmtD,cAAc,CAAEjgD,IAAKA,EAAKjR,IAAKuxD,MAEpCtxD,MAAM,WAAgB,IAAfgG,EAAezjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACf6uB,QAAQigD,IAAI,cAAerrD,GAC3B,IAAMjG,EAAMiG,EAAMurD,WAAa,KACzBvgD,EAAMhL,EAAMgL,KAAOhL,EAEzBlC,EAAKmtD,cAAc,CAAEjgD,IAAKA,EAAKjR,IAAKA,OArEY+D,EAyEnD2R,OAAS,WAER3R,EAAKijC,OAAO,KAAM,OA3EgCjjC,EAAA,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAAmtE,EAAA96C,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAAmtE,EAAA,EAAAn6D,IAAA,qBAAAxJ,MAAA,eAAAwJ,IAAA,SAAAxJ,MAAA,WA+ElD,IAAIyY,EAAcpJ,KAAKyZ,MAAMrQ,aAAe,GACxCqQ,EAAQzZ,KAAKyZ,MAEjB,OACCmB,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKhE,EADL,CAECrQ,YAAaA,EACbmuB,KAAMv3B,KAAKu3B,KACXpe,OAAQnZ,KAAKmZ,OACbsL,aAAczkB,KAAKykB,aACnBgwC,iBAAkBz0D,KAAKy0D,wBAzFyBH,EAAA,CAEvBp4C,aAyH7B,OAAO5R,YAlBP,SAAyBhkB,EAAOmzB,GAAO,IAC9BjzB,EAAoBF,EAApBE,QAASwF,EAAW1F,EAAX0F,OACXuoE,EAAO96C,EAAM2vB,QAEnB,MAAO,CACN9gD,QAAS9B,EAAQ8B,QACjB8gB,YAAapd,EAAO0J,gBAAgB6+D,IAAS,GAC7CA,KAAMA,EACNl9B,QAASrrC,EAAOqB,SAASknE,KAI3B,SAA4Bp4C,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGLgT,EAAUg3C,ICqDb,IAAMY,GAAmCb,8MAzJxCpS,eAAiB,SAACkT,EAAQv/B,GACzB,IAAIH,EAAUziB,aAAemiD,GAG7B3tD,EAAKiS,MAAMwb,SAAS,mBAAoB,CACvCQ,QAASA,EACT/gB,IAAK,CAAErB,IAJE,4BAKTuiB,MAAOA,wFAhCW,IAAA3X,EACeje,KAAKyZ,MAA/Bwb,EADWhX,EACXgX,SAAU7rB,EADC6U,EACD7U,YAEbA,EAAY2qD,kBAChB9+B,EAAS,mBAAoB,CAC5BQ,SAAS,EACTG,OAAO,IAGJxsB,EAAY4qD,YAChB/+B,EAAS,aAAc,CACtBQ,SAAS,EACT/gB,IAAK,CAAErB,IAAK,sBACZuiB,OAAO,IAGJxsB,EAAYgsD,cAChBngC,EAAS,eAAgB,CACxBQ,SAAS,EACT/gB,IAAK,CAAErB,IAAK,sBACZuiB,OAAO,qCAgBD,IAAAvb,EAAAra,KAAA8f,EAUJ9f,KAAKyZ,MARRhhB,EAFOqnB,EAEPrnB,QACAw8B,EAHOnV,EAGPmV,SACA7rB,EAJO0W,EAIP1W,YACAniB,EALO64B,EAKP74B,EACAovC,EANOvW,EAMPuW,cACA5R,EAPO3E,EAOP2E,aACA4wC,EAROv1C,EAQPu1C,kBACAC,EATOx1C,EASPw1C,kBATOzuE,EAiBJuiB,GAAe,GALlB4qD,EAZOntE,EAYPmtE,WACAD,EAbOltE,EAaPktE,iBACAqB,EAdOvuE,EAcPuuE,aACAG,EAfO1uE,EAeP0uE,aACAC,EAhBO3uE,EAgBP2uE,cAEKtB,EAAY79B,EAAa,iBACzB89B,EAAU99B,EAAa,WACvBo/B,EAAWp/B,EAAa,aAC9B,OACCzb,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC5c,SAAU6gC,EACVnlE,KAAK,OACLqlC,UAAQ,EACRgH,WAAS,EACT5gC,MAAO3U,EAAE,0BACTgR,KAAK,eACLtH,MAAOykE,GAAgB,GACvBxvC,SAAU,SAAAlB,GAAE,OAAID,EAAa,eAAgBC,EAAG1D,OAAOrwB,QACvDksC,OAAQ,kBACPpkC,EAAQi9D,gBAAgB,CACvB7jD,KAAMujD,EACNx/B,OAAO,EACPX,WACAh9B,KAAM,kBAGR6kC,QAAS,kBACRrkC,EAAQi9D,gBAAgB,CACvB7jD,KAAMujD,EACNx/B,OAAO,EACPX,WACAh9B,KAAM,kBAGRyR,MAAO+rD,KAAcA,EAAS7/B,MAC9BkZ,WAAY2mB,GAAcA,EAAS7/B,MAAQ6/B,EAASriC,OAAS,KAG9DxY,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACClhD,KAAK,OACLqsC,WAAS,EACThH,UAAQ,EACR55B,MAAO3U,EAAE,+BACTgR,KAAK,gBACLtH,MAAO6kE,GAAiB,GACxB5vC,SAAU,SAAAlB,GAAE,OAAID,EAAa,gBAAiBC,EAAG1D,OAAOrwB,UAEzDiqB,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC5c,SAAU4gC,EACVllE,KAAK,OACLqlC,UAAQ,EACRgH,WAAS,EACT5gC,MAAO3U,EAAE,eACTgR,KAAK,aACLtH,MAAOqjE,GAAc,GACrBpuC,SAAU,SAAAlB,GAAE,OAAID,EAAa,aAAcC,EAAG1D,OAAOrwB,QACrDksC,OAAQ,kBACPpkC,EAAQi9D,gBAAgB,CACvB7jD,KAAMmiD,EACNp+B,OAAO,EACPX,WACAh9B,KAAM,aACN4b,UAAU,KAGZipB,QAAS,kBACRrkC,EAAQi9D,gBAAgB,CACvB7jD,KAAMmiD,EACNp+B,OAAO,EACPX,WACAh9B,KAAM,aACN4b,UAAU,KAGZnK,MAAOyqD,KAAaA,EAAQv+B,MAC5BkZ,WAAYqlB,GAAaA,EAAQv+B,MAAQu+B,EAAQ/gC,OAAS,KAE1DiiC,EAAoBz6C,EAAA50B,EAAA60B,cAAC80B,GAAD,MAAmB,KACxC/0B,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACClhD,KAAK,OACLqsC,WAAS,EACThH,UAAQ,EACR55B,MAAO3U,EAAE,6BACTgR,KAAK,mBACLtH,MAAOojE,GAAoB,GAC3BnuC,SAAU,SAAAlB,GAAE,OAAID,EAAa,mBAAoBC,EAAG1D,OAAOrwB,QAC3DksC,OAAQ,kBAAMxiB,EAAK4nC,eAAe8R,GAAkB,IACpDj3B,QAAS,kBAAMziB,EAAK4nC,eAAe8R,GAAkB,IACrDrqD,MAAOwqD,KAAeA,EAAUt+B,MAChCkZ,WACColB,GAAeA,EAAUt+B,MACtBs+B,EAAU9gC,OACVnsC,EAAE,yBAA0B,CAC5BqI,KAAM,CAACimE,eAhJ2Br5C,cAsL5B5R,eApBf,SAAyBhkB,EAAOmzB,GAE/B,IAAMztB,EAAS1F,EAAM0F,OAErB,MAAO,CACNuoE,KAFY96C,EAAM2vB,QAGlBisB,kBAAmBrpE,EAAOqB,SAAP,WACnBioE,kBAAmBtpE,EAAOqB,SAAP,eAIrB,SAA4B8uB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAOxB7R,CAGb4qD,ICtLMl3D,GAA2BjC,aAA3BiC,uBAEF23D,GAAkBxuE,OAAOuJ,OAAOsN,IAAwBrW,IAAI,SAAAgJ,GACjE,MAAO,CACNA,QACAiL,MAAO3U,aAAC,QAAAoS,OAAS1I,EAAT,WACR0oB,KAAMpyB,aAAC,QAAAoS,OAAS1I,EAAT,aAgHMilE,OA5Gf,WAA0D,IAAA/uE,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAxBmjD,EAA4BviD,EAA5BuiD,QAASrT,EAAmBlvC,EAAnBkvC,WAAmB6Q,EACGppB,YAC3D,SAAAl3B,GAAK,OAAImP,aAAyBnP,EAAO8iD,KADlCysB,EADiDjvB,EACjDivB,QAASC,EADwClvB,EACxCkvB,UAAWC,EAD6BnvB,EAC7BmvB,gBAAiBC,EADYpvB,EACZovB,WADYnS,EASrDrmC,YAAY,SAAAl3B,GAAK,OAAIkP,aAAsBlP,EAAOyvC,IAAe,KAH3Do+B,EAN+CtQ,EAMxDgS,QACgB58C,EAPwC4qC,EAOxDoS,eACWC,EAR6CrS,EAQxDiS,UAGD,OACCl7C,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,eAAO5zB,aAAE,qCACT2zB,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACClhD,KAAK,OACLqlC,UAAQ,EACRgH,WAAS,EACT5gC,MAAO3U,aAAE,0BACTgR,KAAK,UACLtH,MAAOklE,GAAW,GAClBjwC,SAAU,SAAAlB,GAAE,OACXC,YACCyvC,YAAqB,CACpBzmD,GAAIy7B,EACJjvC,IAAK,UACLxJ,MAAO+zB,EAAG1D,OAAOrwB,UAIpB+Y,MAAOyqD,KAAaA,EAAQv+B,MAC5BkZ,WAAYqlB,GAAaA,EAAQv+B,MAAQu+B,EAAQ/gC,OAAS,KAE3DxY,EAAA50B,EAAA60B,cAAC62B,GAAD,CACClc,UAAQ,EACR55B,MAAO3U,aAAE,qBAET2+B,SAAU,SAAA52B,GAAG,OACZ21B,YACCyvC,YAAqB,CACpBzmD,GAAIy7B,EACJjvC,IAAK,YACLxJ,MAAO3B,MAIVqN,OAAQs5D,GACRhlE,MAA4B,kBAAdmlE,EAAyBA,EAAY,GACnDnnB,OAAO,kBACPnS,WAAS,EACT9yB,MAAOwsD,KAAgBA,EAAWtgC,MAClCkZ,WACConB,GAAgBA,EAAWtgC,MACxBsgC,EAAW9iC,OACXnsC,aAAE,kCAGP2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKsP,UAAW,GACfla,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,UAAU9I,QAAQ,QAAQ6L,cAAY,GACxD7hC,aAAE,yBADJ,KAGC0uE,GAAgBhuE,IAAI,SAAA6pC,GAAC,OACrB5W,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CACC1uB,IAAKq3B,EAAE7gC,MACPo1B,QAAQ,UACR9I,QAAQ,QACR6L,cAAY,GAEZlO,EAAA50B,EAAA60B,cAAA,cAAS2W,EAAE51B,MAAX,KAND,IAM8B41B,EAAEnY,QAGjCuB,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,UAAU9I,QAAQ,QAAQ6L,cAAY,GAA1D,KACI7hC,aAAE,sBAGLgyB,GAAW88C,GAAmBC,IAC/Bp7C,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CAAa7yB,MAAOuP,GAAWA,EAAQ2c,MAAOnN,UAAU,YACvD7N,EAAA50B,EAAA60B,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAA50B,EAAA60B,cAAC22B,GAAA,EAAD,CACCP,UAAW8kB,EACXnwC,SAAU,SAAAlB,GAAE,OACXC,YACCyvC,YAAqB,CACpBzmD,GAAIy7B,EACJjvC,IAAK,kBACLxJ,MAAO+zB,EAAG1D,OAAOiwB,YAIpBtgD,MAAM,kBACNkrB,MAAM,YAGRjgB,MAAO3U,cAAGgyB,GAAW,IAAIma,QAAU4iC,QCRzC,IAAMG,GAAwB9B,8MAvF7B+B,eAAiB,WACZ5uD,EAAK6uD,UAER7nC,aAAahnB,EAAK6uD,UAEnB7uD,EAAK6uD,SAAW3jD,WAAW,WAC1BlL,EAAK6uD,SAAW,KADgB,IAAAp4C,EAEWzW,EAAKiS,MAAxChhB,EAFwBwlB,EAExBxlB,QAAS2Q,EAFe6U,EAEf7U,YAAa6rB,EAFEhX,EAEFgX,SACtBqhC,GAAWltD,GAAe,IAA1BktD,OACR79D,EAAQ89D,YAAY,CACnBriD,IAAKoiD,EACL1gC,OAAO,EACPX,WACAh9B,KAAM,YAEL,yFA1BgB,IAAA6nB,EACe9f,KAAKyZ,MAA/BrQ,EADW0W,EACX1W,YAAa6rB,EADFnV,EACEmV,SAChB7rB,EAAYotD,gBAChBvhC,EAAS,SAAU,CAClBQ,SAAS,EACT/gB,IAAK,CAAErB,IAAK,sBACZuiB,OAAO,qCAuBD,IAAAvb,EAAAra,KAAAiwB,EAOJjwB,KAAKyZ,MALRrQ,EAFO6mB,EAEP7mB,YACAniB,EAHOgpC,EAGPhpC,EACAovC,EAJOpG,EAIPoG,cACA5R,EALOwL,EAKPxL,aACAgyC,EANOxmC,EAMPwmC,cAEOH,GAAWltD,GAAe,IAA1BktD,OAEFnC,EAAU99B,EAAa,OAC7B,OACCzb,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAA,eAAO5zB,EAAE,sBACT2zB,EAAA50B,EAAA60B,cAAA,QAAM67C,YAAU,GACf97C,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACCzyB,WAAS,EACTzuB,KAAK,OACLqlC,UAAQ,EACRgH,WAAS,EACT5gC,MAAO3U,EAAE,sBACTgR,KAAK,SACLtH,MAAO2lE,GAAU,GACjB1wC,SAAU,SAAAlB,GACTD,EAAa,SAAUC,EAAG1D,OAAOrwB,MAAMuW,eACvCmT,EAAK+7C,kBAENjd,WAAY,CACXpc,aACCniB,EAAA50B,EAAA60B,cAACmiB,GAAA,EAAD,CAAgB5a,SAAS,OAAzB,IAAA/oB,OACMpL,cAIRyb,MAAOyqD,KAAaA,EAAQv+B,MAC5BkZ,WAAYqlB,GAAaA,EAAQv+B,MAAQu+B,EAAQ/gC,OAAS,KAE1DqjC,EAAgB77C,EAAA50B,EAAA60B,cAAC80B,GAAD,MAAmB,cAnETzzB,cAoGjB5R,eAjBf,SAAyBhkB,EAAOmzB,GAE/B,IAAMztB,EAAS1F,EAAM0F,OAErB,MAAO,CACNuoE,KAFY96C,EAAM2vB,QAGlBqtB,cAAezqE,EAAOqB,SAAP,SAIjB,SAA4B8uB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAKxB7R,CAGb6rD,IC3GWQ,IAFW56D,aAAUgC,WAAWhC,aAAUiC,wBAEhB,SAAAnX,GAAA,IACtCI,EADsCJ,EACtCI,EACA+sE,EAFsCntE,EAEtCmtE,WACA15C,EAHsCzzB,EAGtCyzB,QACAs8C,EAJsC/vE,EAItC+vE,SACA7C,EALsCltE,EAKtCktE,iBACAj4D,EANsCjV,EAMtCiV,OANsC,OAQtC8e,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,aACJooB,KAAMt7B,EAAE,aAAc,CAAEmI,QAAQ,IAChCozB,OAAQwxC,GAAc,IAAI5xD,aAE3BwY,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,mBACJooB,KAAMt7B,EAAE,mBAAoB,CAAEmI,QAAQ,IACtCozB,MACC5H,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB6/B,UAAWjgC,EAAE,uBAAwB,CACpCqI,KAAM,CAACsnE,EAASC,KAAM/6D,EAAQ86D,EAASE,MAAOh7D,KAE/CstB,QAAO,GAAA/vB,OAAK06D,EAAL,KAAA16D,OAAyByC,UAOxBi7D,GAAsB,SAAAxvE,GAAA,IAClCN,EADkCM,EAClCN,EACA4uE,EAFkCtuE,EAElCsuE,QACAv7C,EAHkC/yB,EAGlC+yB,QACAs8C,EAJkCrvE,EAIlCqvE,SACAd,EALkCvuE,EAKlCuuE,UACAh6D,EANkCvU,EAMlCuU,OANkC,OAQlC8e,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,UACJooB,KAAMt7B,EAAE,UAAW,CAAEmI,QAAQ,IAC7BozB,OAAQqzC,GAAW,IAAIzzD,aAExBwY,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,YACJooB,KAAMt7B,EAAE,YAAa,CAAEmI,QAAQ,IAC/BozB,MACC5H,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB6/B,UAAWjgC,EAAE,2BAA4B,CACxCqI,KAAM,CAACsnE,EAASC,KAAM/6D,KAEvBstB,QAASniC,EAAC,QAAAoS,OAASy8D,EAAT,iBAOFkB,GAAgB,SAAAtvE,GAAA,IAC5BT,EAD4BS,EAC5BT,EACAqvE,EAF4B5uE,EAE5B4uE,OACAjvE,EAH4BK,EAG5BL,QACAizB,EAJ4B5yB,EAI5B4yB,QACAs8C,EAL4BlvE,EAK5BkvE,SACA96D,EAN4BpU,EAM5BoU,OAN4B,OAQ5B8e,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,OACJooB,KAAMt7B,EAAE,sBACRu7B,OAAQn7B,GAAW,IAAI+a,aAExBwY,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,SACJooB,KAAMt7B,EAAE,SAAU,CAAEmI,QAAQ,IAC5BozB,MACC5H,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB6/B,UAAWjgC,EAAE,oBAAqB,CACjCqI,KAAM,CACLsnE,EAASC,KACT/6D,EAFK,GAAAzC,OAGFi9D,EAHE,KAAAj9D,OAGQpL,eAGfm7B,QAAO,GAAA/vB,OAAKi9D,EAAL,KAAAj9D,OAAepL,kBAOdgpE,GAA6B,SAAAnvE,GAAA,IACzCb,EADyCa,EACzCb,EACA+sE,EAFyClsE,EAEzCksE,WACAoB,EAHyCttE,EAGzCstE,aACA96C,EAJyCxyB,EAIzCwyB,QACAs8C,EALyC9uE,EAKzC8uE,SACA7C,EANyCjsE,EAMzCisE,iBANyC,OAQzCn5C,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,aACJooB,KAAMt7B,EAAE,aAAc,CAAEmI,QAAQ,IAChCozB,OAAQwxC,GAAc,IAAI5xD,aAE3BwY,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,eACJooB,KAAMt7B,EAAE,eAAgB,CAAEmI,QAAQ,IAClCozB,OAAQ4yC,GAAgB,IAAIhzD,aAE7BwY,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAI,mBACJooB,KAAMt7B,EAAE,mBAAoB,CAAEmI,QAAQ,IACtCozB,MACC5H,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB6/B,UAAWjgC,EAAE,uBAAwB,CACpCqI,KAAM,CAACsnE,EAASC,KAAM,GAAID,EAASE,MAAO,MAE3C1tC,QAAS2qC,EAAmB,UChG3BnvC,GAAYC,aCjCI,SAAAvI,GAErB,MAAO,CACN5S,MAAO,CACNmS,MAAOS,EAAMwH,QAAQpa,MAAMsb,MAE5B/L,QAAS,CACR4C,MAAOS,EAAMwH,QAAQ7K,QAAQi+C,MAE9BC,eAAgB,CACf/0C,SAAU,WACVG,KAAM,mBACN5H,IAAK,qBAEN08B,WAAY,CACX3zB,OAAQ,IACRtG,MAAO,OACPC,SAAU,OACVqI,UAAWpJ,EAAMg7B,QAAQ,ODyK5B,IACe8f,GADgB/C,GAxJ/B,SAA4B56C,GAC3B,IAAMa,EAAUsK,KAEfyyC,EAKG59C,EALH49C,UACA5yC,EAIGhL,EAJHgL,aACA6yC,EAGG79C,EAHH69C,kBACAC,EAEG99C,EAFH89C,gBACAnuB,EACG3vB,EADH2vB,QAEKmrB,EAAOnrB,EACP9gD,EAAUk1B,YAAYn1B,KACpBhB,EAAYiB,EAAQK,SAApBtB,QACAyU,EAAW0hB,YAAY51B,MAAvBkU,OACFsN,EAAcoU,YAAY,SAAAl3B,GAAK,OACpCmP,aAAyBnP,EAAOiuE,KAE3Bl9B,EAAU7Z,YAAY,SAAAl3B,GAAK,OAAIsH,aAAkBtH,EAAOiuE,KAE9D/vB,oBAAU,WACL6yB,GAAalwE,OAAO+S,KAAKkP,GAAaljB,SACzCy+B,YAAQ4W,aAAcg5B,GAAM,IAC5B8C,EAAU,CAAE/uE,UAAS8gB,gBACnB5F,KAAK,SAAAozD,GACLnyC,EAAa,WAAYmyC,GAIzBjyC,YAAQ4W,aAAcg5B,GAAM,IAExBvgE,WAAW4iE,EAASC,MAAQ,GAAK7iE,WAAWsjE,IAC/C7yC,EAAa,SAAU,CACtBx9B,aAAE,gCAAiC,CAClCqI,KAAM,CAACgoE,EAAmBx7D,EAAQ86D,EAASC,KAAM/6D,SAKpD4H,MAAM,SAAAgR,GACNI,QAAQpL,MAAMgL,GACdiQ,YAAQ4W,aAAcg5B,GAAM,IAC5B9vC,EAAa,SAAU,CAACs+B,KAAO6R,UAAUlgD,SAI1C,IA5C+B,IA+CjCs/C,EASG5qD,EATH4qD,WAEAD,GAOG3qD,EARHotD,eAQGptD,EAPH2qD,kBACA8B,EAMGzsD,EANHysD,QACAS,EAKGltD,EALHktD,OACAR,EAIG1sD,EAJH0sD,UACAV,EAGGhsD,EAHHgsD,aArDiCoC,EAwD9BpuD,EAFHwtD,gBAtDiC,IAAAY,EAsDtB,GAtDsBA,EAAAC,EAwD9BruD,EADHsuD,cAvDiC,IAAAD,EAuDxB,GAvDwBA,EA0DlC,OACC78C,EAAA50B,EAAA60B,cAAA,WACEwc,EACAzc,EAAA50B,EAAA60B,cAACk8B,GAAD,MAEAn8B,EAAA50B,EAAA60B,cAAC67B,GAAD,KACEttC,EAAYuuD,uBACZ/8C,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACCh8B,EAAA50B,EAAA60B,cAACmhC,GAAD,CAAc/0D,EAAGA,KAAG4B,SAAUP,EAAQI,OAAOG,YAE3C,KACJ+xB,EAAA50B,EAAA60B,cAAC87B,GAAD,KACE+gB,EAAOxxE,OACLwxE,EAAO/vE,IAAI,SAAC+sB,EAAKtY,GAAN,OACXwe,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAKiC,EACLk6C,cAAeh8B,EAAQ5Q,MACvB6sC,eAAgBj8B,EAAQ5Q,MACxB6Y,KAAM3H,EAAA50B,EAAA60B,cAACqvB,EAAAlkD,EAAD,MACNw8B,MAAO9N,MAGR,KAEF6iD,EACEA,EAAgB5vE,IAAI,SAAC0rB,EAAKjX,GAAN,OACpBwe,EAAA50B,EAAA60B,cAACw7B,GAAD,CACCl8C,IAAKiC,EACLk6C,cAAeh8B,EAAQrB,QACvBs9B,eAAgBj8B,EAAQrB,QACxBsJ,KAAM3H,EAAA50B,EAAA60B,cAAC2mB,EAAAx7C,EAAD,MACNw8B,MAAOv7B,aAAEosB,EAAIA,IAAK,CAAE/jB,KAAM+jB,EAAI/jB,WAG/B,KAEU,yBAAZ85C,GACAxuB,EAAA50B,EAAA60B,cAAC+8C,GAAD,CACC3wE,EAAGA,KACH+sE,WAAYA,EACZ15C,QAASA,EACTs8C,SAAUA,EACV7C,iBAAkBA,EAClBj4D,OAAQA,IAIG,yBAAZstC,GACAxuB,EAAA50B,EAAA60B,cAACg9C,GAAD,CACC5wE,EAAGA,KACH4uE,QAASA,EACTv7C,QAASA,EACTs8C,SAAUA,EACVd,UAAWA,EACXh6D,OAAQA,IAIG,4BAAZstC,GACAxuB,EAAA50B,EAAA60B,cAACi9C,GAAD,CACC7wE,EAAGA,KACH+sE,WAAYA,EACZ15C,QAASA,EACTs8C,SAAUA,EACV7C,iBAAkBA,EAClBqB,aAAcA,EACdt5D,OAAQA,IAIG,WAAZstC,GACAxuB,EAAA50B,EAAA60B,cAACk9C,GAAD,CACC9wE,EAAGA,KACH4uE,QAASA,EACTv7C,QAASA,EACTs8C,SAAUA,EACVvvE,QAASA,EACTyU,OAAQA,EACRw6D,OAAQA,kBE9IV0B,GAAsBjrB,GAAWxC,IAuCjC0tB,GAAW,CAChB7gC,QAJ8Bk9B,GAlCf,SAAAztE,GASV,IARL0wC,EAQK1wC,EARL0wC,KACA2mB,EAOKr3D,EAPLq3D,aACAC,EAMKt3D,EANLs3D,YACAl3D,EAKKJ,EALLI,EACAmiB,EAIKviB,EAJLuiB,YAEAiuB,GAEKxwC,EAHL8wE,uBAGK9wE,EAFLwwC,SAEKlwC,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,4FACL,OACC+zB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC9C,MAAM,UACNC,QAASyb,EACT9C,WACIrrB,EAAYsuD,UAAYtuD,EAAYsuD,OAAOxxE,UAC5CkjB,EAAYuuD,0BACZtgC,GAGFjuB,EAAYuuD,uBACZ/8C,EAAA50B,EAAA60B,cAACujC,GAAAp4D,EAAD,MAEAm4D,GAAe,GAEfl3D,EAAEi3D,GAAgB,YAcrB1T,UAJgC8pB,GALf,SAAA/sE,GAA6C,IAA1C4xB,EAA0C5xB,EAA1C4xB,OAAQ++C,EAAkC3wE,EAAlC2wE,eAAgBjxE,EAAkBM,EAAlBN,EAAkBE,OAAAiM,GAAA,EAAAjM,CAAAI,EAAA,iCAC9D,OAAOqzB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQ7C,QAAS3C,GAASlyB,EAAEixE,GAAkB,aASrDttB,eAAgB,MAChB+T,kBAAkB,GAGNwZ,GAA4B,SAAA1+C,GAAK,OAC7CmB,EAAA50B,EAAA60B,cAACm9C,GAAD7wE,OAAAs2B,OAAA,GACKhE,EADL,CAEC2zB,SAAS,qCACT8Q,aAAa,0CACb5kD,MAAM,uCACN8vC,QAAQ,wBACJ6uB,GANL,CAOCvtB,WAAY,CACX,CACCpxC,MAAO,sCACPivC,KAAMsrB,GACN3qB,eAAgB,SAAAxhD,GAAA,IAAG0hD,EAAH1hD,EAAG0hD,QAASrT,EAAZruC,EAAYquC,WAAYH,EAAxBluC,EAAwBkuC,MAAOuT,EAA/BzhD,EAA+ByhD,QAASoW,EAAxC73D,EAAwC63D,UAAxC,OACf56B,YACCyzC,aAAyB,CACxBhvB,UACArT,aACAH,QACAuT,UACAoW,kBAKL5U,iBAAkB,CACjBrxC,MAAO,sBACPivC,KAAM8vB,IAEPxD,OAAQ,WAA4D,IAAAyD,GAAAryE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAlDmjB,YAAe2qD,EAA0CuE,EAA1CvE,iBAAkBC,EAAwBsE,EAAxBtE,WAC3C,OAAOrvC,YACN4zC,YAAiB,CAChBxE,mBACAC,qBAOQwE,GAAuB,SAAA/+C,GAAK,OACxCmB,EAAA50B,EAAA60B,cAACm9C,GAAD7wE,OAAAs2B,OAAA,GACKhE,EADL,CAEC2zB,SAAS,qCACT8Q,aAAa,0CACb5kD,MAAM,uCACN8vC,QAAQ,wBACJ6uB,GANL,CAOCvtB,WAAY,CACX,CACCpxC,MAAO,sCACPivC,KAAMqtB,GACN1sB,eAAgB,SAAAjhD,GAAA,IAAGmhD,EAAHnhD,EAAGmhD,QAASrT,EAAZ9tC,EAAY8tC,WAAYH,EAAxB3tC,EAAwB2tC,MAAOuT,EAA/BlhD,EAA+BkhD,QAASoW,EAAxCt3D,EAAwCs3D,UAAxC,OACf56B,YACC8zC,aAAyB,CACxBrvB,UACArT,aACAH,QACAuT,UACAoW,kBAKL5U,iBAAkB,CACjBrxC,MAAO,sBACPivC,KAAM8vB,IAEPxD,OAAQ,WAA0B,IAAvBzrD,GAAuBnjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAhBmjB,YACV,OAAOub,YACN+zC,YAAsB,CACrB5C,UAAW1sD,EAAY0sD,UACvBD,QAASzsD,EAAYysD,YAIxBwB,UAAW,WAAmC,IAAA9tE,EAAAtD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAzBmjB,EAAgC7f,EAAhC6f,YAAa9gB,EAAmBiB,EAAnBjB,QAC1B,OAAOqwE,aAAqB,CAC3B7C,UAAW1sD,EAAY0sD,UACvBD,QAASzsD,EAAYysD,QACrB+C,aAAa,EACbtwE,iBAMSuwE,GAA+B,SAAAp/C,GAAK,OAChDmB,EAAA50B,EAAA60B,cAACm9C,GAAD7wE,OAAAs2B,OAAA,GACKhE,EADL,CAEC2zB,SAAS,yCACT8Q,aAAa,0CACb5kD,MAAM,uCACN8vC,QAAQ,2BACJ6uB,GANL,CAOCvtB,WAAY,CACX,CACCpxC,MAAO,sCACPivC,KAAMuwB,KAGRnuB,iBAAkB,CACjBrxC,MAAO,sBACPivC,KAAM8vB,IAEPxD,OAAQ,WAA0B,IAAvBzrD,GAAuBnjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAhBmjB,YACV,OAAOub,YAAQo0C,YAAoB3vD,KAEpCiuD,UAAW,WAAwC,IAAA1tE,EAAA1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAO+yE,EAAArvE,EAArCyf,mBAAqC,IAAA4vD,EAAvB,GAAuBA,EAAnB1wE,EAAmBqB,EAAnBrB,QAC/B,OAAO2wE,aAAgC9xE,OAAAC,GAAA,EAAAD,CAAA,GACnCiiB,EADkC,CAErCwvD,aAAa,EACbtwE,kBAMS4wE,GAAgB,SAAAz/C,GAAK,OACjCmB,EAAA50B,EAAA60B,cAACm9C,GAAD7wE,OAAAs2B,OAAA,GACKhE,EADL,CAEC2zB,SAAS,sBACT8Q,aAAa,2BACb5kD,MAAM,wBACN8vC,QAAQ,UACJ6uB,GANL,CAOCvtB,WAAY,CACX,CACCpxC,MAAO,uBACPivC,KAAM4wB,KAGRxuB,iBAAkB,CACjBrxC,MAAO,sBACPivC,KAAM8vB,IAEPxD,OAAQ,WAA0B,IAAvBzrD,GAAuBnjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAhBmjB,YACV,OAAOub,YACNy0C,YAAe,CACdC,SAAUjwD,EAAYktD,WAIzBe,UAAW,WAAsB,IAAnB/uE,GAAmBrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAZqC,QACb,OAAOgxE,aAAe,CACrBhxE,UACAswE,aAAa,oGChLXW,GAAuBtrE,kCACvBurE,GAAsBvrE,6CACtBwrE,GAAyBxrE,gCACzByrE,GAAwBzrE,6CAExB0rE,GAAc,SAAAlgD,GAAK,OACxBmB,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,KACC/L,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACRkb,SAAU,OACVxV,KAAK,IACLU,eAAe,gBACfnG,WAAW,UAEXtC,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCvD,SAAS,IACTa,UAAU,QACV0D,GAAI,EACJ2R,SAAU,SACVlb,QAAQ,OACRC,WAAW,SACXmG,eAAe,iBAEfzI,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK7C,KAAK,KAAKlJ,EAAM8I,OAEtB3H,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKvD,SAAS,IAAIa,UAAU,QAC1BrJ,EAAM+I,UAMLoC,GAAYC,aC5EI,SAAAvI,GAErB,MAAO,CACNs9C,UAAW,CACVh9C,OAHcN,EAAMC,QAAQ,IAK7Bl1B,QAAS,CACR+jD,SAAU,aACVjuB,UAAW,YACX8E,SAAU,GAEX43C,aAAc,CACbz8C,MAAO,QAER08C,YAAa,CACZ98C,YAAaV,EAAMC,QAAQ,ODsVfw9C,OAvRf,WAAuB,IAAAnzB,EACqBppB,YAAY10B,MADjCkxE,EAAApzB,EACd/9C,gBADc,IAAAmxE,EACH,GADGA,EACChxE,EADD49C,EACC59C,MAAO6hB,EADR+7B,EACQ/7B,SACxB5G,EAAkBuZ,YAAYh0B,KAC9B+Z,EAAaia,YAAYlyB,MACzB2uE,EAAY12D,EAAa,EACvBzH,EAAW0hB,YAAY51B,MAAvBkU,OALcg4D,EAUlBt2C,YAAYtzB,KAHf6Z,EAPqB+vD,EAOrB/vD,cACA3G,EARqB02D,EAQrB12D,yBACAyG,EATqBiwD,EASrBjwD,kCAGKq2D,EAAkB18C,YAAY,SAAAl3B,GAAK,OACxC2F,YAAuB3F,EAAO2d,KAGzB9V,EAAkBqvB,YAAYtvB,KAhBdo8B,EAkBwCC,mBAAS,IAlBjDC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAkBf6vC,EAlBe3vC,EAAA,GAkBU4vC,EAlBV5vC,EAAA,GAoBhB6vC,EAAc,eAAAxzE,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,IAAA,IAAAo7D,EAAAjnE,EAAA,OAAAgV,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACJs7D,aAAsB,CAAEvxE,QAAO6hB,WAAUhiB,aADrC,QAChByxE,EADgB/6D,EAAAC,OAEX86D,EAAI5xE,SACR2K,EACL,gCACAu/D,mBAAmB3hD,KAAKC,UAAUopD,IAEnCF,EAA2B/mE,IAPN,wBAAAkM,EAAAO,SAAAZ,MAAH,yBAAArY,EAAAiS,MAAAkH,KAAA/Z,YAAA,GApBEykC,EA+BUH,oBAAS,GA/BnBI,EAAAxjC,OAAA4J,GAAA,EAAA5J,CAAAujC,EAAA,GA+Bf8vC,EA/Be7vC,EAAA,GA+BL8vC,EA/BK9vC,EAAA,GAiChBrQ,EAAUsK,KA2BhB,OAzBA4f,oBAAU,WACT7f,YAAQoV,YAAU,WAAY9yC,aAAE,cAC9B,CAACgd,IAEJugC,oBAAU,WACT61B,KAEE,IAmBFz/C,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAAC2N,GAAA,EAAD,CAAMlN,UAAWhB,EAAQ0H,MACxBpH,EAAA50B,EAAA60B,cAAC60B,GAAA,EAAD,KAAgBzoD,aAAE,iBAClB2zB,EAAA50B,EAAA60B,cAAC6/C,GAAD,CACCn4C,KACC3H,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKvI,QAAQ,OAAO2F,cAAc,MAAMuV,SAAS,QAChDvd,EAAA50B,EAAA60B,cAAC+N,GAAA,EAADzhC,OAAAs2B,OAAA,CACCnC,UAAWhB,EAAQjzB,SACd6yE,GAAmB,CACvB9wC,QAAS8wC,EACThzC,UAAWjjB,IAENi2D,GAAmB,CACxB9wC,QAASnlB,EACTijB,UAAWjgC,aAAE,kBAGf2zB,EAAA50B,EAAA60B,cAACc,EAAA,EAAD,CACCE,MAAM,UACNC,QAAS,WACRi3C,KAAK9uD,GACL0gB,YACC+uC,YAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,uBACTg0B,QAAS,SAKZL,EAAA50B,EAAA60B,cAACukC,GAAAp5D,EAAD,QAIHw8B,QACGve,GACD2W,EAAA50B,EAAA60B,cAAC8/C,GAAD,CACClmC,UAAWwlC,EACXz9B,WAAS,EACTzW,QAAQ,YACRlK,MAAM,UACN3d,MAAM,MACNizB,KAAK,QACLmmC,kBAAmBzzD,MAMvB+W,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,MACAnO,EAAA50B,EAAA60B,cAAC6/C,GAAD,CACCn4C,KACC3H,EAAA50B,EAAA60B,cAAC8N,GAAD,CACCrC,SACElpB,GAAyD,IAA7BA,GAG9Bwd,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB+hC,QAAO,GAAA/vB,OAAKwK,GAAqC,EAA1C,KAAAxK,OAA+CyC,GACtDorB,UAAWjgC,aAAE,iDAIhBu7B,MACC5H,EAAA50B,EAAA60B,cAACD,EAAA50B,EAAMqjC,SAAP,KACCzO,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKo1C,GAAI,GACRhgD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC6d,WAAS,EACTzW,QAAQ,YACRlK,MAAM,YACND,aAAW,SACXE,QAAS,kBAzFS,WACzB,IAAM++C,EAAS,IAAIC,KAAe,CACjCC,YAAa,cACbC,YAAa,gDACbj1C,QAAS,OACTk1C,UAAWn/D,EACXo/D,YAAaj3D,IAEd42D,EAAOM,SAASC,QAAQ55C,MAAMU,OAAS,IACvC24C,EAAOQ,OAgFeC,IACfnqC,KAAK,SAELvW,EAAA50B,EAAA60B,cAAC0gD,GAAAv1E,EAAD,CAAgBs1B,UAAWhB,EAAQw/C,cAClC7yE,aAAE,yBAGL2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKo1C,GAAI,GACRhgD,EAAA50B,EAAA60B,cAAC2gD,GAAD,CACC/mC,UAAWwlC,EACXz9B,WAAS,EACTzW,QAAQ,YACRlK,MAAM,UACNy7C,kBAAmBzzD,EACnB43D,qBAAsB53D,EACtB3F,MAAOpC,EACPq1B,KAAK,cAMVvW,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,MACAnO,EAAA50B,EAAA60B,cAAC6gD,GAAA,EAAD,CACClB,SAAUA,EACV50C,SAtGuB,WAC1B60C,GAAaD,IAsGVmB,QAAQ,GAER/gD,EAAA50B,EAAA60B,cAAC+gD,GAAA,EAAD,CACCC,WAAYjhD,EAAA50B,EAAA60B,cAAC6R,GAAA1mC,EAAD,MACZ81E,gBAAc,mBACdjuE,GAAG,mBAEH+sB,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYvN,UAAWhB,EAAQyhD,SAC7B90E,aAAE,uCAGL2zB,EAAA50B,EAAA60B,cAACmhD,GAAA,EAAD,KACCphD,EAAA50B,EAAA60B,cAAC2N,GAAA,EAAD,CAAMlO,QAAS,CAAE0H,KAAM1H,EAAQu/C,eAC9Bj/C,EAAA50B,EAAA60B,cAAC6/C,GAAD,CACCn4C,KACC3H,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB+hC,QAAS6C,aAAcloB,GACvBmjB,UAAWjgC,aAAE,oBAAqB,CACjCqI,KAAM,SAAA+J,OACGxQ,EAAS2gC,eADZ,QAAAnwB,OAEGkK,EAFH,UAGL1a,OAKJ25B,MACC23C,GACCv/C,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKo1C,GAAI,EAAG34C,SAAS,KACpBrH,EAAA50B,EAAA60B,cAAA,SAAO+iB,QAAQ,wBACdhjB,EAAA50B,EAAA60B,cAAA,KACChtB,GAAG,uBACHuyB,KAAM+5C,EACN15B,SAAQ,qBAAApnC,OAAuBrQ,EAAvB,UAER4xB,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CAAQwS,KAAK,QAAQpL,QAAQ,YAAYyW,WAAS,GACjD5hB,EAAA50B,EAAA60B,cAACohD,GAAAj2E,EAAD,CAAcs1B,UAAWhB,EAAQw/C,cAChC7yE,aAAE,6BAQV2zB,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,MACAnO,EAAA50B,EAAA60B,cAAC6/C,GAAD,CACCn4C,KACC3H,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB6/B,UAAW,GACXkC,QAASniC,aAAE,qBAGbu7B,MACC5H,EAAA50B,EAAA60B,cAACqhD,GAAD,CACCznC,UAAWwlC,EACXz9B,WAAS,EACTzW,QAAQ,YACRlK,MAAM,YACNsV,KAAK,QACLmmC,kBAAmBzzD,MAItB+W,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,MACAnO,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,KACC/L,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB+hC,QAASniC,aAAE,sBAAuB,CACjCqI,KAAM,CAACkqE,MAERtyC,UAAWjgC,aAAE,uBAAwB,CACpCqI,KAAM,CAACiqE,SAIV3+C,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,KACC/L,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQjzB,QACnB+hC,QAASniC,aAAE,wBAAyB,CACnCqI,KAAM,CAACoqE,MAERxyC,UAAWjgC,aAAE,yBAA0B,CACtCqI,KAAM,CAACmqE,SAIV7+C,EAAA50B,EAAA60B,cAACkO,GAAA,EAAD,MACC56B,GACAysB,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,KACC/L,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACRkb,SAAU,OACVxV,KAAK,IACLU,eAAe,gBACfnG,WAAW,UAEXtC,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKvD,SAAS,KACbrH,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKo1C,GAAI,GACRhgD,EAAA50B,EAAA60B,cAACshD,GAAD,CACC3/B,WAAS,EACTzW,QAAQ,YACRlK,MAAM,UACNsV,KAAK,sSE7UZirC,GAA4Bv3C,aAAW,SAAAvI,GAAK,MAAK,CACtD0F,KAAM,CACLvmB,gBAAiB6gB,EAAMwH,QAAQw1B,OAAOC,MACtCr3B,OAAQ,EACR9E,MAAO,SAAA3D,GAAK,OAAIA,EAAM0X,MAAQ,IAC9BzN,OAAQ,SAAAjK,GAAK,OAAIA,EAAM0X,MAAQ,IAC/BlU,QAAS,OACTR,aAAc,MACd4G,eAAgB,SAChBnG,WAAY,SACZV,OAAM,aAAAnjB,OAAeijB,EAAMwH,QAAQ+Q,KAAK,MACxCwnC,WAAY,OACZt0C,UAAW,CACVrC,UAAW,+BACX/I,UAAW,qBAGb/C,OAAQ,CACP4C,OAAM,aAAAnjB,OlBpBe,UkBoBf,gBAEPijE,UAAW,CACV9/C,OAAM,aAAAnjB,OlBtBiB,YkBwBxBkjE,KAAM,CACLn6C,SAAU,WACV3mB,gBAAiB6gB,EAAMwH,QAAQw1B,OAAOC,MACtC5+B,IAAK,OACL6H,MAAO,OACP/F,aAAc,UAIH+/C,GAAoBngD,YAAW,SAAAC,GAAK,MAAK,CACrDgsB,iBAAkB,CACjB3tB,IAAK,IAEN8hD,KAAM,CACL/4C,OAAQ,EACRlH,OAAQ,EACRuH,WAAU,yDAAA1qB,OACTijB,EAAMwH,QAAQ+Q,KAAK,MAEpB6nC,eAAc,wBAViBrgD,CAY7BsgD,MAEG,SAASC,GAAiBnjD,GAAO,IAAAojD,EACjCviD,EAAU8hD,GAA0B3iD,GAClCG,EAA4BH,EAA5BG,OAAQ0iD,EAAoB7iD,EAApB6iD,UAAW9gD,EAAS/B,EAAT+B,KAE3B,OACCZ,EAAA50B,EAAA60B,cAAA2K,GAAA,GACClK,UAAWwhD,aAAKxiD,EAAQ0H,MAAT66C,EAAA,GAAA11E,OAAA80B,EAAA,EAAA90B,CAAA01E,EACbviD,EAAQgiD,UAAYA,GADPn1E,OAAA80B,EAAA,EAAA90B,CAAA01E,EAEbviD,EAAQV,OAASA,GAFJijD,IAIfr7C,MAAO,CACNu7C,gBAAe,OAAA1jE,OAASmiB,EAAT,KACfkhD,eAAgB,UAGhBJ,GAAa1hD,EAAA50B,EAAA60B,cAAAmiD,GAAA,GAAO1hD,UAAWwhD,aAAKxiD,EAAQiiD,MAAO1gD,MAAM,eChEtD,IAAMohD,GAAuB,WAGnC,IAFA,IAAM56B,EAAQ,GAELjtC,EAAI,EAAGA,GAAK,EAAGA,IACvBitC,EAAMzuC,KAAN,gCAAAyF,OAA2CjE,IAE5C,OAAOuvB,YACNu4C,YAAc,KAAM,KAAM,CACzB9+C,aAAcn3B,aAAE,MAChBk3B,YAAal3B,aAAE,UACfqS,MAAOrS,aAAE,iCACTqoB,KACCsL,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAA,UACEwnB,EAAM16C,IAAI,SAAAy6C,GAAI,OACdxnB,EAAA50B,EAAA60B,cAAA,MAAI+hC,wBAAyB,CAAEC,OAAQ51D,aAAEm7C,SAG3CxnB,EAAA50B,EAAA60B,cAAAgO,GAAA,GACC+zB,wBAAyB,CACxBC,OAAQ51D,aAAE,uCASJk2E,GAAsB,WAGlC,IAFA,IAAM96B,EAAQ,GAELjtC,EAAI,EAAGA,GAAK,EAAGA,IACvBitC,EAAMzuC,KAAN,0BAAAyF,OAAqCjE,IAEtC,OAAOuvB,YACNu4C,YAAc,KAAM,KAAM,CACzB9+C,aAAcn3B,aAAE,MAChBk3B,YAAal3B,aAAE,UACfqS,MAAOrS,aAAE,2BACTqoB,KACCsL,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAAgO,GAAA,OAAa5hC,aAAE,4BACf2zB,EAAA50B,EAAA60B,cAAA,UACEwnB,EAAM16C,IAAI,SAAAy6C,GAAI,OACdxnB,EAAA50B,EAAA60B,cAAA,MAAI+hC,wBAAyB,CAAEC,OAAQ51D,aAAEm7C,SAG3CxnB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAYC,cAAY,GACtB7hC,aAAE,8BAA+B,CACjCqI,KAAM,CACLsrB,EAAA50B,EAAA60B,cAACuiD,GAAD,CACCh9C,KACC,4GAGAn5B,aAAE,aAKP2zB,EAAA50B,EAAA60B,cAAAgO,GAAA,OAAa5hC,aAAE,+BAOPo2E,GAAsB,WAGlC,IAFA,IAAMh7B,EAAQ,GAELjtC,EAAI,EAAGA,GAAK,EAAGA,IACvBitC,EAAMzuC,KAAN,iCAAAyF,OAA4CjE,IAE7C,OAAOuvB,YACNu4C,YAAc,KAAM,KAAM,CACzB9+C,aAAcn3B,aAAE,MAChBk3B,YAAal3B,aAAE,UACfqS,MAAOrS,aAAE,kCACTqoB,KACCsL,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAAgO,GAAA,OAAa5hC,aAAE,mCACf2zB,EAAA50B,EAAA60B,cAAA,UACEwnB,EAAM16C,IAAI,SAAAy6C,GAAI,OACdxnB,EAAA50B,EAAA60B,cAAA,MAAI+hC,wBAAyB,CAAEC,OAAQ51D,aAAEm7C,SAG3CxnB,EAAA50B,EAAA60B,cAAAgO,GAAA,GACC+zB,wBAAyB,CACxBC,OAAQ51D,aAAE,wCASJq2E,GAAe,WAG3B,IAFA,IAAMj7B,EAAQ,GAELjtC,EAAI,EAAGA,GAAK,EAAGA,IACvBitC,EAAMzuC,KAAN,gCAAAyF,OAA2CjE,IAE5C,OAAOuvB,YACNu4C,YAAc,KAAM,KAAM,CACzB9+C,aAAcn3B,aAAE,MAChBk3B,YAAal3B,aAAE,UACfqS,MAAOrS,aAAE,iCACTqoB,KACCsL,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAA,UACEwnB,EAAM16C,IAAI,SAAAy6C,GAAI,OACdxnB,EAAA50B,EAAA60B,cAAA,MAAI+hC,wBAAyB,CAAEC,OAAQ51D,aAAEm7C,SAG3CxnB,EAAA50B,EAAA60B,cAAAgO,GAAA,GACC+zB,wBAAyB,CACxBC,OAAQ51D,aAAE,uCASJs2E,GAAc,WAG1B,IAFA,IAAMl7B,EAAQ,GAELjtC,EAAI,EAAGA,GAAK,EAAGA,IACvBitC,EAAMzuC,KAAN,+BAAAyF,OAA0CjE,IAE3C,OAAOuvB,YACNu4C,YAAc,KAAM,KAAM,CACzB9+C,aAAcn3B,aAAE,MAChBk3B,YAAal3B,aAAE,UACfqS,MAAOrS,aAAE,gCACTqoB,KACCsL,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAAA,UACEwnB,EAAM16C,IAAI,SAAAy6C,GAAI,OACdxnB,EAAA50B,EAAA60B,cAAA,MAAI+hC,wBAAyB,CAAEC,OAAQ51D,aAAEm7C,SAG3CxnB,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAYC,cAAY,GACtB7hC,aAAE,qCAEJ2zB,EAAA50B,EAAA60B,cAAAgO,GAAA,OACCjO,EAAA50B,EAAA60B,cAACuiD,GAAD,CAAgBh9C,KAAM,iCACpBn5B,aAAE,wCAGL2zB,EAAA50B,EAAA60B,cAAAgO,GAAA,OACCjO,EAAA50B,EAAA60B,cAACuiD,GAAD,CACCh9C,KACC,+DAGAn5B,aAAE,uCANL,UCvGC29B,GAAYC,aAAW,SAAAvI,GAAK,MAAK,CACtC0F,KAAM,CACLvmB,gBAAiB6gB,EAAMwH,QAAQC,WAAWgD,MAC1CpE,KAAM,GAEPsG,OAAQ,CACPjM,YAAaV,EAAMC,QAAQ,IAE5BihD,aAAc,CACb1oC,UAAWxY,EAAMC,QAAQ,GACzB4L,aAAc7L,EAAMC,QAAQ,OAIf,SAASkhD,GAAehkD,GACtC,IAAMa,EAAUsK,KACR53B,EAASysB,EAATzsB,KAEF0wE,EAAmBlgD,YAAY7gB,KAC/BghE,EAAqBngD,YAAY3gB,KACjC+gE,EAAmBpgD,YAAYngB,KAC/BwgE,EAAoBrgD,YAAYzgB,KAChC+gE,EAAmBtgD,YAAYtgB,KAC/B6gE,EAAiBvgD,YAAYjgB,KAC7BygE,EAAqBxgD,YAAYhgB,KACjCygE,EAAyBzgD,YAAYlvB,KACrC4vE,EAAgB1gD,YAAYv0B,KAZWqhC,EAabC,oBAAS,GAbIC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAatCkwC,EAbsChwC,EAAA,GAa5BiwC,EAb4BjwC,EAAA,GAevC6X,EAAQ,CACbhe,WAAY,CACX,CACCzoB,MAAO3U,aAAE,gCACT48B,QACCjJ,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACE19C,aAAE,kCACFi3E,EACEj3E,aAAE,uCAAwC,CAC1CqI,KAAM,CACLsrB,EAAA50B,EAAA60B,cAACuiD,GAAD,CACCjjE,IAAI,sBACJimB,KAAI,WAAA/mB,OAAa6kE,IAEhBA,MAIH,IAGLC,iBAAkBl3E,aAAE,mCACpBu0B,KAAM4iD,KACNC,MAAOR,GAER,CACCjiE,MAAO3U,aAAE,2BACT48B,QAAS58B,aAAE,6BACXk3E,iBAAkBl3E,aAAE,iCACpBu0B,KAAM8iD,KACND,MAAOX,EACPa,SAAUtB,IAEX,CACCrhE,MAAO3U,aAAE,+BACT48B,QAAS58B,aAAE,iCACXk3E,iBAAkBl3E,aAAE,8BACpBu0B,KAAMgjD,KACNH,MAAOP,EACPS,SAAUpB,IAEX,CACCvhE,MAAO3U,aAAE,iCACT48B,QAAS58B,aAAE,mCACXk3E,iBAAkBl3E,aAAE,qCACpBu0B,KAAMijD,KACNJ,MAAOV,EACPY,SAAUlB,KASZ/4C,UAAW,CACV,CACC1oB,MAAO3U,aAAE,gCACT48B,QACCjJ,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACE19C,aAAE,kCACFi3E,EACEj3E,aAAE,uCAAwC,CAC1CqI,KAAM,CACLsrB,EAAA50B,EAAA60B,cAACuiD,GAAD,CACCjjE,IAAI,oBACJimB,KAAI,WAAA/mB,OAAa6kE,IAEhBA,MAIH,IAGLC,iBAAkBl3E,aAAE,mCACpBu0B,KAAM4iD,KACNC,MAAOR,GAER,CACCjiE,MAAO3U,aAAE,2BACT48B,QAAS58B,aAAE,6BACXk3E,iBAAkBl3E,aAAE,oCACpBu0B,KAAM8iD,KACND,MAAOT,EACPW,SAAUjB,IAEX,CACC1hE,MAAO3U,aAAE,6BACT48B,QAAS58B,aAAE,6BACXk3E,iBAAkBl3E,aAAE,mCACpBu0B,KAAMkjD,KACNL,MAAON,EACPQ,SAAUhB,IAEX,CACC3hE,MAAO3U,aAAE,6BACT48B,QAAS58B,aAAE,+BACXk3E,iBAAkBl3E,aAAE,sCACpBu0B,KAAMijD,KACNJ,MAAOL,KAUJW,EAA6Bt8B,EAAMr1C,GAAM4xE,UAAU,SAAAx8B,GAAI,OAAKA,EAAKi8B,QA9H1BjvB,EA+HT/uB,IAAMkK,SAAS,GA/HN8kB,EAAAloD,OAAA4J,GAAA,EAAA5J,CAAAioD,EAAA,GA+HtChH,EA/HsCiH,EAAA,GA+H1BwvB,EA/H0BxvB,EAAA,GAyJ7C,OATA7K,oBAAU,WACTq6B,GACiC,IAAhCF,EACGA,EACAt8B,EAAMr1C,GAAM9G,OAAS,IAGvB,CAACy4E,KAGFV,GACA57B,EAAMr1C,IACN4tB,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAAA6gD,GAAA,GACClB,SAAUA,EACV50C,SAAU,kBAAM60C,GAAaD,IAC7BmB,QAAQ,GAER/gD,EAAA50B,EAAA60B,cAAA+gD,GAAA,GACCC,WAAYjhD,EAAA50B,EAAA60B,cAAAikD,GAAA,QACZhD,gBAAc,yBACdjuE,GAAG,0BAEH+sB,EAAA50B,EAAA60B,cAAA2K,GAAA,GACCpI,MAAO,EACPH,QAAQ,OACR2F,cAAc,MACd1F,WAAW,SACXmG,eAAe,iBAEfzI,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAY9C,QAAS,MACnB9+B,aAAE,4BAGJ2zB,EAAA50B,EAAA60B,cAAA,WACEwnB,EAAMr1C,GAAMrF,IAAI,SAAAd,EAAyBuV,GAAU,IAAhCR,EAAgC/U,EAAhC+U,MAAayiE,GAAmBx3E,EAAzB20B,KAAyB30B,EAAnBw3E,OAC1B9jD,EAAO8jD,EAAKU,GAAA,EAAAC,GAAA,EACZnjD,EAAQwiD,EAAQ,YAAc,UAEpC,OACCzjD,EAAA50B,EAAA60B,cAAA+pB,GAAA,GAAStrC,MAAOsC,GACfgf,EAAA50B,EAAA60B,cAACN,EAAD,CAAMsB,MAAOA,EAAO1hB,IAAKiC,UAQ/Bwe,EAAA50B,EAAA60B,cAAAmhD,GAAA,OACCphD,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAKpI,MAAO,GACXxC,EAAA50B,EAAA60B,cAAAokD,GAAA,GAAQC,MAAI,GACXtkD,EAAA50B,EAAA60B,cAAA2K,GAAA,GAAK3M,EAAG,EAAGwK,eAAgB,SAAUpG,QAAQ,QAC5CrC,EAAA50B,EAAA60B,cAAC+hD,GAAD,CACCphD,KAAM6mB,EAAMr1C,GAAMo7C,GAAY5sB,KAC9B8gD,UAAWj6B,EAAMr1C,GAAMo7C,GAAYi2B,MACnCltC,KAAK,UAGPvW,EAAA50B,EAAA60B,cAAAstB,GAAA,GACC7sB,UAAWhB,EAAQ0H,KACnBqgB,MAAOA,EAAMr1C,GAAM9G,OACnBk8B,SAAS,SACT2D,QAAQ,WACRqiB,WAAYA,EACZ+2B,WACCvkD,EAAA50B,EAAA60B,cAAA8D,EAAA,GACCwS,KAAK,QACLrV,QA/ES,WAClB+iD,EAAcz2B,EAAa,IA+ElB3T,SAAU2T,IAAe/F,EAAMr1C,GAAM9G,OAAS,GAE7Ce,aAAE,QACH2zB,EAAA50B,EAAA60B,cAAAukD,GAAA,SAGFC,WACCzkD,EAAA50B,EAAA60B,cAAA8D,EAAA,GACCwS,KAAK,QACLrV,QAtFS,WAClB+iD,EAAcz2B,EAAa,IAsFlB3T,SAAyB,IAAf2T,GAEVxtB,EAAA50B,EAAA60B,cAAAykD,GAAA,QACCr4E,aAAE,YAKP2zB,EAAA50B,EAAA60B,cAAAokD,GAAA,GAAQM,QAAM,GACb3kD,EAAA50B,EAAA60B,cAAAwtB,GAAA,GACCm3B,WAAS,EACTl3B,kBAAgB,EAChBF,WAAYA,EACZq3B,UAAW7kD,EAAA50B,EAAA60B,cAAC2hD,GAAD,OAEVn6B,EAAMr1C,GAAMrF,IAAI,SAAAJ,EAAyB6U,GAAzB,IA7GNgmC,EA6GSxmC,EAAHrU,EAAGqU,MAAO4f,EAAVj0B,EAAUi0B,KAAM6iD,EAAhB92E,EAAgB82E,MAAhB,OAChBzjD,EAAA50B,EAAA60B,cAAA2tB,GAAA,GAAMruC,IAAKyB,GACVgf,EAAA50B,EAAA60B,cAAA6kD,GAAA,GAAY5jD,SA/GHsmB,EA+GuBhmC,EA/Gf,WAC1ByiE,EAAcz8B,MA+GJxnB,EAAA50B,EAAA60B,cAAAqtB,GAAA,GACCy3B,kBAAmB/C,GACnBgD,cAAe,CAAEpkD,OAAM8gD,UAAW+B,IAEjCziE,SAOPgf,EAAA50B,EAAA60B,cAAA2K,GAAA,QACkC,IAAhCm5C,EACA/jD,EAAA50B,EAAA60B,cAAA2K,GAAA,GACCvI,QAAQ,OACRoG,eAAgB,gBAChB8U,SAAS,QAETvd,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAYvN,UAAWhB,EAAQkjD,cAC9B5iD,EAAA50B,EAAA60B,cAAA,cAAS5zB,aAAE,8BAEZ2zB,EAAA50B,EAAA60B,cAAA8D,EAAA,GACC9C,MAAM,UACNC,QA5HY,WACrB+iD,EAAc,GACdl6C,YAAQp2B,gBA2HC+sB,UAAWhB,EAAQ2O,OACnBic,UAAWtqB,EAAA50B,EAAA60B,cAAAglD,GAAA,SAEV54E,aAAE,aAIL2zB,EAAA50B,EAAA60B,cAAA2K,GAAA,OACC5K,EAAA50B,EAAA60B,cAAAgO,GAAA,GACC9C,QAAS,QACTzK,UAAWhB,EAAQkjD,cAEnB5iD,EAAA50B,EAAA60B,cAAA,cACE5zB,aAAE,wBAAyB,CAC3BqI,KAAM,CACL84C,EAAa,EACb/F,EAAMr1C,GAAMo7C,GAAYxsC,OAAS,MAE/B,IACHymC,EAAMr1C,GAAMo7C,GAAYi2B,MAAQp3E,aAAE,aAAe,KAGnDo7C,EAAMr1C,GAAMo7C,GAAYi2B,MACxBzjD,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAYvN,UAAWhB,EAAQkjD,cAC7Bn7B,EAAMr1C,GAAMo7C,GAAY+1B,kBAG1BvjD,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAYvN,UAAWhB,EAAQkjD,cAC7Bn7B,EAAMr1C,GAAMo7C,GAAYvkB,QAAS,IACjCwe,EAAMr1C,GAAMo7C,GAAYm2B,UACxBt3E,aAAE,wCAAyC,CAC1CqI,KAAM,CACLsrB,EAAA50B,EAAA60B,cAAA4G,GAAA,GACCtnB,IAAI,oBACJimB,KAAK,IACLtE,QAAS,SAAAtpB,GACRA,EAAEotB,iBACFyiB,EAAMr1C,GAAMo7C,GAAYm2B,YAEzBjjD,UAAWhB,EAAQkjD,aACnB3hD,MAAO,UACPoF,UAAW,SAEVh6B,aAAE,2BCpUnB,IAAM64E,GAAY,WACjB,IACMrrC,EADajX,YAAYlyB,OACA,EAC/B,OACCsvB,EAAA50B,EAAA60B,cAAC8pB,EAAA,SAAD,KACC/pB,EAAA50B,EAAA60B,cAACklD,GAAD,CACCtrC,SAAUA,EACVgD,WAAS,EACT1R,QAAQ,WACRi6C,QAAM,EACNnkD,MAAM,YACNuxB,SAAS,iBAEVxyB,EAAA50B,EAAA60B,cAAColD,GAAD,QAKGC,GAAU,kBACftlD,EAAA50B,EAAA60B,cAAAD,EAAA50B,EAAAqjC,SAAA,KACCzO,EAAA50B,EAAA60B,cAAC69B,GAAD,CACCjhB,WAAS,EACT1R,QAAQ,WACRlK,MAAM,YACNuxB,SAAS,aAEVxyB,EAAA50B,EAAA60B,cAACu9B,GAAD,QAII+nB,GAAU,kBACfvlD,EAAA50B,EAAA60B,cAAAD,EAAA50B,EAAAqjC,SAAA,KACCzO,EAAA50B,EAAA60B,cAACulD,GAAD,CACC3oC,WAAS,EACT1R,QAAQ,WACRi6C,QAAM,EACNnkD,MAAM,YACNuxB,SAAS,aAEVxyB,EAAA50B,EAAA60B,cAACwlD,GAAD,QAIIz7C,GAAYC,aAAW/C,IA0Mdw+C,OAxMf,SAAmB7mD,GAAO,IAAA6Q,EACWC,oBAAS,GADpBC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAClBi2C,EADkB/1C,EAAA,GACNg2C,EADMh2C,EAAA,GAAAE,EAEWH,oBAAS,GAFpBI,EAAAxjC,OAAA4J,GAAA,EAAA5J,CAAAujC,EAAA,GAElB+1C,EAFkB91C,EAAA,GAEN+1C,EAFM/1C,EAAA,GAGnBtjC,EAAUm2B,YAAYh0B,KACtBm3E,EAA6BnjD,YAClCjyB,MAEKgY,EAAaia,YAAYlyB,MACzB+C,EAA4BmvB,YAAYpvB,MACxCwyE,EAAyBr9D,GAAc,IAAMlV,EAE3C2xB,EAAUvG,EAAVuG,MACAhzB,EAASgzB,EAAMpX,OAAf5b,KACFstB,EAAUsK,KAEhB4f,oBAAU,WACT7f,YAAQk8C,YAAkB,CAAEx5E,eAG7Bm9C,oBAAU,WAAM,SAAAs8B,IAAA,OAAAA,EAAA35E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACf,SAAAO,IAAA,OAAAmJ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACC0lB,YAAQo8C,eACRp8C,YAAQ63B,gBACR73B,YAAQoV,YAAU,OAAQ/sC,IAC1B23B,YAAQq8C,eAJTzhE,EAAAN,KAAA,EAQOgiE,KAAUC,QARjB,cAAA3hE,EAAAN,KAAA,EASOkiE,KAAcD,QATrB,cAAA3hE,EAAAN,KAAA,GAaOmiE,KAAuBF,QAb9B,eAAA3hE,EAAAN,KAAA,GAcOoiE,KAAcH,QAdrB,QAeCR,GAAc,GAff,yBAAAnhE,EAAAO,SAAAZ,OADepG,MAAAkH,KAAA/Z,WAqBf,OArBe,WAAA66E,EAAAhoE,MAAAkH,KAAA/Z,WAmBfq7E,GAEO,WACNH,KAAcrhE,OACdshE,KAAuBthE,OACvBuhE,KAAcvhE,OACdmhE,KAAUnhE,SAET,CAAC9S,IAEJw3C,oBAAU,aAAU,CAACxkB,EAAOugD,IAC5B/7B,oBAAU,WACT7f,YAAQoV,YAAU,OAAQ/sC,KACxB,CAACA,IAEJ,IAAM8+B,EAAqB,WAC1B00C,GAAeD,IAGVgB,EAAS3mD,EAAA50B,EAAA60B,cAAC2mD,GAAD,CAASx0E,KAAMA,IAE9B,OACC4tB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ0H,MACvBpH,EAAA50B,EAAA60B,cAAC4mD,GAAD,CACCz0E,KAAMA,EACN+tB,KAAMwlD,EACNz0C,mBAAoBA,IAErBlR,EAAA50B,EAAA60B,cAACokD,GAAA,EAAD,CAAQC,MAAI,GACXtkD,EAAA50B,EAAA60B,cAAC6mD,GAAA,EAAD,CACC37C,QAAQ,YACR47C,OAAO,OACP5mD,KAAMwlD,EACNrlD,QAAS4Q,EACTxR,QAAS,CACRyM,MAAOzM,EAAQsJ,aAEhBg+C,WAAY,CACXC,aAAa,IAGbN,IAGH3mD,EAAA50B,EAAA60B,cAACokD,GAAA,EAAD,CAAQM,QAAM,EAACuC,eAAe,OAC7BlnD,EAAA50B,EAAA60B,cAAC6mD,GAAA,EAAD,CACC37C,QAAQ,YACRhL,MAAI,EACJT,QAAS,CACRyM,MAAOzM,EAAQsJ,cAGf29C,IAIH3mD,EAAA50B,EAAA60B,cAAA,QAAMS,UAAWhB,EAAQuJ,SACxBjJ,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ6J,cACvBvJ,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQkJ,UACvBo9C,GACAhmD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAACknD,GAAA,EAAD,CACCh8C,QAAQ,WACRi8C,SAAS,OACT9mD,QAAS,WACRyJ,YAAQs9C,cAAgC,MAGxCh7E,aAAE,+BAAgC,CAClCqI,KAAM,SAAA+J,OAASkK,EAAT,eAMA,cAATvW,IAAyB2zE,GACzB/lD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAACknD,GAAA,EAAD,CAAOh8C,QAAQ,WAAWi8C,SAAS,WAClCpnD,EAAA50B,EAAA60B,cAAA,WACE5zB,aAAE,2BAA4B,CAC9BqI,KAAM,CACLsrB,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCtvB,IAAI,2BACJ0hB,MAAM,UACNoF,UAAU,SACVD,OAAO,SACPZ,KACC,kGAGAxF,EAAA50B,EAAA60B,cAAA,cAAS5zB,aAAE,gBASlBw5E,GAAc7lD,EAAA50B,EAAA60B,cAAC4iD,GAAD,CAAgBzwE,KAAMA,IAErC4tB,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,KACCzhB,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,kCACLymB,UAAWq3C,KAEZllD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,8BACLymB,UAAWy3C,KAEZtlD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,yCACLymB,UAAW1yB,KAEZ6kB,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,iCACLymB,UAAW68B,KAEZ1qC,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,iDACLymB,UAAW68B,KAEZ1qC,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,uCACLymB,UAAWopC,KAEZj3C,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,6BACLymB,UAAW03C,KAEZvlD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,sCACLymB,UAAWwqC,KAEZr4C,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAM,2BACNymB,UAAWy5C,KAQZtnD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CAAO9G,OAAK,EAACvzB,KAAK,mBAAmBymB,UAAWipC,KAChD92C,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CAAO5T,UAAWmQ,UCnSX9W,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACNyF,KAAM,CAEL0B,OAAQ,SAETy+C,gBAAiB,CAChB76C,UAAW,SACXD,UAAW,OACXhF,UAAW,QACX+/C,iBAAkB,YAClB1F,eAAgB,QAChB2F,mBAAoB,SACpBjgD,SAAU,YAEX8R,UAAW,CACVxQ,OAAQ,QACRzB,SAAU,KAEXxpB,QAAS,CACRskE,gBAAe,OAAA1jE,OAASipE,EAAQ,MAAjB,KACfF,iBAAkB,YAClB1F,eAAgB,QAChB2F,mBAAoB,UAErBE,QAAS,CACR9mE,gBAAiB6gB,EAAMwH,QAAQ+Q,KAAK,MAErC2tC,WAAY,GAKZC,YAAa,CACZp7B,UAAW,UAEZq7B,KAAM,CAILh/C,OAAQ,QAET4jC,YAAa,CACZ5jC,OAAQ,OACR9G,OAAkB,EAAVL,GAETomD,KAAM,CACL5+C,WAAY,EACZ2B,UAAW,OACXvD,SAAU,WAEXqlC,SAAU,CACT/rD,gBAAiB,4BAElBooB,QAAS,CACR5G,QAAS,OACT2F,cAAe,SACfD,KAAM,WAENU,eAAgB,SAChBY,QAAS,MC1CNsU,GAAWvZ,GAAoBL,KAC/BiG,GAAYC,aCpBI,SAAAvI,GACrB,MAAO,CACN7jB,QAAS,CACR4qB,eAAgB,UAEjBu/C,gBAAiB,CAChBzlD,UAAW,aACXkqB,UAAW,UAEZw7B,QAAS,CACRn/C,OAAQ,OACR1G,YAAaV,EAAMC,QAAQ,IAE5BumD,aAAc,CACb9lD,YAAa,GAEd+lD,YAAa,CACZtnE,gBAAiB6gB,EAAMwH,QAAQ+Q,KAAK,KACpChZ,MAAOS,EAAMwH,QAAQw1B,OAAOC,OAE7BypB,UAAW,CACVvnE,gBAAiB6gB,EAAMwH,QAAQw1B,OAAOC,UDqK1B0pB,GApKI,WAClB,IAAM3oD,EAAUsK,KADQ0F,EAEMC,mBAAS,IAFfC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAEjB44C,EAFiB14C,EAAA,GAER24C,EAFQ34C,EAAA,GAIlB44C,EAAmB5lD,YAAY1vB,MAC/Bu1E,EAAO7lD,YAAY/0B,KALD5B,EAMR22B,YAAYn1B,MACY,GAAhCK,EAPgB7B,EAOhB6B,OAAQC,EAPQ9B,EAOR8B,SAEhB67C,oBAAU,WACT,IACM0+B,EADaI,eACQjxE,OAC1B,SAAAkxE,GAAC,MAAmB,WAAfA,EAAE16E,UAAyB06E,EAAEtrE,OAASvP,EAAOM,QAEnDm6E,EAAWD,IACT,CAACx6E,IAEJ,IAAM86E,EAAO,SAAChqE,EAAIiqE,EAAe5kD,GAChC,IAAM6kD,EAAY,WACjB92C,eACAjI,YAAQ/wB,aAAK4F,IACTqlB,GAAkC,oBAAdA,GACvBA,KAGEwkD,GAAQI,EACX9+C,YACCu4C,YAAcwG,EAAW,KAAM,CAC9BtlD,aAAcn3B,aAAE,qBAChBk3B,YAAal3B,aAAE,mBACfqS,MAAOrS,aAAE,iCACTqoB,KAAMroB,aAAE,+BAAgC,CACvCqI,KAAM,EACJ5G,EAAOM,OAAUN,EAAOG,UAAY,IAAK2gC,cAC1C7gC,EAAStB,cAMbq8E,KAIF,OACC9oD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACR2F,cAAc,SACd1F,WAAW,UACXmG,eAAe,iBAEfzI,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,EAAGqE,WAAW,UACrBtC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAYqQ,MAAM,SAASnT,QAAQ,YAAY9I,QAAQ,SACrDh2B,aAAE,uBAGJo8E,GACAzoD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKm+C,EAAG,GACP/oD,EAAA50B,EAAA60B,cAAC+oD,GAAD,CACC79C,QAAQ,YACRvsB,GAAG,eACH23B,KAAK,QACLtV,MAAM,UACN2gB,WAAS,EACTlhB,UAAWhB,EAAQsoD,iBAElB37E,aAAE,cAAe,CACjBqI,KAAM,CACL5G,EAAOM,OAASijC,aAActjC,EAAStB,SACvCqB,EAAOG,cAMXq6E,EAAQv7E,IAAI,SAAA47E,GAAC,OACb3oD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKrrB,IAAKopE,EAAEtrE,KAAM0rE,EAAG,GACpB/oD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoL,KAAK,QACLtV,MAAM,UACN2gB,WAAS,EACTlhB,UAAWhB,EAAQsoD,gBACnB9mD,QAAS,WACR0nD,EAAK,gBAAgB,EAAM,kBAC1B7+C,YAAQk/C,YAAa,CAAE76E,MAAOu6E,EAAEtrE,KAAMpP,SAAU06E,EAAE16E,gBAInD5B,aAAE,aAAc,CAAEqI,KAAM,CAACi0E,EAAEtrE,YAI9BmrE,GACAxoD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKm+C,EAAG,GACP/oD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoL,KAAK,QACLtV,MAAM,YACN2gB,WAAS,EACTlhB,UAAWhB,EAAQsoD,gBACnB9mD,QAAS,WACR0nD,EAAK,iBAAiB,KAGtBv8E,aAAE,0BAIN2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKm+C,EAAG,GACP/oD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoL,KAAK,QACLtV,MAAM,UACN2gB,WAAS,EACTlhB,UAAWhB,EAAQsoD,gBACnB9mD,QAAS,kBAAM0nD,EAAK,gBAAgB,KAEnCv8E,aAAE,yBAIL2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKm+C,EAAG,GACP/oD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoL,KAAK,QACLtV,MAAM,UACN2gB,WAAS,EACTlhB,UAAWC,IAAWjB,EAAQyoD,YAAazoD,EAAQsoD,iBACnD9mD,QAAS,kBAAM0nD,EAAK,iCAAiC,KAErD5oD,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC5K,IAAKsB,GAAY,YACjBrB,IAAKhjC,aAAE,sBACPq0B,UAAWhB,EAAQuoD,UAEnB57E,aAAE,cAGL2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKm+C,EAAG,GACP/oD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoL,KAAK,QACLtV,MAAM,UACN2gB,WAAS,EACTlhB,UAAWhB,EAAQ0oD,UACnBlnD,QAAS,kBAAM0nD,EAAK,+BAA+B,KAEnD5oD,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC5K,IAAKsB,GAAY,UACjBrB,IAAKhjC,aAAE,oBACPq0B,UAAWC,IACVjB,EAAQuoD,QACRvoD,EAAQwoD,aACRxoD,EAAQsoD,4CEnKA,SAASkB,GAAWvmD,GA+DlC,OAAOlB,YAAWyF,GAAXzF,CA9DP,SAAAx1B,GAAuC,IAApByzB,EAAoBzzB,EAApByzB,QAAYnnB,EAAQhM,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,aACtC,OACC+zB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQ0H,MACvBpH,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACC3Y,UAAWhB,EAAQ4Z,UACnBA,WAAS,EACThX,WAAW,WAGXtC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAM3Y,UAAWhB,EAAQ7hB,QAAS/E,MAAI,EAAC+kC,GAAI,GAAIpE,GAAI,EAAGsJ,GAAI,EAAGomC,GAAI,GAChEnpD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKpI,MAAO,EAAGsG,OAAQ,EAAG7K,EAAG,GAC5B+B,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKpI,MAAO,EAAGsG,OAAQ,EAAGtB,SAAS,YAClCxH,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,CAAWx2B,EAAGA,MAAOkM,IACrBynB,EAAA50B,EAAA60B,cAACokD,GAAA,EAAD,CAAQC,MAAI,GACXtkD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKvI,QAAQ,OAAOoG,eAAe,UAClCzI,EAAA50B,EAAA60B,cAACmpD,GAAAh+E,EAAD,CAAmB61B,MAAM,UAAUiB,SAAS,eAMjDlC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAIpE,GAAI,EAAGsJ,GAAI,EAAGomC,GAAI,GACpCnpD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACR2F,cAAc,SACd1F,WAAW,UACXmG,eAAe,gBACf7B,MAAO,CAAEkC,OAAQ,SAEjB9I,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,EAAGqE,WAAW,UACrBtC,EAAA50B,EAAA60B,cAAAgO,GAAA,GAAYqQ,MAAM,SAASnT,QAAQ,MACjC9+B,aAAE,gBAGL2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAACopD,GAAe9wE,IAEjBynB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACC3M,EAAG,EACHoE,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXib,SAAS,QAETvd,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAI,GAAA/mB,OAAKpL,uCAERhH,aAAE,SAEJ2zB,EAAA50B,EAAA60B,cAAA,SAAOS,UAAWhB,EAAQkoD,YAA1B,KAAAnpE,OACOywB,GAAYtC,QADnB,+DCjEK1F,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACN2nD,aAAc,CACbn8C,UAAW,CACV2I,OAAQ,YAGVyzC,SAAU,CACTlnD,QAAS,OACTkb,SAAU,OACVlW,SAAU,EACVc,WAAYxG,EACZ4nC,WAAY,SACZigB,WAAY,CACXpnD,YAAuB,EAAVT,IAGf8nD,cAAe,CACdxoD,MAAOS,EAAMwH,QAAQxU,KAAK2Y,KAC1BpG,WAAY,QAEbylC,YAAa,CACZ5jC,OAAQ,OACR9G,OAAkB,EAAVL,GAETsH,QAAS,CACR5G,QAAS,OACT2F,cAAe,SACfD,KAAM,WACNP,SAAU,WACV6B,QAAS,EACTrH,OAAM,KAAAvjB,OAAOkjB,EAAP,OAAAljB,OAAoBkjB,EAApB,OAAAljB,OAAiCkjB,EAAjC,MACN8uB,gBAAiB,CAChBtoB,WAAYxG,GAEb4F,SAAU,WAEXmiD,cAAe,CACdrnD,QAAS,OACTgF,SAAU,EACVoF,UAAW,OACXjF,SAAU,WACVxF,OAAQL,GAQTirC,SAAU,CACT/rD,gBAAiB,4BAElB8oE,QAAS,CACRlnD,SAAU,OACVqG,OAAkB,EAAVnH,EACRuU,UAAW,OACX1T,MAAO,QAERonD,SAAU,CACTvnD,QAAS,OACT2F,cAAe,MACf1F,WAAY,SACZmG,eAAgB,UAEjBohD,SAAU,CACTpnD,SAAU,OACVyT,UAAqB,EAAVvU,EACXa,MAAO,OACPsG,OAAQ,QAETghD,YAAa,CACZ1nD,YAAaT,GAEdkmD,YAAa,CACZrgD,SAAU,WACVzH,IAAK,OACL4H,KAAM,GAEPmgD,KAAM,CACLtlD,MAAO,SACPsG,OAAQ,SC7ELkB,GAAYC,aAAW/C,IAEtB,SAAS6iD,GAAT99E,GAA6B,IAAT+C,EAAS/C,EAAT+C,MAClBsY,EAAwCtY,EAAxCsY,WAAYG,EAA4BzY,EAA5ByY,eAAgBhb,EAAYuC,EAAZvC,QAC9BizB,EAAUsK,KAEhB,OACChK,EAAA50B,EAAA60B,cAAC+N,GAAA,EAAD,CACCQ,QAAS/hC,EACT6/B,UACCtM,EAAA50B,EAAA60B,cAAA,QAAMS,UAAWhB,EAAQ6pD,UACxBvpD,EAAA50B,EAAA60B,cAAA,YACCD,EAAA50B,EAAA60B,cAAA,qBACAD,EAAA50B,EAAA60B,cAAA,kBAAU3Y,EAAV,MAEAG,EAAe1a,IAAI,SAAAJ,GAAA,IAAGuU,EAAHvU,EAAGuU,OAAQqC,EAAX5W,EAAW4W,QAAX,OACnByc,EAAA50B,EAAA60B,cAAA,YACCD,EAAA50B,EAAA60B,cAAA,gBAAQ/e,EAAR,KACA8e,EAAA50B,EAAA60B,cAAA,kBAAU1c,EAAV,4CCQDymB,GAAYC,aAAW/C,IAiLd8iD,OA/Kf,SAAsBnrD,GACrB,IAAMa,EAAUsK,KADYgiB,EAEGppB,YAAYzxB,KAFf84E,EAAAj+B,EAEpBl+C,cAFoB,IAAAm8E,EAEX,GAFWA,EAEPj7E,EAFOg9C,EAEPh9C,MACbvC,EAAYqB,EAAZrB,QAHoBijC,EAIwBC,oBAAS,GAJjCC,EAAArjC,OAAA4J,GAAA,EAAA5J,CAAAmjC,EAAA,GAIrBw6C,EAJqBt6C,EAAA,GAIDu6C,EAJCv6C,EAAA,GAAAE,EAM8BH,oBAAS,GANvCI,EAAAxjC,OAAA4J,GAAA,EAAA5J,CAAAujC,EAAA,GAMrBs6C,EANqBr6C,EAAA,GAMEs6C,EANFt6C,EAAA,GAAAu6C,EAOoB36C,oBAAS,GAP7B46C,EAAAh+E,OAAA4J,GAAA,EAAA5J,CAAA+9E,EAAA,GAOrBE,EAPqBD,EAAA,GAOHE,EAPGF,EAAA,GAQtBG,IACHjsC,OAAOksC,OAASlsC,OAAOmsC,OAASC,UAAUC,UAAUxrC,QAAQ,UAAY,EAT/CyrC,EAUwCp7C,oBACnE,GAX2Bq7C,EAAAz+E,OAAA4J,GAAA,EAAA5J,CAAAw+E,EAAA,GAUrBE,EAVqBD,EAAA,GAUOE,EAVPF,EAAA,GAc5BphC,oBAAU,YACG,eAAA39C,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,IAAA,IAAA6mE,EAAA,OAAA19D,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACiB+mE,eADjB,OACRD,EADQxmE,EAAAC,KAEdsmE,EACCC,IAAqB35D,KAAWC,SAASpU,MAH5B,wBAAAsH,EAAAO,SAAAZ,MAAH,yBAAArY,EAAAiS,MAAAkH,KAAA/Z,YAAA,EAOZggF,IACE,IAEHzhC,oBAAU,WACLsgC,IAGHzrC,OAAO6sC,QAAU,WAChB7sC,OAAO/sC,SAAS65E,SAChBpB,GAAsB,MAGtB,CAACD,IAEJ,IAAMsB,EAAa,eAAA7+E,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAC,IAAA,IAAA/V,EAAAnB,EAAAka,EAAAmJ,EAAAs7D,EAAAC,EAAAC,EAAA,OAAAl+D,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACrBomE,GAAoB,GADCtmE,EAAAC,KAAA,EAGdnW,EAAWujB,KAAWC,SAASpU,KAHjB8G,EAAAE,KAAA,EAIO8B,aAAUlY,GAJjB,cAAAnB,EAAAqX,EAAAS,KAIZoC,EAJYla,EAIZka,SACFlZ,EAAS,CACdG,SAAUA,GANSkW,EAAAE,KAAA,GASS8M,aAAU,CAAErjB,SAAQkZ,aAT7B,eASdykE,EATctnE,EAAAS,KAAAT,EAAAE,KAAA,GAUEonE,EAAej7D,aAVjB,eAUd/jB,EAVc0X,EAAAS,KAAAT,EAAAE,KAAA,GAWAuC,aAAmB,CACtCna,QAAS,CAAEA,WACXwB,WACAyX,iBAAiB,IAdE,QAWd1W,EAXcmV,EAAAS,KAiBpBmlB,YAAQ6hD,YAAe,QAAS58E,IAChCy7E,GAAoB,GAEpB1gD,YACC8hD,YAAqB,CACpBp/E,UACAwB,SAAUujB,KAAWC,SAASpU,KAC9ByuE,SAAUt6D,KAAWC,SAASq6D,YAxBZ3nE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA4BpB+V,QAAQpL,MAAM,eAAd3K,EAAAY,IACAslE,GAAyB,GACzBI,GAAoB,GACpB1gD,YACC+uC,YAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,oBAAqB,CAC7BqI,KAAM,CAACyzD,KAAO6R,UAAP71D,EAAAY,OAERsb,QAAS,OArCS,yBAAAlc,EAAAe,SAAAlB,EAAA,kBAAH,yBAAArX,EAAAuR,MAAAkH,KAAA/Z,YAAA,GA2CnB,OACC20B,EAAA50B,EAAA60B,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQqsD,QAC7B3B,EACApqD,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACCh8B,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,aAAE,8BAEjBm+E,EACHxqD,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,aAAE,gCAChB,KACJ2zB,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,aAAa9+B,aAAE,kBACnC2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,SACfjG,MAAO,GAELyoD,EAwCDjrD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC5K,IAAK48C,KACL38C,IAAK,gBACL3O,UAAWhB,EAAQmqD,YA3CrB7pD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,KACC5K,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,KACE5hC,aAAE,4BAA6B,CAC/BqI,KAAM,CACLsrB,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCtvB,IAAK,kBACLimB,KACCklD,EACG,6EACA,uBAEJtkD,OAAO,UAPR,6BAeJpG,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKm/B,GAAI,GACR/pC,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCrJ,KACCklD,EACG,6EACA,uBAEJtkD,OAAO,SACPlF,QAAS,kBAAMipD,GAAsB,KAErCnqD,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC5K,IAAK68C,KACL58C,IAAK,mBACL3O,UAAWhB,EAAQmqD,cAevBp9E,EACAuzB,EAAA50B,EAAA60B,cAAA,OAAKS,UAAWhB,EAAQwsD,eACtBl9E,EACAgxB,EAAA50B,EAAA60B,cAAAD,EAAA50B,EAAAqjC,SAAA,KACCzO,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,YAAYlK,MAAM,WACpC50B,aAAE,mCAEJ2zB,EAAA50B,EAAA60B,cAAC8pD,GAAD,CAAU/6E,MAAOA,EAAOioB,KAAMxqB,KAG/BJ,aAAE,2BAA4B,CAAEqI,KAAM,CAACjI,MAGtCw+E,EACHjrD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC7C,QAASsqD,EACTrgD,QAAQ,YACRlK,MAAM,UACN4Y,SAAU2wC,GAETn+E,aAAE,+BAED,SClMM,SAAS8/E,GAAWxpD,GAAW,IACvC4Z,EADuC,SAAA3d,GAE5C,SAAA2d,EAAY1d,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAm3B,IAClB3vB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAgwC,GAAAvvB,KAAA5H,KAAMyZ,KAiBPwb,SAAW,SACV96B,EADUtT,GAGN,IADF4uC,EACE5uC,EADF4uC,QACEQ,EAAApvC,EADO6tB,WACP,IAAAuhB,EADa,CAAE5iB,IAAK,GAAI/jB,KAAM,IAC9B2mC,EAAAC,EAAArvC,EADoC+uC,aACpC,IAAAM,KAAAC,EAAAtvC,EADmDuvC,UAEvD,GAAKX,OADD,IAAAU,KAUH3uB,EAAKiS,MAAMhhB,QAAQ+hC,sBAAsBhzB,EAAKiS,MAAMsc,YAEpDvuB,EAAKiS,MAAMhhB,QAAQ+hC,sBAAsBhzB,EAAKiS,MAAMsc,WAAY57B,OAXnD,CACb,IAAIu9D,EAAS,GACbA,EAAOv9D,GAAO,CACbi5B,OAAQ5rB,EAAKiS,MAAMxyB,EAAEytB,EAAIrB,IAAK,CAAE/jB,KAAMolB,EAAIplB,OAC1CsmC,MAAOA,GAGRpuB,EAAKiS,MAAMhhB,QAAQuuE,uBAAuBx/D,EAAKiS,MAAMsc,WAAY2hC,KA1BlElwD,EAAKlhB,MAAQ,CACZ+vC,cAAe,IAGhB7uB,EAAKytB,SAAWztB,EAAKytB,SAASpX,KAAd12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IAPEA,EAFyB,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAAgwC,EAAA3d,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAAgwC,EAAA,EAAAh9B,IAAA,4BAAAxJ,MAAA,SAYlBspB,GACzBja,KAAK2Z,SAAS,CAAE0c,cAAepc,EAAU1kB,aAAe,OAbb,CAAA4E,IAAA,qBAAAxJ,MAAA,WAiB3CqP,KAAK2Z,SAAS,CAAE0c,cAAer2B,KAAKyZ,MAAMlkB,aAAe,OAjBd,CAAA4E,IAAA,SAAAxJ,MAAA,WAwC3C,IAAM8oB,EAAQzZ,KAAKyZ,MACnB,OACCmB,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKhE,EADL,CAECwb,SAAUj1B,KAAKi1B,SACfoB,cAAer2B,KAAK1Z,MAAM+vC,qBA7Cec,EAAA,CAClBjb,aAqE3B,OAAO5R,YAdP,SAAyBhkB,EAAOmzB,GAG/B,MAAO,CACNlkB,YAFYjP,EAAM0F,OAEEuJ,YAAYkkB,EAAMsc,cAIxC,SAA4B5Z,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGLgT,EAAU6Z,ICvEE,SAAS8vC,GAAQ1pD,GAAW,IACpC2pD,EADoC,SAAA1tD,GAEzC,SAAA0tD,EAAYztD,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAknE,IAClB1/D,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA+/E,GAAAt/D,KAAA5H,KAAMyZ,KAOP0tD,aAAe,SAAAtgF,GAQT,IAPLQ,EAOKR,EAPLQ,QAQMqB,EAAS,CACdrB,UACAwB,SAHIhC,EANLgC,SAUCu+E,iBAJIvgF,EALLugF,iBAUCC,gBALIxgF,EAJLwgF,gBAUCrlE,KANInb,EAHLmb,KAUCslE,QAPIzgF,EAFLygF,QAUCZ,SARI7/E,EADL6/E,UAYAl/D,EAAKiS,MAAMgL,aAAa,wBAAyBp9B,GACjDmgB,EAAKiS,MAAMgL,aAAa,SAAU/7B,IA1BlC8e,EAAKlhB,MAAQ,CACZwqB,OAAQ,GACRy2D,YAAY,GAJK//D,EAFsB,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAA+/E,EAAA1tD,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAA+/E,EAAA,EAAA/sE,IAAA,SAAAxJ,MAAA,WAkCxC,OACCiqB,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKzd,KAAKyZ,MADV,CAGC0tD,aAAcnnE,KAAKmnE,oBAtCmBD,EAAA,CACvBhrD,aA6DnB,OAAO5R,YAdP,SAAyBhkB,GAGxB,MAAO,CACNgC,QAHahC,EAAME,QAGF8B,UAInB,SAA4B6zB,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGLgT,EAAU6Z,GClEE,SAAqB5Z,GAAW,IACxCiqD,EADwC,SAAAhuD,GAE7C,SAAAguD,EAAY/tD,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAwnE,IAClBhgE,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAqgF,GAAA5/D,KAAA5H,KAAMyZ,KASPgL,aAAe,SAAC+W,EAAM7qC,GACrB6W,EAAKiS,MAAMhhB,QAAQ+tE,eAAehrC,EAAM7qC,IAXtB6W,EAqBnB+vB,KArBmBpwC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAqBZ,SAAAO,IAAA,OAAAmJ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OACN0lB,YAAQ8iD,eADF,wBAAAloE,EAAAO,SAAAZ,MArBYsI,EAyBnB2R,OAAS,YAERuuD,EAD0BlgE,EAAKiS,MAAMhhB,QAA7BivE,iBAER/iD,YAAQ/wB,aAAK,OAzBb4T,EAAK+vB,KAAO/vB,EAAK+vB,KAAK1Z,KAAV12B,OAAA22B,EAAA,EAAA32B,CAAAqgB,IAEZA,EAAKlhB,MAAQ,CACZqhF,OAAO,GANUngE,EAF0B,OAAArgB,OAAA4yB,EAAA,EAAA5yB,CAAAqgF,EAAAhuD,GAAAryB,OAAA6yB,EAAA,EAAA7yB,CAAAqgF,EAAA,EAAArtE,IAAA,SAAAxJ,MAAA,WAiCpC,IAAAstB,EACgDje,KAAKyZ,MAArD9wB,EADAs1B,EACAt1B,SAAU0uC,EADVpZ,EACUoZ,QAASuwC,EADnB3pD,EACmB2pD,gBAAoBz0E,EADvChM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,0CAGR,OACCrD,EAAA50B,EAAA60B,cAAC0C,EAADp2B,OAAAs2B,OAAA,GACKtqB,EADL,CAECxK,SAAUA,EACV4uC,KAAMv3B,KAAKu3B,KACX9S,aAAczkB,KAAKykB,aACnBtL,OAAQnZ,KAAKmZ,OACb0uD,QAASxwC,EACTuwC,gBAAiBA,SA5CyBJ,EAAA,CACnBtrD,aAuE3B,OAAO5R,YAhBP,SAAyBhkB,EAAOmzB,GAAO,IAC9BjzB,EAAoBF,EAApBE,QAASwF,EAAW1F,EAAX0F,OACjB,MAAO,CACN1D,QAAS9B,EAAQ8B,QACjBK,SAAUqD,EAAOrD,SACjB0uC,QAASrrC,EAAOqB,SAASy6E,MACzBC,cAAe/7E,EAAOqB,SAAS26E,QAIjC,SAA4B7rD,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIhC7R,CAGLk9D,GDTuBS,CAAYf,UE/ChCgB,eACL,SAAAA,EAAYzuD,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAkoE,IAClB1gE,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA+gF,GAAAtgE,KAAA5H,KAAMyZ,KAYP0uD,cAbmBhhF,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAaH,SAAAqC,IAAA,OAAAqH,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OACfuI,EAAKmS,SAAS,CAAEyuD,qBAAqB,GAArCjhF,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAA6C,SAAAC,IAAA,IAAAlX,EAAAka,EAAAlZ,EAAA2/E,EAAAC,EAAAC,EAAA,OAAAlgE,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEhB8B,aAAUqL,KAAWI,OAAOvU,MAFZ,cAAAvQ,EAAAqX,EAAAS,KAEnCoC,EAFmCla,EAEnCka,SAEFlZ,EAAS,CACdG,SAAUujB,KAAWI,OAAOvU,MALc8G,EAAAE,KAAA,EAQhB8M,aAAU,CAAEnK,WAAUlZ,WARN,cAQrC2/E,EARqCtpE,EAAAS,KAAAT,EAAAE,KAAA,GAUnBopE,EAAalgE,aAAa,CAAEJ,KAAM,EAAGvO,GAAI,KAVtB,QAUrC8uE,EAVqCvpE,EAAAS,KAYrC+oE,EAAmBD,EAAU7/D,QAAQ9gB,IAAI,SAAAN,GAAO,OACrDma,aAAmB,CAAEna,UAASwB,SAAUujB,KAAWI,OAAOvU,SAG3DuP,EAAKmS,SAAS,CAAEyrD,kBAAkB,GAAlCj+E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAA0C,SAAAO,IAAA,IAAAwR,EAAA,OAAArI,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACnBgB,QAAQjZ,IAAIuhF,GADO,OACnC73D,EADmCnR,EAAAC,KAGzCsV,QAAQigD,IAAI,SAAUrkD,GACtBlJ,EAAKmS,SAAS,CACb6uD,OAAQH,EAAarmE,KACrBsmE,UAAW53D,EACX00D,kBAAkB,EAClBgD,qBAAqB,IARmB,wBAAA7oE,EAAAO,SAAAZ,OAhBCH,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA4B3C+V,QAAQpL,MAAM,eAAd3K,EAAAY,IACA6H,EAAKmS,SAAS,CAAEyuD,qBAAqB,EAAOhD,kBAAkB,IAC9D59D,EAAKiS,MAAMhhB,QAAQi7D,SAAS,CAC3BvjE,KAAM,SACNyL,MAAO4L,EAAKiS,MAAMxyB,EAAE,kBAAmB,CACtCqI,KAAM,CAACyzD,KAAO6R,UAAP71D,EAAAY,OAERsb,QAAS,MAnCiC,yBAAAlc,EAAAe,SAAAlB,EAAA,mBAD9B,wBAAAuC,EAAArB,SAAAkB,MAbGwG,EAuDnBihE,cAAgB,SAAAxgF,GAA6D,IAA1DqgF,EAA0DrgF,EAA1DqgF,UAAWF,EAA+CngF,EAA/CmgF,oBAAqBnhF,EAA0BgB,EAA1BhB,EAAGqzB,EAAuBryB,EAAvBqyB,QAAuBnzB,OAAAiM,GAAA,EAAAjM,CAAAc,EAAA,mDAC5E,OACC2yB,EAAA50B,EAAA60B,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQqsD,QAC9B/rD,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACEwxB,EACAxtD,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,EAAE,2BAEnBA,EAAE,uBAGJ2zB,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAAC2N,GAAA,EAAD,KACE8/C,EAAU3gF,IAAI,SAAC8b,EAAKrH,GAAN,OACdwe,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,CACCrM,QAAS,CAAE0H,KAAM1H,EAAQ4pD,cACzB/pE,IAAKsJ,EAAIpc,QACTy0B,QAAS,kBAAMtU,EAAKkhE,aAAajlE,EAAKrH,IACtCgpB,SAAU5d,EAAKlhB,MAAMqiF,kBAAoBllE,EAAIpc,SAE7CuzB,EAAA50B,EAAA60B,cAAC8pD,GAAD,CAAU/6E,MAAO6Z,EAAKxc,EAAGA,EAAGI,QAASoc,EAAIpc,iBA1E7BmgB,EAmFnBkhE,aAAe,SAACE,EAAUvB,GAAoB,IACrChgF,EAAkBuhF,EAAlBvhF,QAAS2a,EAAS4mE,EAAT5mE,KACjBwF,EAAKiS,MAAM0tD,aAAa,CACvB9/E,UACAwB,SAAUujB,KAAWI,OAAOvU,KAC5B+J,OACAolE,iBAAkB5/D,EAAKlhB,MAAMkiF,OAC7BnB,kBACAX,SAAUt6D,KAAWI,OAAOk6D,WAG7Bl/D,EAAKmS,SAAS,CAAEgvD,gBAAiBthF,KA5FjCmgB,EAAKlhB,MAAQ,CACZwqB,OAAQ,GACRy2D,YAAY,EACZe,UAAW,GACXF,qBAAqB,EACrBhD,kBAAkB,EAClBuD,gBAAiB,KACjBH,OAAQ,IATShhE,wEAiGV,IAAAyW,EACaje,KAAKyZ,MAApBxyB,EADEg3B,EACFh3B,EAAGqzB,EADD2D,EACC3D,QAET,OACCM,EAAA50B,EAAA60B,cAAA,WACE7a,KAAK1Z,MAAMgiF,UAAUpiF,OACrB00B,EAAA50B,EAAA60B,cAAA7a,KAAMyoE,cAAN,CACCL,oBAAqBpoE,KAAK1Z,MAAM8hF,oBAChCE,UAAWtoE,KAAK1Z,MAAMgiF,UACtBrhF,EAAGA,EACHqzB,QAASA,IAGVM,EAAA50B,EAAA60B,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQqsD,QAC7B3mE,KAAK1Z,MAAM8+E,iBACXxqD,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACCh8B,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,EAAE,gCAEjB+Y,KAAK1Z,MAAM8hF,oBACdxtD,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACCh8B,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,EAAE,4BAEjB,KAEJ2zB,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,SACfjG,MAAO,GAEPxC,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,YAAY+C,cAAY,GAC1C7hC,EAAE,gBAGJ2zB,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAYC,cAAY,GACtB7hC,EAAE,0BAA2B,CAC7BqI,KAAM,CACLsrB,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCtvB,IAAI,gBACJimB,KAAK,qBACLY,OAAO,UAHR,iBAOApG,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCtvB,IAAI,gBACJimB,KAAK,oCACLY,OAAO,UAHR,oBAVH,KAqBApG,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAKk/B,GAAI,GACR9pC,EAAA50B,EAAA60B,cAAC4O,GAAD,CAAQrJ,KAAK,oBAAoBY,OAAO,UACvCpG,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC5K,IAAK6+C,KACL5+C,IAAK,oBACL3O,UAAWhB,EAAQmqD,cAIpBzkE,KAAK1Z,MAAM8+E,mBACXplE,KAAK1Z,MAAM8hF,qBACXxtD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC7C,QAAS9b,KAAKmoE,cACdpiD,QAAQ,YACRlK,MAAM,WAEL50B,EAAE,mCA3KWi1B,aA8LVoB,KAAU2pD,GAAQ5qD,YAAWyF,GAAXzF,CAAmB6rD,MC/L9CY,eACL,SAAAA,EAAYrvD,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA8oE,IAClBthE,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA2hF,GAAAlhE,KAAA5H,KAAMyZ,KAYPsvD,cAbmB5hF,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAaH,SAAAqC,IAAA,OAAAqH,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OACfuI,EAAKmS,SAAS,CAAEqvD,qBAAqB,GAArC7hF,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAA6C,SAAAC,IAAA,IAAAlX,EAAAka,EAAAlZ,EAAAugF,EAAAX,EAAAC,EAAA,OAAAlgE,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEhB8B,aAAUqL,KAAWE,OAAOrU,MAFZ,cAAAvQ,EAAAqX,EAAAS,KAEnCoC,EAFmCla,EAEnCka,SAEFlZ,EAAS,CACdG,SAAUujB,KAAWE,OAAOrU,MALc8G,EAAAE,KAAA,EAQhB8M,aAAU,CAAErjB,SAAQkZ,aARJ,cAQrCqnE,EARqClqE,EAAAS,KAAAT,EAAAE,KAAA,GASnBgqE,EAAa9gE,aAAa,CAAEJ,KAAM,EAAGvO,GAAI,KATtB,QASrC8uE,EATqCvpE,EAAAS,KAWrC+oE,EAAmBD,EAAU3gF,IAAI,SAAAN,GAAO,OAC7Cma,aAAmB,CAAEna,UAASwB,SAAUujB,KAAWE,OAAOrU,SAG3DuP,EAAKmS,SAAS,CAAEyrD,kBAAkB,GAAlCj+E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAA0C,SAAAO,IAAA,IAAAwR,EAAA,OAAArI,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACnBgB,QAAQjZ,IAAIuhF,GADO,OACnC73D,EADmCnR,EAAAC,KAGzCgI,EAAKmS,SAAS,CACb6uD,OAAQS,EAAajnE,KACrBsmE,UAAW53D,EACX00D,kBAAkB,EAClB4D,qBAAqB,IAPmB,wBAAAzpE,EAAAO,SAAAZ,OAfCH,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA0B3C+V,QAAQpL,MAAM,eAAd3K,EAAAY,IACA6H,EAAKmS,SAAS,CAAEqvD,qBAAqB,EAAO5D,kBAAkB,IAC9D59D,EAAKiS,MAAMhhB,QAAQi7D,SAAS,CAC3BvjE,KAAM,SACNyL,MAAO4L,EAAKiS,MAAMxyB,EAAE,kBAAmB,CACtCqI,KAAM,CAACyzD,KAAO6R,UAAP71D,EAAAY,OAERsb,QAAS,MAjCiC,yBAAAlc,EAAAe,SAAAlB,EAAA,mBAD9B,wBAAAuC,EAAArB,SAAAkB,MAbGwG,EAqDnBihE,cAAgB,SAAAxgF,GAA6D,IAA1DqgF,EAA0DrgF,EAA1DqgF,UAAWU,EAA+C/gF,EAA/C+gF,oBAAqB/hF,EAA0BgB,EAA1BhB,EAAGqzB,EAAuBryB,EAAvBqyB,QAAuBnzB,OAAAiM,GAAA,EAAAjM,CAAAc,EAAA,mDAC5E,OACC2yB,EAAA50B,EAAA60B,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQqsD,QAC9B/rD,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACEoyB,EACApuD,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,EAAE,2BAEnBA,EAAE,uBAGJ2zB,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAAC2N,GAAA,EAAD,KACE8/C,EAAU3gF,IAAI,SAAC8b,EAAKrH,GAAN,OACdwe,EAAA50B,EAAA60B,cAAC8L,GAAA,EAAD,CACCrM,QAAS,CAAE0H,KAAM1H,EAAQ4pD,cACzB/pE,IAAKsJ,EAAIpc,QACTy0B,QAAS,kBAAMtU,EAAKkhE,aAAajlE,EAAKrH,IACtCgpB,SAAU5d,EAAKlhB,MAAMqiF,kBAAoBllE,EAAIpc,SAE7CuzB,EAAA50B,EAAA60B,cAAC8pD,GAAD,CAAU/6E,MAAO6Z,EAAKxc,EAAGA,WAxEbugB,EAiFnBkhE,aAAe,SAACE,EAAUvB,GAAoB,IACrChgF,EAAkBuhF,EAAlBvhF,QAAS2a,EAAS4mE,EAAT5mE,KAEjBwF,EAAKiS,MAAM0tD,aAAa,CACvB9/E,UACAwB,SAAUujB,KAAWE,OAAOrU,KAC5B+J,OACAolE,iBAAkB5/D,EAAKlhB,MAAMkiF,OAC7BnB,kBACAX,SAAUt6D,KAAWE,OAAOo6D,WAG7Bl/D,EAAKmS,SAAS,CAAEgvD,gBAAiBthF,KA3FjCmgB,EAAKlhB,MAAQ,CACZwqB,OAAQ,GACRy2D,YAAY,EACZe,UAAW,GACXU,qBAAqB,EACrB5D,kBAAkB,EAClBuD,gBAAiB,KACjBH,OAAQ,IATShhE,wEAgGV,IAAAyW,EACaje,KAAKyZ,MAApBxyB,EADEg3B,EACFh3B,EAAGqzB,EADD2D,EACC3D,QAET,OACCM,EAAA50B,EAAA60B,cAAA,WACE7a,KAAK1Z,MAAMgiF,UAAUpiF,OACrB00B,EAAA50B,EAAA60B,cAAA7a,KAAMyoE,cAAN,CACCO,oBAAqBhpE,KAAK1Z,MAAM0iF,oBAChCV,UAAWtoE,KAAK1Z,MAAMgiF,UACtBrhF,EAAGA,EACHqzB,QAASA,IAGVM,EAAA50B,EAAA60B,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQqsD,QAC7B3mE,KAAK1Z,MAAM8+E,iBACXxqD,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACCh8B,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,EAAE,gCAEjB+Y,KAAK1Z,MAAM0iF,oBACdpuD,EAAA50B,EAAA60B,cAAC+7B,GAAD,KACCh8B,EAAA50B,EAAA60B,cAACg8B,GAAD,CAAYxjC,IAAKpsB,EAAE,4BAEjB,KAEJ2zB,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,aAAa9+B,EAAE,gBACnC2zB,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,KACE5hC,EAAE,0BAA2B,CAC7BqI,KAAM,CACLsrB,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCtvB,IAAI,cACJimB,KAAK,gCACLY,OAAO,UAHR,cAUHpG,EAAA50B,EAAA60B,cAAC4O,GAAD,CAAQrJ,KAAK,gCAAgCY,OAAO,UACnDpG,EAAA50B,EAAA60B,cAAC+Z,GAAD,CACC5K,IAAKk/C,KACLj/C,IAAK,gCACL3O,UAAWhB,EAAQmqD,aAInBzkE,KAAK1Z,MAAM8+E,mBAAqBplE,KAAK1Z,MAAM0iF,qBAC5CpuD,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC7C,QAAS9b,KAAK+oE,cACdhjD,QAAQ,YACRlK,MAAM,WAEL50B,EAAE,kCAtJai1B,aAwKVoB,KAAU2pD,GAAQ5qD,YAAWyF,GAAXzF,CAAmBysD,MCzL9ClkD,GAAYC,aAAW,SAAAvI,GAG5B,MAAO,CACNgoD,cAAe,CACdrnD,QAAS,OACTgF,SAAU,EACVoF,UAAW,OACXjF,SAAU,WACVxF,OARcN,EAAMC,QAAQ,OA6BhB4sD,OAhBf,WACC,IAAM7uD,EAAUsK,KAEV9T,EADQ0M,YAAYjxB,MACN,SAEpB,OACCquB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,EAAGuwB,UAAU,MAAM3Y,aAAa,cACxDvZ,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,GAAInd,UAAWhB,EAAQgqD,eACzB,aAAXxzD,GAAyB8J,EAAA50B,EAAA60B,cAACuuD,GAAD,MACd,WAAXt4D,GAAuB8J,EAAA50B,EAAA60B,cAACwuD,GAAD,MACZ,WAAXv4D,GAAuB8J,EAAA50B,EAAA60B,cAACyuD,GAAD,SCkLbC,GApLG,SAAA9vD,GAAS,IAClBsc,EAAetc,EAAfsc,WACFptC,EAAW60B,YAAYzxB,KAEvBwJ,EAAcioB,YACnB,SAAAl3B,GAAK,OAAIkP,aAAsBlP,EAAOyvC,IAAe,KAEhDsB,EAAU7Z,YAAY,SAAAl3B,GAAK,OAAIsH,aAAkBtH,EAAOyvC,KACxDyzC,EAAiBhsD,YAAY,SAAAl3B,GAAK,OACvCsH,aAAkBtH,EAAOwhF,QAEpB2B,EAAa,CAClB,CAAE3/D,QAAS,2BACX0/D,EAAiB,CAAE1/D,QAAS,iCAAoC,IAKhE9gB,EAMGuM,EANHvM,MACA0gF,EAKGn0E,EALHm0E,WACA7+D,EAIGtV,EAJHsV,SACA8+D,EAGGp0E,EAHHo0E,cACAC,EAEGr0E,EAFHq0E,SACAC,EACGt0E,EADHs0E,mBAED,OACCjvD,EAAA50B,EAAA60B,cAAC67B,GAAD,KACErf,GAAWmyC,EACX5uD,EAAA50B,EAAA60B,cAACm8B,GAAD,CACCE,KAAMuyB,EACNpyC,SAAS,IAGVzc,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,QACLtH,MAAOhI,EAASK,OAAS,GACzB48B,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,QAAS9hD,EAAG1D,OAAOrwB,SAE3C+Y,MAAO1gB,KAAWA,EAAM4sC,MACxBgH,UAAW,IACXkS,WACC9lD,GAAWA,EAAM4sC,MAAQ5sC,EAAMoqC,OAASnsC,aAAE,wBAI7C2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,aAAc,CAAEmI,QAAQ,IACjC6I,KAAK,aACLtH,MAAOhI,EAAS+gF,YAAc,GAC9B9jD,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,aAAc9hD,EAAG1D,OAAOrwB,SAEhD+Y,MAAOggE,KAAgBA,EAAW9zC,MAClCgH,UAAW,IACXkS,WACC46B,GAAgBA,EAAW9zC,MACxB8zC,EAAWt2C,OACXnsC,aAAE,uBAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,WACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,WAAY,CAAEmI,QAAQ,IAC/B6I,KAAK,WACLtH,MAAOhI,EAASkiB,UAAY,GAC5B+a,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,WAAY9hD,EAAG1D,OAAOrwB,SAE9C+Y,MAAOmB,KAAcA,EAAS+qB,MAC9BgH,UAAW,IACXkS,WACCjkC,GAAcA,EAAS+qB,MACpB/qB,EAASuoB,OACTnsC,aAAE,qBAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,WACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,gBAAiB,CAAEmI,QAAQ,IACpC6I,KAAK,gBACLtH,MAAOhI,EAASghF,eAAiB,GACjC/jD,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,gBAAiB9hD,EAAG1D,OAAOrwB,SAEnD+Y,MAAOigE,KAAmBA,EAAc/zC,MACxCgH,UAAW,IACXkS,WACC66B,GAAmBA,EAAc/zC,MAC9B+zC,EAAcv2C,OACdnsC,aAAE,2BAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACC/G,UAAQ,EACR9rB,MAAOmgE,GAAsBA,EAAmBj0C,MAChDnN,UAAU,YAEV7N,EAAA50B,EAAA60B,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAA50B,EAAA60B,cAAC22B,GAAA,EAAD,CACCP,UAAWtoD,EAASkhF,mBACpBjkD,SAAU,SAAAlB,GAAE,OACXC,YACC6hD,YACC,qBACA9hD,EAAG1D,OAAOiwB,WAIbtgD,MAAM,qBACNkrB,MAAM,YAGRjgB,MAAO3U,aAAE,gCAET4iF,KAAwBA,EAAmBj0C,OAC3Chb,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KAAiB2sC,EAAmBz2C,UAIvCxY,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACC/G,UAAQ,EACR9rB,MAAOkgE,GAAYA,EAASh0C,MAC5BnN,UAAU,YAEV7N,EAAA50B,EAAA60B,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAA50B,EAAA60B,cAAC22B,GAAA,EAAD,CACCP,UAAWtoD,EAASihF,SACpBhkD,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,WAAY9hD,EAAG1D,OAAOiwB,WAE9CtgD,MAAM,WACNkrB,MAAM,YAGRjgB,MACCgf,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAA/mB,OAAKpL,iCAERhH,aAAE,gBAIL2iF,KAAcA,EAASh0C,OACvBhb,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KAAiB0sC,EAASx2C,cClCpB02C,GAzIC,SAAArwD,GAAS,IAChBsc,EAAetc,EAAfsc,WACFptC,EAAW60B,YAAYzxB,KAFLg+E,EAGAphF,EAAhBD,cAHgB,IAAAqhF,EAGP,GAHOA,EAIlBx0E,EAAcioB,YACnB,SAAAl3B,GAAK,OAAIkP,aAAsBlP,EAAOyvC,IAAe,KAGhDyzC,EAAiBhsD,YAAY,SAAAl3B,GAAK,OACvCsH,aAAkBtH,EAAOwhF,QAGpB/jE,GAAiBpb,EAASD,QAAU,IAAIrB,SAAWsB,EAASqhF,WAE5DP,EAAaQ,KAAoBvhF,EAAOG,UAAY,WAElDG,EAAoDuM,EAApDvM,MAAO0gF,EAA6Cn0E,EAA7Cm0E,WAAYE,EAAiCr0E,EAAjCq0E,SAAUC,EAAuBt0E,EAAvBs0E,mBACrC,OACCjvD,EAAA50B,EAAA60B,cAAC67B,GAAD,KACE8yB,EACA5uD,EAAA50B,EAAA60B,cAACm8B,GAAD,CACCE,KAAMuyB,EACNpyC,SAAS,IAGVzc,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACb10B,GAEF6W,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,QACLtH,MAAOhI,EAASK,OAAS,GACzB48B,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,QAAS9hD,EAAG1D,OAAOrwB,SAE3C+Y,MAAO1gB,KAAWA,EAAM4sC,MACxBgH,UAAW,IACXkS,WACC9lD,GAAWA,EAAM4sC,MAAQ5sC,EAAMoqC,OAASnsC,aAAE,wBAI7C2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,aAAc,CAAEmI,QAAQ,IACjC6I,KAAK,aACLtH,MAAOhI,EAAS+gF,YAAc,GAC9B9jD,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,aAAc9hD,EAAG1D,OAAOrwB,SAEhD+Y,MAAOggE,KAAgBA,EAAW9zC,MAClCgH,UAAW,IACXkS,WACC46B,GAAgBA,EAAW9zC,MACxB8zC,EAAWt2C,OACXnsC,aAAE,uBAIR2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACC/G,UAAQ,EACR9rB,MAAOmgE,GAAsBA,EAAmBj0C,MAChDnN,UAAU,YAEV7N,EAAA50B,EAAA60B,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAA50B,EAAA60B,cAAC22B,GAAA,EAAD,CACCP,UAAWtoD,EAASkhF,mBACpBjkD,SAAU,SAAAlB,GAAE,OACXC,YACC6hD,YACC,qBACA9hD,EAAG1D,OAAOiwB,WAIbtgD,MAAM,qBACNkrB,MAAM,YAGRjgB,MAAO3U,aAAE,4BAA6B,CACrCqI,KAAM,CAAC5G,EAAOG,cAGfghF,KAAwBA,EAAmBj0C,OAC3Chb,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KAAiB2sC,EAAmBz2C,UAIvCxY,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC0hB,GAAA,EAAD,CACC/G,UAAQ,EACR9rB,MAAOkgE,GAAYA,EAASh0C,MAC5BnN,UAAU,YAEV7N,EAAA50B,EAAA60B,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAA50B,EAAA60B,cAAC22B,GAAA,EAAD,CACCP,UAAWtoD,EAASihF,SACpBhkD,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,WAAY9hD,EAAG1D,OAAOiwB,WAE9CtgD,MAAM,WACNkrB,MAAM,YAGRjgB,MACCgf,EAAA50B,EAAA60B,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAA/mB,OAAKpL,iCAERhH,aAAE,gBAIL2iF,KAAcA,EAASh0C,OACvBhb,EAAA50B,EAAA60B,cAACqiB,GAAA,EAAD,KAAiB0sC,EAASx2C,cCtCpB82C,GAlGI,SAAAzwD,GAAS,IACnBsc,EAAetc,EAAfsc,WAEFptC,EAAW60B,YAAYzxB,KAEvBsrC,EAAU7Z,YAAY,SAAAl3B,GAAK,OAChCsH,aAAkBtH,EAAOwhF,QAWlBp/E,EAJY80B,YACnB,SAAAl3B,GAAK,OAAIkP,aAAsBlP,EAAOyvC,IAAe,KAG9CrtC,OAER,OACCkyB,EAAA50B,EAAA60B,cAAC67B,GAAD,KACErf,EACAzc,EAAA50B,EAAA60B,cAACm8B,GAAD,CACCE,KAfe,CAClB,CAAEptC,QAAS,2BACX,CAAEA,QAAS,kCAcRutB,SAAS,IAGVzc,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACCC,WAAS,EACT3X,QAAS,EAET4X,aAAa,gBACbjX,WAAW,UAEXtC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,QAAQlK,MAAM,UAAUiN,cAAY,GACtD7hC,aAAE,mBAAoB,CAAEqI,KAAM,CAAC3G,EAASK,WAI3C4xB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC5c,WAAY9rC,EAASE,SACrB2zC,WAAS,EACTrsC,KAAK,OACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,QACLtH,MAAOhI,EAASK,OAAS,GACzB48B,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,QAAS9hD,EAAG1D,OAAOrwB,YAK7CiqB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACw2B,GAAA,EAAD,CACC7U,WAAS,EACTrsC,KAAK,WACLqlC,UAAQ,EACR55B,MAAO3U,aAAE,WAAY,CAAEmI,QAAQ,IAC/B6I,KAAK,WACLtH,MAAOhI,EAASkiB,UAAY,GAC5B+a,SAAU,SAAAlB,GAAE,OACXC,YAAQ6hD,YAAe,WAAY9hD,EAAG1D,OAAOrwB,YAI/CjI,KAAYA,EAAOktC,OACnBhb,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,QAAQlK,MAAM,QAAQiN,cAAY,GACpDpgC,EAAO0qC,SAIXxY,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,MACX9vC,EAASqhF,YACXpvD,EAAA50B,EAAA60B,cAAA,WACCD,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,QAAQ+C,cAAY,GACtC7hC,aAAE,yBAA0B,CAC5BqI,KAAM,CAAC3G,EAAS6E,yBC3EvB28E,GAA2B,kBAAAlkF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAmB,IACnC0B,IAAI,SAAAkG,GACnB,MAAO,CACN8C,MAAO9C,EAAGlF,SAAW,IAAMkF,EAAGioE,UAC9Bl6D,MAAO/N,EAAGqmB,IACPjtB,aAAE,2BAA4B,CAC9BqI,KAAM,SAAA+J,OAASxL,EAAGioE,UAAZ,UAA+BjoE,EAAGqmB,IAAKrmB,EAAGlF,YAEhD1B,aAAE,uBAAwB,CAC1BqI,KAAM,SAAA+J,OAASxL,EAAGioE,UAAZ,UAA+BjoE,EAAGlF,gBAgG/ByhF,OA3Ff,SAAmB3wD,GAClB,IAAM9wB,EAAW60B,YAAYzxB,KAE5Bi+E,EAIGrhF,EAJHqhF,WAHwBD,EAOrBphF,EAHHD,cAJwB,IAAAqhF,EAIf,GAJeA,EAKxBM,EAEG1hF,EAFH0hF,gBACAC,EACG3hF,EADH2hF,wBAEKvmE,EAAgBrb,EAAOrB,SAAW2iF,EAClC3yC,EAAU7Z,YAAY,SAAAl3B,GAAK,OAChCsH,aAAkBtH,EAAOikF,QAEpBf,EAAiBhsD,YAAY,SAAAl3B,GAAK,OACvCsH,aAAkBtH,EAAOwhF,QAGpB2B,EAAaQ,KAAoBvhF,EAAOG,UAAY,WAEpD2hF,EAAehtD,YAAY9wB,MACjC89E,EAAaC,IAAI,OAAQ,KAEzB,IAAMj+E,EAASg+E,EAAapoE,WAEtBghE,EAAmB5lD,YAAY1vB,MAUrC,OARA02C,oBAAU,WACT7f,YACC+lD,YAAsB,CAAEC,MAAO5mE,EAAelb,SAAUH,EAAOG,aAI9D,IAGF+xB,EAAA50B,EAAA60B,cAAC67B,GAAD,KACE8yB,EACA5uD,EAAA50B,EAAA60B,cAACm8B,GAAD,CACCE,KAAMuyB,EACNpyC,SAAS,IAGVzc,EAAA50B,EAAA60B,cAAC87B,GAAD,KACC/7B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CACCC,WAAS,EACT3X,QAAS,EAET4X,aAAa,gBACbjX,WAAW,UAEXtC,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMC,WAAS,EAAC3X,QAAS,GACxB3B,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,QAAQlK,MAAM,UAAUiN,cAAY,GACtD7hC,aAAE,qBAGL2zB,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC62B,GAAD,CACC91C,MAAO3U,aAAE,mBACT6nD,WAAY7nD,aAAE,wBACd2+B,SAAU,SAAA52B,GAAG,OACZ21B,YAAQ6hD,YAAe,0BAA2Bx3E,KAEnDqN,OAAQ8tE,GAAyBE,GACjC15E,MAAO25E,GAA2B,GAClC37B,OAAO,gCACPnS,WAAS,EACTlW,UAAW+Q,EACX2X,WAAY/nD,aAAE,yBAA0B,CACvCqI,KAAM,CAACyU,QAITq/D,GACAxoD,EAAA50B,EAAA60B,cAACoZ,GAAA,EAAD,CAAMvgC,MAAI,EAAC+kC,GAAI,IACd7d,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC7C,QAAS,kBAAM6I,YAAQ/wB,aAAI,gBAAAyF,OAAiB7M,OAE3CvF,aAAE,oCC3GR2jF,eACL,SAAAA,EAAYnxD,GAAO,IAAAjS,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA4qE,IAClBpjE,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAyjF,GAAAhjE,KAAA5H,KAAMyZ,KASPoxD,SAAW,WAAM,IAAA5sD,EAWZzW,EAAKiS,MATRqxD,EAFe7sD,EAEf6sD,MACAzgC,EAHepsB,EAGfosB,eACApjD,EAJeg3B,EAIfh3B,EACAwjD,EALexsB,EAKfwsB,OACArB,EANenrB,EAMfmrB,QANe2hC,EAAA9sD,EAOfysB,kBAPe,IAAAqgC,EAOF,GAPEA,EASfngC,GATe3sB,EAQf0sB,iBARe1sB,EASf2sB,gBACGz3C,EAVYhM,OAAAiM,GAAA,EAAAjM,CAAA82B,EAAA,oGAaV8X,GAAc6U,GAAkB,IAAM,IAAMxB,EAiBlD,OAfcsB,EAAW/iD,IAAI,SAAC4gD,EAAMnsC,GACnC,MAAO,CACN9C,MAAOrS,EAAEshD,EAAKjvC,OACd+wC,iBACA5hB,UAAW0O,GAAaoR,EAAKA,MAC7B4B,mBAAoB5B,EAAK4B,mBACzB1wB,MAAMtyB,OAAAC,GAAA,EAAAD,CAAA,GAAMqgB,EAAKiS,MAAZ,CAAmBsc,WAAYA,EAAa,IAAM35B,IACvD8sC,eAAgBX,EAAKW,eACrB4B,oBAAqBvC,EAAKuC,oBAC1BR,YAAa/B,EAAKyiC,MACf,kBAAMpwD,EAAA50B,EAAA60B,cAACiwD,EAAD3jF,OAAAs2B,OAAA,GAAWtqB,EAAX,CAAiBi2C,QAASA,EAASqB,OAAQA,EAAQxjD,EAAGA,WAC5Dd,MAjCLqhB,EAAKlhB,MAAQ,CACZyhD,MAAOvgC,EAAKqjE,YAJKrjE,wEA2CV,IACAmhC,EAAgB3oC,KAAKyZ,MAArBkvB,YACR,OACC/tB,EAAA50B,EAAA60B,cAACkwB,GAAD,CAAiBpC,YAAaA,EAAaZ,MAAO/nC,KAAK1Z,MAAMyhD,eA/CpC7rB,aAsEb5R,mBAdf,SAAyBhkB,GAGxB,MAAO,CACNqiD,YAAap8C,aAAoBjG,GAApB,MAAsC,IAIrD,SAA4B61B,GAC3B,MAAO,CACN1jB,QAAS2jB,YAAmB3jB,IAAS0jB,KAIxB7R,CAGbgT,EAAUjB,YCrFU,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACN4lD,gBAAiB,CAChB76C,UAAW,SACXD,UAAW,OACXhF,UAAW,QACX+/C,iBAAkB,YAClB1F,eAAgB,QAChB2F,mBAAoB,SACpBjgD,SAAU,YAEX8R,UAAW,CACV9R,SAAU,WACVG,KAAM,EACN5H,IAAK,EACL6H,MAAO,EACP4E,OAAQ,GAETo7C,WAAY,CACXpgD,SAAU,WACVG,KAAMhG,EACN6K,OAAQ7K,GAETkmD,YAAa,CACZp7B,UAAW,UAEZq7B,KAAM,CACL5tC,UAAW,QACX1X,MAAO,UACPsG,OAAQ,OAET4qB,YAAa,CACZrxB,QAAS,QAEV0qB,sBAAuB,CACtB/qB,OAAQL,EACR6F,SAAU,YAEX0V,eAAgB,CACf1V,SAAU,WACVzH,IAAK,MACL4H,KAAM,MACNuS,WAAY,GACZ5Q,YAAa,IAEd+mD,UAAU9jF,OAAAC,GAAA,EAAAD,CAAA,GACNm1B,EAAMqH,OAAOunD,UADR,CAERnoD,WAAsB,EAAVxG,EACZyG,cAAyB,EAAVzG,IAEhB4uD,MAAO,CACNluD,QAAS,UDiCAZ,CAAmBuuD,ME7DzBQ,GAAuB,SAAAvkF,GAAA,IAAGkvC,EAAHlvC,EAAGkvC,WAAYH,EAAf/uC,EAAe+uC,MAAOuT,EAAtBtiD,EAAsBsiD,QAASoW,EAA/B14D,EAA+B04D,UAA/B,OAC5B56B,YAAQ0mD,aAAmB,CAAEt1C,aAAYH,QAAOuT,UAASoW,gBAEpD+rB,GAA0B,SAAA/jF,GAAA,IAAGwuC,EAAHxuC,EAAGwuC,WAAYH,EAAfruC,EAAequC,MAAOuT,EAAtB5hD,EAAsB4hD,QAASoW,EAA/Bh4D,EAA+Bg4D,UAA/B,OAC/B56B,YAAQ4mD,aAAsB,CAAEx1C,aAAYH,QAAOuT,UAASoW,gBAEvDisB,GAAgB,SAAA9jF,GAAA,IAAGquC,EAAHruC,EAAGquC,WAAYH,EAAfluC,EAAekuC,MAAOuT,EAAtBzhD,EAAsByhD,QAASoW,EAA/B73D,EAA+B63D,UAA/B,OACrB56B,YAAQ8mD,aAAsB,CAAE11C,aAAYH,QAAOuT,UAASoW,gBAEvDjG,GAAS,CACdjP,eAfsB,WACtB1lB,YAAQ+iD,eACR/iD,YAAQ/wB,aAAK,OAcbg3C,eAAgB,kCC3BXhmB,GAAYC,aAAW,SAAAvI,GAAK,MAAK,CACtC0F,KAAM,CACLqlB,UAAW,UAEZqkC,QAAS,CACR3O,gBAAe,OAAA1jE,OAASsyE,KAAT,KACftJ,mBAAoB,SACpBD,iBAAkB,YAClB1F,eAAgB,WAEjBxoC,UAAW,CACV7W,SAAUf,EAAMmG,YAAY/xB,OAAO2jC,GACnCzX,OAAQ,QAET8lD,KAAM,CACLh/C,OAAQ,OACRtG,MAAO,WCnBT,IAAMwH,GAAYC,aAAW,SAAAvI,GAAK,MAAK,CACtCkT,OAAQ,CACP9L,OAAQ,QACRtG,MAAOd,EAAMe,UAAY,KACzBA,SAAU,WAIG,SAASuuD,GAAUruD,GAajC,OAZA,SAAA12B,GAAiC,IAARsM,EAAQhM,OAAAm3D,GAAA,EAAAn3D,CAAA,GAAAN,GAC1ByzB,EAAUsK,KAEhB,OACChK,EAAA50B,EAAA60B,cAACyD,EAAA,EAAD,CAAQvD,MAAM,EAAMT,QAAS,CAAEyM,MAAOzM,EAAQkV,SAC7C5U,EAAA50B,EAAA60B,cAAC2D,EAAA,EAAD,KACC5D,EAAA50B,EAAA60B,cAAC0C,EAAcpqB,MCWpB,IAAM04E,GAA+B/H,GAAWgI,GHsDb,SAAAryD,GAAK,OACvCmB,EAAA50B,EAAA60B,cAACkxD,GAAD5kF,OAAAs2B,OAAA,GACKhE,EACA6/B,GAFL,CAGClQ,QAAQ,wBACRsB,WAAY,CACX,CACCpxC,MAAO,aACPivC,KAAMghC,GACNrgC,eAAgB,SAAAjhD,GAAA,IAAG8tC,EAAH9tC,EAAG8tC,WAAYH,EAAf3tC,EAAe2tC,MAAf,OACfjR,YAAQqnD,aAAkB,CAAEj2C,aAAYH,YACzCo1C,OAAO,UGhELiB,GAAsBnI,GAAWgI,GHsEL,SAAAryD,GAAK,OACtCmB,EAAA50B,EAAA60B,cAACkxD,GAAD5kF,OAAAs2B,OAAA,GACKhE,EACA6/B,GAFL,CAGClQ,QAAQ,uBACRsB,WAAY,CACX,CACCpxC,MAAO,cACPivC,KAAM2hC,GACNhhC,eAAgBkiC,GAChBJ,OAAO,UG/ELkB,GAAiCpI,GACtCgI,GHIoC,SAAAryD,GACpC,OACCmB,EAAA50B,EAAA60B,cAACkxD,GAAD5kF,OAAAs2B,OAAA,GACKhE,EACA6/B,GAFL,CAGClQ,QAAQ,sBACRsB,WAAY,CACX,CACCpxC,MAAO,6BACPivC,KAAM4gC,GACNjgC,eAAgBsiC,IAEjB,CACClyE,MAAO,4BACPivC,KAAM6hC,GACNlhC,eAAgBoiC,GAChBN,OAAO,UGlBNmB,GAAkCrI,GACvCgI,GHwBqC,SAAAryD,GACrC,OACCmB,EAAA50B,EAAA60B,cAACkxD,GAAD5kF,OAAAs2B,OAAA,GACKhE,EACA6/B,GAFL,CAGClQ,QAAQ,uBACRsB,WAAY,CACX,CACCpxC,MAAO,6BACPivC,KAAM4gC,GACNjgC,eAAgBsiC,IAEjB,CACClyE,MAAO,YACPivC,KAAM6jC,GACNljC,eAAgB,SAAAphD,GAAA,IAAGiuC,EAAHjuC,EAAGiuC,WAAYH,EAAf9tC,EAAe8tC,MAAf,OACfjR,YAAQ0nD,aAAiB,CAAEt2C,aAAYH,YACxCo1C,OAAO,UGvCNsB,GAAgBxI,GFXP,SAAAj9E,GAA8B,IAAdI,EAAcJ,EAAdI,EACxBqzB,GADsCnzB,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,OAC5B+9B,MAEhB,OACChK,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCpI,MAAO,EACPsG,OAAQ,EACRpI,UAAWhB,EAAQ0H,KACnB/E,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,UAEfzI,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACClK,UAAWhB,EAAQ4Z,UACnBjX,QAAQ,OACR2F,cAAc,MACd1F,WAAW,SACXmG,eAAe,eACf8U,SAAS,QAETvd,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAAC4O,GAAD,CACC5N,MAAM,UACNP,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAK,4BAEJn5B,EAAE,oBAGL2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAAC4O,GAAD,CACC5N,MAAM,UACNP,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAK,uCAEJn5B,EAAE,kCAGL2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAAC4O,GAAD,CACC5N,MAAM,UACNP,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAK,4CAEJn5B,EAAE,oCAIN2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACCvD,SAAU,EACVhF,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,SACfhG,SAAS,KACT/B,UAAWhB,EAAQ4Z,WAEnBtZ,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAAC6N,GAAD,CAAMpN,UAAWhB,EAAQooD,QAqB1B9nD,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,KAAK+C,cAAY,GACpClO,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3D,WAAW,mBAAmB8hD,EAAG,GACpC18E,EAAE,iBAIN2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAA50B,EAAA60B,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,KAAK+C,cAAY,GACpClO,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CAAK3D,WAAW,kBAAkB8hD,EAAG,GACnC18E,EAAE,oBASN2zB,EAAA50B,EAAA60B,cAAC2K,GAAA,EAAD,CACC9B,OAAO,MACPtB,SAAS,WACT9G,UAAWhB,EAAQoxD,QACnB9X,UAAU,gBE7FT2Y,GAAe,SAAA1lF,GAA8C,IAAhCq1B,EAAgCr1B,EAA3C4hC,UAAsB46C,EAAqBx8E,EAArBw8E,KAASnc,EAAY//D,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,sBAClE,OACC+zB,EAAA50B,EAAA60B,cAACwhB,GAAA,EAADl1C,OAAAs2B,OAAA,GACKypC,EADL,CAECxkB,OAAQ,SAAAjpB,GAAK,OACH,IAAT4pD,EACCzoD,EAAA50B,EAAA60B,cAACqB,EAAczC,GAEfmB,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CAAU7iC,GAAI,CAAE+lB,SAAU,IAAKj5B,MAAO,CAAEyhB,KAAM0R,EAAMntB,kBAOnDkgF,GAAkB,eAAAjlF,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,EAAMxW,GAAN,IAAAhB,EAAAyI,EAAAnH,EAAA6hB,EAAAhiB,EAAA,OAAAwf,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAClB9O,GADkBzI,EACkBgB,GAAU,IAA9CyH,KAAMnH,EADYtB,EACZsB,MAAO6hB,EADKnjB,EACLmjB,SAAUhiB,EADLnB,EACKmB,SAE1BsH,IAAQnH,IAAS6hB,GAAyB,UAAbhiB,EAHR,CAAA0W,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EAInBwtE,aAAoB,CAAEzjF,QAAO6hB,aAJV,cAAAtL,EAAAN,KAAA,EAKnBytE,aAAgB,CAAE1jF,QAAO6hB,aALN,OAQtB7hB,GAAS6hB,GAAYhiB,GACxB87B,YAAQgoD,eATiB,wBAAAptE,EAAAO,SAAAZ,MAAH,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAsETq3B,KAzDF,WACZ,IAAM+lD,EAAO7lD,YAAY/0B,KACnBC,EAAS80B,YAAY10B,MACrBwD,EAAWkxB,YAAYpxB,MAoB7B,OAlBAo4C,oBAAU,WACT7f,YAAQioD,eACRjoD,YAAQkoD,eACRloD,YAAQmoD,YAAqBxgF,EAASE,SACtCm4B,YAAQooD,YAAiBzgF,EAASE,UAEhC,IAEHg4C,oBAAU,WACTgoC,GAAmB9jF,IACjB,CAACA,IAEJ87C,oBAAU,WACT7f,YAAQqoD,eACRroD,YAAQsoD,aAA0B3gF,EAASE,SAC3Cm4B,YAAQuoD,YAAwB5gF,EAASE,UACvC,CAACF,IAGHsuB,EAAA50B,EAAA60B,cAACsyD,GAAA,EAAD,KACCvyD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,KACCzhB,EAAA50B,EAAA60B,cAACuyD,GAAD,CACC/J,KAAMA,EACNrhE,KAAK,mBACLymB,UAAW63C,KAEZ1lD,EAAA50B,EAAA60B,cAACuyD,GAAD,CAAc/J,KAAMA,EAAMrhE,KAAK,eAAeymB,UAAW4+B,KACzDzsC,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CAAO9G,OAAK,EAACvzB,KAAK,IAAIymB,UAAW6jD,KACjC1xD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,gBACLymB,UAAWojD,KAEZjxD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,cACLymB,UAAWyjD,KAEZtxD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CACC9G,OAAK,EACLvzB,KAAK,eACLymB,UAAW0jD,KAEZvxD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,CAAO9G,OAAK,EAACvzB,KAAK,eAAeymB,UAAWwjD,KAC5CrxD,EAAA50B,EAAA60B,cAACwhB,GAAA,EAAD,KACCzhB,EAAA50B,EAAA60B,cAACihB,GAAD,yCCnGCuxC,GAAe,aA+BNC,oLAzBb,OACC1yD,EAAA50B,EAAA60B,cAACD,EAAA50B,EAAMqjC,SAAP,KACCzO,EAAA50B,EAAA60B,cAAC0yD,GAAA,EAAD,MACA3yD,EAAA50B,EAAA60B,cAAC2yD,GAAA,EAAD,CAAkBlxD,MAAO2zC,IACxBr1C,EAAA50B,EAAA60B,cAACq+B,GAAA,EAAD,CAAyBlwC,MAAOoxC,MAC/Bx/B,EAAA50B,EAAA60B,cAAC4yD,EAAA,EAAD,CAAUC,MAAOA,KAChB9yD,EAAA50B,EAAA60B,cAAC8yD,EAAA,EAAD,CAAaN,aAAcA,GAAcO,UAAWA,KACnDhzD,EAAA50B,EAAA60B,cAACgzD,EAAA,EAAD,CAAiBruD,QAASA,KACzB5E,EAAA50B,EAAA60B,cAACizD,GAAA,EAAD,KACClzD,EAAA50B,EAAA60B,cAAA,OAAKS,UAAU,aACdV,EAAA50B,EAAA60B,cAACkzD,GAAD,MACAnzD,EAAA50B,EAAA60B,cAACmzD,EAAD,MACApzD,EAAA50B,EAAA60B,cAACozD,EAAD,qBAdO/xD,aCZE4O,QACU,cAA7BuO,OAAO/sC,SAAS4hF,UAEc,UAA7B70C,OAAO/sC,SAAS4hF,UAEhB70C,OAAO/sC,SAAS4hF,SAASluD,MACxB,2DCZHmuD,IAASzrC,OAAO9nB,EAAA50B,EAAA60B,cAACuzD,GAAD,MAAStgD,SAASugD,eAAe,SD2H5C,kBAAmB5I,WACtBA,UAAU6I,cAAc3G,MAAMnkE,KAAK,SAAA+qE,GAClCA,EAAaC,iDEnIhB/wE,EAAAC,EAAAC,EAAA,sBAAAivB,IAAAnvB,EAAAC,EAAAC,EAAA,sBAAA8wE,IAAA,IAAAC,EAAAjxE,EAAA,GAAAkxE,EAAAlxE,EAAA,KAAAmxE,EAAAnxE,EAAA,KAAAoxE,EAAApxE,EAAA,KAAAqxE,EAAArxE,EAAA,IAuBamvB,EAAS,SAAAmiD,GACrB5N,IAAcrhE,OACdshE,IAAuBthE,OACvBuhE,IAAcvhE,OACdmhE,IAAUnhE,OACLivE,GACJpqD,YAAQ/wB,YAAK,MAEd+wB,YAAQ+iD,eACR/iD,YAAQqqD,eACRrqD,YAAQsqD,eACRtqD,YAAQuqD,eACRvqD,YAAQwqD,eACRxqD,YAAQyqD,eACRzqD,YAAQ0qD,eACR1qD,YAAQ2qD,eACR3qD,YAAQ4qD,gBAGId,EAAa,WACzB,MAAgD,SAAzCloF,cAAWC,QAAQ8B,QAAQwyC,6CC3CnCr9B,EAAAC,EAAAC,EAAA,sBAAAiwB,IAAAnwB,EAAAC,EAAAC,EAAA,sBAAAm4B,IAAAr4B,EAAAC,EAAAC,EAAA,sBAAA+3B,IAAA,IAEa9H,EAAe,iBAAsC,WAAtC3nC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAYiD,MAAM,KAAK,IA2B9C4sC,EAAe,SAAAvuC,GAAA,IAAGirC,EAAHjrC,EAAGirC,KAAMxI,EAATziC,EAASyiC,IAAT,OAC3B4D,EAAa4E,GA1BO,SAAAxI,GAAG,OACvB,IAAI/pB,QAAQ,SAAAC,GACX,IAAMsvE,EAAQ1hD,SAASjT,cAAc,SACrC20D,EAAMxlD,IAAMA,EAEZwlD,EAAM3gD,iBAAmB,SAAAhoC,GAAgB,IAAbm6B,EAAan6B,EAAbm6B,OAC3B,OAAO9gB,EAAQ,CACdkd,MAAO4D,EAAOyuD,WACd/rD,OAAQ1C,EAAO0uD,iBAkBGC,CAAa3lD,GAbd,SAAAA,GAAG,OACvB,IAAI/pB,QAAQ,SAAAC,GACX,IAAM8tB,EAAQ,IAAII,MAClBJ,EAAMhE,IAAMA,EACZgE,EAAMW,OAAS,WACd,OAAOzuB,EAAQ,CACdkd,MAAOpd,KAAKod,MACZsG,OAAQ1jB,KAAK0jB,YAMyBksD,CAAa5lD,IAE1C0L,EAAsB,SAClCP,EACA/X,EACAgY,EACA1R,GAEI,IADJmsD,EACI5pF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAtCwB,EAuC5B,GAAIkvC,GAAe,GAAK/X,GAAS,GAAKgY,GAAgB,GAAK1R,GAAU,EACpE,OAAO,EAER,IAAMosD,EAAe97E,WAAWmhC,EAAcC,GACxCzB,EAAS3/B,WAAWopB,EAAQsG,GAE5BqsD,EAAan3E,KAAKo3E,KAAMF,EAAen8C,GAAUm8C,EAAgB,KAOvE,OAJC36C,GAAe/X,GACfgY,GAAgB1R,GAChBqsD,GAAcF,qCClDhBpyE,EAAAC,EAAAC,EAAA,sBAAAsyE,IAAA,IAAAC,EAAAzyE,EAAA,KAAA0yE,EAAA1yE,EAAA,KAAA2yE,EAAA3yE,EAAA,KAAA4yE,EAAA5yE,EAAA,KAAA6yE,EAAA7yE,EAAA,KAAA8yE,EAAA9yE,EAAA,KAAA+yE,EAAA/yE,EAAA,KAQawyE,EAAY,CACxBQ,SAAU,CACTC,IAAKD,EAASC,KAEfC,eAAgB,CACftpF,QAAS4G,6CACT2iF,eAAgB3iF,6CAChByiF,IAAKC,GAENE,iBAAkB,CACjBxpF,QAAS4G,6CACT6iF,aAAc7iF,WACdyiF,IAAKG,GAENE,SAAU,CACT1pF,QAAS4G,6CACTyiF,IAAKK,EAASL,KAEfM,IAAK,CACJ3pF,QAAS4G,6CACTyiF,IAAKO,EAAIP,IACT/kF,SAAU,IAEXulF,gBAAiB,CAChB7pF,QAAS4G,6CACTyiF,IAAKQ,EAAgBR,KAEtBS,MAAO,CACNT,IAAKS,uWCHCJ,EAAad,IAAbc,SACFK,EAAO,IAAIC,YAAUN,EAASL,KAC9BY,EAAoB,IAAID,YAAUE,GAElCxhF,EAAY,KACZyhF,EAA0B,GAC1BC,EAAyB,OACzBC,EAAuB,CAC5BC,QAAQ,EACRC,OAAO,EACPC,WAAW,EACXC,SAAS,EACTC,WAAW,EACXC,UAAU,GAGLC,EAAqB,KAE3B,SAASC,EAAkBvsE,GAC1B,IAAMwsE,EAAWC,IACfC,WAAW,UACXzvC,OAAO3xB,KAAKC,UAAUvL,EAAQnO,OAC9B86E,SAEF,OAAO,IAAIC,UAAQ,CAClBj5E,MAAOqM,EAAQrM,MACfk5E,QAAS7sE,EAAQ6sE,QACjBC,UAAW9sE,EAAQrO,aACnBo7E,YAAa/sE,EAAQzN,cACrBy6E,WAAYhtE,EAAQgtE,WACpB9sE,WAAYF,EAAQnO,KAAKqO,WAAWle,IAAI,SAAA4hB,GAAC,OAAIA,EAAE1b,KAC/C2J,KAAM26E,IAaR,SAASS,EAAiBh8E,EAAUjO,EAAUZ,GAC7C,IAAM8qF,EAAc,IAAI98E,WAASa,GAEjCi8E,EAAYL,QAAU7pF,EAAStB,QAC/BwrF,EAAYv6E,QAAUsX,KAAKC,MAC3BgjE,EAAYF,WAdb,SAAuBp6E,EAAYC,GAClC,IAAMs6E,EAASt6E,EAAsBD,EAC/Bo6E,EACLn6E,EACAI,KAAKC,IAAIi6E,EAAStB,EAAyBC,GAE5C,OAAO74E,KAAK2U,MAAMolE,EAAa,KAQNI,CACxBF,EAAYt6E,WACZs6E,EAAYr6E,qBAEbq6E,EAAYG,MAAQpnF,uBAAaqnF,sBAAY,KAAK7wE,WAClDywE,EAAY77E,QAAU67E,EAAY77E,QAAQrP,IAAI,SAAAurF,GAAI,OAAI,IAAIh9E,SAAOg9E,GAAM17E,OACvEq7E,EAAY36E,cAAgBpM,qBAC3B+mF,EAAY36E,eAAiB,IAC7BnQ,EAAU4D,UACTyW,WAEF,IAAMyD,EAAagtE,EAAYhtE,WAAWle,IAAI,SAAA4hB,GAC7C,IACM4pE,EADUvnF,uBAAainF,EAAY36E,eAAiB,GAExDoG,IAAI1S,uBAAa2d,EAAE6pE,QAAU,IAC7BC,IAAIznF,uBAAa2d,EAAE+pE,QAAU,IAC7BlxE,WAEI+M,EAAY,CACjBthB,GAAI0b,EAAE1b,GACNqhB,IAAK3F,EAAE2F,IACPikE,OAOD,OAJI5pE,EAAEgqE,UACLpkE,EAAUokE,QAAUhqE,EAAEgqE,SAGhBpkE,IAkCR,OA/BA0jE,EAAYhtE,WAAaA,EAGzBgtE,EAAYx6E,iBAAmBvM,qBAC9B+mF,EAAYx6E,kBAAoB,IAChCtQ,EAAU4D,UAET0nF,IAAIznF,uBAAa,MACjBwW,WACFywE,EAAYW,iBAAmBX,EAAYx6E,iBAE3Cw6E,EAAYv7E,aAAevP,EAAUV,QACrCwrF,EAAYY,gBAAkB,CAC7BC,MAAO,CACN,CACCC,KAAM,CACLd,EAAYL,QACZK,EAAYhtE,WAAW,GAAGhY,GAC1BglF,EAAYhtE,WAAW,GAAGhY,KAG5B,CAAE8lF,KAAM,KAAMC,UAAW,CAAEzjF,KAAM,KAAMJ,gBAIzC8iF,EAAY/6E,OAAS,CACpBG,KAAM,UACNF,kBAAmB,SACnB87E,YAAajkE,KAAKC,OAGZgjE,EAGR,IAAMiB,EAA8B,eAAAvsF,EAAAJ,OAAA4sF,EAAA,EAAA5sF,CAAA6sF,EAAAhuF,EAAA2Y,KAAG,SAAAO,EAAArY,GAAA,IAAAkqF,EAAAprE,EAAAxH,EAAA3Q,EAAA,OAAAwmF,EAAAhuF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACtC8xE,EADsClqF,EACtCkqF,SACAprE,EAFsC9e,EAEtC8e,QACAxH,EAHsCtX,EAGtCsX,QACA3Q,EAJsC3G,EAItC2G,aAJsC+R,EAAAI,GAM/B/T,uBAAauS,GANkBoB,EAAAN,KAAA,EAO/B8xE,EAASkD,UAAUC,iBAAiBvuE,EAAQ9X,GAAIL,GAPjB,cAAA+R,EAAAqM,GAAArM,EAAAC,KAAAD,EAAAK,OAAA,SAAAL,EAAAI,GAMTw0E,IANSvsE,KAAArI,EAAAI,GAAAJ,EAAAqM,KAAA,wBAAArM,EAAAO,SAAAZ,MAAH,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAW7B,SAAemuF,EAAtBr0E,GAAA,OAAAs0E,EAAAv7E,MAAAkH,KAAA/Z,sDAAO,SAAA+a,EAAAtZ,GAAA,IAAA8F,EAAA9E,EAAAG,EAAAL,EAAA2B,EAAA4mF,EAAAjqF,EAAAU,EAAA8sF,EAAAttF,EAAA6D,EAAA,OAAAmpF,EAAAhuF,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAA4CzR,EAA5C9F,EAA4C8F,aAAc9E,EAA1DhB,EAA0DgB,OACxDG,EAAaH,EAAbG,SADFsY,EAAAlC,KAAA,EAEiBs1E,YAAgB,CAAEvtF,KAAK,EAAMwtF,SAAUhnF,IAFxD,cAEAhF,EAFA2Y,EAAA3B,KAAA2B,EAAAlC,KAAA,EAGqB8B,YAAUlY,GAH/B,cAAAsB,EAAAgX,EAAA3B,KAGEuxE,EAHF5mF,EAGE4mF,SACFjqF,EAAoBH,cACpBa,EAAwBF,eALxB6Z,EAAAlC,KAAA,GAOoBgB,QAAQjZ,IACjCwB,EACE6J,OACA,SAAAsT,GAAO,OACNA,GACAA,EAAQ7N,QACR6N,EAAQ7N,OAAO28E,sBACf9uE,EAAQ7N,OAAO48E,kBACfltF,EAAsBme,EAAQrO,gBAE/B3P,IAAI,SAAAge,GAAW,IACP8uE,EAAyB9uE,EAAQ7N,OAAjC28E,qBAEFE,EAAgBxtF,OAAOypD,QAAQ6jC,GAAsB1tF,OAC1D,SAAC2Z,EAAUlO,GAAM,IAAAoiF,EAAAztF,OAAAwc,EAAA,EAAAxc,CACWqL,EADX,GACTnL,EADSutF,EAAA,GACAz2E,EADAy2E,EAAA,GAEhB,IACKxpE,qBAAW/jB,KACdqZ,EAASrZ,GAAW8W,GAEpB,MAAA02E,IACF,OAAOn0E,GAER,IAKD,OAFAiF,EAAQ7N,OAAO28E,qBAAuBE,EAE/BhvE,IAEPhe,IAAI,SAAAge,GAAW,IAAAmvE,EACoCnvE,EAAQ7N,OAAnD48E,EADOI,EACPJ,iBAAkBD,EADXK,EACWL,qBAG1B,MAAO,CACNC,mBACAD,uBACAM,MAJa,IAAIC,IAAYP,GAK7B9uE,aAGDtT,OAAO,SAAA/H,GAAe,IAAZyqF,EAAYzqF,EAAZyqF,MACV,OAAOA,IAAUA,EAAMhzE,WAAWvU,GAAcimB,WAEhD9rB,IA3CF,eAAAiD,EAAAzD,OAAA4sF,EAAA,EAAA5sF,CAAA6sF,EAAAhuF,EAAA2Y,KA4CE,SAAAC,EAAAnU,GAAA,IAAAkb,EAAA+uE,EAAAD,EAAAM,EAAA52E,EAAA0G,EAAAC,EAAAmwE,EAAA,OAAAjB,EAAAhuF,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAS0G,EAATlb,EAASkb,QAAS+uE,EAAlBjqF,EAAkBiqF,iBAAkBD,EAApChqF,EAAoCgqF,qBAAsBM,EAA1DtqF,EAA0DsqF,MAEnD52E,EAAU42E,EAAMhzE,WAAWvU,GAAc4U,WAFhDrD,EAAAE,KAAA,EAI2B60E,EAA+B,CACxD/C,WACAprE,UACAxH,UACA3Q,iBARF,cAIOqX,EAJP9F,EAAAS,KAWOsF,EAAuBD,EAAYsvE,IACxCvoF,uBAAa9E,EAAkB6e,EAAQrO,cAAc+G,MAGhD42E,EAAarpF,uBAAa+Z,EAAQzN,eACtCi8E,IAAIvoF,uBAAa+Z,EAAQnO,KAAKqO,WAAW,GAAGstE,KAAO,IACnDgB,IAAIvoF,uBAAa+Z,EAAQnO,KAAKqO,WAAW,GAAGstE,KAAO,IAjBtDp0E,EAAAa,OAAA,SAmBQ,CACN+F,UACAxH,UACAu2E,mBACA7vE,cACAC,uBACA2vE,uBACAQ,eA1BF,wBAAAl2E,EAAAe,SAAAlB,MA5CF,gBAAAs2E,GAAA,OAAAtqF,EAAAkO,MAAAkH,KAAA/Z,YAAA,KARK,eAOAquF,EAPAnzE,EAAA3B,KAoFAxY,EAAMG,OAAOs2B,OAAP3kB,MAAA3R,OAAM,CACjB,IADiBkS,OAAAlS,OAAAguF,EAAA,EAAAhuF,CAEdmtF,EAAY3sF,IAAI,SAAA2K,GAAK,IACfqT,EAAqBrT,EAArBqT,QAASxH,EAAY7L,EAAZ6L,QACTtQ,EAA4C8X,EAA5C9X,GAAIqK,EAAwCyN,EAAxCzN,cAAeZ,EAAyBqO,EAAzBrO,aAAcQ,EAAW6N,EAAX7N,OACnCm9E,EAAarpF,uBAAasM,GAC9Bi8E,IAAIvoF,uBAAa0G,EAAEqT,QAAQnO,KAAKqO,WAAW,GAAGstE,MAC9CgB,IAAIvoF,uBAAa0G,EAAEqT,QAAQnO,KAAKqO,WAAW,GAAGstE,MAC9C/wE,WAEF,OAAOjb,OAAA4e,EAAA,EAAA5e,CAAA,GACLmL,EAAEqT,QAAQ9X,GAAGqZ,cAAgB,CAC7BrZ,KACAsQ,UACAjG,gBACAZ,eACA29E,aACAn9E,OAAQA,EAAOG,YAMbpN,EAAyBypF,EAAYjiF,OAAO,SAAAm/B,GACjD,OACCkgD,EAAqBlgD,EAAE7rB,QAAQ7N,OAAOG,OACtC,IAAI2X,KAAmD,KAA7C4hB,EAAE7rB,QAAQgtE,WAAaV,IAChCriE,KAAKC,OACN2hB,EAAE3sB,YAAYhZ,GACbD,uBAAapE,EAAsBgqC,EAAE7rB,QAAQrO,cAAc89E,eAE5D5jD,EAAE1sB,qBAAqBjZ,GAAGD,uBAAa,QAnHnCuV,EAAAvB,OAAA,SAuHC,CAAE5Y,MAAK6D,2BAvHR,yBAAAsW,EAAArB,SAAAkB,sCA0HQq0E,+EAAf,SAAAh1E,EAAAvY,GAAA,IAAAwtF,EAAAC,EAAAC,EAAAC,EAAA,OAAAzB,EAAAhuF,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAwCq2E,EAAxCxtF,EAAwCwtF,cAAxCC,EAAAztF,EAAuDwc,YAAvDkxE,QAAA,IAAAD,EAAqE,GAArEA,GAEGl6E,KAAK,SAACq6E,EAAIC,GACV,OAAO/pF,uBAAa+pF,EAAG7wE,sBAAsBjZ,GAC5CD,uBAAa8pF,EAAG5wE,yBAGjB/d,OACA,SAACsM,EAAMf,GACN,IAAMmI,EAAOtT,OAAAyuF,EAAA,EAAAzuF,CAAA,GAAQkM,GAMrB,OALIoH,EAAQo7E,IAAIC,GAAGR,KAClB76E,EAAQg7E,SAAS7hF,KAAKtB,GACtBmI,EAAQo7E,IAAMp7E,EAAQo7E,IAAIh2E,IAAIjU,uBAAa0G,EAAEwS,wBAGvCrK,GAER,CAAEo7E,IAAKjqF,uBAAa,GAAI6pF,SAAU,KAhB5BA,EADTD,EACSC,SADT30E,EAAAlB,OAAA,SAoBQ61E,GApBR,wBAAA30E,EAAAhB,SAAAO,6BAuBA,IAAM01E,EAAyB,SAAA9tF,GAMzB,IALLuF,EAKKvF,EALLuF,aACA2Q,EAIKlW,EAJLkW,QACAs2E,EAGKxsF,EAHLwsF,qBACAC,EAEKzsF,EAFLysF,iBACAsB,EACK/tF,EADL+tF,gBAEMjB,EAAQ,IAAIC,IAAYP,GACxBwB,EAAQlB,EAAMmB,SAAS1oF,GACvB2oF,EAAQpoE,mBAAS2mE,EAAiB,IAClC0B,EAAQroE,mBAAS2mE,EAAiB,IAGxC,MAAO,CAACsB,EAFKjB,EAAMsB,MAAMC,UAEM,CAACH,EAAOC,GAAQH,EAAO93E,IAGvD,SAASo4E,EAATnuF,GAA4E,IAAxCuN,EAAwCvN,EAAxCuN,KAAMnI,EAAkCpF,EAAlCoF,aAAcgpF,EAAoBpuF,EAApBouF,iBAAoBC,EAC5B9gF,EAAK5O,OACnD,SAACsM,EAAMsa,GACN,IAAM+oE,EAAOvvF,OAAAyuF,EAAA,EAAAzuF,CAAA,GAAQkM,GAMrB,OALAqjF,EAAQC,YAAY/iF,KAAKgjF,aAAWC,gBAAgBlpE,EAAGta,OACvDqjF,EAAQI,sBAAsBnpE,EAAGopE,eAChC1jF,EAAKyjF,sBAAsBnpE,EAAGopE,eAAiBnrF,uBAAa,IAC3DiU,IAAIjU,uBAAa+hB,EAAGmpE,sBAAsBnpE,EAAGopE,gBAExCL,GAER,CAAEC,YAAa,GAAIG,sBAAuB,KAVnCH,EADmEF,EACnEE,YAAaG,EADsDL,EACtDK,sBA0BrB,MARmB,CAClB/zE,iBAAkBvV,EAClBgM,GAAIhM,EACJ6F,KARYi+E,EAAkB2C,UAAU+C,gBAAgBC,OAAO,CAC/DT,EACAG,IAOAG,wBACAI,qBAAsBP,EAAYzwF,QAMpC,SAASixF,EAA4BxuF,GACpC,OAAOA,GACNA,EAAS4B,aACT5B,EAAS4B,YAAYG,YACrB/B,EAAS4B,YAAYG,WAAWF,2BAChC7B,EAAS4B,YAAYG,WAAWF,0BAA0B,GACxD7B,EAAS4B,YAAYG,WAAWF,0BAA0B,GAC1D,KAGJ,SAAS4sF,EAAaZ,GAGrB,OAFaA,GAAgD,IAA5BA,EAAiBtwF,OAKnD,SAASmxF,EAAwBb,GAKhC,OAHCY,EAAaZ,IAC8C,IAA3DviF,UAAUuiF,EAAiB,GAAI,GAAMvE,IAA6BriE,KAAKC,MAKlE,SAAeynE,EAAtBj2E,GAAA,OAAAk2E,EAAAz+E,MAAAkH,KAAA/Z,sDAAO,SAAAqgB,EAAA/c,GAAA,IAAAjB,EAAAgtF,EAAA5sF,EAAAC,EAAA2b,EAAAnZ,EAAA4lF,EAAAvjF,EAAAgqF,EAAA7hF,EAAA6gF,EAAAiB,EAAA,OAAAzD,EAAAhuF,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAsC3W,EAAtCiB,EAAsCjB,QAASgtF,EAA/C/rF,EAA+C+rF,cAC7C5sF,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SAEV2b,EAAc3Z,YAAuCpE,eAHrDggB,EAAAtH,KAAA,EAKqB8B,YAAUrY,EAAOG,UALtC,cAAAsC,EAAAob,EAAA/G,KAKEuxE,EALF5lF,EAKE4lF,SACFvjF,EAAe7E,EAAStB,QANxBkf,EAAAtH,KAAA,GAOwBo2E,EAAuB,CACpDC,gBACA9nF,eACA8W,gBAVK,eAOAkzE,EAPAjxE,EAAA/G,KAaA7J,EAAO6hF,EAAgB7vF,IAAI,SAAC2K,EAAG8C,GAAM,IAEzCq/E,EAMGniF,EANHmiF,qBACA9uE,EAKGrT,EALHqT,QACA+uE,EAIGpiF,EAJHoiF,iBACA7vE,EAGGvS,EAHHuS,YAEA1G,EACG7L,EADH6L,QAEK63E,EAAkB9D,EAAkBvsE,GAAS+xE,kBAE7CrkF,EAAO0iF,EAAuB,CACnCvoF,eACA2Q,UACAs2E,uBACAC,mBACAsB,oBAGD,MAAO,CACNjzE,iBAAkBvV,EAClBgM,GAAIu3E,EAAS1pF,QACb0vF,aAAcpxE,EAAQrO,aACtBjE,OACAyjF,sBAAsB3vF,OAAA4e,EAAA,EAAA5e,CAAA,GAAIwe,EAAQrO,aAAeuN,MAG7C2xE,EAAmBW,EAA4BxuF,GAEjD8uF,EAAc,KAEjBA,EADGJ,EAAwBb,GACb,CACbD,EAAyB,CACxB5gF,OACAnI,eACAgpF,sBAIY7gF,EAAKhO,IAAI,SAAAgmB,GAItB,OAHAA,EAAGta,KAAO+9E,EAAK6C,UAAU4C,gBAAgBI,OAAOtpE,EAAGta,MACnDsa,EAAGgqE,WAAY,EAERhqE,IAxDHpH,EAAA3G,OAAA,SA4DC63E,GA5DD,yBAAAlxE,EAAAzG,SAAAwG,6BA+DP,SAASsxE,EAATnuF,GAA6C,IAAZiX,EAAYjX,EAAZiX,SAC1B3Y,EAAYH,eACZiwF,EAAW7vF,eAF2B2Y,EAGED,EAAS3Z,OACtD,SAAC+wF,EAAO35E,GAYP,OATCA,EAAQD,MAAM7W,UAAYU,EAAUV,SAEpC8W,EAAQD,MAAM7W,UAAYwwF,EAASxwF,UAEnCywF,EAAMC,oBAAsBD,EAAMC,oBAAoBl4E,IACrD1B,EAAQkB,kBAETy4E,EAAME,aAAa75E,EAAQD,MAAM7W,SAAW8W,EAAQA,SAE9C25E,GAER,CACCC,oBAAqBnsF,uBAAa,GAClCosF,aAAc,KAIhB,MAAO,CAAEA,aAxBmCr3E,EAGpCq3E,aAqBeD,oBAxBqBp3E,EAGtBo3E,qBA0BhB,SAAeE,EAAtBx2E,GAAA,OAAAy2E,EAAAp/E,MAAAkH,KAAA/Z,sDAAO,SAAA0b,EAAAhY,GAAA,IAAAwuF,EAAA7vF,EAAA8vF,EAAAC,EAAA33E,EAAAG,EAAAy3E,EAAAC,EAAAC,EAAAR,EAAAD,EAAA,OAAA/D,EAAAhuF,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,UACNk5E,EADMxuF,EACNwuF,wBACA7vF,EAFMqB,EAENrB,QAEM8vF,EAASxsF,uBAAausF,GAJtBE,EAQF/vF,EAAQsB,MAAMK,IAAIiZ,uCAFrBxC,EANK23E,EAML33E,SACAG,EAPKw3E,EAOLx3E,iBAGGy3E,EAAsB1sF,uBAAaiV,GAEjC03E,EAAY,CACjBE,UAAW,GACXC,mBAAoB,IAGjBN,EAAOvsF,GAAGysF,KAAsBE,EAEWZ,EAAsB,CACnEl3E,WACAi4E,wBAAyBP,EAAOjE,IAAImE,KAF7BN,EAF2BQ,EAE3BR,aAAcD,EAFaS,EAEbT,oBAKtBQ,EAAUG,mBAAqBV,EAC/BM,EAAsBA,EAAoBz4E,IAAIk4E,KAG3CK,EAAOvsF,GAAGysF,GA5BR,CAAAx2E,EAAA7C,KAAA,gBAAA6C,EAAA7C,KAAA,EA6BuBq4E,EAAqB,CAChDhvF,UACAgtF,cAAe8C,EAAOjE,IAAImE,KA/BtB,OA6BLC,EAAUE,UA7BL32E,EAAAtC,KAAA,eAAAsC,EAAAlC,OAAA,SAmCC24E,GAnCD,yBAAAz2E,EAAAhC,SAAA6B,6BAsCA,SAAei3E,EAAtBr2E,GAAA,OAAAs2E,EAAA//E,MAAAkH,KAAA/Z,sDAAO,SAAAwc,EAAA3Y,GAAA,IAAA8M,EAAAtO,EAAAswE,EAAAkgB,EAAApwF,EAAAC,EAAAiB,EAAAia,EAAArY,EAAAoW,EAAAmvE,EAAAN,EAAAlwE,EAAAxY,EAAAmQ,EAAA6gF,EAAAC,EAAAC,EAAAtzE,EAAAnY,EAAAupF,EAAAP,EAAA0C,EAAAvjF,EAAAwjF,EAAAC,EAAAC,EAAAC,EAAA7tF,EAAA4X,EAAAk2E,EAAAh1E,EAAAi1E,EAAAC,EAAAC,EAAAxkF,EAAAykF,EAAA,OAAA3F,EAAAhuF,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cACNrI,EADM9M,EACN8M,SACAtO,EAFMwB,EAENxB,QACAswE,EAHM9uE,EAGN8uE,YACAkgB,EAJMhvF,EAINgvF,WAEQpwF,EAA4BJ,EAA5BI,OAAQC,EAAoBL,EAApBK,SAAUiB,EAAUtB,EAAVsB,MAClBia,EAAsCja,EAAMK,IAA5C4Z,kCAPFT,EAAAnE,KAAA,EAQmD8B,YACxDrY,EAAOG,UATF,UAAA2C,EAAA4X,EAAA5D,KAQEoC,EARFpW,EAQEoW,SAAUmvE,EARZvlF,EAQYulF,SAAUN,EARtBjlF,EAQsBilF,SAAUlwE,EARhC/U,EAQgC+U,SAIhCxY,EAAYI,eACZ+P,EAAgB4gF,EACnBj1E,EACA/X,qBAAW8K,EAASsB,cAAenQ,EAAU4D,UAAUyW,WAEpD22E,EAAgBnG,EAAiBh8E,EAAUjO,EAAUZ,GACrDixF,EAAYD,EAAcC,UAC1BC,EAAa/G,EAAkB8G,GAC/BrzE,EApBAxe,OAAAyuF,EAAA,EAAAzuF,CAAA,GAqBF6xF,EArBE,CAsBLnrF,GAAIorF,EAAWnrE,QAAQijE,EAAS1pF,WAE3BmG,EAAewrF,EAAUxG,QACzBuE,EAAehvF,EAAUV,QAEzBmvF,EAAmBW,EAA4BxuF,GAC/CuwF,EAAyB9B,EAAaZ,GAEtC7gF,EAAO,IAETujF,EAhCE,CAAA91E,EAAAnE,KAAA,SAiCCk6E,EAAwB,CAC7Bp2E,iBAAkBvV,EAClBupF,aAAcA,EACdv9E,GAAIhM,EACJ6F,KAAMi+E,EAAkB2C,UAAU2F,YAAY3C,OAAO,CACpDlG,EAAS1pF,QACT4xF,EAAWvB,oBAEZmC,iBAAkB,GAEnBlkF,EAAK/B,KAAKulF,GA3CL/1E,EAAAnE,KAAA,wBAAAmE,EAAAnE,KAAA,GA6CqB66E,YAAe,CACxCv5E,WACArC,MAAOnW,EACPyF,eACAupF,aAAchvF,EAAUV,QACxB0yF,kBAAmBhJ,EAAS1pF,QAC5B2yF,cAAe9hF,IAnDX,QA6CCkhF,EA7CDh2E,EAAA5D,KAsDC65E,EAAgB,CACrBt2E,iBAAkBvV,EAClBupF,aAAcA,EACdv9E,GAAIu3E,EAAS1pF,QACbgM,KAAM+9E,EAAK6C,UAAU2F,YAAY3C,OAAO,CAACgC,EAAWvB,qBAErD/hF,EAAK/B,KAALkF,MAAAnD,EAAIxO,OAAAguF,EAAA,EAAAhuF,CAASiyF,GAAT//E,OAAA,CAAsBggF,KA5DrB,eAAAj2E,EAAAnE,KAAA,GA+DuBg7E,YAAiC,CAC7D9B,wBAAyBjgF,EACzBvC,OACAnI,eACAoU,WACA6uE,WACAnoF,UACAiY,aAtEK,eA+DA+4E,EA/DAl2E,EAAA5D,KAAA4D,EAAAnE,KAAA,GAyE2Bi7E,YAAyB,CAAEZ,mBAzEtD,WAAA7tF,EAAA2X,EAAA5D,KAyEE6D,EAzEF5X,EAyEE4X,MAAOk2E,EAzET9tF,EAyES8tF,QACTh1E,EAAU3Y,uBAAa,GACvB4tF,EAAY5tF,uBAAaiY,GACzB41E,EAAeD,EAAUrF,IAAIoF,GAASzD,GAAGvxE,GAC5CA,EACAi1E,EAAUrF,IAAIoF,GACXG,EAAwBxnF,YAC7BunF,EAAar3E,WACbra,EAAU4D,UAAY,IACtB,EACA,IAGGitE,EAtFE,CAAAx1D,EAAAnE,KAAA,gBAAAmE,EAAAxD,OAAA,SAuFE,CACNs8C,cAAe74C,EACfwzD,KAAM0iB,EACNE,eACAC,0BA3FI,eAAAt2E,EAAAnE,KAAA,GA+Fek7E,YAA0B,CAC9C3sF,eACA8rF,iBACA5wF,SACAkZ,WACAw4E,UAAW,CAAEz0E,aApGR,eA+FAzQ,EA/FAkO,EAAA5D,KAuGNu5E,EAAclrF,GAAK8X,EAAQ9X,IACrB8rF,EAxGAxyF,OAAAyuF,EAAA,EAAAzuF,CAAA,GAwGqB4xF,IACbvhF,KAAdrQ,OAAAyuF,EAAA,EAAAzuF,CAAA,GAA0B6xF,EAAUxhF,MAzG9B4L,EAAAxD,OAAA,SA0GC,CACN1K,SACAykF,kBA5GK,yBAAAv2E,EAAAtD,SAAA2C,6BAgHA,SAAe43E,EAAtBl2E,GAAA,OAAAm2E,GAAAxhF,MAAAkH,KAAA/Z,wDAAO,SAAAoe,EAAAra,GAAA,IAAA1B,EAAAsO,EAAA1B,EAAA,OAAA8+E,EAAAhuF,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAA8B3W,EAA9B0B,EAA8B1B,QAASsO,EAAvC5M,EAAuC4M,SAAvC8N,EAAAzF,KAAA,EACe8R,YAAc,CAAEzoB,UAASsO,aADxC,cACA1B,EADAwP,EAAAlF,KAAAkF,EAAA9E,OAAA,SAEC1K,GAFD,wBAAAwP,EAAA5E,SAAAuE,kHCjmBMkL,EAA0B,SAAA1oB,GAAmB,IAAhB4c,EAAgB5c,EAAhB4c,IAAK6L,EAAWzoB,EAAXyoB,KAC1CxF,EAAUwF,EACd,IACC,IAAMirE,EAAUtpE,KAAKwD,MAAMnF,GAC3BxF,EACCywE,EAAQzwE,SAAWywE,EAAQlnE,KAAOknE,EAAQnnD,QAAUmnD,EAAQ7wE,OAAS4F,EACrE,MAAAulE,IAEF,MAAM,IAAIprE,MACTxiB,aAAE,oBAAqB,CACtBqI,KAAM,CAACmU,EAAIyL,IAAKzL,EAAI3L,OAAQ2L,EAAI+2E,WAAY1wE,OAmEhC2wE,EA7Dd,SAAAA,EAAAlzF,GAAyB,IAAAigB,EAAAxH,KAAX8O,EAAWvnB,EAAXunB,QAAW3nB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAy6E,GAAAz6E,KAIzB06E,eAAiB,WAAsB,IAAnB9xF,GAAmB3C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAZ2C,QACb+xF,EAAgBxxF,YAAc5C,eACpC,MAAO,CACNq0F,mBAAoBhyF,GAAW+xF,IAPR36E,KAWzB66E,eAAiB,CAChBC,gBAAiB,WACjBC,QAAS,IACTC,OAAQ,YAdgBh7E,KAiBzBohB,OAAS,SAAC65D,EAAMpqE,EAAOpkB,GACtB,IAAIyiB,EAAM+rE,EAAO,IAQjB,OAPIpqE,IAEH3B,GADA2B,EAAQA,EAAMtX,QAAQ,MAAO,KAI9B2V,GAAOziB,GAxBiBuT,KA6BzBuQ,MAAQ,SAAAzoB,GAUF,IAAAozF,EAAApzF,EATL+oB,aASK,IAAAqqE,EATG,GASHA,EAAAC,EAAArzF,EARL4pB,mBAQK,IAAAypE,EARS,GAQTA,EAAAC,EAAAtzF,EAPLgpB,cAOK,IAAAsqE,EAPI,MAOJA,EANLpqE,EAMKlpB,EANLkpB,KAMKqqE,EAAAvzF,EALL0oB,eAKK,IAAA6qE,EALK,GAKLA,EAAAC,GAAAxzF,EAJLyzF,SAIKzzF,EAHLc,gBAGK,IAAA0yF,EAHK,GAGLA,EAAAE,GAAA1zF,EAFLwlB,UAEKxlB,EADL2zF,gBACK,IAAAD,KACCE,EAAEv0F,OAAAC,EAAA,EAAAD,CAAA,GAAQuqB,GACZ+8D,gBACHiN,EAAGC,MAAO,GAGX,IAAMlvF,EAAQs2D,IAAO64B,SAASF,GACxBxsE,EAAM1H,EAAK4Z,OAAO5Z,EAAKsH,QAAS+B,EAAOpkB,GAEvCovF,EAAI10F,OAAAC,EAAA,EAAAD,CAAA,GACLs0F,EAAUj0E,EAAKqzE,eAAiB,GACjCrzE,EAAKkzE,eAAe,CAAE9xF,YACtB4nB,GAEJ,OAAOD,MAAMrB,EAAK,CACjB4B,OAAQA,EACRN,QAASqrE,EACT7qE,KAAMA,KAvDPhR,KAAK8O,QAAUA,GCvBjBrR,EAAAC,EAAAC,EAAA,sBAAAm+E,IAEe7sE,uCCFfxR,EAAAC,EAAAC,EAAA,sBAAA9J,IAAA4J,EAAAC,EAAAC,EAAA,sBAAAzL,IAAAuL,EAAAC,EAAAC,EAAA,sBAAAsuB,IAAAxuB,EAAAC,EAAAC,EAAA,sBAAAgmD,IAAAlmD,EAAAC,EAAAC,EAAA,sBAAA6tD,IAAA/tD,EAAAC,EAAAC,EAAA,sBAAAglC,IAAAllC,EAAAC,EAAAC,EAAA,sBAAAuiD,IAAA,IAAA67B,EAAAt+E,EAAA,IAEM08C,EAAS,IAFf18C,EAAA,KAEmB28C,GAINvmD,EAAiB,SAACmoF,GAAgD,IAArClrC,EAAqC7qD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAF/C,mBAG/B,OAAK+1F,EAGQ7hC,EAAOU,KAAKmhC,GACblrC,OAAOA,GAHX,WAMI5+C,EAAoB,SAChC+pF,GAII,IAHJtwF,EAGI1F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHO,GACXi2F,EAEIj2F,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADJkP,EACIpP,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACEiE,EAAY+N,sBAAY8jF,EAActwF,GAC5C,OAAIuwF,EACIz2C,kBAAQr7C,GACc,kBAAZiL,EAEVrB,WAAW5J,GAChBiL,QAAQA,EAAU,GAClB7B,MAAM,GAAI,GAELpJ,GAII6hC,EAAgB,WAAsC,IAArC5kC,EAAqCpB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3B,GAAIk2F,EAAuBl2F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAV,MACxD,SAAAoT,OAAUhS,EAAQ+0F,UAAU,EAAG,IAA/B/iF,OAAoC8iF,GAApC9iF,OAAiDhS,EAAQ+0F,UAAU,GAAI,MAG3Dz4B,EAAyB,SAAAnyB,GACrC,OAAOA,EAAEpvB,WAAW7I,QAAQ,wBAAyB,MAGzCiyD,EAA8B,SAAAh6B,GAC1C,IAAM6qD,EAAQ7qD,EAAEpvB,WAAWlZ,MAAM,KAEjC,OADAmzF,EAAM,GAAKA,EAAM,GAAG9iF,QAAQ,wBAAyB,KAC9C8iF,EAAM75B,KAAK,MAUN7f,EAAgB,SAAC25C,EAAQC,GAErCA,EAAY3jF,KAAK4jF,IAAI,GAAID,GAMzB,IAHA,IAAIE,EAAS,CAAC,IAAK,IAAK,IAAK,KAGpBrnF,EAAIqnF,EAAOv2F,OAAS,EAAGkP,GAAK,EAAGA,IAAK,CAE5C,IAAI+7B,EAAOv4B,KAAK4jF,IAAI,GAAc,GAATpnF,EAAI,IAG7B,GAAI+7B,GAAQmrD,EAAQ,CAML,MAHdA,EAAS1jF,KAAK64B,MAAO6qD,EAASC,EAAaprD,GAAQorD,IAG7BnnF,EAAIqnF,EAAOv2F,OAAS,IACzCo2F,EAAS,EACTlnF,KAIDknF,GAAUG,EAAOrnF,GAGjB,OAIF,OAAOknF,GAGKp8B,EAAiB,SAACw8B,GAA2B,IAAnB9/C,EAAmB32C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAClD,OAAKy2F,EACDA,EAAOx2F,QAAU02C,EAAkB8/C,EACvC,GAAArjF,OAAUqjF,EAAON,UAAU,EAAGx/C,GAAWuJ,OAAzC,OAFoB,iJCjFfg7B,EAAgB,IAAIwb,IAAK,CAC9B1hE,QAHoB,KAIpB2hE,WAAY,kBAAMj4D,YAAQk4D,gBAC1BC,SAAU,eAGL1b,EAAyB,IAAIub,IAAK,CACvC1hE,QAToB,KAUpB2hE,WAAU,eAAAG,EAAA51F,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAE,SAAAO,IAAA,OAAA+9E,EAAAj3F,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EAAkB0lB,YAAQu4D,eAA1B,cAAA39E,EAAAK,OAAA,SAAAL,EAAAC,MAAA,wBAAAD,EAAAO,SAAAZ,MAAF,yBAAA69E,EAAAjkF,MAAAkH,KAAA/Z,YAAA,GACV62F,SAAU,uIClBUK,EACpB,SAAAA,EAAAt2F,GAAoD,IAAA2gB,EAAAxH,KAAtCib,EAAsCp0B,EAAtCo0B,QAAS2hE,EAA6B/1F,EAA7B+1F,WAA6B/1F,EAAjBi2F,SAClC,GADmD31F,OAAAi2F,EAAA,EAAAj2F,CAAA6Y,KAAAm9E,GAAAn9E,KAcpDq9E,iBAAmB,WACd71E,EAAK81E,cACR9uD,aAAahnB,EAAK81E,aAClB91E,EAAK81E,YAAc,OAjB+Bt9E,KAqBpDu9E,SArBoD,eAAAh2F,EAAAJ,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAqBzC,SAAAO,EAAMjQ,GAAN,OAAAguF,EAAAj3F,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACJuI,EAAKo1E,aADD,wBAAAr9E,EAAAO,SAAAZ,MArByC,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAAA+Z,KAyBpDw9E,UAzBoD,eAAA91F,EAAAP,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAyBxC,SAAAC,EAAM3P,GAAN,OAAAguF,EAAAj3F,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEJuI,EAAK+1E,SAAStuF,GAFV,OAGVuY,EAAKi2E,YAHK1+E,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAY,GAAAZ,EAAA,SAKV+V,QAAQpL,MAAR,WAAArQ,OAAyBmO,EAAKs1E,UAA9B/9E,EAAAY,IACA6H,EAAKi2E,YANK,yBAAA1+E,EAAAe,SAAAlB,EAAA,iBAzBwC,gBAAAmB,GAAA,OAAArY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAAA+Z,KAmCpDy9E,UAAY,WACXj2E,EAAK61E,mBAEL71E,EAAK81E,YAAc5qE,WAAWlL,EAAKg2E,UAAWh2E,EAAKyT,UAtCAjb,KAyCpDkhE,MAzCoD/5E,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAyC5C,SAAAqC,IAAA,OAAAi8E,EAAAj3F,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cACPuI,EAAK61E,mBADEl8E,EAAAlC,KAAA,EAEDuI,EAAKg2E,YAFJ,wBAAAr8E,EAAArB,SAAAkB,MAzC4ChB,KA8CpDF,KAAO,WACN0H,EAAK61E,qBA9CApiE,EACJ,MAAM,IAAIxR,MAAM,mCAGjB,GAA0B,oBAAfmzE,EACV,MAAM,IAAInzE,MAAM,kDAGjBzJ,KAAKs9E,YAAc,KACnBt9E,KAAKib,QAAUA,EACfjb,KAAK48E,WAAaA,8xPCZpBn/E,EAAAC,EAAAC,EAAA,sBAAA21C,IAAA,IAAAoqC,EAAAjgF,EAAA,IAAAkgF,EAAAlgF,EAAA,IAkCa61C,EAAU,CACtBsqC,UAAW,CAAE5zD,IA/BNjuB,YAAU8hF,aAAal2F,IAAI,SAAA88D,GACjC,MAAO,CACN7oD,MAAO6oD,EAAQxsD,KACftH,MAAO8zD,EAAQ9zD,SA4Bc4iD,WAAY,aAC3CuqC,QAAS,CAAE9zD,IAvBJjuB,YAAUgiF,QAAQp2F,IAAI,SAAA0tD,GAC5B,MAAO,CACNz5C,MAAOnM,YAAU4lD,EAAOnsD,MAAM,KAAK,IACnCyH,MAAO0kD,KAoBkB9B,WAAY,aACvCwB,KAAM,CAAE/qB,IAfDjuB,YAAUyhD,eAAe71D,IAAI,SAAA6rD,GACnC,MAAO,CACN53C,MAAO43C,EAAIpW,IACXzsC,MAAO6iD,EAAIpW,OAYQmW,WAAY,aACjCkK,OAAQ,CAAEzzB,IAAK,GAAIupB,WAAY,4ECtChC91C,EAAAC,EAAAC,EAAA,sBAAAqgF,IAAAvgF,EAAAC,EAAAC,EAAA,sBAAAsgF,IAIA,IAAMC,EAAeC,MAEjBjvF,EAAO,QA4BEO,EAAY,WAIpB,IAHJT,EAGI/I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHE,GAGFY,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAF8B,GAE9By3B,EAAA72B,EAFFuI,cAEE,IAAAsuB,KAAAC,EAAA92B,EAFcyI,YAEd,IAAAquB,EAFqB,CAAC,IAEtBA,EADJ7uB,EACI7I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADOiJ,EAEPiL,EAAMnL,EAAM,GACZI,IACH+K,EAAM,QAAUA,EAAIZ,QAAQ,KAAM,KAGnCY,EAAMA,EAAIqvB,cAEV,IC9CyBoM,ED8CrBwoD,GC9CqBxoD,ED8CIsoD,EAAapvF,GAAUqL,IAAQnL,IC7C7B,kBAAV4mC,EAGpBA,EAEEr8B,QAAQ,8BAA+B,UAEvCA,QAAQ,iBAAkB,IAE1BA,QAAQ,gCAAiC,QATI,GD+C5CjK,EAAKpJ,QAAUk5B,MAAMmjC,QAAQjzD,KAShC8uF,EAjDkB,SAACC,EAAK/uF,GACzB,GAAmB,kBAAR+uF,EACV,MAAO,GAGR,IAAMC,EAAU,IAAIC,OAAO,YAAa,MAGlCC,EAFQH,EAAIn1F,MAAMo1F,GAEG32F,IAAI,SAACkxB,EAAGzjB,GAClC,IAAMo4D,EAAUl+D,EAAKupB,IAAMA,EAC3B,OAAI4lE,yBAAejxB,KAAaA,EAAQrzD,IACvBukF,uBAAalxB,EAAS,CAAErzD,IAAK/E,IAKvCo4D,IAGR,OAAIgxB,EAAaG,MAAM,SAAAvpF,GAAC,MAAiB,kBAANA,IAC3BopF,EAAah8B,KAAK,IAGnBg8B,EA0BQI,CAAYR,EARH9uF,EAAK3H,IAAI,SAAA3B,GAC/B,MAAiB,kBAANA,GACHk4F,EAAapvF,GAAU9I,IAEvBA,MAOV,OAAOo4F,GAIKH,EAAU,SAAAY,GACtB3vF,EAAO2vF,6MEhEFzM,EAAS9P,EAAQ,KAOjBwc,EAAa,SAAA3kF,GAClB,IAAM+P,EAAOkoE,EAAOC,WAHJ,UAMhB,OAFAnoE,EAAK04B,OAAOzoC,GACG+P,EAAKooE,UAIRyM,EAAO,eAAAl4F,EAAAM,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAAO,EAAOoQ,EAAMnV,GAAb,IAAA6kF,EAAAC,EAAAC,EAAAC,EAAA,OAAAlC,EAAAj3F,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UACjBqQ,EADiB,CAAA/P,EAAAN,KAAA,eAAAM,EAAAK,OAAA,SACJ,IADI,UAEjBzF,EAFiB,CAAAoF,EAAAN,KAAA,cAGf,IAAIwK,MAAM,0BAHK,cAKhBu1E,EAAK5M,EAAOa,YAfD,IAgBXgM,EAAS7M,EAAOgN,eAjBJ,cAiB+BN,EAAW3kF,GAAM6kF,GAC5DE,EAAOD,EAAOr8C,OAAOtzB,GACrB6vE,EAAYE,EAAOhmF,OAAO,CAAC6lF,EAAMD,EAAOjU,UARxBzrE,EAAAK,OAAA,YAAAvG,OAUZ2lF,EAAG58E,SAAS,OAVA,KAAA/I,OAUU8lF,EAAU/8E,SAAS,SAV7B,wBAAA7C,EAAAO,SAAAZ,MAAH,gBAAAiB,EAAAJ,GAAA,OAAAlZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,GAaPq5F,EAAO,eAAA/3F,EAAAJ,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAAC,EAAO0Q,EAAMnV,GAAb,IAAAolF,EAAAP,EAAAQ,EAAAC,EAAAC,EAAAC,EAAA,OAAA1C,EAAAj3F,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAChBsgF,EAAYjwE,EAAKpmB,MAAM,KACvB81F,EAAKK,EAAOt3E,KAAKw3E,EAAUK,QAAS,OACpCJ,EAAgBH,EAAOt3E,KAAKw3E,EAAU/8B,KAAK,KAAM,OACjDi9B,EAAWrN,EAAOyN,iBA5BN,cA4BmCf,EAAW3kF,GAAM6kF,GAChEU,EAAOD,EAAS78C,OAAO48C,GACvBG,EAAYN,EAAOhmF,OAAO,CAACqmF,EAAMD,EAASzU,UAN1BjsE,EAAAa,OAAA,SAQf+/E,EAAUv9E,YARK,wBAAArD,EAAAe,SAAAlB,MAAH,gBAAA2C,EAAAF,GAAA,OAAA9Z,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAWP65F,EAAa,eAAAp4F,EAAAP,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAAqC,EAAOsO,EAAMzE,GAAb,IAAAo0E,EAAAc,EAAA,OAAA9C,EAAAj3F,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,UACvBqQ,EADuB,CAAAnO,EAAAlC,KAAA,eAAAkC,EAAAvB,OAAA,SACV,IADU,cAEtBq/E,EAAS7M,EAAO4N,aAtCG,cAsC6Bn1E,GAClDk1E,EAAUd,EAAOr8C,OAAOtzB,EAAM,OAAQ,OAC1CywE,GAAWd,EAAOjU,MAAM,OAJI7pE,EAAAvB,OAAA,SAKrBmgF,GALqB,wBAAA5+E,EAAArB,SAAAkB,MAAH,gBAAAS,EAAAc,GAAA,OAAA7a,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAQbg6F,EAAa,eAAAn4F,EAAAX,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAA0B,EAAOiP,EAAMzE,GAAb,IAAA40E,EAAAS,EAAA,OAAAjD,EAAAj3F,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,UACvBqQ,EADuB,CAAAxO,EAAA7B,KAAA,eAAA6B,EAAAlB,OAAA,SACV,IADU,cAEtB6/E,EAAWrN,EAAO+N,eA9CC,cA8CiCt1E,GACtDq1E,EAAMT,EAAS78C,OAAOtzB,EAAM,MAAO,QACvC4wE,GAAOT,EAASzU,MAAM,QAJMlqE,EAAAlB,OAAA,SAKrBsgF,GALqB,wBAAAp/E,EAAAhB,SAAAO,MAAH,gBAAA8D,EAAA+wE,GAAA,OAAAptF,EAAAgR,MAAAkH,KAAA/Z,YAAA,6bC5ClBm6F,EAAyBC,WAAzBD,WAAYE,EAAaD,WAAbC,SACZl2E,EAAmBrO,YAAnBqO,eAQK0sB,GAPG/6B,YAAUC,aAAarU,IAAI,SAAAwI,GAC1C,MAAO,CACNQ,MAAOR,EACPyL,MAAOzL,EAAKjH,MAAM,KAAK,MAIO,KACnB6tC,EAAoB,IAuCpB3qB,GA1BHjlB,OAAO+S,KAAKkmF,GAAYz4F,IAAI,SAAAwS,GACnC,MAAO,CAAExJ,MAAOyvF,EAAWjmF,GAAKtM,GAAI+N,MAAOwkF,EAAWjmF,GAAKyB,SAyBpC,CACzByQ,SAAU,CAAEpU,KAAM,WAAYyuE,SAAUt8D,EAAeC,KAAMkH,MAAO,GACpE/E,OAAQ,CAAEvU,KAAM,SAAUyuE,SAAUt8D,EAAeC,KAAMkH,MAAO,GAChEjF,OAAQ,CAAErU,KAAM,SAAUyuE,SAAUt8D,EAAeC,KAAMkH,MAAO,GAChEma,KAAM,CAAEzzB,KAAM,OAAQyuE,SAAUt8D,EAAeC,KAAMkH,MAAO,GAC5D9E,MAAO,CAAExU,KAAM,QAASyuE,SAAUt8D,EAAeC,KAAMkH,MAAO,IAC9D7E,MAAO,CAAEzU,KAAM,QAASyuE,SAAUt8D,EAAeC,KAAMkH,MAAO,IAC9DgvE,KAAM,CAAEtoF,KAAM,OAAQyuE,SAAUt8D,EAAeC,KAAMkH,MAAO,OAShDivE,EAAoB,CAChCh8D,EAAG,CAAEvsB,KAAM,UAAWwoF,IAAK,cAC3BC,EAAG,CAAEzoF,KAAM,SAAUwoF,IAAK,eAC1BE,WAAY,CAAE1oF,KAAM,UAAWwoF,IAAK,cACpCG,YAAa,CAAE3oF,KAAM,SAAUwoF,IAAK,gBA+BxB5vC,EAAa,CACzBgwC,WAAY,OACZC,WAAY,MACZC,aAAc,OACdC,YAAa,QAGDC,EAA8B,CAC1C,eACA,eAMYC,EAAkC,CAC9C,aACA,SAIY3wB,EAAiC,CAC7C,CAAE30D,MAAO,aAAcjL,MAAO,QAC9B,CAAEiL,MAAO,YAAajL,MAAO,OAC7B,CAAEiL,MAAO,aAAcjL,MAAO,SAKlBwwF,EAA4B,MAC5BC,EAAuB,KAEvBnX,GAAmBoX,EAAA,GAAAl6F,OAAA4e,EAAA,EAAA5e,CAAAk6F,EAC9Bj1E,EAAWC,SAASpU,KAAO,CAC3B,CAAE6R,QAAS,2BACX,CAAEA,QAAS,+BAAgCstC,QAAQ,KAHrBjwD,OAAA4e,EAAA,EAAA5e,CAAAk6F,EAK9Bj1E,EAAWI,OAAOvU,KAAO,CAAC,CAAE6R,QAAS,2BALP3iB,OAAA4e,EAAA,EAAA5e,CAAAk6F,EAM9Bj1E,EAAWE,OAAOrU,KAAO,CAAC,CAAE6R,QAAS,2BANP3iB,OAAA4e,EAAA,EAAA5e,CAAAk6F,EAO9Bj1E,EAAWM,MAAMzU,KAAO,CACxB,CAAE6R,QAAS,qBACX,CAAEA,QAAS,4BATmB3iB,OAAA4e,EAAA,EAAA5e,CAAAk6F,EAW9Bj1E,EAAWK,MAAMxU,KAAO,CACxB,CAAE6R,QAAS,qBACX,CAAEA,QAAS,4BAbmB3iB,OAAA4e,EAAA,EAAA5e,CAAAk6F,EAAA,UAetB,CAAC,CAAEv3E,QAAS,6BAfUu3E,oCCvIhC,IAAA3D,EAAAjgF,EAAA,IAEI6jF,EAAe,CAClBh5F,QAAS,IAAI45E,UACbqf,OAAQ,CACPtpF,KAAM,GACNjP,MAAO,GACP6hB,SAAU,GACV22E,YAAa,GACbj1D,KAAM,GACNk1D,UAAW,GACXC,UAAW,GACXC,eAAe,GAEhB9rF,QAAS,CACRE,UAAU,IAAIA,YAAWokC,WACzBjkC,OAAQ,IAAIA,SAAO,CAAE+lC,KAAM,CAAEkU,YAAY,KAAUhW,WACnD/jC,QAAQ,IAAIA,UAAS+jC,YAEtBynD,YAAa,GACbnzF,cAAe,CACdozF,UAAW,GACX7qF,QAAS,GACTmC,MAAO,IAER5C,MAAO,CACNR,SAAU,GACVG,OAAQ,GACRE,OAAQ,IAET/I,SAAU,GACVH,GAAI,CACHC,OAAQ,GACRI,WAAY,IAEb4sB,OAAQ,GACR4D,QAAS,CACR1qB,KAAM,IAEPxG,IAAK,CACJG,KAAM,IAEP8B,SAAU,QACVyG,YAAa,GACbG,gBAAiB,CAChBsuB,QAAS,IAEV89D,iBAAkB,GAClB/sC,KAAM,GACNpsD,SAAU,GACVo5F,WAAY,CACXC,UAAW,KACXC,QAAS,IAEVv5F,OAAQ,GACRjC,OAAQ,CACPC,QAAS,GACTw7F,OAAQ,GACRr8E,WAAY,IAEblW,UAAW,CAAEI,UAAW,OACxBvH,SAAU,CACTyC,eAAgB,GAChBJ,uBAAwB,IAEzBqB,aAAc,IAGAo1F,wCCpEf,IAAAa,EAAA1kF,EAAA,KAEM+hB,EAAU4iE,cAED5iE,wCCJf/hB,EAAAC,EAAAC,EAAA,sBAAA0jE,IAAA,IAAAghB,EAAA5kF,EAAA,KAAA6kF,EAAA7kF,EAAA,GAAA8kF,EAAA9kF,EAAA,IAKM+kF,EACiE,KAArE,GAAK5pF,KAAK2U,MAAM4zE,IAA4BC,MAMxC/f,EAAgB,IAAIsb,IAAK,CAC9B1hE,QAASunE,EACT5F,WAAY,WALZj4D,YAAQ89D,iBAMR3F,SAAU,4FCVL4F,EAAmB,IAAI/F,IAAK,CACjC1hE,QAHoB,IAIpB2hE,WAAU,eAAAG,EAAA51F,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAE,SAAAO,IAAA,OAAA+9E,EAAAj3F,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EAAkB0lB,YAAQg+D,eAA1B,cAAApjF,EAAAK,OAAA,SAAAL,EAAAC,MAAA,wBAAAD,EAAAO,SAAAZ,MAAF,yBAAA69E,EAAAjkF,MAAAkH,KAAA/Z,YAAA,GACV62F,SAAU,oBAGI4F,2BCXf/pE,EAAAC,QAAiBnb,EAAAob,EAAuB,oECAxCF,EAAAC,QAAiBnb,EAAAob,EAAuB,6DCAxCF,EAAAC,QAAA,8haCEa+L,EAAU+oD,IAAMvxD,SAEhBA,EAAWuxD,IAAMvxD,SAEjB51B,EAAWmnF,IAAMnnF,wHCCvB,SAASg1C,EAAc7nC,EAAM/C,GACnC,OAAO,SAASwrB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNvrD,QAAS3jC,EACT/C,MAAOA,KAKH,SAASkyF,EAAenvF,EAAM/C,EAAOmyF,GAC3C,OAAO,SAAS3mE,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNlvF,KAAMA,EACN/C,MAAOA,EACPmyF,SAAUA,KAKN,SAASC,EAAmBrvF,EAAM/C,EAAOmyF,GAC/C,OAAO,SAAS3mE,EAAU51B,GACzB,IAAMoC,EAAWa,YAA0BjD,KAC3C,OAAO41B,EAAS,CACfhsB,KAAMyyF,KACNj6F,WACA+K,KAAMA,EACN/C,MAAOA,EACPmyF,SAAUA,KAKN,SAASpvB,EAAT7sE,GAQJ,IAPFsJ,EAOEtJ,EAPFsJ,KACAurB,EAME70B,EANF60B,OAMEsnE,EAAAn8F,EALF+U,aAKE,IAAAonF,EALM,GAKNA,EAAAC,EAAAp8F,EAJFo0B,eAIE,IAAAgoE,KAHF9nE,EAGEt0B,EAHFs0B,WACAX,EAEE3zB,EAFF2zB,aACAG,EACE9zB,EADF8zB,IAEA,OAAO,SAASwB,GACf,IAAMtuB,EAAKk1D,IAAOmgC,UAelB,OAdA/mE,EAAS,CACRhsB,KAAMyyF,IACN9oE,MAAO,CACN3pB,OACAurB,SACA9f,QACAqf,UACAE,aACAX,eACAG,MACA9sB,QAIKA,GAIF,SAASgsB,EAAYspE,GAC3B,OAAO,SAAShnE,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACN9oE,MAAOqpE,KAKH,SAASjmB,EACfr+C,EACAC,GAIC,IAAAv3B,EAAAtB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHgE,GAGhEm9F,EAAA77F,EAHC62B,oBAGD,IAAAglE,EAHgB,GAGhBA,EAAAC,EAAA97F,EAHoB42B,mBAGpB,IAAAklE,EAHkC,GAGlCA,EAAAC,EAAA/7F,EAHsC+R,aAGtC,IAAAgqF,EAH8C,GAG9CA,EAAAC,EAAAh8F,EAHkD+nB,YAGlD,IAAAi0E,EAHyD,GAGzDA,EAFDllE,EAECp4B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADDyzB,EACC3zB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACD,sBAAAuB,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeid,GAAf,OAAA9T,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACOkd,EAAS,CACrBhsB,KAAMyyF,IACN7kE,QAAS,CACRc,UAAWA,EACXC,SAAUA,EACVzrB,KAAM,CACL+qB,aAAcA,EACdD,YAAaA,EACb7kB,MAAOA,EACPgW,KAAMA,GAEP+O,eACAzE,YAbI,cAAAra,EAAAK,OAAA,SAAAL,EAAAC,MAAA,wBAAAD,EAAAO,SAAAZ,MAAP,gBAAAiB,GAAA,OAAAzY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAmBM,SAAS8zC,EAAUrmC,EAAM/C,GAC/B,OAAO,SAASwrB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNlvF,KAAMA,EACN/C,MAAOA,KAKH,SAAS6yF,EAAet0F,GAC9B,OAAO,SAASitB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACN1zF,KAAMA,KAKF,SAAS+9E,EAA0BzgF,GACzC,OAAO,SAAS2vB,GAEmB,iBADb,IAAIxvB,gBAAgBH,GACxBi3F,IAAI,UACpBZ,EAAe,qBAAqB,EAApCA,CAA0C1mE,IAKtC,SAAS+oC,EAAkB5pD,GACjC,sBAAAxT,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAeud,EAAU51B,GAAzB,IAAAoH,EAAA,OAAA0a,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACN,IACOtR,EAAcD,YAAkBnH,KAEtCw8F,EAAmB,cAHhB57F,OAAAC,EAAA,EAAAD,CAAA,GAEyBwG,EAAgB2N,GAC5CynF,CAAkD5mE,EAAU51B,GAC3D,MAAOmuB,GACRI,QAAQpL,MAAM,4BAA6BgL,GAC3Cg/C,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,6BACjBwrB,QAAS,KAHVy4C,CAIGv3C,GAXE,wBAAApd,EAAAe,SAAAlB,MAAP,gBAAAmB,EAAAwB,GAAA,OAAAzZ,EAAAgR,MAAAkH,KAAA/Z,YAAA,GAgBM,SAASy9F,EAAoBnwC,EAAY9kD,GAC/C,OAAO,SAAS0tB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNn0F,gBACA8kD,gBAKI,SAASowC,EAAwBl1F,GACvC,OAAO,SAAS0tB,GACf,OAAOunE,EAAoB,YAAaj1F,EAAjCi1F,CAAgDvnE,IAIlD,SAASynE,EAAT37F,GAA4C,IAAXu/B,EAAWv/B,EAAXu/B,QACvC,OAAO,SAASrL,GACf,IACCu3C,EAAS,CACRvjE,KAAM,SACNurB,OAECd,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC9C,MAAM,UACNsV,KAAK,QACLpL,QAAQ,YACRjK,QAAS,WACJ+nE,QAEHA,OAAO3pF,OAAOsJ,KAAd,eAAApb,EAAAjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAmB,SAAAqC,EAAegiC,GAAf,OAAA36B,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACZgB,QAAQjZ,IAAIg8C,EAAMr7C,IAAI,SAAAsQ,GAAI,OAAI4rF,OAAO3jD,OAAOjoC,MADhC,wBAAAkJ,EAAArB,SAAAkB,MAAnB,gBAAAK,GAAA,OAAAjZ,EAAA0Q,MAAAkH,KAAA/Z,YAAA,IAIDozC,OAAO/sC,SAAS65E,QAAO,KAGvB12E,YAAU,YAGbmM,MAAOnM,YAAU,mCAAoC,CACpDH,KAAM,CAACk4B,KAERvM,QAAS,KAxBVy4C,CAyBGv3C,GACF,MAAOzH,GACRI,QAAQpL,MAAM,mBAAoBgL,GAClCg/C,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,oBACjBwrB,QAAS,KAHVy4C,CAIGv3C,KAKC,SAAS2nE,IACf,OAAO,SAAS3nE,GACf,IACCu3C,EAAS,CACRvjE,KAAM,SACNgrB,YAAY,EACZO,OAECd,EAAA50B,EAAA60B,cAAC8D,EAAA,EAAD,CACC9C,MAAM,UACNsV,KAAK,QACLpL,QAAQ,YACRjK,QAAS,WACRud,OAAOte,KAAK,+BAAgC,UAC5Cse,OAAO/sC,SAAS65E,QAAO,KAGvB12E,YAAU,cAGbmM,MAAOnM,YAAU,uBAAwB,CACxCH,KAAM,CAACG,YAAU,gBAElBwrB,QAAS,KApBVy4C,CAqBGv3C,GACF,MAAOzH,GACRI,QAAQpL,MAAM,mBAAoBgL,GAClCg/C,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,oBACjBwrB,QAAS,KAHVy4C,CAIGv3C,KAKC,SAAS2wD,EAAqBtgF,GACpC,OAAO,SAAS2vB,GACf,IAAMquD,EAAe,IAAI79E,gBAAgBH,GAEnCxD,EAAQwhF,EAAaiZ,IAAI,iBACzB96F,EAAW6hF,EAAaiZ,IAAI,oBAC5BM,EAAQvZ,EAAaiZ,IAAI,iBACzBz2F,GAAQw9E,EAAaiZ,IAAI,eAAiB,IAAIv8E,cAEhDle,GAASL,IAAao7F,EACzBrwB,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,yBAA0B,CAC1CH,KAAM,CAACtG,EAAOL,KAEfsyB,QAAS,KALVy4C,CAMGv3C,GACOnzB,GAASL,GAAYo7F,GAC/BrwB,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,+BAAgC,CAChDH,KAAM,CAACtG,EAAOL,EAAUo7F,KAEzB9oE,QAAS,KALVy4C,CAMGv3C,GAGA,CAAC,aAAc,aAAaqpB,SAASx4C,IACxC61F,EAAe,WAAY71F,EAA3B61F,CAAiC1mE,IAK7B,SAAS+wD,EAAwB1gF,GACvC,OAAO,SAAS2vB,GAKdluB,UAJoB,IAAItB,gBAAgBH,GAG3Bi3F,IAAIx1F,cAGjB40F,EAAe,mBAAmB,EAAlCA,CAAwC1mE,IAKpC,SAAS8lD,EAAgC+hB,GAC/C,OAAO,SAAS7nE,EAAU51B,GACzBw8F,EAAmB,4BAA6BiB,EAAhDjB,CACC5mE,EACA51B,IAKI,SAASgI,IACf,OAAO,SAAS4tB,EAAU51B,GACzBw8F,EAAmB,sBAAsB,EAAzCA,CAA+C5mE,EAAU51B,yBC3S9C09F,EAAc,SAAAvvE,GAC1B,OAAKA,EAEqB,kBAARA,EACVA,EAAIrB,KAAOqB,EAAI5K,SAAW4K,EAAI0e,QAAU1e,EAAIhL,MACzC0V,MAAMmjC,QAAQ7tC,GACjBA,EAAI8tC,KAAK,MAET9tC,EANA,aCAIwvE,GAA2B,SAAAr9F,GAA0B,IAAvBsuE,EAAuBtuE,EAAvBsuE,OAAQxpE,EAAe9E,EAAf8E,SAClD,OAAe,OAAXwpE,QAA8BhvE,IAAXgvE,EACfA,EAGDrpE,sBAAWqpE,EAAQxpE,GACxB0nF,IAAIznF,wBAAa,MACjBwW,sBCaGsxD,GAAW,SAAA7sE,GAAwC,IAArCsJ,EAAqCtJ,EAArCsJ,KAAMg0F,EAA+Bt9F,EAA/Bs9F,SAAU70F,EAAqBzI,EAArByI,KAAM6sB,EAAet1B,EAAfs1B,SACzC,OAAOioE,EAAW,CACjBjoE,SAAUA,EACVhsB,KAAMA,EACNyL,MAAOnM,YAAU00F,EAAU,CAAE70F,KAAMA,IACnC2rB,QAAS,KAJHmpE,CAKJjoE,IAGEkoE,GAAsB,SAAA98F,GAA0B,IAAvBkrC,EAAuBlrC,EAAvBkrC,QAAS7pC,EAAcrB,EAAdqB,QACvC,OAAO2nB,MAAMkiB,GACXjvB,KAAK,SAAA8gF,GACL,OAAOA,EAAKC,SAEZ/gF,KAAK,SAAAghF,GAEL,OADAzyD,IAAIa,gBAAgBH,GACbgyD,YAAY,CAClBC,UAAWF,EACXG,UAAW,aACX/7F,QAASA,OAKN,SAASslD,GAAcx6C,EAAM6iC,EAAW//B,EAAUwjC,GAExD,OADAtmC,EAAOkxF,OAAKC,aAAa,CAAEnxF,OAAM6iC,YAAWyD,aACrC,SAAS7d,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNlvF,OACA8C,cAKI,SAAS43C,GAAa16C,GAC5B,OAAO,SAASyoB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNlvF,KAAMA,KAKF,SAASu7E,KACf,OAAO,SAAS9yD,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,OAMF,SAASz0C,GAAQz6C,GACvB,IAAMmC,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,GACrB,sBAAAhM,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeid,EAAU51B,GAAzB,IAAAD,EAAAsC,EAAAk8F,EAAAC,EAAA,OAAA18E,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAP,KAAA,EAEC1Y,EAAQC,IACRqC,EAAUO,YAAc7C,GAHzBiZ,EAAAN,KAAA,EAIoBolF,GAAoB,CAC5C5xD,QAAS58B,EAAQomC,KAAKxJ,QACtB7pC,YANI,cAICk8F,EAJDvlF,EAAAC,KAOD/F,KAEJ5D,EAAQ+B,SAAR,UAAAyB,OAA6ByrF,GAC7BjvF,EAAQgC,UAAYhC,EAAQomC,KAAKzJ,KACjC38B,EAAQyC,QAAUsX,KAAKC,MAXlBtQ,EAAAN,KAAA,GAaiB+lF,YAAW,CAChC9R,KAAM,IAAIh9E,SAAOL,GAASovF,UAC1Br8F,YAfI,QAaCm8F,EAbDxlF,EAAAC,KAkBL2c,EAAS,CACRhsB,KAAMyyF,IACNlvF,KAAM,IAAIwC,SAAO6uF,GAAS5qD,WAC1B3jC,SAAU,WAGXk9D,GAAS,CACRv3C,SAAUA,EACVhsB,KAAM,SACNg0F,SAAU,wBACV70F,KAAM,CAAC,SAAUuG,EAAQyD,SA5BrBiG,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SA+BLuV,QAAQpL,MAAM,oBAAdnK,EAAAI,IACA+zD,GAAS,CACRv3C,SAAUA,EACVhsB,KAAM,SACNg0F,SAAU,oBACV70F,KAAM,CAAC,SAADiQ,EAAAI,MApCF,yBAAAJ,EAAAO,SAAAZ,EAAA,kBAAP,gBAAAiB,EAAAJ,GAAA,OAAArY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GA0CM,SAASm2D,GAAQ1oD,GACvB,IAAMmC,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,GACrB,sBAAA5L,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAeud,EAAU51B,GAAzB,IAAAD,EAAAsC,EAAAb,EAAAqR,EAAA0rF,EAAA5R,EAAAgS,EAAAH,EAAA,OAAA18E,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,EAEC1Y,EAAQC,IACRqC,EAAUO,YAAc7C,GACxByB,EAAYH,eACdwR,EAAe,MACfvD,EAAQomC,KAAK+gB,YANZ,CAAAj+C,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAOqBolF,GAAoB,CAC5C5xD,QAAS58B,EAAQomC,KAAKxJ,QACtB7pC,YATG,cAOEk8F,EAPF/lF,EAAAS,KAUA/F,KAEEy5E,EAAO,IAAIh9E,SAAO,CACvB/F,KAAM0F,EAAQ1F,KACdyH,SAAQ,UAAAyB,OAAYyrF,GACpB70C,UAAWp6C,EAAQo6C,UACnBp4C,UAAWhC,EAAQomC,KAAKzJ,KACxBl6B,QAASsX,KAAKC,MACdvW,MAAOzD,EAAQyD,MACfsiC,YAAa/lC,EAAQ+lC,YACrBkZ,UAAW,GACXC,KAAM,GACNowC,UAAU,IAtBPpmF,EAAAE,KAAA,GAyBkB+lF,YAAW,CAChC9R,KAAMA,EAAK+R,UACXr8F,YA3BG,QAyBEs8F,EAzBFnmF,EAAAS,KA8BJpG,EAAe8rF,EAAQzrF,KA9BnB,eAiCL5D,EAAQuD,aAAeA,EACvBvD,EAAQyC,QAAUsX,KAAKC,MAEnBha,EAAQwC,mBACXxC,EAAQwC,iBAARlR,OAAA80B,EAAA,EAAA90B,CAAA,GACEY,EAAUV,QAAU68F,GAAyB,CAC7C/uB,OAAQt/D,EAAQwC,iBAChB1M,SAAU5D,EAAU4D,aAxClBoT,EAAAE,KAAA,GA6CiBmmF,YAAW,CAChC/yB,KAAM,IAAIj8D,SAAOP,GAASovF,UAC1Br8F,YA/CI,QA6CCm8F,EA7CDhmF,EAAAS,KAkDL2c,EAAS,CACRhsB,KAAMyyF,IACNlvF,KAAM,IAAI0C,SAAO2uF,GAAS5qD,WAC1B3jC,SAAU,WAGXk9D,GAAS,CACRv3C,SAAUA,EACVhsB,KAAM,SACNg0F,SAAU,wBACV70F,KAAM,CAAC,SAAUuG,EAAQyD,SA5DrByF,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA+DL+V,QAAQpL,MAAM,oBAAd3K,EAAAY,IACA+zD,GAAS,CACRv3C,SAAUA,EACVhsB,KAAM,SACNg0F,SAAU,oBACV70F,KAAM,CAAC,SAADyP,EAAAY,MApEF,yBAAAZ,EAAAe,SAAAlB,EAAA,kBAAP,gBAAA2C,EAAAF,GAAA,OAAAvZ,EAAAgR,MAAAkH,KAAA/Z,YAAA,GA0EM,SAAS+6E,KACf,sBAAA/4E,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqC,EAAemb,EAAU51B,GAAzB,IAAA+B,EAAAjB,EAAAsS,EAAAR,EAAA/Q,EAAAmB,EAAA87F,EAAAC,EAAA,OAAAj9E,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAnC,KAAA,EAEG1W,EAAY/B,IAAWC,QAAvB8B,QACAjB,EAAYiB,EAAQK,SAApBtB,QACFsS,EAAQ4rF,YAAW,CAAE58F,SAAUtB,IAC/B8R,EAAQqsF,YAAW,CAAE78F,SAAUtB,IALhC8Z,EAAAlC,KAAA,EAO8BgB,QAAQjZ,IAAI,CAAC2S,EAAOR,IAPlD,OAAA/Q,EAAA+Y,EAAA3B,KAAAjW,EAAApC,OAAA4J,EAAA,EAAA5J,CAAAiB,EAAA,GAOEi9F,EAPF97F,EAAA,GAOY+7F,EAPZ/7F,EAAA,GASLk8F,GAAY,CAAElvF,MAAO8uF,EAAU7uF,SAAU,UAAzCivF,CAAqDtpE,GACrDspE,GAAY,CAAElvF,MAAO+uF,EAAU9uF,SAAU,UAAzCivF,CAAqDtpE,GAVhDhb,EAAAlC,KAAA,iBAAAkC,EAAAnC,KAAA,GAAAmC,EAAAxB,GAAAwB,EAAA,SAYL2T,QAAQpL,MAAM,oBAAdvI,EAAAxB,IACA+zD,GAAS,CACRv3C,WACAhsB,KAAM,SACNg0F,SAAU,oBACV70F,KAAM,CAAC20F,EAAW9iF,EAAAxB,OAjBd,yBAAAwB,EAAArB,SAAAkB,EAAA,kBAAP,gBAAAS,EAAAc,GAAA,OAAAta,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAwBM,SAAS40C,KAAoC,IAAApxC,EAAAxD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAnByN,EAAuBjK,EAAvBiK,KAAM8C,EAAiB/M,EAAjB+M,SAClC,sBAAA7M,EAAAxC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAe8b,EAAU51B,GAAzB,IAAAsH,EAAAvF,EAAAM,EAAA4X,EAAAzY,EAAA8N,EAAA6vF,EAAA1rD,EAAAq4B,EAAA6gB,EAAAt8E,EAAA,OAAAyR,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,OAENs8B,EAAc,UADN1tC,EAAO6F,EAAP7F,KACqB,EAA7B0tC,CAAmCpf,GAF7Brb,EAAA9B,KAAA,EAIG1W,EAAY/B,IAAWC,QAAvB8B,QACAM,EAAYN,EAAQI,OAApBE,QALH4X,EAMiBna,eAAd0B,EANHyY,EAMGzY,UAEF8N,EARD1O,OAAAC,EAAA,EAAAD,CAAA,GAQgBuM,GACjBgyF,EAAc,KACd1rD,EAAW,KAVVl5B,EAAAnB,GAYGnJ,EAZHsK,EAAA7B,KAaC,WAbD6B,EAAAnB,GAAA,GA+BC,WA/BDmB,EAAAnB,GAAA,GAoCC,aApCDmB,EAAAnB,GAAA,0BAc0C,kBAAlC9J,EAAQomC,KAAK5jC,mBACvBxC,EAAQwC,iBAARlR,OAAA80B,EAAA,EAAA90B,CAAA,GACEY,EAAUV,QAAU68F,GAAyB,CAC7C/uB,OAAQt/D,EAAQomC,KAAK5jC,iBACrB1M,SAAU5D,EAAU4D,aAIa,kBAAzBkK,EAAQomC,KAAK7hC,QACvBvE,EAAQuE,QAAUvE,EAAQomC,KAAK7hC,QAE/BvE,EAAQuE,QAAU,KAEbi4D,EAAO,IAAIj8D,SAAOP,GAAS8vF,aA3B9B7kF,EAAA7B,KAAA,GA4BkB2mF,YAAa,CAAEvzB,OAAMxkE,KAAIjF,YA5B3C,eA4BH88F,EA5BG5kF,EAAAtB,KA4BuD6yD,KAC1Dr4B,EAAW5jC,SA7BR0K,EAAAlB,OAAA,2BAgCGszE,EAAO,IAAIh9E,SAAOL,GAAS8vF,aAhC9B7kF,EAAA7B,KAAA,GAiCkB4mF,YAAa,CAAE3S,OAAMrlF,KAAIjF,YAjC3C,eAiCH88F,EAjCG5kF,EAAAtB,KAiCuD0zE,KAC1Dl5C,EAAW9jC,SAlCR4K,EAAAlB,OAAA,2BAqCGhJ,EAAW,IAAIb,WAASF,GAAS8vF,aArCpC7kF,EAAA7B,KAAA,GAsCkB6mF,YAAe,CAAElvF,WAAU/I,KAAIjF,YAtCjD,eAsCH88F,EAtCG5kF,EAAAtB,KAuCD5I,SACFojC,EAAWjkC,WAxCR+K,EAAAlB,OAAA,0BA2CG,IAAI6J,MAAMha,YAAU,sBA3CvB,QA8CL0sB,EAAS,CACRhsB,KAAMyyF,IACNlvF,KAAM,IAAIsmC,EAAS0rD,GAAavrD,WAChC3jC,aAGDk9D,GAAS,CACRv3C,WACAhsB,KAAM,SACNg0F,SAAU,wBACV70F,KAAM,CAACkH,EAAU9C,EAAK4F,SAxDlBwH,EAAA7B,KAAA,iBAAA6B,EAAA9B,KAAA,GAAA8B,EAAA8K,GAAA9K,EAAA,SA2DLgU,QAAQpL,MAAM,oBAAd5I,EAAA8K,IACA8nD,GAAS,CACRv3C,WACAhsB,KAAM,SACNg0F,SAAU,oBACV70F,KAAM,CAACkH,EAADsK,EAAA8K,MAhEF,QAmEN2vB,EAAc,SAAW7nC,EAAK7F,IAAI,EAAlC0tC,CAAyCpf,GAnEnC,yBAAArb,EAAAhB,SAAAO,EAAA,kBAAP,gBAAA8D,EAAA+wE,GAAA,OAAAvrF,EAAAmP,MAAAkH,KAAA/Z,YAAA,GAuEM,SAAS8/F,KAA6C,IAAAj8F,EAAA7D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA5ByN,EAAgC5J,EAAhC4J,KAAgC5J,EAA1BkwC,SAA0BlwC,EAAhBlB,SAC5C8K,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,IACPsyF,UAAW,EAKV,SAASC,KAAoC,IAAAj8F,EAAA/D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAlByN,EAAsB1J,EAAtB0J,KAAM9K,EAAgBoB,EAAhBpB,QAInC,OAHA8K,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,IACPsyF,UAAW,EAETnrD,GAAW,CACjBnnC,KAAMA,EACN9K,QAASA,EACTs9F,WAAY,uBACZ9yD,OAAQ,uBAIV,IAAM+yD,GAAkB,SAAA3yC,GACvB,OAAOrsD,OAAO+S,KAAKo5C,MAAS/gD,KAC3B,SAAAmB,GAAI,OAAI4/C,KAAQ5/C,GAAMs2B,IAAI33B,OAAO,SAAAgB,GAAI,OAAIA,EAAK1C,QAAU6iD,IAAKttD,OAAS,KAIjE,SAASm6D,KAA6C,IAAAl2D,EAAAlE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA7ByN,EAAiCvJ,EAAjCuJ,KAAM8C,EAA2BrM,EAA3BqM,SAAUwjC,EAAiB7vC,EAAjB6vC,SAC3C,sBAAA1vC,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAe6V,GAAf,IAAAtmB,EAAA48B,EAAA2zD,EAAAC,EAAAC,EAAArqD,EAAA,OAAA5zB,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsH,EAAAvH,KAAA,GAECnJ,EAAU+uF,OAAKC,aAAa,CAAEnxF,OAAMsmC,cAClCnsC,GAAK,GACbgI,EAAQomC,KAAR90C,OAAAC,EAAA,EAAAD,CAAA,GACIm6F,IAAazrF,QAAQW,GAAUylC,KADnC,CAEC6X,QAASpgD,EAAKohD,UAAUntD,IAAI,SAACV,EAAGmV,GAC/B,IAAMjC,EAAMgsF,GAAgBl/F,EAAEusD,MAAQ,GACtC,MAAO,CACNr5C,IAAKiC,EACLm3C,WAAY,YACZl3C,OAAQlC,EACRyB,MAAOnM,YAAS,gBAAA4J,OAAiBc,EAAIqvB,gBACrCkqB,YAAajkD,YAAS,gBAAA4J,OAAiBc,EAAIqvB,gBAC3CxI,OAAO75B,OAAAC,EAAA,EAAAD,CAAA,GAAMF,QAKVwrC,EAAUrF,UAAQC,wBACvBx3B,EAAQ+B,SACR3J,mCArBIsY,EAAAtH,KAAA,EAwBkBsR,MAAMkiB,GAxBxB,cAwBC2zD,EAxBD7/E,EAAA/G,KAAA+G,EAAA5G,GAyBYoyB,IAzBZxrB,EAAAtH,KAAA,GAyBsCmnF,EAAS7B,OAzB/C,eAAAh+E,EAAAqF,GAAArF,EAAA/G,KAyBC6mF,EAzBD9/E,EAAA5G,GAyBgBqyB,gBAzBhBpqB,KAAArB,EAAA5G,GAAA4G,EAAAqF,IAAArF,EAAAtH,KAAA,GA0BmB62B,YAAa,CACpCtD,KAAM38B,EAAQgC,UACdmyB,IAAKq8D,IA5BD,QA0BCC,EA1BD//E,EAAA/G,KA+BCy8B,EA/BD90C,OAAAC,EAAA,EAAAD,CAAA,GAgCD0O,EAAQomC,KAhCP,CAiCJzJ,KAAM9+B,EAAKmE,UACX46B,QAAS4zD,EACTjpE,MAAOkpE,EAAUlpE,MACjBsG,OAAQ4iE,EAAU5iE,SAGnB7tB,EAAQomC,KAAOA,EAEf9f,EAAS,CACRhsB,KAAMyyF,IACNlvF,KAAMmC,EACNW,aA5CI+P,EAAAtH,KAAA,iBAAAsH,EAAAvH,KAAA,GAAAuH,EAAAsF,GAAAtF,EAAA,SA+CLuO,QAAQpL,MAARnD,EAAAsF,IACA6nD,GAAS,CACRv3C,SAAUA,EACVhsB,KAAM,SACNg0F,SAAU,mBACV70F,KAAM,CAACkH,EAAD+P,EAAAsF,MApDF,yBAAAtF,EAAAzG,SAAAwG,EAAA,kBAAP,gBAAArB,GAAA,OAAA3a,EAAAwO,MAAAkH,KAAA/Z,YAAA,GA0DM,SAASsgG,KAAoC,IAAA97F,EAAAxE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAlByN,EAAsBjJ,EAAtBiJ,KAAM9K,EAAgB6B,EAAhB7B,QAInC,OAHA8K,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,IACP8yF,WAAY,EAEV3rD,GAAW,CACjBnnC,KAAMA,EACN9K,QAASA,EACTs9F,WAAY,yBACZ9yD,OAAQ,uBAIH,SAASqzD,KAAsC,IAAA77F,EAAA3E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAlByN,EAAsB9I,EAAtB8I,KAAM9K,EAAgBgC,EAAhBhC,QAIrC,OAHA8K,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,IACP8yF,WAAY,EAEV3rD,GAAW,CACjBnnC,KAAMA,EACN9K,QAASA,EACTs9F,WAAY,2BACZ9yD,OAAQ,yBAIH,SAASszD,GAAehzF,GAC9B,OAAO,SAASyoB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNlvF,KAAMA,KAKF,SAASizF,GAAkBjzF,EAAMkzF,GACvC,OAAO,SAASzqE,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNlvF,KAAMA,EACNsJ,KAAM4pF,KAKF,SAASnB,GAATz6F,GAA0C,IAAnBuL,EAAmBvL,EAAnBuL,MAAOC,EAAYxL,EAAZwL,SACpC,OAAO,SAAA2lB,GACN,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNrsF,MAAOA,EACPC,SAAUA,KAKN,IAAMw4E,GAAgB,WAC5B,OAAO,SAAA7yD,GACN,OAAOA,EAAS,CACfhsB,KAAMyyF,QAKIiE,GAAa,SAAA17F,GAAc,IAAX4pD,EAAW5pD,EAAX4pD,KAC5B,OAAO,SAAA54B,GACN,OAAOA,EAAS,CACfhsB,KAAMyyF,KACN7tC,KAAMA,MAKI+xC,GAAY,SAAAt7F,GAAa,IAAVgoD,EAAUhoD,EAAVgoD,IAC3B,OAAO,SAAAr3B,GACN,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNpvC,IAAKA,MClcKuzC,GAAS,SAAAlgG,GAMhB,IAAA8sB,EAAA9sB,EALLgrB,YAKK,IAAA8B,EALE,GAKFA,EAJL/F,EAIK/mB,EAJL+mB,IACAzD,EAGKtjB,EAHLsjB,KACA68E,EAEKngG,EAFLmgG,WAEKC,EAAApgG,EADL8B,gBACK,IAAAs+F,EADM,SACNA,EACL,IAAKp1E,IAASjE,IAAQo5E,QAAuB7gG,IAATgkB,EACnC,MAAM,IAAIV,MAAM,kCAGjB8K,aAAaM,QACZ,QAAU1K,EAAO,IAAM0H,EAAK3K,cAAgB,IAAMve,EAClDilB,EAAM,IAAMo5E,IAIDE,GAAS,SAAA3/F,GAAwC,IAAA4/F,EAAA5/F,EAArCsqB,YAAqC,IAAAs1E,EAA9B,GAA8BA,EAAAC,EAAA7/F,EAA1BoB,gBAA0B,IAAAy+F,EAAf,GAAeA,EAAXj9E,EAAW5iB,EAAX4iB,KAC9Ck9E,EAAa9yE,aAAaC,QAC7B,QAAUrK,EAAO,IAAM0H,EAAK3K,cAAgB,IAAMve,GAGnD,IAAK0+F,EACJ,OAAO,KAIR,IAAIz5E,GADJy5E,EAAaA,EAAWn+F,MAAM,MACT,GACjBuJ,EAAO40F,EAAW,GAEtB,OAAK50F,GAAQwB,SAASxB,EAAM,KAAOmd,KAAKC,MAChC,KAEAjC,2GCkBH4rD,GAAsBvrE,6CAGrB,SAASq5F,GAAa9rD,EAAM7qC,GAClC,OAAO,SAASwrB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNpnD,KAAMA,EACN7qC,MAAOA,KAKH,SAAS42F,KACf,OAAO,SAASprE,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,OAMF,SAAS4E,GAAc1yB,GAC7B,OAAO,SAAS34C,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNt6F,QAASwsE,KAML,SAASqa,KACf,OAAO,SAAShzD,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,OAKF,SAAS6E,GAAT5gG,GAA4C,IAAnBmW,EAAmBnW,EAAnBmW,KAAMu5B,EAAa1vC,EAAb0vC,UACrC,OAAO,SAASpa,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACN5lF,KAAMA,EACNu5B,UAAWA,KAKP,SAASmxD,GAA6Bl/F,GAC5C,OAAO,SAAS2zB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNp6F,cAKI,SAAS6mF,KACf,OAAO,SAASlzD,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,OAKF,SAAS+E,GAAqCn/F,GACpD,OAAO,SAAS2zB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNp6F,cAKI,SAAS8mF,KACf,OAAO,SAASnzD,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,OAKF,SAASgF,GAATrgG,GAAoC,IAAX06F,EAAW16F,EAAX06F,QAC/B,OAAO,SAAS9lE,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNX,QAASA,KAKL,SAASU,KACf,sBAAAj7F,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeid,EAAU51B,GAAzB,IAAA+B,EAAAK,EAAAD,EAAArB,EAAAS,EAAAd,EAAA6D,EAAA8X,EAAA1a,EAAAmC,EAAAH,EAAA,OAAAoe,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACE3W,EAAY/B,IAAWC,QAAvB8B,QADFiX,EAAAP,KAAA,EAGGrW,EAAqBL,EAArBK,SAAUD,EAAWJ,EAAXI,OACVrB,EAAYsB,EAAZtB,QAJHkY,EAAAN,KAAA,EAKyCm1E,aAA2B,CACxE5mF,aAAcnG,EACdqB,WAPI,cAAAZ,EAAAyX,EAAAC,KAKGxY,EALHc,EAKGd,IAAK6D,EALR/C,EAKQ+C,uBALR0U,EAAAN,KAAA,GAUqCiF,aAAsB,CAC/Dxb,SACArB,UACAid,YAAazZ,IACX6Y,MAAM,SAAAgR,GACRI,QAAQpL,MAAM,2BAA4BgL,KAftC,eAUC/R,EAVDpD,EAAAC,KAAAD,EAAAN,KAAA,GAkB4BqD,aAAgB,CAChDha,UACAqa,8BACA3b,QArBI,eAAAiB,EAAAsX,EAAAC,KAkBGpV,EAlBHnC,EAkBGmC,UAAWH,EAlBdhC,EAkBcgC,IAlBdsV,EAAAN,KAAA,GAuBCyoF,GAA6B1gG,EAA7B0gG,CAAkCvrE,GAvBnC,eAAA5c,EAAAN,KAAA,GAwBC0oF,GAAqC98F,EAArC88F,CACLxrE,GAzBI,eAAA5c,EAAAN,KAAA,GA2BCwoF,GAAc,CACnBlxD,UAAW,CAAE3sC,MAAO,CAAEQ,YAAWH,SAD5Bw9F,CAEHtrE,GA7BE,QAAA5c,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SA+BLuV,QAAQpL,MAAM,YAAdnK,EAAAI,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,YAAa,CAAEH,KAAM,CAAC20F,EAAW1kF,EAAAI,OAClDsb,QAAS,KAHVy4C,CAIGv3C,GApCE,yBAAA5c,EAAAO,SAAAZ,EAAA,kBAAP,gBAAAiB,EAAAJ,GAAA,OAAArY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAyCM,SAAS86E,KACf,sBAAA34E,EAAAjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAeud,EAAU51B,GAAzB,IAAAoC,EAAA4B,EAAAs9F,EAAA,OAAAx/E,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACNs8B,EAAcusD,MAA2B,EAAzCvsD,CAA+Cpf,GACzCxzB,EAAWW,YAAsB/C,KAFjCwY,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAMG8oF,aAAgB,CACtBv6F,aAAc7E,EAAStB,UAPpB,UAAA0X,EAAAY,GAAAZ,EAAAS,KAAAT,EAAAY,GAAA,CAAAZ,EAAAE,KAAA,QAAAF,EAAAY,GAQG,GARH,OAKCpV,EALDwU,EAAAY,IAUCkoF,EAVD1gG,OAAAC,EAAA,EAAAD,CAAA,GAUwBwB,IAEb0C,kBAAoBd,EAAYc,kBAChDw8F,EAAgBG,gBAAkBz9F,EAAYy9F,gBAC9CH,EAAgBt9F,YAAcA,EAE9Bk9F,GAAc,CACblxD,UAAW,CAAE5tC,SAAUk/F,IADxBJ,CAEGtrE,GAlBEpd,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA6M,GAAA7M,EAAA,SAoBL20D,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,gCAAiC,CACjDH,KAAM,CAAC20F,EAAWllF,EAAA6M,OAEnBqP,QAAS,KALVy4C,CAMGv3C,GA1BE,QA4BNof,EAAcusD,MAA2B,EAAzCvsD,CAA+Cpf,GA5BzC,yBAAApd,EAAAe,SAAAlB,EAAA,kBAAP,gBAAA2C,EAAAF,GAAA,OAAAjZ,EAAA0Q,MAAAkH,KAAA/Z,YAAA,GAgCM,SAASgiG,GAAT1+F,GAAgD,IAAX2+F,EAAW3+F,EAAX2+F,QAC3C,sBAAAz+F,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqC,EAAemb,EAAU51B,GAAzB,IAAAoC,EAAAw/F,EAAAC,EAAA,OAAA//E,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OACEtW,EAAapC,IAAWC,QAAQ8B,QAAhCK,SAEFw/F,EAHAhhG,OAAAC,EAAA,EAAAD,CAAA,GAGmBwB,GACnBy/F,EAJAjhG,OAAAC,EAAA,EAAAD,CAAA,GAIkBghG,EAAY/iF,qBAAuB,GAAQ8iF,GAIlEj3E,KAAKC,UAAUi3E,EAAY/iF,uBAC3B6L,KAAKC,UAAUk3E,KAEfD,EAAY/iF,oBAAsBgjF,EAClCX,GAAc,CAAElxD,UAAW,CAAE5tC,SAAUw/F,IAAvCV,CAAwDtrE,IAZnD,wBAAAhb,EAAArB,SAAAkB,MAAP,gBAAAS,EAAAc,GAAA,OAAA9Y,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAiBM,SAASoiG,GAAT1+F,GAKJ,IAJFjB,EAIEiB,EAJFjB,OAIE4/F,EAAA3+F,EAHFhB,gBAGE,IAAA2/F,EAHS,GAGTA,EAFFt/F,EAEEW,EAFFX,MACAu/F,EACE5+F,EADF4+F,gBAEA,sBAAAz+F,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAe8b,EAAU51B,GAAzB,IAAAiiG,EAAAC,EAAAz+F,EAAA8e,EAAAqB,EAAAmD,EAAApD,EAAA0C,EAAAziB,EAAA2N,EAAAkvF,EAAA1+F,EAAAogG,EAAA17F,EAAA,OAAAqb,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,UACNs8B,EAAcusC,MAAkB,EAAhCvsC,CAAsCpf,GADhCrb,EAAA9B,KAAA,EAGCwpF,EAHDrhG,OAAAC,EAAA,EAAAD,CAAA,GAGkBuB,GACjB+/F,EACLvB,GAAO,CACNr1E,KAAM22E,EAAUnhG,QAChB8iB,KAAMq+E,EAAU3/F,SAChBF,SAAUA,EAAStB,WACd,KATFyZ,EAAAnB,KAYF8oF,GAZE3nF,EAAAnB,GAAA,CAAAmB,EAAA7B,KAAA,eAAA6B,EAAA7B,KAAA,EAaG0pF,YAAa,CACnB//F,QAAS6/F,EACTG,cAAc,IAfX,OAAA9nF,EAAAnB,GAAAmB,EAAAtB,KAAA,WAAAsB,EAAAnB,GAAA,CAAAmB,EAAA7B,KAAA,SAmBJupF,EAAU5/F,QAAU6/F,EAnBhB3nF,EAAA7B,KAAA,wBAAA6B,EAAA7B,KAAA,GA2BMmO,aAAW,CAAE1kB,OAAQ8/F,IA3B3B,eAAAx+F,EAAA8W,EAAAtB,KAsBHsJ,EAtBG9e,EAsBH8e,UACAqB,EAvBGngB,EAuBHmgB,KACAmD,EAxBGtjB,EAwBHsjB,UACApD,EAzBGlgB,EAyBHkgB,KACA0C,EA1BG5iB,EA0BH4iB,UA1BG9L,EAAA7B,KAAA,GA6BiC4pF,YAAW,CAC/ClgG,SAAUA,EAAStB,QACnB8iB,KAAMA,EACNrB,YACAwE,YACApD,OACA0C,YACAk8E,cAAeN,EAAUnhG,UApCtB,QAAA8C,EAAA2W,EAAAtB,KA6BI1H,EA7BJ3N,EA6BI2N,OAAQkvF,EA7BZ78F,EA6BY68F,WAUD,OAAXlvF,IACHivF,GAAO,CACNl1E,KAAMnpB,EAAOrB,QACbumB,IAAK9E,EACLqB,KAAMzhB,EAAOG,SACbm+F,WAAYA,EACZr+F,SAAUA,EAAStB,UAEpBmhG,EAAU5/F,QAAUkgB,GA/CjB,eAmDCxgB,EAAU,CACfU,MAAOA,EACPN,OAAQ8/F,EACR7/F,SAASxB,OAAAC,EAAA,EAAAD,CAAA,GAAMwB,IAtDXmY,EAAA7B,KAAA,GAyD6BiH,aAAsB,CACvDC,YAAaqzD,GACblxE,YA3DI,WAyDCogG,EAzDD5nF,EAAAtB,KA8DLlX,EAAQK,SAASyc,oBAAjBje,OAAA80B,EAAA,EAAA90B,CAAA,GACEqyE,GAAsBkvB,GAGxBjB,GAAc,CACblxD,UAAUpvC,OAAAC,EAAA,EAAAD,CAAA,GAAMmB,IADjBm/F,CAEGtrE,IAECosE,EAtEC,CAAAznF,EAAA7B,KAAA,gBAAA6B,EAAA7B,KAAA,GAuEEytE,aAAgB,CACrB1jF,MAAON,EAAOM,MACd6hB,SAAUniB,EAAOmiB,WAzEd,QA6EC7d,EAAO2B,aAAsBpI,KAE/B,CAAC,aAAc,aAAai/C,SAASx4C,IACxCmvB,EAASvoB,aAAI,cAAAyF,OAAerM,KAC5B61F,EAAe,WAAY,GAA3BA,CAA+B1mE,IAE/BA,EAASvoB,aAAK,iBAnFVkN,EAAA7B,KAAA,iBAAA6B,EAAA9B,KAAA,GAAA8B,EAAA8K,GAAA9K,EAAA,SAsFLgU,QAAQpL,MAAM,sBAAd5I,EAAA8K,IACA8nD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,sBAAuB,CAAEH,KAAM,CAAC20F,EAAWnjF,EAAA8K,OAC5DqP,QAAS,KAHVy4C,CAIGv3C,GA3FE,QA8FNof,EAAcusC,MAAkB,EAAhCvsC,CAAuCpf,GA9FjC,yBAAArb,EAAAhB,SAAAO,EAAA,kBAAP,gBAAA8D,EAAA+wE,GAAA,OAAAprF,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAkGM,SAAS2mF,KACf,sBAAAtiF,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAe6V,GAAf,IAAA4sE,EAAA,OAAA1gF,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsH,EAAAtH,KAAA,EACY+pF,eADZ,cACAD,EADAxiF,EAAA/G,KAAA+G,EAAA3G,OAAA,SAECuc,EAAS,CACfhsB,KAAMyyF,IACNmG,SAJK,wBAAAxiF,EAAAzG,SAAAwG,MAAP,gBAAArB,GAAA,OAAA3a,EAAAwO,MAAAkH,KAAA/Z,YAAA,YAScgjG,kFAAf,SAAAniF,IAAA,IAAA/S,EAAA6N,EAAAogF,EAAA,OAAA35E,EAAAriB,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,cAAAgI,EAAAhI,KAAA,EAC4B8B,aAAUqL,KAAWC,SAASpU,MAD1D,cAAAlE,EAAAkT,EAAAzH,KACSoC,EADT7N,EACS6N,SADTqF,EAAAhI,KAAA,EAE0B2C,EAASsnF,aAFnC,cAEOlH,EAFP/6E,EAAAzH,KAEiD8nE,QAFjDrgE,EAAArH,OAAA,SAIQoiF,GAJR,wBAAA/6E,EAAAnH,SAAAgH,sCAOeqiF,mFAAf,SAAAC,EAAA3+F,GAAA,IAAAoD,EAAAm0F,EAAAqH,EAAA,OAAAhhF,EAAAriB,EAAA8Y,KAAA,SAAAwqF,GAAA,cAAAA,EAAAtqF,KAAAsqF,EAAArqF,MAAA,UAAgCpR,EAAhCpD,EAAgCoD,GAAhCy7F,EAAA3pF,GACmB9R,EADnBy7F,EAAA3pF,GAAA,CAAA2pF,EAAArqF,KAAA,eAAAqqF,EAAArqF,KAAA,EACgCgqF,KADhC,OAAAK,EAAA3pF,GAAA2pF,EAAA9pF,KAAA,cACOwiF,EADPsH,EAAA3pF,GAEO0pF,EAAU7I,KAAkBwB,IAAc,GAFjDsH,EAAA1pF,OAAA,SAIQypF,GAJR,wBAAAC,EAAAxpF,SAAAspF,6BAOO,SAASG,KAAqC,IAAX17F,GAAW5H,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAP4H,GACzC,sBAAA7C,EAAA7D,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAewa,EAAU51B,GAAzB,IAAAD,EAAAkkF,EAAA3hF,EAAA2gG,EAAA,OAAAnhF,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,UACA3Y,EAAQC,IACRikF,EAAe99E,aAAmBpG,GAClCuC,EAAWQ,YAAe/C,GAH1Bwb,EAAAnC,GAMJ9W,IAAaujB,KAAWC,SAASpU,OAC/BpP,GAA6C,aAAjC2hF,EAAaiZ,IAAI,aAP3B3hF,EAAAnC,GAAA,CAAAmC,EAAA7C,KAAA,gBAAA6C,EAAA7C,KAAA,EAQE+mE,eARF,OAAAlkE,EAAA8J,GAAA9J,EAAAtC,KAAAsC,EAAA+J,GAQ6BO,KAAWC,SAASpU,KARjD6J,EAAAnC,GAAAmC,EAAA8J,KAAA9J,EAAA+J,GAAA,WAKA29E,EALA1nF,EAAAnC,GAAAmC,EAAAgK,GAWL09E,GAXK1nF,EAAAgK,GAAA,CAAAhK,EAAA7C,KAAA,gBAAA6C,EAAA2nF,GAYLx7F,aAZK6T,EAAA7C,KAAA,GAY2BkqF,GAAe,CAAEt7F,OAZ5C,QAAAiU,EAAA4nF,GAAA5nF,EAAAtC,KAYmDihF,IAZnD3+E,EAAAgK,GAAAhK,EAAA2nF,KAAA3nF,EAAA4nF,GAAA,YAAA5nF,EAAAgK,GAAA,CAAAhK,EAAA7C,KAAA,SAcLi+D,EACC,KACA,KACA,CACC5jE,MAAO7J,YAAU,WACjB6f,KAAM7f,YAAU,mCAAoC,CACnDH,KAAM,CAACkxF,KAAiB,WAAuBvoF,UAGjD,EATDilE,CAUE/gD,GAxBGra,EAAA7C,KAAA,iBA0BLi+D,EAAc,KAAM,KAAM,IAAI,GAAM,EAApCA,CAA2C/gD,GA1BtC,yBAAAra,EAAAhC,SAAA6B,MAAP,gBAAAiF,EAAAR,GAAA,OAAApb,EAAA8N,MAAAkH,KAAA/Z,YAAA,GA+BM,IAAM0jG,GAA0B,SAAAC,GACtC,sBAAAz+F,EAAAhE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8D,EAAetW,EAAG5F,GAAlB,IAAAD,EAAAujG,EAAAvhG,EAAAwhG,EAAAjhG,EAAAxB,EAAAsB,EAAAohG,EAAA,OAAA1hF,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,OACA3Y,EAAQC,IACRsjG,EAAUphG,YAAWnC,GACrBgC,EAAUD,YAAc/B,GAHxBwjG,EAIwBxhG,EAAQI,OAA9BG,EAJFihG,EAIEjhG,SAAUxB,EAJZyiG,EAIYziG,SAGjBwiG,GACAhhG,IAAaujB,KAAWC,SAASpU,MAC/B2xF,GAAkBviG,IAAYuiG,EAGrBC,IACLlhG,EAAWoD,YAAezF,GACxByjG,EAA0BphG,EAA1BohG,sBACRn9D,cAAQm9D,GAAyBA,IAA0BH,IAJ3Dh9D,eAXK,wBAAAxpB,EAAAtD,SAAA2C,MAAP,gBAAAunF,EAAAC,GAAA,OAAA9+F,EAAA2N,MAAAkH,KAAA/Z,YAAA,IAoBM,SAASikG,KACf,sBAAA1+F,EAAArE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0F,EAAelY,EAAG5F,GAAlB,IAAAc,EAAA,OAAAghB,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAAyF,EAAAzF,KAAA,EACgBkrF,eADhB,OACA9iG,EADAqd,EAAAlF,KAENmqF,GAAwBtiG,EAAxBsiG,CAAiCx9F,EAAG5F,GAF9B,wBAAAme,EAAA5E,SAAAuE,MAAP,gBAAA+lF,EAAAC,GAAA,OAAA7+F,EAAAsN,MAAAkH,KAAA/Z,YAAA,GAMM,SAAS+mF,KACf,sBAAAvhF,EAAAtE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2rF,EAAen+F,EAAG5F,GAAlB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAAyrF,GAAA,cAAAA,EAAAvrF,KAAAurF,EAAAtrF,MAAA,cAAAsrF,EAAAtrF,KAAA,EACWurF,eADX,OAENjB,GAAwB,CAAE17F,GAFpB08F,EAAA/qF,MAEN+pF,CAAgCp9F,EAAG5F,GAF7B,wBAAAgkG,EAAAzqF,SAAAwqF,MAAP,gBAAAG,EAAAC,GAAA,OAAAj/F,EAAAqN,MAAAkH,KAAA/Z,YAAA,GAMM,SAAS4mF,KACf,sBAAAz6E,EAAAjL,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqH,EAAe7Z,EAAG5F,GAAlB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,OACN+tE,KAAuB7gF,EAAG5F,GAC1B2jG,KAAuB/9F,EAAG5F,GACtB8yC,OAAOsxD,WACVtxD,OAAOsxD,SAASC,GAAG,kBAAmB,SAAAC,GACrC/1E,QAAQigD,IAAI,cAAe81B,EAAS,IACpClB,GAAwBkB,EAAS,GAAjClB,CAAqCx9F,EAAG5F,KAEzC8yC,OAAOsxD,SAASC,GAAG,iBAAkB,SAAAvB,GACpCv0E,QAAQigD,IAAI,iBAAkBs0B,GAC9BE,GAAwB,CAAE17F,GAAIw7F,GAA9BE,CAAyCp9F,EAAG5F,MAVxC,wBAAA0f,EAAAnG,SAAAkG,MAAP,gBAAA8kF,EAAAC,GAAA,OAAA34F,EAAA0G,MAAAkH,KAAA/Z,YAAA,YAgBc+kG,mFAAf,SAAAC,EAAAv4F,GAAA,IAAA1J,EAAA6hB,EAAAqgF,EAAAhhF,EAAAjX,EAAAk4F,EAAA,OAAA9iF,EAAAriB,EAAA8Y,KAAA,SAAAssF,GAAA,cAAAA,EAAApsF,KAAAosF,EAAAnsF,MAAA,cAA2BjW,EAA3B0J,EAA2B1J,MAAO6hB,EAAlCnY,EAAkCmY,SAC3BqgF,EAAOG,aAAariG,GAD3BoiG,EAAAnsF,KAAA,EAEoBqsF,aAAc,CAAEJ,OAAMrgF,aAF1C,cAEOX,EAFPkhF,EAAA5rF,KAAA4rF,EAAAnsF,KAAA,EAGmCssF,aAAe,CAAErhF,SAHpD,cAAAjX,EAAAm4F,EAAA5rF,KAGS2rF,EAHTl4F,EAGSk4F,gBAHTC,EAAAxrF,OAAA,WAKUurF,GAAmBA,EAAgBziG,QAL7C,yBAAA0iG,EAAAtrF,SAAAmrF,sCAQeO,mFAAf,SAAAC,EAAA74F,GAAA,IAAA5J,EAAA6hB,EAAAhiB,EAAA6iG,EAAAC,EAAAR,EAAA,OAAA9iF,EAAAriB,EAAA8Y,KAAA,SAAA8sF,GAAA,cAAAA,EAAA5sF,KAAA4sF,EAAA3sF,MAAA,cAA4BjW,EAA5B4J,EAA4B5J,MAAO6hB,EAAnCjY,EAAmCiY,SAAUhiB,EAA7C+J,EAA6C/J,SACtC6iG,EAAaL,aAAariG,GADjC4iG,EAAA3sF,KAAA,EAE0BqsF,aAAc,CAAEJ,KAAMQ,EAAY7gF,aAF5D,cAEO8gF,EAFPC,EAAApsF,KAAAosF,EAAA3sF,KAAA,EAG+Bs7D,aAAsB,CACnDvxE,QACA6hB,WACAhiB,aANF,cAGOsiG,EAHPS,EAAApsF,KAAAosF,EAAA3sF,KAAA,GASO4sF,aAAa,CAClB7iG,QACAkiG,KAAMQ,EACNxhF,KAAMyhF,EACNR,oBAbF,yBAAAS,EAAA9rF,SAAA2rF,6BAiBO,SAAS9e,KACf,sBAAA95E,EAAA1L,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAwG,EAAegX,EAAU51B,GAAzB,IAAAulG,EAAA9iG,EAAA6hB,EAAAhiB,EAAAkjG,EAAA,OAAA1jF,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,UACNs8B,EAAcywD,MAAqB,EAAnCzwD,CAAyCpf,GADnC1W,EAAAzG,KAAA,EAAA8sF,EAGiChjG,aAAavC,KAA3CyC,EAHH8iG,EAGG9iG,MAAO6hB,EAHVihF,EAGUjhF,SAAUhiB,EAHpBijG,EAGoBjjG,SACnBkjG,EAAuB,UAAbljG,GAAqC,UAAbA,EAJnC4c,EAAA9F,GAMDosF,GANCtmF,EAAA9F,GAAA,CAAA8F,EAAAxG,KAAA,eAAAwG,EAAAxG,KAAA,EAMkB+rF,GAAU,CAAEhiG,QAAO6hB,aANrC,OAAApF,EAAA9F,IAAA8F,EAAAjG,KAAA,WAAAiG,EAAA9F,GAAA,CAAA8F,EAAAxG,KAAA,gBAAAwG,EAAAxG,KAAA,GAOEusF,GAAW,CAAExiG,QAAO6hB,WAAUhiB,aAPhC,QAAA4c,EAAAxG,KAAA,iBAAAwG,EAAAzG,KAAA,GAAAyG,EAAAmG,GAAAnG,EAAA,iBAUN81B,EAAcywD,MAAqB,EAAnCzwD,CAA0Cpf,GAVpC,yBAAA1W,EAAA3F,SAAAqF,EAAA,kBAAP,gBAAA8mF,EAAAC,GAAA,OAAAr5F,EAAAiG,MAAAkH,KAAA/Z,YAAA,oCChdO+X,GAA2BjC,YAA3BiC,uBAEA07B,GAAyBF,UAAzBE,YAAapxC,GAAYkxC,UAAZlxC,QACb4xD,GAAmB3kD,cAAnB2kD,eAED,SAASwb,GAAT7uE,GAAoE,IAAzCgrB,EAAyChrB,EAAzCgrB,KAAM+jB,EAAmC/uC,EAAnC+uC,MAAOX,EAA4BpuC,EAA5BouC,SAAUh9B,EAAkBpR,EAAlBoR,KAAM4b,EAAYhtB,EAAZgtB,SAC9D,sBAAAtsB,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeid,EAAU51B,GAAzB,IAAAsC,EAAAnB,EAAA2rB,EAAAoiB,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACApW,EAAWQ,YAAe9C,KAD1BgZ,EAAAP,KAAA,EAGDi2B,GAAUA,EAASh9B,EAAM,CAAEw9B,SAAS,IACxC8F,EAActjC,EAAM29B,EAApB2F,CAA2Bpf,GAJtB5c,EAAAN,KAAA,EAKiByU,aAAgB,CACrC7B,OACA+B,aAAa,EACbC,WACAhrB,aATI,OAAAnB,EAAA6X,EAAAC,KAKG6T,EALH3rB,EAKG2rB,IAMFoiB,GAAWpiB,EAEb4hB,GACHA,EAASh9B,EAAM,CAAEw9B,QAASA,EAAS/gB,IAAK,CAAErB,IAAKA,GAAOuiB,MAAOA,IAdzDr2B,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SAiBLuV,QAAQpL,MAAM,6BAAdnK,EAAAI,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAC20F,EAAW1kF,EAAAI,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAxBE,QA0BNof,EAActjC,GAAM,EAApBsjC,CAA2Bpf,GA1BrB,yBAAA5c,EAAAO,SAAAZ,EAAA,kBAAP,gBAAAiB,EAAAJ,GAAA,OAAAxY,EAAAuR,MAAAkH,KAAA/Z,YAAA,GA8BM,SAAS+gF,GAAuBtzE,EAAMy4F,GAC5C,OAAO,SAAShwE,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNlvF,OACAgkE,OAAQy0B,KAKJ,SAAS3xD,GAAsB9mC,EAAMyG,GAC3C,OAAO,SAASgiB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNlvF,OACAyG,SAKI,SAAS86B,GACfc,EACA57B,EAFMrS,GAIL,IADC2tC,EACD3tC,EADC2tC,QACD22D,EAAAtkG,EADU4sB,WACV,IAAA03E,EADgB,CAAE/4E,IAAK,GAAI/jB,KAAM,IACjC88F,EAAAC,EAAAvkG,EADuC8tC,aACvC,IAAAy2D,KAAAC,EAAAxkG,EADsDsuC,iBACtD,IAAAk2D,KACD,sBAAArkG,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAeud,EAAU51B,GAAzB,IAAAmxE,EAAA,OAAArvD,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACDw2B,EAQMW,EACVoE,GAAsBzE,EAAtByE,CAAkCre,GAElCqe,GAAsBzE,EAAY57B,EAAlCqgC,CAAuCre,KAVnCu7C,EAAS,IACNv9D,GAAO,CACbi5B,OAAQnsC,aAAEytB,EAAIrB,IAAK,CAAE/jB,KAAMolB,EAAIplB,OAC/BsmC,MAAOA,GAGRoxC,GAAuBjxC,EAAY2hC,EAAnCsP,CAA2C7qD,IARtC,wBAAApd,EAAAe,SAAAlB,MAAP,gBAAA2C,EAAAF,GAAA,OAAApZ,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAiBM,IAAMsmG,GAAqB,eAAAhjG,EAAApC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAqC,EAAA5Y,GAAA,IAAAqtC,EAAA0T,EAAAoW,EAAA,OAAAl3C,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,UACpCw2B,EADoCrtC,EACpCqtC,QACA0T,EAFoC/gD,EAEpC+gD,QACAoW,EAHoCn3D,EAGpCm3D,WAEI9pB,GAA8B,oBAAZ0T,EALc,CAAAhoC,EAAAlC,KAAA,eAAAkC,EAAAlC,KAAA,EAM7BkqC,IAN6B,UAQ/B1T,GAAgC,oBAAd8pB,EARa,CAAAp+C,EAAAlC,KAAA,eAAAkC,EAAAlC,KAAA,EAS7BsgD,IAT6B,wBAAAp+C,EAAArB,SAAAkB,MAAH,gBAAAS,GAAA,OAAAlY,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAa3B,SAASumG,GAAmBz2D,EAAY2zC,EAAY1gF,EAAO4sC,GACjE,sBAAAnsC,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAe8b,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAENg2B,GAASc,EAAY,aAAc,CAClCN,QAFKA,IAAYi0C,KAAgB1gF,GAAS0gF,IAAe1gF,EAGzD0rB,IAAK,CAAErB,IAAK,mBACZuiB,SAHDX,CAIG9Y,GANGrb,EAAAlB,OAAA,SAQC61B,GARD,wBAAA30B,EAAAhB,SAAAO,MAAP,gBAAAkC,EAAA4B,GAAA,OAAA1a,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAYM,SAASwmG,GAAiB12D,EAAYlrB,EAAU+qB,GACtD,sBAAAjsC,EAAAxC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAe6V,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cACAw2B,EAAUliB,aAAc1I,GAC9BoqB,GAASc,EAAY,WAAY,CAChCN,UACA/gB,IAAK,CAAErB,IAAK,gBACZuiB,SAHDX,CAIG9Y,GANG5V,EAAA3G,OAAA,SAQC61B,GARD,wBAAAlvB,EAAAzG,SAAAwG,MAAP,gBAAA4uE,EAAAjwE,GAAA,OAAAtb,EAAAmP,MAAAkH,KAAA/Z,YAAA,GAYM,SAASymG,GACf32D,EACA4zC,EACA9+D,EACA+qB,GAEA,sBAAA9rC,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAewa,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAENg2B,GAASc,EAAY,gBAAiB,CACrCN,QAFKA,IAAYk0C,KAAmB9+D,GAAY8+D,IAAkB9+D,EAGlE6J,IAAK,CAAErB,IAAK,sBACZuiB,MAAOA,GAHRX,CAIG9Y,GANGra,EAAAlC,OAAA,SAQC61B,GARD,wBAAA3zB,EAAAhC,SAAA6B,MAAP,gBAAA6E,EAAAI,GAAA,OAAA9c,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS0mG,GAAY52D,EAAYiuD,EAAUpuD,GACjD,sBAAA5rC,EAAA7C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8D,EAAe0Z,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAENg2B,GAASc,EAAY,WAAY,CAChCN,QAFKA,IAAYuuD,EAGjBtvE,IAAK,CAAErB,IAAK,iBACZuiB,SAHDX,CAIG9Y,GANG/Y,EAAAxD,OAAA,SAQC61B,GARD,wBAAAryB,EAAAtD,SAAA2C,MAAP,gBAAA2D,EAAA4jF,GAAA,OAAAhgG,EAAA8O,MAAAkH,KAAA/Z,YAAA,GAYM,SAASswE,GAATpsE,GAAqD,IAA9B+pB,EAA8B/pB,EAA9B+pB,IAAK0hB,EAAyBzrC,EAAzByrC,MAAOX,EAAkB9qC,EAAlB8qC,SAAUh9B,EAAQ9N,EAAR8N,KACnD,sBAAA3N,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0F,EAAe8X,EAAU51B,GAAzB,IAAAsC,EAAA4B,EAAA4oB,EAAAoiB,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cACEpW,EAAatC,IAAWC,QAAQ8B,QAAQI,OAAxCG,SADF6b,EAAA1F,KAAA,EAGDi2B,GAAUA,EAASh9B,EAAM,CAAEw9B,SAAS,IACxC8F,EAActjC,EAAM29B,EAApB2F,CAA2Bpf,GAJtBzX,EAAAzF,KAAA,EAKiB+U,aAAY,CACjCE,MACArrB,aAPI,OAAA4B,EAAAia,EAAAlF,KAKG6T,EALH5oB,EAKG4oB,IAIFoiB,GAAWpiB,EACjBkoB,EAActjC,GAAM,EAApBsjC,CAA2Bpf,GACvB8Y,GACHA,EAASh9B,EAAM,CAAEw9B,QAASA,EAAS/gB,IAAK,CAAErB,IAAKA,GAAOuiB,MAAOA,IAZzDlxB,EAAAzF,KAAA,iBAAAyF,EAAA1F,KAAA,GAAA0F,EAAA/E,GAAA+E,EAAA,SAcLoQ,QAAQpL,MAAM,6BAAdhF,EAAA/E,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAAEH,KAAM,CAAAoV,EAAA/E,MACvDsb,QAAS,KAHVy4C,CAIGv3C,GAnBE,yBAAAzX,EAAA5E,SAAAuE,EAAA,kBAAP,gBAAA4lF,EAAAG,GAAA,OAAA9/F,EAAAwO,MAAAkH,KAAA/Z,YAAA,GAuBM,SAAS2mG,GAAe72D,EAAYrtC,EAAQktC,GAClD,sBAAAhrC,EAAAzD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2rF,EAAenuE,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAyrF,GAAA,cAAAA,EAAAvrF,KAAAurF,EAAAtrF,MAAA,cACAw2B,IAAY/sC,KAAYA,EAAOrB,QACrC4tC,GAASc,EAAY,SAAU,CAC9BN,QAASA,EACT/gB,IAAK,CAAErB,IAAK,0BACZuiB,SAHDX,CAIG9Y,GANGouE,EAAA3qF,OAAA,SAQC61B,GARD,wBAAA80D,EAAAzqF,SAAAwqF,MAAP,gBAAAD,EAAAI,GAAA,OAAA7/F,EAAAkO,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS4mG,GACf92D,EACAg0D,EACAn0D,GAEA,sBAAA5qC,EAAA7D,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqH,EAAemW,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,cAENg2B,GAASc,EAAY,wBAAyB,CAC7CN,QAFKA,IAAYs0D,EAGjBr1E,IAAK,CAAErB,IAAK,kCACZuiB,SAHDX,CAIG9Y,GANGlW,EAAArG,OAAA,SAQC61B,GARD,wBAAAxvB,EAAAnG,SAAAkG,MAAP,gBAAA0kF,EAAAI,GAAA,OAAA9/F,EAAA8N,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS6mG,GAAsB/2D,EAAYiuD,EAAUpuD,GAC3D,sBAAAzqC,EAAAhE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAwG,EAAegX,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cAENg2B,GAASc,EAAY,qBAAsB,CAC1CN,QAFKA,IAAYuuD,EAGjBtvE,IAAK,CAAErB,IAAK,4BACZuiB,SAHDX,CAIG9Y,GANG1W,EAAA7F,OAAA,SAQC61B,GARD,wBAAAhwB,EAAA3F,SAAAqF,MAAP,gBAAA4lF,EAAAgC,GAAA,OAAA5hG,EAAA2N,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS+mG,GAAsBj3D,EAAY/+B,EAAS4+B,GAC1D,sBAAApqC,EAAArE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAmI,EAAeqV,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,cACAw2B,IAAYz+B,GAAWA,EAAQ9Q,OACrC+uC,GAASc,EAAY,UAAW,CAC/BN,QAASA,EACT/gB,IAAK,CAAErB,IAAK,wBACZuiB,SAHDX,CAIG9Y,GANGlV,EAAArH,OAAA,SAQC61B,GARD,wBAAAxuB,EAAAnH,SAAAgH,MAAP,gBAAAmmF,EAAAhB,GAAA,OAAAzgG,EAAAsN,MAAAkH,KAAA/Z,YAAA,GAYM,SAASinG,GAATzhG,GAAuE,IAAjCsqC,EAAiCtqC,EAAjCsqC,WAAYlwB,EAAqBpa,EAArBoa,WAAY+vB,EAASnqC,EAATmqC,MACpE,sBAAAxjC,EAAAjL,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAyqF,EAAejtE,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAwqF,GAAA,cAAAA,EAAAtqF,KAAAsqF,EAAArqF,MAAA,cACAw2B,IACH5vB,GACoB,IAAtBA,EAAW3f,UACT2f,EAAW,MACXA,EAAW,MACXA,EAAW,GAAGhY,MACdgY,EAAW,GAAGqJ,UACS/oB,IAAzB0f,EAAW,GAAGutE,aACWjtF,IAAzB0f,EAAW,GAAGytE,aACYntF,IAA1B0f,EAAW,GAAG0tE,WACZ1tE,EAAW,GAAGhY,MACdgY,EAAW,GAAGqJ,UACS/oB,IAAzB0f,EAAW,GAAGutE,aACWjtF,IAAzB0f,EAAW,GAAGytE,aACYntF,IAA1B0f,EAAW,GAAG0tE,QAEft+C,GAASc,EAAY,aAAc,CAClCN,UACA/gB,IAAK,CAAErB,IAAK,kBACZuiB,SAHDX,CAIG9Y,GArBGmtE,EAAA1pF,OAAA,SAuBC61B,GAvBD,wBAAA6zD,EAAAxpF,SAAAspF,MAAP,gBAAA8C,EAAAiB,GAAA,OAAA/6F,EAAA0G,MAAAkH,KAAA/Z,YAAA,GA2BD,IAAMmnG,GAAkB,SAAA16F,GAIlB,IAAA26F,EAAA36F,EAHL4yC,kBAGK,IAAA+nD,EAHQzhG,wBAAa,GAGrByhG,EAFLn1F,EAEKxF,EAFLwF,cACAG,EACK3F,EADL2F,iBAEIqR,EAAQ,KAiBZ,OAhBKxR,EAAcub,UAAYvb,EAAcrM,GAAGy5C,KAC/C57B,EAAQ,CACPI,QAAS,oCACT0xB,KAAM,mBAGHtjC,EAAcub,UAAYvb,EAAc49E,GAAGz9E,KAC/CqR,EAAQ,CAAEI,QAAS,uBAAwB0xB,KAAM,qBAE9CtjC,EAAcqG,IAAI3S,wBAAa,MAClC8d,EAAQ,CAAEI,QAAS,mBAAoB0xB,KAAM,kBAE1CnjC,EAAiBkG,IAAI3S,wBAAa,MACrC8d,EAAQ,CAAEI,QAAS,eAAgB0xB,KAAM,qBAGnC,CAAE9xB,UAGH,SAAS4jF,GAAT16F,GASJ,IARFmjC,EAQEnjC,EARFmjC,WACAg+B,EAOEnhE,EAPFmhE,iBACAw5B,EAME36F,EANF26F,qCACAC,EAKE56F,EALF46F,2CACA7hG,EAIEiH,EAJFjH,SACAmQ,EAGElJ,EAHFkJ,OACA2xF,EAEE76F,EAFF66F,SACA73D,EACEhjC,EADFgjC,MAEA,sBAAA/iC,EAAA1L,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAssF,EAAe9uE,EAAU51B,GAAzB,IAAAkvC,EAAApiB,EAAA/jB,EAAAo+F,EAAA,OAAArlF,EAAAriB,EAAA8Y,KAAA,SAAAssF,GAAA,cAAAA,EAAApsF,KAAAosF,EAAAnsF,MAAA,cACFw2B,EAAUykB,GAAe6Z,GAEzB1gD,EAAMo6E,GAAY,2BAClBn+F,EAAO,GACPo+F,EAASj4D,EAAU3pC,sBAAWioE,EAAkBpoE,GAAY,KAC5D8hG,GACHh4D,GAAU,EACVpiB,EAAMo6E,GACIh4D,GAAWi4D,EAAOj6E,UAC5BgiB,GAAU,EACVpiB,EAAM,4BAENoiB,GACAi4D,EAAO7hG,GAAGD,wBAAa2hG,MAEvB93D,GAAU,EACVpiB,EAAM,6BACN/jB,EAAO,CAACk+F,EAA4C1xF,IAlB/CsvF,EAAAnsF,KAAA,EAqBAg2B,GAASc,EAAY,mBAAoB,CAC9CN,UACA/gB,IAAK,CAAErB,MAAK/jB,QACZsmC,SAHKX,CAIH9Y,GAzBG,cAAAivE,EAAAxrF,OAAA,SA2BC61B,GA3BD,wBAAA21D,EAAAtrF,SAAAmrF,MAAP,gBAAA0C,EAAAC,GAAA,OAAA/6F,EAAAiG,MAAAkH,KAAA/Z,YAAA,GA+BM,SAASk1D,GAATpnD,GAAkE,IAAlCgiC,EAAkChiC,EAAlCgiC,WAAYyF,EAAsBznC,EAAtBynC,KAAM7qC,EAAgBoD,EAAhBpD,MAAOilC,EAAS7hC,EAAT6hC,MAC/D,sBAAA3iC,EAAA9L,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8sF,EAAetvE,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAA8sF,GAAA,cAAAA,EAAA5sF,KAAA4sF,EAAA3sF,MAAA,cACAw2B,EAAUykB,GAAevpD,GAE/BskC,GAASc,EAAYyF,EAAM,CAC1B/F,UACA/gB,IAAK,CAAErB,IAAK,sBACZuiB,SAHDX,CAIG9Y,GAPGyvE,EAAAhsF,OAAA,SASC61B,GATD,wBAAAm2D,EAAA9rF,SAAA2rF,MAAP,gBAAAoC,EAAAC,GAAA,OAAA76F,EAAA6F,MAAAkH,KAAA/Z,YAAA,GAaM,SAAS8nG,GAATz6F,GAUJ,IATFyiC,EASEziC,EATFyiC,WACAyF,EAQEloC,EARFkoC,KACA7qC,EAOE2C,EAPF3C,MACAilC,EAMEtiC,EANFsiC,MACAxC,EAKE9/B,EALF8/B,OACAl7B,EAIE5E,EAJF4E,cACAG,EAGE/E,EAHF+E,iBACAitC,EAEEhyC,EAFFgyC,WACA35C,EACE2H,EADF3H,SAEA,sBAAAyI,EAAAjN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqvF,EAAe7xE,EAAU51B,GAAzB,IAAA0nG,EAAAx4D,EAAApiB,EAAA66E,EAAA7vF,EAAA8vF,EAAAC,EAAAl5F,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAuvF,GAAA,cAAAA,EAAArvF,KAAAqvF,EAAApvF,MAAA,cACAgvF,EAAgB/zC,GAAevpD,GACjC8kC,EAAUw4D,GAAiBniG,sBAAW6E,EAAOhF,GAC7C0nB,EAAM+f,GAAU,qBAEhBqC,IAEGp3B,EAAe,qBAATm9B,EAA8B7qC,EAAQ0H,EAE5C81F,EAAiBj0C,GAHjBg0C,EAAmB,kBAAT1yD,EAA2B7qC,EAAQuH,GAI7Ck2F,EAAal0C,GAAe77C,GAE9B8vF,GAAkBC,IACfl5F,EAASk4F,GAAgB,CAC9B9nD,aACAptC,cAAepM,sBAAWoiG,EAASviG,GACnC0M,iBAAkBvM,sBAAWuS,EAAK1S,KAGnC8pC,GAAWvgC,EAAOwU,MAClB2J,EAAMne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,KAI9CmrB,GAASc,EAAYyF,EAAM,CAC1B/F,UACA/gB,IAAK,CAAErB,OACPuiB,SAHDX,CAIG9Y,GA5BGkyE,EAAAzuF,OAAA,SA8BC61B,GA9BD,wBAAA44D,EAAAvuF,SAAAkuF,MAAP,gBAAAM,EAAAC,GAAA,OAAAn6F,EAAA0E,MAAAkH,KAAA/Z,YAAA,GAkCD,IAEMuoG,GAA6B,SAAAn6F,GAI7B,IAAAo6F,EAAAp6F,EAHLiE,eAGK,IAAAm2F,EAHK7+E,KAAKC,MAGV4+E,EAFLj2F,EAEKnE,EAFLmE,oBACAD,EACKlE,EADLkE,WAEImR,EAAQ,KAwBZ,OAtBIlR,GAAuBD,GAAcC,GAAuBD,EAC/DmR,EAAQ,CAAEI,QAAS,uBAAwB0xB,KAAM,uBAEjDhjC,GACAD,GACAC,EAAsBD,EAdI,KAgB1BmR,EAAQ,CACPI,QAAS,0BACTxa,KAAM,CAAC,IAAK,QACZksC,KAAM,uBAEGhjC,GAAuBA,EAAsBF,EACvDoR,EAAQ,CAAEI,QAAS,qBAAsB0xB,KAAM,uBACrCjjC,GAAcA,EAAaD,EACrCoR,EAAQ,CAAEI,QAAS,wBACTvR,IAAeC,EACzBkR,EAAQ,CAAEI,QAAS,aAAc0xB,KAAM,uBAC3BhjC,GAAuBD,IACnCmR,EAAQ,CAAEI,QAAS,kBAAmB0xB,KAAM,wBAGtC,CAAE9xB,UAGH,SAASglF,GAATC,GAQJ,IAPF54D,EAOE44D,EAPF54D,WACAyF,EAMEmzD,EANFnzD,KACA7qC,EAKEg+F,EALFh+F,MACAilC,EAIE+4D,EAJF/4D,MACAp9B,EAGEm2F,EAHFn2F,oBACAD,EAEEo2F,EAFFp2F,WACAD,EACEq2F,EADFr2F,QAEA,sBAAA/D,EAAApN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAiwF,EAAezyE,EAAU51B,GAAzB,IAAAwhB,EAAA7S,EAAAugC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAA+vF,GAAA,cAAAA,EAAA7vF,KAAA6vF,EAAA5vF,MAAA,cAKA/J,EAASs5F,GAA2B,CACzCh2F,oBAJS,wBAATgjC,EAAiC7qC,EAAQ6H,EAKzCD,WAJKwP,EAAgB,eAATyzB,EAAwB7qC,EAAQ4H,EAK5CD,YAGD28B,GAASc,EAAY,aAAc,CAClCN,UAAW1tB,EACX2M,IAAK,CACJrB,IAAK,mBAENuiB,MAAOA,GALRX,CAMG9Y,GAEH8Y,GAASc,EAAY,sBAAuB,CAC3CN,UAAWvgC,EAAOwU,OAA+B,wBAAtBxU,EAAOwU,MAAM8xB,MACxC9mB,IAAK,CACJrB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,GAC3Cxa,KAAM4F,EAAOwU,QAAUxU,EAAOwU,MAAMpa,MAAQ,KAE7CsmC,MAAOA,GANRX,CAOG9Y,GAEGsZ,GAAWvgC,EAAOwU,MA5BlBmlF,EAAAjvF,OAAA,SA8BC61B,GA9BD,wBAAAo5D,EAAA/uF,SAAA8uF,MAAP,gBAAAE,EAAAC,GAAA,OAAAx6F,EAAAuE,MAAAkH,KAAA/Z,YAAA,GAkCM,SAAS+oG,GAATx6F,GAA6D,IAA5BuhC,EAA4BvhC,EAA5BuhC,WAAYz8B,EAAgB9E,EAAhB8E,MAAOs8B,EAASphC,EAATohC,MAC1D,sBAAAq5D,EAAA9nG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAuwF,EAAe/yE,EAAU51B,GAAzB,IAAA2O,EAAAugC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAqwF,GAAA,cAAAA,EAAAnwF,KAAAmwF,EAAAlwF,MAAA,cACA/J,EAASwmC,MAAIzG,SAAS37B,EAAOogC,GAAYpgC,OAEzCm8B,GAAWvgC,EAAOwU,MAExBurB,GAASc,EAAY,QAAS,CAC7BN,UACA/gB,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,GAHRX,CAIG9Y,GATGgzE,EAAAvvF,OAAA,SAWC61B,GAXD,wBAAA05D,EAAArvF,SAAAovF,MAAP,gBAAAE,EAAAC,GAAA,OAAAJ,EAAAn2F,MAAAkH,KAAA/Z,YAAA,GAeM,SAASqpG,GAAT56F,GAQJ,IAPFqhC,EAOErhC,EAPFqhC,WACAyF,EAME9mC,EANF8mC,KACA3pB,EAKEnd,EALFmd,KAKE09E,EAAA76F,EAJFkf,mBAIE,IAAA27E,KAAAC,EAAA96F,EAHFmf,gBAGE,IAAA27E,KAFF55D,EAEElhC,EAFFkhC,MACA/sC,EACE6L,EADF7L,SAEA,sBAAA8L,EAAAxN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8wF,EAAetzE,EAAU51B,GAAzB,IAAAmpG,EAAAr8E,EAAAoiB,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAA6wF,GAAA,cAAAA,EAAA3wF,KAAA2wF,EAAA1wF,MAAA,cAAA0wF,EAAA1wF,KAAA,EACgByU,aAAgB,CACrC7B,OACA+B,cACAC,WACAhrB,aALK,cAAA6mG,EAAAC,EAAAnwF,KACE6T,EADFq8E,EACEr8E,IAOFoiB,GAAWpiB,EARXs8E,EAAA1wF,KAAA,EAUAg2B,GAASc,EAAYyF,EAAM,CAChC/F,UACA/gB,IAAK,CAAErB,OACPuiB,SAHKX,CAIH9Y,GAdG,cAAAwzE,EAAA/vF,OAAA,SAgBC61B,GAhBD,wBAAAk6D,EAAA7vF,SAAA2vF,MAAP,gBAAAG,EAAAC,GAAA,OAAAl7F,EAAAmE,MAAAkH,KAAA/Z,YAAA,GAoBM,SAAS6pG,GAATj7F,GAQJ,IAPFkhC,EAOElhC,EAPFkhC,WAOEg6D,EAAAl7F,EANFghE,eAME,IAAAk6B,EANQ,GAMRA,EAAAC,EAAAn7F,EALFm1E,kBAKE,IAAAgmB,EALW,GAKXA,EAJFl6B,EAIEjhE,EAJFihE,UACAjtE,EAGEgM,EAHFhM,SACAktE,EAEElhE,EAFFkhE,gBACAngC,EACE/gC,EADF+gC,MAEA,sBAAA9gC,EAAA3N,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAsxF,EAAe9zE,EAAU51B,GAAzB,IAAA2pG,EAAAz6D,EAAApiB,EAAA/jB,EAAA,OAAA+Y,EAAAriB,EAAA8Y,KAAA,SAAAqxF,GAAA,cAAAA,EAAAnxF,KAAAmxF,EAAAlxF,MAAA,cACAixF,EACLr6B,GAAWA,EAAQ3uD,gBAAkB8iE,EAAW9iE,cAC7CuuB,EAAUsgC,IAAoBm6B,EAE9B78E,EAAM,GACJ/jB,EAAO,SAAA+J,OAASy8D,EAAT,UAA4BjtE,EAAS2gC,eAC9C0mE,GAAkC,IAAdp6B,EACvBziD,EAAM,yBACI68E,GAAkC,IAAdp6B,EAC9BziD,EAAM,yBACI68E,GAAoBp6B,GAAa,EAC3CrgC,GAAU,EACCy6D,IACXz6D,GAAU,GAdL06D,EAAAlxF,KAAA,EAiBAg2B,GAASc,EAAY,iBAAkB,CAC5CN,UACA/gB,IAAK,CAAErB,MAAK/jB,QACZsmC,SAHKX,CAIH9Y,GArBG,cAAAg0E,EAAAvwF,OAAA,SAuBC,CAAE61B,UAASpiB,QAvBZ,wBAAA88E,EAAArwF,SAAAmwF,MAAP,gBAAAG,EAAAC,GAAA,OAAAv7F,EAAAgE,MAAAkH,KAAA/Z,YAAA,GA2BM,SAASqqG,GAATv7F,GAA6D,IAAhCghC,EAAgChhC,EAAhCghC,WAAY+/B,EAAoB/gE,EAApB+gE,UAAWlgC,EAAS7gC,EAAT6gC,MAC1D,sBAAA26D,EAAAppG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA6xF,EAAer0E,EAAU51B,GAAzB,IAAAkvC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAA2xF,GAAA,cAAAA,EAAAzxF,KAAAyxF,EAAAxxF,MAAA,cACAw2B,EACLtuC,OAAOuJ,OAAOsN,IAAwBk8B,QAAQ47B,IAAc,EAFvD26B,EAAAxxF,KAAA,EAGAg2B,GAASc,EAAY,YAAa,CACvCN,UACA/gB,IAAK,CAAErB,IAAK,+BACZuiB,SAHKX,CAIH9Y,GAPG,cAAAs0E,EAAA7wF,OAAA,SASC61B,GATD,wBAAAg7D,EAAA3wF,SAAA0wF,MAAP,gBAAAE,EAAAC,GAAA,OAAAJ,EAAAz3F,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS2qG,GAATC,GAAwE,IAA1C96D,EAA0C86D,EAA1C96D,WAAYplC,EAA8BkgG,EAA9BlgG,MAAO6qC,EAAuBq1D,EAAvBr1D,KAAMvuB,EAAiB4jF,EAAjB5jF,OAAQ2oB,EAASi7D,EAATj7D,MACrE,sBAAAk7D,EAAA3pG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAoyF,EAAe50E,GAAf,IAAAjnB,EAAAugC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAkyF,GAAA,cAAAA,EAAAhyF,KAAAgyF,EAAA/xF,MAAA,cACA/J,EAASwmC,MAAIzG,SAAStkC,EAAOsc,GAC7BwoB,GAAWvgC,EAAOwU,MAFlBsnF,EAAA/xF,KAAA,EAIAg2B,GAASc,EAAYyF,EAAM,CAChC/F,UACA/gB,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClD8rB,MAAOA,GAHFX,CAIH9Y,GARG,cAAA60E,EAAApxF,OAAA,SAUC61B,GAVD,wBAAAu7D,EAAAlxF,SAAAixF,MAAP,gBAAAE,GAAA,OAAAH,EAAAh4F,MAAAkH,KAAA/Z,YAAA,GAcM,SAASirG,GAAcn7D,EAAY/sC,EAAO4sC,EAAOu7D,GACvD,sBAAAC,EAAAjqG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0yF,EAAel1E,GAAf,IAAAjnB,EAAAugC,EAAApiB,EAAAi+E,EAAAC,EAAA,OAAAlpF,EAAAriB,EAAA8Y,KAAA,SAAA0yF,GAAA,cAAAA,EAAAxyF,KAAAwyF,EAAAvyF,MAAA,UACA/J,EAASwmC,MAAIzG,SAASjsC,EAAOV,GAAQU,OACvCysC,GAAWvgC,EAAOwU,MAClB2J,EAAMne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAE5CqnF,IAAuB17D,EALrB,CAAA+7D,EAAAvyF,KAAA,gBAAAuyF,EAAAvyF,KAAA,EAMuBwyF,aAAS,CAAEzoG,UANlC,UAAAwoG,EAAA7xF,GAAA6xF,EAAAhyF,KAAAgyF,EAAA7xF,GAAA,CAAA6xF,EAAAvyF,KAAA,QAAAuyF,EAAA7xF,GAM+C,GAN/C,OAAA2xF,EAAAE,EAAA7xF,GAMG4xF,EANHD,EAMGC,SACR97D,GAAuB,IAAb87D,EACVl+E,EAAM,qBARD,eAAAm+E,EAAAvyF,KAAA,GAWAg2B,GAASc,EAAY,QAAS,CACnCN,UACA/gB,IAAK,CAAErB,OACPuiB,SAHKX,CAIH9Y,GAfG,eAAAq1E,EAAA5xF,OAAA,SAiBC61B,GAjBD,yBAAA+7D,EAAA1xF,SAAAuxF,MAAP,gBAAAK,GAAA,OAAAN,EAAAt4F,MAAAkH,KAAA/Z,YAAA,GClhBM,SAASugF,GAAehrC,EAAM7qC,GACpC,OAAO,SAASwrB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNpnD,KAAMA,EACN7qC,MAAOA,KAKH,SAAS+2E,KACf,OAAO,SAASvrD,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,OAKF,SAAS/e,GAATh9E,GAA2C,IAAnBmC,EAAmBnC,EAAnBmC,MAAOH,EAAYhC,EAAZgC,SACrC,OAAO,SAASszB,GAWf,OAVAA,EAAS,CACRhsB,KAAMyyF,MAGPzmE,EAAS,CACRhsB,KAAMyyF,IACNpnD,KAAM,QACN7qC,MAAO3H,IAGDmzB,EAAS,CACfhsB,KAAMyyF,IACNpnD,KAAM,WACN7qC,MAAO9H,KAMH,SAASs+E,GAAa3rC,EAAM7qC,GAClC,OAAO,SAASwrB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,KACNpnD,KAAMA,EACN7qC,MAAOA,KAKH,SAASghG,KACf,OAAO,SAASx1E,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,OAKF,SAASgP,GAAoBjyE,GACnC,sBAAAp4B,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeid,GAAf,IAAA2V,EAAA+/D,EAAAC,EAAA,OAAAzpF,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OACNs8B,EAAcysC,MAAwB,EAAtCzsC,CAA4Cpf,GACtC2V,EAAOnS,EAAMqB,OAAO+wE,MAAM,IAC1BF,EAAS,IAAIG,YAEZrjE,OAAS,SAAAjK,GACf,IACC,IAAM41C,EAAMrpD,KAAKwD,MAAMiQ,EAAG1D,OAAO9rB,QACjC,KACEolE,GACAA,EAAIngE,KACJmgE,EAAI5xE,QACJ4xE,EAAI5xE,OAAO2K,MACXinE,EAAI5xE,OAAOC,UACX2xE,EAAI5xE,OAAO6a,YAEZ,MAAM,IAAIkG,MAAMha,YAAU,sBAE1BklB,aAAmB2lD,EAAI5xE,OAAQ4xE,EAAIngE,KACnCqsE,GAAe,sBAAuBlM,EAAIngE,IAA1CqsE,CAA+CrqD,GAC/Cu3C,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,kCACjBwrB,QAAS,KAHVy4C,CAIGv3C,GAEH,MAAOzH,GACRI,QAAQpL,MAAM,sCAAuCgL,GACrDg/C,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAColB,EAAI5K,WAEZmR,QAAS,KALVy4C,CAMGv3C,GAEJof,EAAcysC,MAAwB,EAAtCzsC,CAA4Cpf,IAGvC21E,EAAU,SAAAp9E,GACfI,QAAQpL,MAAM,gCAAiCgL,GAC/Cg/C,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAC20F,EAAYvvE,MAEpBuG,QAAS,KALVy4C,CAMGv3C,GACHof,EAAcysC,MAAwB,EAAtCzsC,CAA6Cpf,IAG9C01E,EAAOnjE,QAAU,SAAAhK,GAChBmtE,EAAOI,QACPH,EAAQriG,gBAGToiG,EAAOjjE,QAAU,SAAAlK,GAChBotE,EAAQriG,YAAU,0BAGnBoiG,EAAOK,WAAWpgE,GA5DZ,wBAAAvyB,EAAAO,SAAAZ,MAAP,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAgEM,SAASmzE,GAAT1xE,GAAsC,IAAZ2xE,EAAY3xE,EAAZ2xE,SAChC,sBAAAvxE,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAeud,EAAU51B,GAAzB,IAAA+B,EAAA,OAAA+f,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEC1W,EAAUD,YAAc9B,KAFzBwY,EAAAE,KAAA,EAGgBq6D,aAAe,CACnCD,WACA/wE,YALI,OAAAyW,EAAAS,KAQLk0D,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,yBAA0B,CAAEH,KAAM,CAAC+pE,KACpDp+C,QAAS,KAHVy4C,CAIGv3C,GAZEpd,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAY,GAAAZ,EAAA,SAcL+V,QAAQpL,MAAM,kBAAd3K,EAAAY,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,kBAAmB,CACnCH,KAAM,CAAAyP,EAAAY,MAEPsb,QAAS,KALVy4C,CAMGv3C,GArBE,yBAAApd,EAAAe,SAAAlB,EAAA,iBAAP,gBAAAmB,EAAAwB,GAAA,OAAAzZ,EAAAgR,MAAAkH,KAAA/Z,YAAA,GA0BM,SAASsyE,GAATtwE,GAA4D,IAAhC8rE,EAAgC9rE,EAAhC8rE,iBAAkBC,EAAc/rE,EAAd+rE,WACpD,sBAAA5rE,EAAAjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqC,EAAemb,EAAU51B,GAAzB,IAAA+B,EAAA4M,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAnC,KAAA,EAEC1W,EAAUD,YAAc9B,KAFzB4a,EAAAlC,KAAA,EAGgBkzF,aAAqB,CACzC7pG,UACAyrE,mBACAC,eANI,OAGC9+D,EAHDiM,EAAA3B,KAQLk0D,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,iCAAkC,CAClDH,KAAM,CAAC4F,KAER+lB,QAAS,KALVy4C,CAMGv3C,GAdEhb,EAAAlC,KAAA,gBAAAkC,EAAAnC,KAAA,EAAAmC,EAAAxB,GAAAwB,EAAA,SAgBL2T,QAAQpL,MAAM,qCAAdvI,EAAAxB,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,qCAAsC,CACtDH,KAAM,CAAC20F,EAAW9iF,EAAAxB,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAvBE,yBAAAhb,EAAArB,SAAAkB,EAAA,iBAAP,gBAAAK,EAAAI,GAAA,OAAArZ,EAAA0Q,MAAAkH,KAAA/Z,YAAA,GA4BM,SAAS8yE,GAATxvE,GAKJ,IAJFwqE,EAIExqE,EAJFwqE,iBACAC,EAGEzqE,EAHFyqE,WACAoB,EAEE7rE,EAFF6rE,aACAI,EACEjsE,EADFisE,cAEA,sBAAA/rE,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAe8b,EAAU51B,GAAzB,IAAA+B,EAAA4M,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA9B,KAAA,EAEC1W,EAAUD,YAAc9B,KAFzBua,EAAA7B,KAAA,EAGgBg6D,aAAgC,CACpD3wE,UACAyrE,mBACAC,aACAoB,eACAI,kBARI,OAGCtgE,EAHD4L,EAAAtB,KAWLk0D,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,iCAAkC,CAAEH,KAAM,CAAC4F,KAC5D+lB,QAAS,KAHVy4C,CAIGv3C,GAfErb,EAAA7B,KAAA,gBAAA6B,EAAA9B,KAAA,EAAA8B,EAAAnB,GAAAmB,EAAA,SAiBLgU,QAAQpL,MAAM,qCAAd5I,EAAAnB,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,qCAAsC,CACtDH,KAAM,CAAC20F,EAAWnjF,EAAAnB,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAxBE,yBAAArb,EAAAhB,SAAAO,EAAA,iBAAP,gBAAAkC,EAAA4B,GAAA,OAAA1a,EAAAqP,MAAAkH,KAAA/Z,YAAA,GA6BM,SAASokF,GAAT1gF,GAA8C,IAAnBghF,EAAmBhhF,EAAnBghF,MAAO9hF,EAAYc,EAAZd,SACxC,sBAAAiB,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAewa,EAAU51B,GAAzB,IAAAyD,EAAA4X,EAAAwwF,EAAA/+F,EAAA,OAAAgV,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cACNs8B,EAAcgvC,MAA0B,EAAxChvC,CAA8Cpf,GADxCra,EAAA9C,KAAA,EAAA8C,EAAA7C,KAAA,EAGsB8B,aAAUlY,GAHhC,cAAAmB,EAAA8X,EAAAtC,KAGGoC,EAHH5X,EAGG4X,SAHHE,EAAA7C,KAAA,EAIsBozF,aAAmB,CAAE1nB,UAJ3C,cAICynB,EAJDtwF,EAAAtC,KAKCnM,EAAOlM,OAAOypD,QAAQwhD,GAAczqG,IAA7B,eAAA2C,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACZ,SAAA2H,EAAAnc,GAAA,IAAAM,EAAA+C,EAAAsoE,EAAA5hD,EAAA,OAAA7L,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAxU,EAAAtD,OAAA4J,EAAA,EAAA5J,CAAAgD,EAAA,GAAQqD,EAAR/C,EAAA,GAAsBqrE,EAAtBrrE,EAAA,GAAA8b,EAAAvH,KAAA,EAAAuH,EAAAtH,KAAA,EAEoB2C,EAAS0wF,cAAc9kG,GAF3C,cAEQ0mB,EAFR3N,EAAA/G,KAAA+G,EAAA3G,OAAA,SAGS,CACNjX,SAAU6E,EACVsoE,YACA5hD,QANH,cAAA3N,EAAAvH,KAAA,EAAAuH,EAAA5G,GAAA4G,EAAA,SAAAA,EAAA3G,OAAA,SASS,MATT,yBAAA2G,EAAAzG,SAAAwG,EAAA,iBADY,gBAAAE,GAAA,OAAAlc,EAAAwO,MAAAkH,KAAA/Z,YAAA,IALR6b,EAAA7C,KAAA,GAoB0BgB,QAAQjZ,IAAIqM,GApBtC,QAAAyO,EAAAnC,GAoBoD,SAAA6xB,GAAC,QAAMA,GAEhEg1C,GAAe,kBAtBV1kE,EAAAtC,KAoB6CnN,OApB7CyP,EAAAnC,IAsBL6mE,CAAmDrqD,GAtB9Cra,EAAA7C,KAAA,iBAAA6C,EAAA9C,KAAA,GAAA8C,EAAA8J,GAAA9J,EAAA,SAwBLgT,QAAQpL,MAAM,+BAAd5H,EAAA8J,IACA8nD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,+BAAgC,CAChDH,KAAM,CAAC20F,EAAWniF,EAAA8J,OAEnBqP,QAAS,KALVy4C,CAMGv3C,GA/BE,QAiCNof,EAAcgvC,MAA0B,EAAxChvC,CAA+Cpf,GAjCzC,yBAAAra,EAAAhC,SAAA6B,EAAA,kBAAP,gBAAAuzE,EAAAjwE,GAAA,OAAAnb,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAqCM,SAASyyE,GAAT9tE,GAAuD,IAAtBirE,EAAsBjrE,EAAtBirE,QAASC,EAAalrE,EAAbkrE,UAChD,sBAAA9qE,EAAA7D,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8D,EAAe0Z,EAAU51B,GAAzB,IAAA+B,EAAA4M,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAApE,KAAA,EAEC1W,EAAUD,YAAc9B,KAFzB6c,EAAAnE,KAAA,EAGgB05D,aAAqB,CACzCrwE,UACAutE,UACAC,cANI,OAGC5gE,EAHDkO,EAAA5D,KAQLk0D,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,sCAAuC,CACvDH,KAAM,CAAC4F,KAER+lB,QAAS,KALVy4C,CAMGv3C,GAdE/Y,EAAAnE,KAAA,gBAAAmE,EAAApE,KAAA,EAAAoE,EAAAzD,GAAAyD,EAAA,SAgBL0R,QAAQpL,MAAM,0CAAdtG,EAAAzD,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,0CAA2C,CAC3DH,KAAM,CAAC20F,EAAW7gF,EAAAzD,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAvBE,yBAAA/Y,EAAAtD,SAAA2C,EAAA,iBAAP,gBAAAmE,EAAAR,GAAA,OAAApb,EAAA8N,MAAAkH,KAAA/Z,YAAA,GA4BM,SAASwhF,KACf,sBAAAt8E,EAAAhE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0F,EAAe8X,EAAU51B,GAAzB,IAAAgsG,EAAA7pG,EAAAM,EAAAopG,EAAAI,EAAAjK,EAAAh+F,EAAA5B,EAAA,OAAA0f,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,UAAAyF,EAAA1F,KAAA,EAAAuzF,EASDxmG,YAAexF,KANlBmC,EAHI6pG,EAGJ7pG,OACAM,EAJIupG,EAIJvpG,MACAopG,EALIG,EAKJH,aACAI,EANID,EAMJC,eACAjK,EAPIgK,EAOJhK,iBAPIgK,EAQJE,gBARI,CAAA/tF,EAAAzF,KAAA,eAAAyF,EAAAzF,KAAA,EAYEyzF,aAAWvrG,OAAAC,EAAA,EAAAD,CAAA,CAChBwjF,MAAOjiF,EAAOrB,QACd2B,MAAOA,EAAMke,eACVsrF,IAfA,cAAA9tF,EAAAzF,KAAA,EAoBG8oF,aAAgB,CACtBv6F,aAAc4kG,EAAa/qG,UArBxB,UAAAqd,EAAA/E,GAAA+E,EAAAlF,KAAAkF,EAAA/E,GAAA,CAAA+E,EAAAzF,KAAA,SAAAyF,EAAA/E,GAsBG,GAtBH,eAmBCpV,EAnBDma,EAAA/E,GAwBChX,EAxBDxB,OAAAC,EAAA,EAAAD,CAAA,GAyBDirG,EAzBC,CA0BJ/qG,QAASkD,EAAYG,WAAW0yC,IAChC/xC,kBAAmBd,EAAYc,kBAC/B28F,gBAAiBz9F,EAAYy9F,gBAC7Bz9F,gBA7BIma,EAAAzF,KAAA,GAgCCopF,GAAc,CACnB1/F,WACAD,SACAM,QACAu/F,mBAJKF,CAKHlsE,EAAU51B,GArCR,QAAAme,EAAAzF,KAAA,iBAAAyF,EAAA1F,KAAA,GAAA0F,EAAAkH,GAAAlH,EAAA,SAuCLoQ,QAAQpL,MAAM,YAAdhF,EAAAkH,IACA8nD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,YAAa,CAAEH,KAAM,CAAC20F,EAAWv/E,EAAAkH,OAClDqP,QAAS,KAHVy4C,CAIGv3C,GA5CE,yBAAAzX,EAAA5E,SAAAuE,EAAA,kBAAP,gBAAA2lF,EAAAC,GAAA,OAAA9+F,EAAA2N,MAAAkH,KAAA/Z,YAAA,GAiDM,SAASolF,GAAT7/E,GAAmD,IAArBuqC,EAAqBvqC,EAArBuqC,WAAYH,EAASpqC,EAAToqC,MAChD,sBAAAnqC,EAAAtE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2rF,EAAenuE,EAAU51B,GAAzB,IAAAoC,EAAAkiB,EAAA7hB,EAAAH,EAAAH,EAAAghB,EAAAipF,EAAA7nF,EAAAogF,EAAAhhF,EAAA9X,EAAA+4F,EAAAU,EAAAxyE,EAAAoc,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAyrF,GAAA,cAAAA,EAAAvrF,KAAAurF,EAAAtrF,MAAA,UACNs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GAC1BxzB,EAAWoD,YAAexF,KACxBskB,EAA8BliB,EAA9BkiB,SAAU7hB,EAAoBL,EAApBK,MAAOH,EAAaF,EAAbE,SAErBH,EAAS,GACTghB,EAAQ,4BACRipF,EAAiB9pG,EAPf0hG,EAAAvrF,KAAA,GAUDhW,IAAS6hB,EAVR,CAAA0/E,EAAAtrF,KAAA,gBAAAsrF,EAAAtrF,KAAA,GAWmBgM,aAAe,CACrCjiB,QACA6hB,WACAhiB,SAAU8pG,IAdP,WAWA7nF,EAXAy/E,EAAA/qF,KAAA,CAAA+qF,EAAAtrF,KAAA,gBAkBGisF,EAAOG,aAAariG,GAlBvBuhG,EAAAtrF,KAAA,GAmBgBqsF,aAAc,CAAEJ,OAAMrgF,aAnBtC,eAmBGX,EAnBHqgF,EAAA/qF,KAAA+qF,EAAAtrF,KAAA,GAqBKssF,aAAe,CACrBrhF,SAtBC,WAAAqgF,EAAA5qF,GAAA4qF,EAAA/qF,KAAA+qF,EAAA5qF,GAAA,CAAA4qF,EAAAtrF,KAAA,SAAAsrF,EAAA5qF,GAuBK,GAvBL,WAAAvN,EAAAm4F,EAAA5qF,GAoBKwrF,EApBL/4F,EAoBK+4F,mBAKFU,EAAeV,GAAmB,IAG1BziG,QACbmjG,EAAa1xF,KACb0xF,EAAanjG,OAAO2K,MACpBw4F,EAAanjG,OAAOC,UACpBkjG,EAAanjG,OAAO6a,YAhClB,CAAAgnF,EAAAtrF,KAAA,gBAkCIoa,EAAOu5E,aAAW/G,EAAa1xF,IAAK,SAAU,MACpDw4F,EAAiBt5E,EAAKxwB,SACtB8rB,aAAmBk3E,EAAanjG,OAAQmjG,EAAa1xF,KApCnDowF,EAAAtrF,KAAA,GAsCiBgM,aAAe,CACjCjiB,QACA6hB,WACAhiB,SAAU8pG,IAzCT,QAsCF7nF,EAtCEy/E,EAAA/qF,KAAA,aA8CEsL,GAAcA,EAAWzX,MAAQyX,EAAWzX,KAAKhM,SA9CnD,CAAAkjG,EAAAtrF,KAAA,aA+CHvW,EAAMvB,OAAAC,EAAA,EAAAD,CAAA,GAAQ2jB,EAAWzX,OAClBrK,MAAQA,EACfN,EAAOmiB,SAAWA,EAClBniB,EAAOG,SAAW8pG,GAAkBvmF,KAAWK,MAAMxU,KACrDvP,EAAOC,SAAW,CACjBtB,QAASyjB,EAAWniB,SACpB4a,WAAYuH,EAAWvH,YAAcuH,EAAW+nF,oBAG5ChqG,EAxDF,CAAA0hG,EAAAtrF,KAAA,gBAAAsrF,EAAAtrF,KAAA,GAyDIwtE,aAAoB,CAAEzjF,QAAO6hB,aAzDjC,QA0DF27D,GAAe,mBAAmB,EAAlCA,CAAwCrqD,GA1DtC,QA8DJqqD,GAAe,eAAgB17D,EAAaA,EAAWniB,SAAW,KAAlE69E,CACCrqD,GAEDqqD,GAAe,SAAU99E,EAAzB89E,CAAiCrqD,GACjCqqD,GAAe,aAAc99E,EAAOrB,QAApCm/E,CAA6CrqD,GAC7CqqD,GAAe,eAAgB99E,EAAOC,SAAtC69E,CAAgDrqD,GAnE5C,QAAAouE,EAAAtrF,KAAA,iBAAAsrF,EAAAvrF,KAAA,GAAAurF,EAAA3+E,GAAA2+E,EAAA,SAsELz1E,QAAQpL,MAAM,yBAAd6gF,EAAA3+E,IACAlC,EAAK6gF,EAAA3+E,GAvEA,WA0EA6pB,IAAY/sC,EAAOrB,QAEzB4tC,GAASc,EAAY,SAAU,CAC9BN,UACA/gB,IAAK,CAAErB,IAAK,yBAA0B/jB,KAAM,CAAC20F,EAAYv6E,KACzDksB,MAAOA,GAHRX,CAIG9Y,IAECsZ,EAlFE,CAAA80D,EAAAtrF,KAAA,gBAAAsrF,EAAAtrF,KAAA,GAmFCwoE,KAAQtrD,EAAU51B,GAnFnB,QAqFNg1C,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GArF3B,yBAAAouE,EAAAzqF,SAAAwqF,EAAA,kBAAP,gBAAAF,EAAAC,GAAA,OAAA5+F,EAAAqN,MAAAkH,KAAA/Z,YAAA,GAyFM,SAASslF,GAAT74E,GAAsD,IAArBqjC,EAAqBrjC,EAArBqjC,WAAYH,EAASljC,EAATkjC,MACnD,sBAAAhjC,EAAAzL,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqH,EAAemW,EAAU51B,GAAzB,IAAAoC,EAAAD,EAAA4hF,EAAAjjF,EAAAyrG,EAAAV,EAAA38D,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,UACNs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GAD1BlW,EAAAjH,KAAA,EAGCrW,EAAWoD,YAAexF,KACxBmC,EAAoCC,EAApCD,OAAQ4hF,EAA4B3hF,EAA5B2hF,wBACRjjF,EAAYqB,EAAZrB,QAEFyrG,GAAqBxoB,GAA2B,IAAIphF,MAAM,KAC1DkpG,EAAe,CACpB/qG,QAASyrG,EAAkB,GAC3BvvF,WAAYtP,SAAS6+F,EAAkB,IAAM,IAG9CtsB,GAAe,SAAU99E,EAAzB89E,CAAiCrqD,GACjCqqD,GAAe,aAAcn/E,EAA7Bm/E,CAAsCrqD,GACtCqqD,GAAe,eAAgB4rB,EAA/B5rB,CAA6CrqD,GAI7C8Y,GAASc,EAAY,0BAA2B,CAC/CN,QAHKA,IAAY28D,EAAa/qG,QAI9BqtB,IAAK,CAAErB,IAAK,6BACZuiB,MAAOA,GAHRX,CAIG9Y,IAECsZ,EAzBC,CAAAxvB,EAAAhH,KAAA,gBAAAgH,EAAAhH,KAAA,GA0BEwoE,KAAQtrD,EAAU51B,GA1BpB,QAAA0f,EAAAhH,KAAA,iBAAAgH,EAAAjH,KAAA,GAAAiH,EAAAtG,GAAAsG,EAAA,SA6BL6O,QAAQpL,MAAM,gCAAdzD,EAAAtG,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,gCAAiC,CACjDH,KAAM,CAAC20F,EAAWh+E,EAAAtG,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GApCE,QAuCNof,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GAvC3B,yBAAAlW,EAAAnG,SAAAkG,EAAA,kBAAP,gBAAAykF,EAAAC,GAAA,OAAA93F,EAAAkG,MAAAkH,KAAA/Z,YAAA,GA2CM,SAAS8sG,GAATlgG,GAAsE,IAAxCkjC,EAAwCljC,EAAxCkjC,WAAYH,EAA4B/iC,EAA5B+iC,MAAOo9D,EAAqBngG,EAArBmgG,kBACvD,sBAAAj/F,EAAA5M,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAwG,EAAegX,EAAU51B,GAAzB,IAAAoC,EAAA6E,EAAAxE,EAAAN,EAAA+sC,EAAAu0C,EAAApgE,EAAAwoF,EAAA,OAAA/pF,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,WACL+zF,GAAqBz3D,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GAChDxzB,EAAWoD,YAAexF,KACxBiH,EAAgC7E,EAAhC6E,aAAcxE,EAAkBL,EAAlBK,MAAON,EAAWC,EAAXD,OAHvB+c,EAAAzG,KAAA,EAKDy2B,IAAYjoC,KAAkB9E,KAAYM,EACzCwE,IAAgB9E,IAAYM,EAN5B,CAAAyc,EAAAxG,KAAA,gBAOE+qE,EAAathF,EAAOrB,QAPtBoe,EAAAxG,KAAA,EASiBg0F,aAAsB,CAAEtoB,MAAOX,IAThD,OASEpgE,EATFnE,EAAAjG,KAUE4yF,EAAe,CACpB/qG,QAASuiB,EAAOpc,aAChB+V,WAAYqG,EAAOrG,YAGpBijE,GAAe,eAAgB58D,EAAOpc,aAAtCg5E,CAAoDrqD,GACpDqqD,GAAe,iBAAkB58D,EAAjC48D,CAAyCrqD,GACzCqqD,GAAe,eAAgB4rB,EAA/B5rB,CAA6CrqD,GAE7CqqD,GAAe,SAAU99E,EAAzB89E,CAAiCrqD,GACjCqqD,GAAe,aAAcwD,EAA7BxD,CAAyCrqD,GACzCqqD,GAAe,mBAAmB,EAAlCA,CAAwCrqD,GAExCsZ,EAAU7rB,EAAOpc,gBAAkB9E,KAAYM,EAvB3C,eAAAyc,EAAAxG,KAAA,GA0BCg2B,GAASc,EAAY,eAAgB,CAC1CN,UACA/gB,IAAK,CAAErB,IAAK,8BACZuiB,SAHKX,CAIH9Y,GA9BE,YAgCDsZ,EAhCC,CAAAhwB,EAAAxG,KAAA,gBAAAwG,EAAAxG,KAAA,GAiCEwoE,KAAQtrD,EAAU51B,GAjCpB,QAAAkf,EAAAxG,KAAA,iBAAAwG,EAAAzG,KAAA,GAAAyG,EAAA9F,GAAA8F,EAAA,SAoCLqP,QAAQpL,MAAM,6BAAdjE,EAAA9F,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAC20F,EAAWx+E,EAAA9F,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GA3CE,SA8CL62E,GAAqBz3D,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GA9CjD,yBAAA1W,EAAA3F,SAAAqF,EAAA,kBAAP,gBAAA2lF,EAAAC,GAAA,OAAAh3F,EAAA+E,MAAAkH,KAAA/Z,YAAA,GAkDM,SAASitG,GAATjgG,GAAoD,IAArB8iC,EAAqB9iC,EAArB8iC,WAAYH,EAAS3iC,EAAT2iC,MACjD,sBAAAtiC,EAAAnM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAmI,EAAeqV,EAAU51B,GAAzB,IAAAoC,EAAA6E,EAAAxE,EAAA6hB,EAAA4qB,EAAA5sC,EAAAiiB,EAAAk/D,EAAApgE,EAAAupF,EAAAf,EAAA,OAAA/pF,EAAAriB,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,UACNs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GAC1BxzB,EAAWoD,YAAexF,KACxBiH,EAAkC7E,EAAlC6E,aAAcxE,EAAoBL,EAApBK,MAAO6hB,EAAaliB,EAAbkiB,SAHvB5D,EAAAjI,KAAA,EAKDy2B,IAAYjoC,GAAgBxE,GAAS6hB,EAEpCrd,IAAgBxE,IAAS6hB,EAPzB,CAAA5D,EAAAhI,KAAA,gBAQEpW,EAAWujB,KAAWM,MAAMzU,KAR9BgP,EAAAhI,KAAA,EAUqBm0F,aAAkB,CAC1CpqG,QACA6hB,WACAhiB,aAbG,cAUEiiB,EAVF7D,EAAAzH,MAgBOxW,MAAQA,EACnB8hB,EAAWD,SAAWA,EAEhBm/D,EAAal/D,EAAWzjB,QAnB1B4f,EAAAhI,KAAA,GAqBiBg0F,aAAsB,CAAEtoB,MAAOX,IArBhD,eAqBEpgE,EArBF3C,EAAAzH,KAuBEhS,EAAeoc,EAAOpc,aACtB4kG,EAAe,CACpB/qG,QAASmG,EACT+V,WAAYqG,EAAOrG,YA1BhB0D,EAAAhI,KAAA,GA6BEo0F,aAAgB,CACrBrqG,QACA6hB,WACAhiB,WACAyqG,QAAS,WACTC,UAAW/lG,IAlCR,eAAAyZ,EAAAhI,KAAA,GAoCEo0F,aAAgB,CACrBrqG,QACA6hB,WACAhiB,WACAyqG,QAAS,aACTC,UAAWnB,EAAa7uF,aAzCrB,QA4CJijE,GAAe,eAAgBh5E,EAA/Bg5E,CAA6CrqD,GAC7CqqD,GAAe,iBAAkB58D,EAAjC48D,CAAyCrqD,GACzCqqD,GAAe,eAAgB4rB,EAA/B5rB,CAA6CrqD,GAE7CqqD,GAAe,SAAU17D,EAAzB07D,CAAqCrqD,GACrCqqD,GAAe,aAAcwD,EAA7BxD,CAAyCrqD,GACzCqqD,GAAe,mBAAmB,EAAlCA,CAAwCrqD,GAExCsZ,IAAYjoC,EApDR,eAAAyZ,EAAAhI,KAAA,GAuDCg2B,GAASc,EAAY,eAAgB,CAC1CN,UACA/gB,IAAK,CAAErB,IAAK,8BACZuiB,SAHKX,CAIH9Y,GA3DE,YA6DDsZ,EA7DC,CAAAxuB,EAAAhI,KAAA,gBAAAgI,EAAAhI,KAAA,GA8DEwoE,KAAQtrD,EAAU51B,GA9DpB,QAAA0gB,EAAAhI,KAAA,iBAAAgI,EAAAjI,KAAA,GAAAiI,EAAAtH,GAAAsH,EAAA,SAiEL6N,QAAQpL,MAAM,8BAAdzC,EAAAtH,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,8BAA+B,CAC/CH,KAAM,CAAC20F,EAAWh9E,EAAAtH,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAxEE,QA2ENof,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GA3E3B,yBAAAlV,EAAAnH,SAAAgH,EAAA,kBAAP,gBAAAimF,EAAAE,GAAA,OAAA35F,EAAAwF,MAAAkH,KAAA/Z,YAAA,GA+EM,SAAS+lF,GAAT53E,GAAsE,IAAzC2hC,EAAyC3hC,EAAzC2hC,WAAYH,EAA6BxhC,EAA7BwhC,MAAOuT,EAAsB/0C,EAAtB+0C,QAASoW,EAAanrD,EAAbmrD,UAC/D,sBAAAlrD,EAAAlN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAyqF,EAAejtE,EAAU51B,GAAzB,IAAAoC,EAAAK,EAAA0gF,EAAA7+D,EAAA8+D,EAAAC,EAAAC,EAAAt0E,EAAAkgC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAwqF,GAAA,cAAAA,EAAAtqF,KAAAsqF,EAAArqF,MAAA,cACAtW,EAAWoD,YAAexF,KAE/ByC,EAMGL,EANHK,MACA0gF,EAKG/gF,EALH+gF,WACA7+D,EAIGliB,EAJHkiB,SACA8+D,EAGGhhF,EAHHghF,cACAC,EAEGjhF,EAFHihF,SACAC,EACGlhF,EADHkhF,mBARKyf,EAAArqF,KAAA,EAWoBgB,QAAQjZ,IAAI,CACrCkqG,GAAcn7D,EAAY/sC,EAAO4sC,GAAO,EAAxCs7D,CAA8C/0E,GAC9CqwE,GAAmBz2D,EAAY2zC,EAAY1gF,EAAO4sC,EAAlD42D,CAAyDrwE,GACzDswE,GAAiB12D,EAAYlrB,EAAU+qB,EAAvC62D,CAA8CtwE,GAC9CuwE,GAAsB32D,EAAY4zC,EAAe9+D,EAAU+qB,EAA3D82D,CACCvwE,GAEDwwE,GAAY52D,EAAY6zC,EAAUh0C,EAAlC+2D,CAAyCxwE,GACzC2wE,GAAsB/2D,EAAY8zC,EAAoBj0C,EAAtDk3D,CAA6D3wE,KAnBxD,UAWA5mB,EAXA+zF,EAAA9pF,OAsBAi2B,EAAUlgC,EAAYopF,MAAM,SAAAp1E,GAAC,OAAU,IAANA,KAtBjC,CAAA+/E,EAAArqF,KAAA,gBAyBLs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GAzB3BmtE,EAAArqF,KAAA,GA0BCi0F,GAAoB,CAAEn9D,aAAYH,QAAOo9D,mBAAmB,GAA5DE,CACL/2E,EACA51B,GA5BI,QAgCNgmG,GAAsB,CAAE92D,UAAS0T,UAASoW,cAE1ChkB,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GAlC3B,yBAAAmtE,EAAAxpF,SAAAspF,MAAP,gBAAA6C,EAAAC,GAAA,OAAA73F,EAAAyE,MAAAkH,KAAA/Z,YAAA,GAsCM,SAASomF,GAATsiB,GAAqE,IAAzC54D,EAAyC44D,EAAzC54D,WAAYH,EAA6B+4D,EAA7B/4D,MAA6B+4D,EAAtBxlD,QAAsBwlD,EAAbpvC,UAC9D,sBAAAhrD,EAAApN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAssF,EAAe9uE,EAAU51B,GAAzB,IAAAoC,EAAAD,EAAAqhG,EAAA/gG,EAAA0gF,EAAAE,EAAAC,EAAAt0E,EAAA,OAAA8S,EAAAriB,EAAA8Y,KAAA,SAAAssF,GAAA,cAAAA,EAAApsF,KAAAosF,EAAAnsF,MAAA,cACAtW,EAAWoD,YAAexF,KAE/BmC,EAMGC,EANHD,OACAqhG,EAKGphG,EALHohG,sBACA/gG,EAIGL,EAJHK,MACA0gF,EAGG/gF,EAHH+gF,WACAE,EAEGjhF,EAFHihF,SACAC,EACGlhF,EADHkhF,mBARKuhB,EAAAnsF,KAAA,EAWoBgB,QAAQjZ,IAAI,CAErC4lG,GAAe72D,EAAYrtC,EAAQktC,EAAnCg3D,CAA0CzwE,GAC1C0wE,GAA8B92D,EAAYg0D,EAAuBn0D,EAAjEi3D,CACC1wE,GAID+0E,GAAcn7D,EAAY/sC,EAAO4sC,GAAO,EAAxCs7D,CAA8C/0E,GAC9CqwE,GAAmBz2D,EAAY2zC,EAAY1gF,EAAO4sC,EAAlD42D,CAAyDrwE,GACzDwwE,GAAY52D,EAAY6zC,EAAUh0C,EAAlC+2D,CAAyCxwE,GACzC2wE,GAAsB/2D,EAAY8zC,EAAoBj0C,EAAtDk3D,CAA6D3wE,KAtBxD,UAWA5mB,EAXA61F,EAAA5rF,MAyBUjK,EAAYopF,MAAM,SAAAp1E,GAAC,OAAU,IAANA,IAzBjC,CAAA6hF,EAAAnsF,KAAA,gBA4BLs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GA5B3BivE,EAAAnsF,KAAA,GA6BC8zF,GAAmB,CACxBh9D,aACAH,QACAo9D,mBAAmB,GAHdD,CAIH52E,EAAU51B,GAjCR,QAsCNg1C,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GAtC3B,yBAAAivE,EAAAtrF,SAAAmrF,MAAP,gBAAAkC,EAAAQ,GAAA,OAAAp5F,EAAAuE,MAAAkH,KAAA/Z,YAAA,GA0CM,SAASwlF,GAATj3E,GAKJ,IAJFuhC,EAIEvhC,EAJFuhC,WACAH,EAGEphC,EAHFohC,MACAuT,EAEE30C,EAFF20C,QACAoW,EACE/qD,EADF+qD,UAEA,sBAAA0vC,EAAA9nG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8sF,EAAetvE,EAAU51B,GAAzB,IAAAoC,EAAAohG,EAAArhG,EAAA6M,EAAAkgC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAA8sF,GAAA,cAAAA,EAAA5sF,KAAA4sF,EAAA3sF,MAAA,cACNs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GAE1BxzB,EAAWoD,YAAexF,KACxBwjG,EAAkCphG,EAAlCohG,sBAAuBrhG,EAAWC,EAAXD,OAJzBkjG,EAAA3sF,KAAA,EAMoBgB,QAAQjZ,IAAI,CACrC4lG,GAAe72D,EAAYrtC,EAAQktC,EAAnCg3D,CAA0CzwE,GAC1C0wE,GAA8B92D,EAAYg0D,EAAuBn0D,EAAjEi3D,CACC1wE,KATI,cAMA5mB,EANAq2F,EAAApsF,KAaAi2B,EAAUlgC,EAAYopF,MAAM,SAAAp1E,GAAC,OAAU,IAANA,IAbjCqiF,EAAA3sF,KAAA,EAeAstF,GAAsB,CAAE92D,UAAS0T,UAASoW,cAf1C,OAiBNhkB,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GAjB3B,yBAAAyvE,EAAA9rF,SAAA2rF,MAAP,gBAAAmC,EAAAC,GAAA,OAAAoB,EAAAn2F,MAAAkH,KAAA/Z,YAAA,GAqBM,SAASwgF,GAAT/xE,GAQJ,IAPFrN,EAOEqN,EAPFrN,QACAwB,EAME6L,EANF7L,SACAu+E,EAKE1yE,EALF0yE,iBACAC,EAIE3yE,EAJF2yE,gBACArlE,EAGEtN,EAHFsN,KACAslE,EAEE5yE,EAFF4yE,QACAZ,EACEhyE,EADFgyE,SAEA,sBAAA/xE,EAAAxN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqvF,EAAe7xE,EAAU51B,GAAzB,IAAAmC,EAAA,OAAA2f,EAAAriB,EAAA8Y,KAAA,SAAAuvF,GAAA,cAAAA,EAAArvF,KAAAqvF,EAAApvF,MAAA,OAWNunE,GAAe,yBAVT99E,EAAS,CACdrB,UACAwB,WACAu+E,mBACAC,kBACArlE,OACAslE,UACAZ,aAG8Cr/E,QAA/Cm/E,CAAwDrqD,GACxDqqD,GAAe,SAAU99E,EAAzB89E,CAAiCrqD,GAZ3B,wBAAAkyE,EAAAvuF,SAAAkuF,MAAP,gBAAAF,EAAAQ,GAAA,OAAA35F,EAAAmE,MAAAkH,KAAA/Z,YAAA,GAgBM,SAAS8mF,GAAiBvgF,GAChC,OAAO,SAAS2vB,GACf,IAEMnzB,EAFe,IAAI2D,gBAAgBH,GAEdi3F,IAAI,gBAE3Bz6F,IACHw9E,GAAe,QAASx9E,EAAxBw9E,CAA+BrqD,GAC/BqqD,GAAe,aAAcx9E,EAA7Bw9E,CAAoCrqD,KAKhC,SAAS0kD,GAAT6uB,GAAwC,IAAXroG,EAAWqoG,EAAXroG,QACnC,sBAAAwN,EAAA1N,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAiwF,EAAezyE,EAAU51B,GAAzB,IAAAD,EAAAuC,EAAAiM,EAAA8M,EAAA3J,EAAA,OAAAoQ,EAAAriB,EAAA8Y,KAAA,SAAA+vF,GAAA,cAAAA,EAAA7vF,KAAA6vF,EAAA5vF,MAAA,cACA3Y,EAAQC,IACRsC,EAAWQ,YAAe/C,GAChCi1C,EAAa,OAAAliC,OAAQhS,IAAW,EAAhCk0C,CAAsCpf,GAHhC0yE,EAAA7vF,KAAA,EAAA6vF,EAAA5vF,KAAA,EAMsB8B,aAAUlY,GANhC,cAAAiM,EAAA+5F,EAAArvF,KAMGoC,EANH9M,EAMG8M,SANHitF,EAAA5vF,KAAA,GAOc2C,EAAS0wF,cAAcjrG,GAPrC,eAOC4Q,EAPD42F,EAAArvF,KAAAqvF,EAAAjvF,OAAA,SAQEuc,EAAS,CACfhsB,KAAMyyF,IACNlvF,KAAMrM,EACNsJ,MAAOsH,KAXH,QAAA42F,EAAA7vF,KAAA,GAAA6vF,EAAAlvF,GAAAkvF,EAAA,SAcL/5E,QAAQpL,MAAM,4BAAdmlF,EAAAlvF,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,4BAA6B,CAC7CH,KAAM,CAAC20F,EAAW4K,EAAAlvF,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GArBE,QAuBNof,EAAa,OAAAliC,OAAQhS,IAAW,EAAhCk0C,CAAuCpf,GAvBjC,yBAAA0yE,EAAA/uF,SAAA8uF,EAAA,kBAAP,gBAAAL,EAAAO,GAAA,OAAAj6F,EAAAiE,MAAAkH,KAAA/Z,YAAA,GCrxBM,SAASutG,GAAT3sG,GAA6C,IAArB4sG,EAAqB5sG,EAArB4sG,MAAOt5F,EAActT,EAAdsT,IAAKxJ,EAAS9J,EAAT8J,MAC1C,OAAO,SAASwrB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACN6Q,MAAOA,EACPt5F,IAAKA,EACLxJ,MAAOA,KAKH,SAAS+iG,GAATnsG,GAAgC,IAATksG,EAASlsG,EAATksG,MAC7B,OAAO,SAASt3E,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACN6Q,MAAOA,KAOH,IAAME,GAAa,SAAAjsG,GAAoC,IAAjCksG,EAAiClsG,EAAjCksG,QAASC,EAAwBnsG,EAAxBmsG,QAASC,EAAepsG,EAAfosG,SAC9C,OAAO,SAAA33E,GACN,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNgR,QAASA,EACTC,QAASA,EACTC,SAAUA,MAIA5kB,GAAe,WAC3B,OAAO,SAAA/yD,GACN,OAAOA,EAAS,CACfhsB,KAAMyyF,QCZF,SAASxuB,GAATvtE,GAAkD,IAAlB8mB,EAAkB9mB,EAAlB8mB,GAAIxT,EAActT,EAAdsT,IAAKxJ,EAAS9J,EAAT8J,MAC/C,OAAO,SAASwrB,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNj1E,GAAIA,EACJxT,IAAKA,EACLxJ,MAAOA,KAKH,SAAS4+E,KACf,OAAO,SAASpzD,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,OAKF,SAASluB,GAATntE,GAAqC,IAANomB,EAAMpmB,EAANomB,GACrC,OAAO,SAASwO,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNj1E,GAAIA,KAMA,SAASomF,GAATrsG,GAA0C,IAAZimB,EAAYjmB,EAAZimB,GAAIkE,EAAQnqB,EAARmqB,KACxC,OAAO,SAASsK,GACf,GAAKxO,GAAOA,EAAGzD,MAAS2H,EAExB,OAAOsK,EAAS,CACfhsB,KAAMyyF,IACNjyF,MAAOgd,EACPA,GAAIA,EAAGzD,KACP2H,KAAMA,KAMF,SAASmiF,GAATlsG,GAAyD,IAAxB6lB,EAAwB7lB,EAAxB6lB,GAAIxT,EAAoBrS,EAApBqS,IAAKxJ,EAAe7I,EAAf6I,MAAOkhB,EAAQ/pB,EAAR+pB,KACvD,OAAO,SAASsK,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,KACNj1E,GAAIA,EACJxT,IAAKA,EACLxJ,MAAOA,EACPkhB,KAAMA,KAKF,SAASoiF,GAAThsG,GAA4C,IAAZ0lB,EAAY1lB,EAAZ0lB,GAAIkE,EAAQ5pB,EAAR4pB,KAC1C,OAAO,SAASsK,GACf,OAAOA,EAAS,CACfhsB,KAAMyyF,IACNj1E,GAAIA,EACJkE,KAAMA,KAKF,SAAS4mD,GAATrwE,GAOJ,IANFghD,EAMEhhD,EANFghD,QACArT,EAKE3tC,EALF2tC,WAEAH,GAGExtC,EAJFmsE,KAIEnsE,EAHFwtC,OACAuT,EAEE/gD,EAFF+gD,QACAoW,EACEn3D,EADFm3D,UAEA,sBAAAh2D,EAAApC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeid,EAAU51B,GAAzB,IAAAD,EAAA4tG,EAAAr+B,EAAAE,EAAAD,EAAAkU,EAAAnhF,EAAAsrG,EAAA1+D,EAAA2+D,EAAA,OAAA/rF,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACAs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GADhC,cAAA5c,EAAAN,KAAA,EAEA8hE,KAA4B5kD,EAAU51B,GAFtC,cAIAD,EAAQC,IAJR2tG,EAK0Cz+F,aAC/CnP,EACA8iD,GAFOysB,EALFq+B,EAKEr+B,QAASE,EALXm+B,EAKWn+B,gBAAiBD,EAL5Bo+B,EAK4Bp+B,UAI5BkU,EAAa5gF,aAAoB9C,GACjCuC,EAAWQ,YAAe/C,GAV1BiZ,EAAAN,KAAA,GAYyBgB,QAAQjZ,IAAI,CAC1CsoG,GAAmB,CAClBv5D,aACAlkB,KAAMgkD,EACNr6B,KAAM,UACN3nB,UAAU,EACVD,aAAa,EACb/qB,WACA+sC,SAPD05D,CAQGnzE,GACHm0E,GAAkB,CACjBv6D,aACA+/B,YACAlgC,SAHD06D,CAIGn0E,KA1BE,WAYAg4E,EAZA50F,EAAAC,OA6BFi2B,EAAU0+D,EAAiBxV,MAAM,SAAAp1E,GAAC,OAAU,IAANA,KA7BpC,CAAAhK,EAAAN,KAAA,gBAAAM,EAAAN,KAAA,GAgCoB6wF,GAA0B,CAClD/5D,aACA8/B,UACAmU,aACAjU,kBACAD,YACAlgC,QACA/sC,YAPwBinG,CAQtB3zE,GAxCE,eAgCCi4E,EAhCD70F,EAAAC,KA0CLi2B,EAAU2+D,EAAW3+D,QA1ChBl2B,EAAAN,KAAA,GA4CCm1D,GAAqB,CAC1BzmD,GAAIy7B,EACJjvC,IAAK,aACLxJ,MAAOyjG,EAAW/gF,KAHb+gD,CAIHj4C,GAhDE,eAAA5c,EAAAN,KAAA,GAmDAstF,GAAsB,CAAE92D,UAAS0T,UAASoW,cAnD1C,eAAAhgD,EAAAN,KAAA,GAqDAs8B,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GArDjC,yBAAA5c,EAAAO,SAAAZ,MAAP,gBAAAiB,EAAAJ,GAAA,OAAAxW,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAyDM,SAASmyE,GAAT3uE,GAMJ,IALF2/C,EAKE3/C,EALF2/C,QACArT,EAIEtsC,EAJFssC,WACAH,EAGEnsC,EAHFmsC,MACAuT,EAEE1/C,EAFF0/C,QACAoW,EACE91D,EADF81D,UAEA,sBAAA51D,EAAAxC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAeud,EAAU51B,GAAzB,IAAAD,EAAAgC,EAAAua,EAAA/G,EAAAnQ,EAAA0oG,EAAAtgC,EAAAC,EAAAsgC,EAAA/G,EAAAgH,EAAA/G,EAAA3kG,EAAAsrG,EAAA1+D,EAAAmhC,EAAA,OAAAvuD,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GADhC,cAAApd,EAAAE,KAAA,EAEA8hE,KAA4B5kD,EAAU51B,GAFtC,cAIAD,EAAQC,IACR+B,EAAUD,YAAc/B,GALxBuc,EAMuBjb,aAAgBtB,GAArCwV,EANF+G,EAME/G,OAAQnQ,EANVkX,EAMUlX,SANV0oG,EAOmC5+F,aACxCnP,EACA8iD,GAFO2qB,EAPFsgC,EAOEtgC,iBAAkBC,EAPpBqgC,EAOoBrgC,WAPpBsgC,EAaFzqG,YAAsBvD,GADUinG,EAZ9B+G,EAYLzwF,kCAZK0wF,EAgBFrqG,YAA4B5D,GADIknG,EAf9B+G,EAeL1wF,kCAIKhb,EAAWQ,YAAe/C,GAnB1ByY,EAAAE,KAAA,GAqByBgB,QAAQjZ,IAAI,CAC1CsoG,GAAmB,CAClBv5D,aACAlkB,KAAMmiD,EACNx4B,KAAM,aACN3nB,UAAU,EACVD,aAAa,EACb/qB,WACA+sC,SAPD05D,CAQGnzE,GACHmxE,GAAuB,CACtBv3D,aACAg+B,mBACAw5B,uCACAC,6CACA7hG,WACAmQ,SACA85B,SAPD03D,CAQGnxE,KAvCE,WAqBAg4E,EArBAp1F,EAAAS,OA0CFi2B,EAAU0+D,EAAiBxV,MAAM,SAAAp1E,GAAC,OAAU,IAANA,KA1CpC,CAAAxK,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GA8CmBkzF,aAAqB,CAC3C7pG,UACAyrE,mBACAC,aACA4E,aAAa,IAlDV,eA8CEhC,EA9CF73D,EAAAS,KAAAT,EAAAE,KAAA,GAqDEm1D,GAAqB,CAC1BzmD,GAAIy7B,EACJjvC,IAAK,WACLxJ,MAAOimE,GAHFxC,CAIHj4C,EAAU51B,GAzDT,QAAAwY,EAAAE,KAAA,wBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,UA2DJ02B,GAAU,EA3DN12B,EAAAE,KAAA,GA6DEquF,GAAuB,CAC5Bv3D,aACAg+B,mBACAw5B,uCACAC,6CACA7hG,WACAmQ,SACA2xF,SAAUxJ,EAAWllF,EAAAY,IACrBi2B,SARK03D,CASHnxE,GAtEC,eAAApd,EAAAE,KAAA,GA0EAstF,GAAsB,CAAE92D,UAAS0T,UAASoW,cA1E1C,eAAAxgD,EAAAE,KAAA,GA4EAs8B,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GA5EjC,yBAAApd,EAAAe,SAAAlB,EAAA,mBAAP,gBAAA2C,EAAAF,GAAA,OAAA1X,EAAAmP,MAAAkH,KAAA/Z,YAAA,yDClFYuuG,GAAgB,SAACC,EAAU1kG,EAAW2kG,GAClD,IAAMC,EAhFoB,WAC1B,IAAMC,EAASz6C,KAAO06C,MAGhBC,EAAqBl8F,KAAK2U,OAC9BqnF,EAAOruC,QAAQzL,UAAY85C,EAAOruC,QAAQwuC,QAAQ,QAAnD,OAGD,MAAO,CACNC,SAAU,CACT9zB,MAAO/mB,OACL46C,QAAQ,UACRE,SAAS,EAAG,SACdC,IAAK/6C,OAAS46C,QAAQ,WAEvBI,YAAa,CACZj0B,MAAO/mB,OACL86C,SAAS,EAAG,OACZF,QAAQ,QACRj6C,UACFo6C,IAAK/6C,OACH46C,QAAQ,QACRj6C,WAEHs6C,UAAW,CACVl0B,MAAO0zB,EACLruC,QACAwuC,QAAQ,OACRl1F,IAAyB,EAArBi1F,EAAwB,SAC5BG,SAAS,EAAG,QACZn6C,UACFo6C,IAAKN,EACHruC,QACAwuC,QAAQ,OACRl1F,IAAyB,EAArBi1F,EAAwB,SAC5Bj1F,IAAI,EAAG,SACPi7C,WAEHu6C,SAAU,CACTn0B,MAAO/mB,OACL06C,MACAE,QAAQ,WACRj6C,UACFo6C,IAAK/6C,OACH06C,MACAS,MAAM,WACNx6C,WAEHy6C,SAAU,CACTr0B,MAAO/mB,OACL86C,SAAS,EAAG,QACZF,QAAQ,WACRj6C,UACFo6C,IAAK/6C,OACH86C,SAAS,EAAG,QACZK,MAAM,WACNx6C,WAEH06C,UAAW,CACVt0B,MAAO/mB,OACL46C,QAAQ,SACRj6C,UACFo6C,IAAK/6C,OACHm7C,MAAM,SACNx6C,WAEH26C,UAAW,CACVv0B,MAAO/mB,OACL86C,SAAS,EAAG,SACZF,QAAQ,SACRj6C,UACFo6C,IAAK/6C,OACH86C,SAAS,EAAG,SACZK,MAAM,SACNx6C,YAMc46C,GACZjjG,EAAO,CACZkjG,SAAUhB,EAAUK,SACpB5yD,KAAM,CAAEwzD,QAAS,EAAG1iB,KAAM,WAE3B,OAAQnjF,GACP,IAAK,OACJ0C,EAAKkjG,SAAWhB,EAAUK,SAC1BviG,EAAK2vC,KAAO,CAAEwzD,QAAS,EAAG1iB,KAAM,UAChC,MACD,IAAK,MACJzgF,EAAKkjG,SAAWhB,EAAUQ,YAC1B1iG,EAAK2vC,KAAO,CAAEwzD,QAAS,EAAG1iB,KAAM,QAChC,MACD,IAAK,OACJzgF,EAAKkjG,SAAWhB,EAAUS,UAC1B3iG,EAAK2vC,KAAO,CAAEwzD,QAAS,EAAG1iB,KAAM,QAChC,MACD,QACC,OAAOuhB,EAGT,IADA,IAAMoB,EAAU,GAEXlyB,EAAIxpB,KAAO1nD,EAAKkjG,SAASz0B,OAC7ByC,EAAEmyB,KAAKrjG,EAAKkjG,SAAST,IAAKziG,EAAK2vC,KAAK8wC,OAAS,EAC7CvP,EAAE9jE,IAAIpN,EAAK2vC,KAAKwzD,QAASnjG,EAAK2vC,KAAK8wC,MAEnC2iB,EAAQjiG,KAAK,CAAEjD,MAAO+jG,EAAcjiG,KAAiB,IAAXkxE,EAAEoyB,SAG7C,IAAM1iG,EAAO,GAAAgG,OAAAlS,OAAA2D,GAAA,EAAA3D,CAAIstG,GAAaoB,GAAS9uG,OAAO,SAACsM,EAAMrN,GACpD,IAAMsV,EAAOnU,OAAAC,EAAA,EAAAD,CAAA,GAAQkM,GACf1C,EAAQ0C,EAAKrN,EAAEyM,OAASzM,EAAE2K,OAAS+jG,EAGzC,OAFAp5F,EAAQtV,EAAEyM,MAAQ9B,EAEX2K,GACL,IASH,OAPenU,OAAOypD,QAAQv9C,GAC5B1L,IAAI,SAAAd,GAAA,IAAAU,EAAAJ,OAAA4J,EAAA,EAAA5J,CAAAN,EAAA,GAAEsT,EAAF5S,EAAA,SAAmB,CACvBoJ,MADIpJ,EAAA,GAEJkL,MAAO0H,KAEPkB,KAAK,SAACrV,EAAGI,GAAJ,OAAUJ,EAAEyM,KAAOrM,EAAEqM,iBCtHtB,SAAeujG,KAAtB,OAAAC,GAAAn9F,MAAAkH,KAAA/Z,wDAAO,SAAA2Y,IAAA,IAAAiE,EAAAlX,EAAAkT,EAAAy1E,EAAA9rF,EAAA0tG,EAAAC,EAAA,OAAA9tF,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAA4D,EACejb,eAAb+D,EADFkX,EACElX,SACFkT,EAAiBvX,eAFjByX,EAAAE,KAAA,EAGoBs1E,cAHpB,cAGAD,EAHAv1E,EAAAS,KAKAhX,EAAW8rF,EAAYjiF,OAC5B,SAAAsT,GAAO,QAAM9G,EAAe8G,EAAQrO,gBAG/B4+F,EAAc1tG,EAASzB,OAAO,SAAC4S,EAAOgM,GAC3C,IAAMywF,EAAMjvG,OAAAC,EAAA,EAAAD,CAAA,GAAQwS,GAMpB,OALAgM,EAAQnO,KAAKR,QAAQ0/B,QAAQ,SAAAw8C,GAC5BkjB,EAAOljB,EAAK/iF,MAAQimG,EAAOljB,EAAK/iF,OAAS,GACzCimG,EAAOljB,EAAK/iF,MAAMyD,KAAK+R,KAGjBywF,GACL,IAEGD,EAAmBhvG,OAAO+S,KAAKg8F,GAAanvG,OAAzB,eAAAF,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACxB,SAAAO,EAAOm3F,EAAWl8F,GAAlB,IAAAvQ,EAAA0sG,EAAAC,EAAA75F,EAAAN,EAAAuJ,EAAAtN,EAAAH,EAAAs+F,EAAAt6F,EAAAu6F,EAAA,OAAApuF,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACqBo3F,EADrB,OACOzsG,EADP2V,EAAAC,KAEO82F,EAAiBJ,EAAY/7F,GAE/Bo8F,EAAqB3qG,wBAAa,KAClC8Q,EAAc9Q,wBAAa,KAEtBwQ,EAAQ,EAPlB,YAOqBA,EAAQk6F,EAAepwG,QAP5C,CAAAqZ,EAAAN,KAAA,gBAQQ0G,EAAU2wF,EAAel6F,GARjCmD,EAAAN,KAAA,GAUiCS,aAAsB,CACpDxB,MAAOW,EAAe8G,EAAQrO,cAC9B6G,QAASvS,wBAAa+Z,EAAQnO,KAAKa,oBAZtC,eAUQA,EAVRkH,EAAAC,KAAAD,EAAAN,KAAA,GAc8BS,aAAsB,CACjDxB,MAAOW,EAAe8G,EAAQrO,cAC9B6G,QAASvS,wBAAa+Z,EAAQzN,iBAhBjC,QAcQA,EAdRqH,EAAAC,KAmBE+2F,EAAqBA,EAAmB12F,IAAIxH,GAC5CqE,EAAcA,EAAYmD,IAAI3H,GApBhC,QAOoDkE,IAPpDmD,EAAAN,KAAA,uBAuBOu3F,EAAmBD,EAAmBljB,IAC3CznF,wBAAa0qG,EAAepwG,SAEvBgW,EAASs6F,EAAiBl4F,IAAI1S,wBAAa,UAE3C6qG,EA5BPtvG,OAAAC,EAAA,EAAAD,CAAA,GA4B0ByC,IACbuQ,GAAO,GACnBs8F,EAAYt8F,GAAKlQ,IAAM,CACtByS,cACA85F,mBACAt6F,UAGDu6F,EAAYt8F,GAAK/P,UAAY,CAC5BsS,YAAaxK,aAAkBwK,EAAa/Q,GAAU,EAAO,GAC7D6qG,iBAAkBtkG,aACjBskG,EACA7qG,GACA,EACA,GAEDuQ,OAAQhK,aAAkBgK,EAAQvQ,GAAU,EAAO,IA5CrD4T,EAAAK,OAAA,SA+CQ62F,GA/CR,yBAAAl3F,EAAAO,SAAAZ,MADwB,gBAAAiB,EAAAJ,GAAA,OAAAlZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,GAkDxBga,QAAQC,QAAQ,KArEXnB,EAAAa,OAAA,SAwECu2F,GAxED,wBAAAp3F,EAAAe,SAAAlB,6BCqBP,IAAM46D,GAAsBvrE,6CAEtByoG,GAAkB,SAAC3mG,EAAW/C,GACnC,IAAM2pG,EAAc,GAepB,OAbAzV,KAAgCxqD,QAAQ,SAAArlC,GAAS,OAChD4vF,KAA4BvqD,QAAQ,SAAAplC,GAAM,OACzCqlG,EAAY/iG,KAAZzM,OAAAC,EAAA,EAAAD,CAAA,CACCmK,SACAvB,YACA/C,OACAqE,aACa,cAATrE,GACQ,iBAAXsE,GAA6B,CAAEkgB,kBAAkB,SAK9CmlF,GAGFC,GAA2B,WAChC,IAAMD,EAAc,GAIpB,OAHAzV,KAAgCxqD,QAAQ,SAAArlC,GAAS,OAChDslG,EAAY/iG,KAAK,CAAEvC,gBAEbslG,GAMR,SAASE,GAAoBtwG,EAAU+B,GACtC,IAAMwuG,EAAevwG,IAAWC,QAAQ8B,QAOxC,OALEwuG,EAAapuG,OAAOrB,SACrByvG,EAAapuG,OAAOrB,UAAYiB,EAAQI,OAAOrB,UAC9CyvG,EAAanuG,SAAStB,UACtByvG,EAAanuG,SAAStB,WAAaiB,EAAQK,SAAStB,QAKvD,SAAS0vG,GAATlwG,GAKG,IAJF8K,EAIE9K,EAJF8K,KACA2iF,EAGEztF,EAHFytF,YACA0iB,EAEEnwG,EAFFmwG,UACAn4F,EACEhY,EADFgY,eAEA,IAAK1X,OAAO+S,KAAKo6E,GAAapuF,OAC7B,MAAO,GAFN,IAAA+wG,EAM4BtlG,EAC5B0J,KAAK,SAACrV,EAAGI,GAAJ,OAAUA,EAAEqM,KAAOzM,EAAEyM,OAC1B1L,OACA,SAACsM,EAAMrN,GAAM,IACJyM,EAASzM,EAATyM,KACAykG,EAAgC7jG,EAAhC6jG,aAAc1uG,EAAkB6K,EAAlB7K,SAAUxB,EAAQqM,EAARrM,IAC1BwT,EAAYxU,EAAEwU,UAAU0M,cAHlB3f,EAMX+sF,EAAY95E,IAAc,GADnBtC,EALI3Q,EAKJ2Q,cAAe+8E,EALX1tF,EAKW0tF,WAAY39E,EALvB/P,EAKuB+P,aAAcQ,EALrCvQ,EAKqCuQ,OALrCq/F,EAQsBt4F,EAAevH,GAAzC89E,EARI+hB,EAQJ/hB,YAAa31E,EART03F,EAQS13F,SACbpB,EAAQ24F,EAAU1/F,GAAlB+G,IAEF+4F,EADuB,YAAXt/F,EACa2H,EAAW21E,EAEpC36E,EAAUjS,EAASgS,IAAc,CAAE7I,KAAM,IAEzChB,EAAQ/E,wBAAa5F,EAAE2K,OAAS,GACpC2N,IAAI1S,wBAAaqpF,GAAc,IAC/B5B,IAAIznF,wBAAasM,GAAiB,IAEpCuC,EAAQ9I,KAAKiC,KAAK,CAAEjD,QAAO8B,SAE3B,IAAM4kG,EAAcH,EAAazkG,IAAS,CACzCA,OACA9B,MAAO/E,wBAAa,IAEf0rG,EAAsB1rG,wBAAa6O,EAAQ9J,OAAS,GAAGkP,IAAIlP,GAE3D4mG,EAAgBD,EAAoBzrG,GAAGD,wBAAawrG,IACpDI,EAAmBH,EAAY1mG,MAIrC,GAFA8J,EAAQ9J,MAAQ2mG,EAEZC,IAAkB98F,EAAQg9F,cAAe,CAC5Ch9F,EAAQg9F,eAAgB,EAKxB,IAJA,IAAMC,EAAmBJ,EAAoBnjB,IAAIvoF,wBAAayS,IACxDs5F,EAAe/rG,wBAAa,GAC5BgsG,EAASn9F,EAAQ9I,KAEdyK,EAAQw7F,EAAO1xG,OAAS,EAAGkW,GAAS,EAAGA,IAAS,CACxD,IAAMgrD,EAAQwwC,EAAOx7F,GACrBu7F,EAAa93F,IAAIunD,EAAMz2D,OAEvB,IAAMknG,EAAeX,EAAa9vC,EAAM30D,OAAS,CAChDA,OACA9B,MAAO/E,wBAAa,IAGjB+rG,EAAa7hB,GAAG4hB,IACnBG,EAAalnG,MAAQknG,EAAalnG,MAAMkP,IAAIunD,EAAMz2D,OAClDumG,EAAa9vC,EAAM30D,MAAQolG,GAE3BA,EAAalnG,MAAQknG,EAAalnG,MAAMkP,IACvC83F,EAAaxjB,IAAIujB,IAEnBR,EAAa9vC,EAAM30D,MAAQolG,EAC3B,YAESN,GAAiB98F,EAAQg9F,gBACnCJ,EAAY1mG,MAAQA,EAAMkP,IAAI23F,IAO/B,OAJAhvG,EAASgS,GAAaC,EACtBy8F,EAAazkG,GAAQ4kG,EACrBrwG,EAAIyL,GAAQzM,EAAE2K,OAAS3J,EAAIyL,GAEpB,CAAEykG,eAAc1uG,WAAUxB,QAElC,CAAEkwG,aAAc,GAAI1uG,SAAU,GAAIxB,IAAK,KAtEjCkwG,EANND,EAMMC,aAAclwG,EANpBiwG,EAMoBjwG,IAmFtB,OAT2BG,OAAOuJ,OAAOwmG,GAAcvvG,IACtD,SAAAD,GAAqB,IAAlB+K,EAAkB/K,EAAlB+K,KAAM9B,EAAYjJ,EAAZiJ,MAIR,MAAO,CAAE8B,OAAM9B,WAFAxK,IAAda,EAAIyL,IACH7G,wBAAa+E,GAAO8iB,UAA0B,MAAdzsB,EAAIyL,GACP,KAAO9B,KAOlC,SAASksF,KACf,sBAAA/0F,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAeud,EAAU51B,GAAzB,IAAAD,EAAAgC,EAAA0E,EAAA+C,EAAAukF,EAAA0iB,EAAAn4F,EAAAskF,EAAA7xE,EAAA1I,EAAAkvF,EAAAC,EAAA,OAAA1vF,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACA3Y,EAAQC,IACR+B,EAAUD,YAAc/B,GAExB0G,EAAOD,aAAWzG,GAClByJ,EAAYD,YAAyBxJ,GACrCguF,EAAcvpF,YAAkCzE,GAChD0wG,EAAYrwG,YAAwBL,GACpCuY,EAAiBvX,aAA4BhB,GAR7CyY,EAAAC,KAAA,EAUCmkF,EAAUzvB,EAAS,CACxBvjE,KAAM,UACNyL,MAAOnM,YAAU,wBACjBwrB,SAAS,EACTE,YAAY,EACZR,KAAK,GALU+4C,CAMbv3C,GAhBEpd,EAAAE,KAAA,GAkBoBiH,aAAsB,CAC9CC,YAAaqzD,GACblxE,YApBI,eAkBCgpB,EAlBDvS,EAAAS,KAuBLqa,EAAYspE,EAAZtpE,CAAqBsC,GAErB8rE,GAA0B,CACzBC,QAAQ/gG,OAAA80B,EAAA,EAAA90B,CAAA,GAAIqyE,GAAsBloD,IADnC22E,CAEG9rE,EAAU51B,GAEPqiB,EAAS8tF,GAAgB3mG,EAAW/C,GACtC8qG,GAAiB,EACfC,EAAenvF,EAAOjhB,IAAP,eAAAM,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAW,SAAAO,EAAMjQ,GAAN,OAAAoZ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OAC/BoS,aAAkBlqB,OAAAC,EAAA,EAAAD,CAAA,GACd8H,EADa,CAEhBqiB,gBAEC9N,KAAK,SAAApb,GAA4B,IAAzBqpB,EAAyBrpB,EAAzBqpB,WAAYngB,EAAalJ,EAAbkJ,OACd0mG,EACI,cAAThrG,GAAmC,iBAAXsE,EACrBK,EAAOqmG,EACRjB,GAAuB,CACvBplG,KAAM8f,EAAW9f,KACjB2iF,cACA0iB,YACAn4F,mBAEA4S,EAAW9f,KAER+iG,EAAesD,EAAwB,KAAO,EAEpDvmF,EAAW9f,KAAO6iG,GAAc7iG,EAAM5B,EAAW2kG,IACjDoD,EACCA,GAAkBjB,GAAoBtwG,EAAU+B,KAGhD6zB,EAASh1B,OAAAC,EAAA,EAAAD,CAAA,CACRgJ,KAAMyyF,KACH3zF,EAFI,CAGP0B,MAAMxJ,OAAAC,EAAA,EAAAD,CAAA,GAAMsqB,QAId/N,MAAM,SAAAgR,GACNI,QAAQpL,MAAM,uBAAwBgL,KAhCT,wBAAAnV,EAAAO,SAAAZ,MAAX,gBAAAqC,GAAA,OAAAtZ,EAAA6Q,MAAAkH,KAAA/Z,YAAA,IA/BhB8Y,EAAAE,KAAA,GAmECgB,QAAQjZ,IAAI+wG,GAnEb,QAAAh5F,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SAqEL+V,QAAQpL,MAAM,gBAAd3K,EAAAY,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,gBAAiB,CAAEH,KAAM,CAAC20F,EAAWllF,EAAAY,OACtDsb,QAAS,KAHVy4C,CAIGv3C,GA1EE,yBAAApd,EAAAe,SAAAlB,EAAA,kBAAP,gBAAAuB,EAAAJ,GAAA,OAAAjY,EAAAgR,MAAAkH,KAAA/Z,YAAA,GA+EM,SAASi3F,KACf,sBAAA3zF,EAAApC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAe8b,EAAU51B,GAAzB,IAAA+B,EAAA66F,EAAA7xE,EAAA1I,EAAAkvF,EAAAC,EAAA1kG,EAAA,OAAAgV,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cACE3W,EAAY/B,IAAWC,QAAvB8B,QADFwY,EAAA9B,KAAA,EAGCmkF,EAAUzvB,EAAS,CACxBvjE,KAAM,UACNyL,MAAOnM,YAAU,wBACjBwrB,SAAS,EACTE,YAAY,EACZR,KAAK,GALU+4C,CAMbv3C,GATErb,EAAA7B,KAAA,EAWoBiH,aAAsB,CAC9CC,YAAaqzD,GACblxE,YAbI,cAWCgpB,EAXDxQ,EAAAtB,KAgBLqa,EAAYspE,EAAZtpE,CAAqBsC,GAErB8rE,GAA0B,CACzBC,QAAQ/gG,OAAA80B,EAAA,EAAA90B,CAAA,GAAIqyE,GAAsBloD,IADnC22E,CAEG9rE,EAAU51B,GAEPqiB,EAASguF,KACXkB,GAAiB,EACfC,EAAenvF,EAAOjhB,IAAP,eAAA8B,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAW,SAAAqC,EAAM/R,GAAN,IAAA0B,EAAA,OAAA0X,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAnC,KAAA,EAAAmC,EAAAlC,KAAA,EAEV0S,aAA2BxqB,OAAAC,EAAA,EAAAD,CAAA,GAC3C8H,EAD0C,CAE7CqiB,gBAJ6B,cAExB3gB,EAFwBwQ,EAAA3B,KAO9Bs4F,EACCA,GAAkBjB,GAAoBtwG,EAAU+B,GARnB6Y,EAAAvB,OAAA,SAUvB,CAAE3Q,OAAM0B,UAVe,cAAAwQ,EAAAnC,KAAA,EAAAmC,EAAAxB,GAAAwB,EAAA,SAY9B2T,QAAQpL,MAAM,gCAAdvI,EAAAxB,IAZ8BwB,EAAAvB,OAAA,SAavB,MAbuB,yBAAAuB,EAAArB,SAAAkB,EAAA,iBAAX,gBAAAuB,GAAA,OAAA9Y,EAAAqP,MAAAkH,KAAA/Z,YAAA,IAxBhB6a,EAAA7B,KAAA,GAyCcgB,QAAQjZ,IAAI+wG,GAzC1B,QAyCC1kG,EAzCDyN,EAAAtB,KA2CAs4F,GACJzkG,EACEhB,OAAO,SAAAm/B,GAAC,QAAMA,IACdkF,QAAQ,SAAA/sC,GAAA,IAAGsF,EAAHtF,EAAGsF,KAAM0B,EAAThH,EAASgH,MAAT,OACRwrB,EAASh1B,OAAAC,EAAA,EAAAD,CAAA,CACRgJ,KAAMyyF,KACH3zF,EAFI,CAGP0B,aAlDCmQ,EAAA7B,KAAA,iBAAA6B,EAAA9B,KAAA,GAAA8B,EAAAnB,GAAAmB,EAAA,SAuDLgU,QAAQpL,MAAM,yBAAd5I,EAAAnB,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,yBAA0B,CAC1CH,KAAM,CAAC20F,EAAWnjF,EAAAnB,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GA9DE,yBAAArb,EAAAhB,SAAAO,EAAA,kBAAP,gBAAAgB,EAAAI,GAAA,OAAAlY,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAmEM,SAASsrE,GAAyBxhE,GACxC,sBAAAjG,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAe6V,EAAU51B,GAAzB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,OACN,IACCkd,EAAS,CACRhsB,KAAMyyF,IACNjyF,MAAOZ,IAER8sF,KAAyB1gE,EAAU51B,GAClC,MAAOmuB,GACRI,QAAQpL,MAAM,gBAAiBgL,GAC/Bg/C,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,gBAAiB,CAAEH,KAAM,CAAC20F,EAAYvvE,MACvDuG,QAAS,KAHVy4C,CAIGv3C,GAbE,wBAAA5V,EAAAzG,SAAAwG,MAAP,gBAAAnC,EAAA+wE,GAAA,OAAAprF,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAkBM,SAASmpF,KACf,sBAAAplF,EAAA7C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAewa,EAAU51B,GAAzB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAAlC,OAAA,SACCuc,EAAS,CACfhsB,KAAMyyF,OAFD,wBAAA9gF,EAAAhC,SAAA6B,MAAP,gBAAAsD,EAAAuB,GAAA,OAAAxc,EAAA8O,MAAAkH,KAAA/Z,YAAA,GAOM,IAAMgyG,GAAoBC,KAAQ,eAAA/tG,EAAAhD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACxC,SAAA8D,EAAe0Z,GAAf,IAAAg8E,EAAA,OAAA9vF,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAAnE,KAAA,EACOs8B,EAAcghB,MAAuB,EAArChhB,CAA2Cpf,GADlD,cAAA/Y,EAAApE,KAAA,EAAAoE,EAAAnE,KAAA,EAGgC+2F,KAHhC,OAGQmC,EAHR/0F,EAAA5D,KAKE2c,EAAS,CACRhsB,KAAMyyF,IACNjyF,MAAOwnG,IAPV/0F,EAAAnE,KAAA,gBAAAmE,EAAApE,KAAA,EAAAoE,EAAAzD,GAAAyD,EAAA,SAUE0R,QAAQpL,MAAM,6BAAdtG,EAAAzD,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAC20F,EAAW7gF,EAAAzD,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAjBL,eAAA/Y,EAAAnE,KAAA,GAmBOs8B,EAAcghB,MAAuB,EAArChhB,CAA4Cpf,GAnBnD,yBAAA/Y,EAAAtD,SAAA2C,EAAA,iBADwC,gBAAAmE,GAAA,OAAAzc,EAAA2O,MAAAkH,KAAA/Z,YAAA,GAsBxC,IACA,CAAEmyG,SAAS,EAAMC,UAAU,IAGf77C,GAA6B,kBAAM,SAAArgC,GAC/C,OAAO87E,GAAkB97E,KC1TnB,SAAS07B,GAAThxD,GAAoC,IAAZ+P,EAAY/P,EAAZ+P,SAC9B,sBAAArP,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeid,EAAU51B,GAAzB,IAAA+B,EAAAZ,EAAAiyF,EAAA,OAAAtxE,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACNs8B,EAAcuc,MAAkB,EAAhCvc,CAAsCpf,GAChC7zB,EAAUD,YAAc9B,KAFxBgZ,EAAAP,KAAA,EAAAO,EAAAN,KAAA,EAIC+F,aAAgC,CACrCV,YAAa,CAAC,CAAEqB,QAAS/O,IACzBtO,YANI,cAAAiX,EAAAN,KAAA,EAS2B25E,aAAY,CAC3ChiF,WACAtO,YAXI,OAAAZ,EAAA6X,EAAAC,KASGm6E,EATHjyF,EASGiyF,cAKRx9D,EAAS,CACRhsB,KAAMyyF,IACNlvF,KAAMimF,EACNnjF,SAAU,aAEXk9D,EAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,mCAAoC,CAC5CqI,KAAM,CAACqqF,EAAc9rF,MAEtBotB,QAAS,KALVy4C,CAMGv3C,GAzBE5c,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SA2BLuV,QAAQpL,MAAM,uBAAdnK,EAAAI,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,uBAAwB,CAChCqI,KAAM,CAAC20F,EAAW1kF,EAAAI,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAlCE,eAoCNof,EAAcuc,MAAkB,EAAhCvc,CAAuCpf,GApCjC5c,EAAAK,OAAA,UAqCC,GArCD,yBAAAL,EAAAO,SAAAZ,EAAA,kBAAP,gBAAAiB,EAAAJ,GAAA,OAAAxY,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAyCM,IAAMqyG,GAAsB,SAAAxwG,GAAkB,IAAf8O,EAAe9O,EAAf8O,SACrC,sBAAA3O,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAMud,GAAN,IAAA71B,EAAAusF,EAAA,OAAAxqE,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEe2R,aAAkB,CAAEha,aAFnC,cAECtQ,EAFDyY,EAAAS,MAGCqzE,EAHD1rF,OAAAC,EAAA,EAAAD,CAAA,GAGoByP,IACbtQ,MAAQA,EAJfyY,EAAAa,OAAA,SAMEuc,EAAS,CACfhsB,KAAMyyF,IACNlvF,KAAMm/E,EACNr8E,SAAU,cATN,OAAAuI,EAAAC,KAAA,EAAAD,EAAAY,GAAAZ,EAAA,SAYL+V,QAAQpL,MAAM,mCAAd3K,EAAAY,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,mCAAoC,CAC5CqI,KAAM,CAAC20F,EAAWllF,EAAAY,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAnBE,yBAAApd,EAAAe,SAAAlB,EAAA,iBAAP,gBAAA2C,GAAA,OAAAtZ,EAAA6Q,MAAAkH,KAAA/Z,YAAA,IAyBD,SAASsyG,GAAqB3hG,GAC7B,GAAIA,EAASkB,QAAgD,WAAtClB,EAASkB,OAAOC,kBACtC,MAAO,SACR,QAASnB,EAASkB,QAAU,IAAIG,MAC/B,IAAK,SACL,IAAK,QACL,IAAK,UACL,IAAK,eACL,IAAK,UACL,IAAK,UACL,IAAK,eACL,IAAK,YACL,IAAK,UACJ,MAAO,SACR,IAAK,UACL,IAAK,YACL,IAAK,WACJ,MAAO,YACR,QACC,MAAO,OAIH,SAASwqF,KACf,sBAAAr6F,EAAAjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqC,EAAemb,EAAU51B,GAAzB,IAAAD,EAAAujG,EAAA2O,EAAA9vG,EAAAC,EAAAC,EAAAvB,EAAAqH,EAAA,OAAA2Z,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,UACA3Y,EAAQC,IACRsjG,EAAUphG,YAAWnC,GAFrBkyG,EAGuBnwG,YAAc/B,GAAnCoC,EAHF8vG,EAGE9vG,OAAQC,EAHV6vG,EAGU7vG,SACRC,EAAYF,EAAZE,QACAvB,EAAYsB,EAAZtB,UAEJwiG,GAAWjhG,GAAWvB,GAPpB,CAAA8Z,EAAAlC,KAAA,gBAAAkC,EAAAnC,KAAA,EAAAmC,EAAAlC,KAAA,EASoBw5F,YAAa,CAAE7vG,UAAS4pF,QAASnrF,IATrD,OASEqH,EATFyS,EAAA3B,KAwBJimF,GAAY,CACXlvF,MAfqB7H,EACpB2D,OACA,SAAAC,GAAC,OAAIA,EAAEkgF,SAAWlgF,EAAEkgF,QAAQtrE,gBAAkB7f,EAAQ6f,gBAEtDvf,IAAI,SAAA2K,GACJ,IAAMsE,EAAQzP,OAAAC,EAAA,EAAAD,CAAA,GAAQmL,EAAEkF,KAASlF,GAMjC,OAJKsE,EAASmB,oBACbnB,EAASkB,OAAOC,kBAAoBwgG,GAAqB3hG,IAGnDA,IAKRJ,SAAU,YAFXivF,CAGGtpE,GA3BChb,EAAAlC,KAAA,iBAAAkC,EAAAnC,KAAA,GAAAmC,EAAAxB,GAAAwB,EAAA,SA6BJ2T,QAAQpL,MAAM,wBAAdvI,EAAAxB,IAEA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,wBAAyB,CACjCqI,KAAM,CAAC20F,EAAW9iF,EAAAxB,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GArCC,yBAAAhb,EAAArB,SAAAkB,EAAA,kBAAP,gBAAAK,EAAAI,GAAA,OAAArZ,EAAA0Q,MAAAkH,KAAA/Z,YAAA,GA2CM,SAAS8qB,GAATxnB,GAAqC,IAAZqN,EAAYrN,EAAZqN,SAC/B,sBAAAnN,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAe8b,EAAU51B,GAAzB,IAAAD,EAAAsC,EAAAN,EAAAqB,EAAAgnB,EAAA,OAAAtI,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cACNs8B,EAAc,oBAAoB,EAAlCA,CAAwCpf,GADlCrb,EAAA9B,KAAA,EAGC1Y,EAAQC,IACRqC,EAAUO,YAAc7C,GACtBgC,EAAYhC,EAAME,QAAlB8B,QALHwY,EAAA7B,KAAA,EAMwBo7E,aAAa,CAAE/xF,UAASsO,aANhD,cAAAjN,EAAAmX,EAAAtB,KAMGmR,EANHhnB,EAMGgnB,WANH7P,EAAA7B,KAAA,GAOCy5F,YAAoB,CAAE9hG,WAAUhO,YAPjC,QAQLq/F,GAA0B,CAAEC,QAASv3E,GAArCs3E,CAAmD9rE,EAAU51B,GAC7Do+B,EAAQ/wB,aAAK,oCACb8/D,EAAS,CACRv3C,WACAhsB,KAAM,SACNg0F,SAAU,2BACV70F,KAAM,CAACsH,EAAS/I,MAEjB40F,KAhBK3hF,EAAA7B,KAAA,iBAAA6B,EAAA9B,KAAA,GAAA8B,EAAAnB,GAAAmB,EAAA,SAkBLgU,QAAQpL,MAAM,uBAAd5I,EAAAnB,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,uBAAwB,CAChCqI,KAAM,CAAC20F,EAAWnjF,EAAAnB,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAzBE,QA2BNof,EAAc,oBAAoB,EAAlCA,CAAyCpf,GA3BnC,yBAAArb,EAAAhB,SAAAO,EAAA,kBAAP,gBAAAkC,EAAA4B,GAAA,OAAA1a,EAAAqP,MAAAkH,KAAA/Z,YAAA,GA+BM,SAASsyD,GAAkB/c,EAAM7qC,EAAO4lC,GAC9C,sBAAAzsC,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAe6V,EAAU51B,GAAzB,IAAAoyG,EAAA,OAAAtwF,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cACA05F,EAAkB7iG,aAAkBvP,KADpCggB,EAAAtH,KAAA,EAEAivC,GACLyqD,EACApiE,GAASpvC,OAAA80B,EAAA,EAAA90B,CAAA,GAAOq0C,EAAO7qC,GACvB,WACAoF,WAJKm4C,CAKJ/xB,GAPI,wBAAA5V,EAAAzG,SAAAwG,MAAP,gBAAA4uE,EAAAjwE,GAAA,OAAAnb,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAWD,IAAM2yG,GAAiB,CACtB,CACC/qG,GAhM0BI,6CAiM1BihB,IAlM2BjhB,kCAmM3BmlF,OAjM+BnlF,IAkM/BqlF,OAjM+BrlF,MAkM/BslF,QAjMgCtlF,IAmMjC,CACCJ,GAjM4BI,6CAkM5BihB,IAnM6BjhB,gCAoM7BmlF,OAlMiCnlF,IAmMjCqlF,OAlMiCrlF,MAmMjCslF,QAlMkCtlF,+CAsM7B,SAASuxD,GAATr1D,GAKJ,IAJF4rC,EAIE5rC,EAJF4rC,WACAH,EAGEzrC,EAHFyrC,MACAuT,EAEEh/C,EAFFg/C,QACAoW,EACEp1D,EADFo1D,UAEA,sBAAAj1D,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAewa,EAAU51B,GAAzB,IAAAD,EAAAsQ,EAAAI,EAAAy+B,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA7C,KAAA,EACAs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GADhC,cAGA71B,EAAQC,IACRqQ,EAAWd,aAAkBxP,GAC3B0Q,EAAYJ,EAAZI,QALF8K,EAAA7C,KAAA,EAOgB+tF,GAAsB,CAAEj3D,aAAY/+B,UAAS4+B,UAP7D,cAOAH,EAPA3zB,EAAAtC,KAAAsC,EAAA7C,KAAA,GASAstF,GAAsB,CAAE92D,UAAS0T,UAASoW,cAT1C,eAAAz9C,EAAA7C,KAAA,GAWAs8B,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GAXjC,yBAAAra,EAAAhC,SAAA6B,MAAP,gBAAA6E,EAAAI,GAAA,OAAAtc,EAAAwO,MAAAkH,KAAA/Z,YAAA,GAeM,SAASw5D,GAATh1D,GAKJ,IAJFsrC,EAIEtrC,EAJFsrC,WACAH,EAGEnrC,EAHFmrC,MACAuT,EAEE1+C,EAFF0+C,QACAoW,EACE90D,EADF80D,UAEA,sBAAA30D,EAAAzD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8D,EAAe0Z,EAAU51B,GAAzB,IAAAD,EAAAsQ,EAAAiP,EAAA3N,EAAAG,EAAAiB,EAAAf,EAAAC,EAAAF,EAAAmiD,EAAAxe,EAAAye,EAAApV,EAAAutC,EAAAt9E,EAAAkgC,EAAAntC,EAAA0C,EAAAkxD,EAAAu9B,EAAAC,EAAA1oC,EAAA,OAAA3oC,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAAnE,KAAA,EACAs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GADhC,UAAA/Y,EAAApE,KAAA,EAGC1Y,EAAQC,IACRqQ,EAAWd,aAAkBxP,GAElCuf,EAQGjP,EARHiP,WACA3N,EAOGtB,EAPHsB,cACAG,EAMGzB,EANHyB,iBACAiB,EAKG1C,EALH0C,MACAf,EAIG3B,EAJH2B,WACAC,EAGG5B,EAHH4B,oBACAF,EAEG1B,EAFH0B,QAZImiD,EAcD7jD,EADHqlC,KAGOye,GAHPze,OAbI,IAAAwe,EAaG,GAbHA,GAgBGC,eAAgBpV,EAAerJ,EAAfqJ,WAElButC,EAlBD1rF,OAAAC,EAAA,EAAAD,CAAA,GAkBoByP,GAEpBiP,GAAeA,EAAW3f,OApB1B,CAAAkd,EAAAnE,KAAA,gBAsBJ4zE,EAAYhtE,WAAa+yF,GAtBrBx1F,EAAAnE,KAAA,GAuBEs5C,GAAkB,aAAcs6B,EAAYhtE,WAA5C0yC,CACLp8B,EACA51B,GAzBG,eAAA6c,EAAAnE,KAAA,GA6BqBgB,QAAQjZ,IAAI,CACrCkmG,GAA2B,CAAEn3D,aAAYlwB,aAAY+vB,SAArDs3D,CAA8D/wE,GAC9D4xE,GAAuB,CACtBh4D,aACAyF,KAAM,gBACN7qC,MAAOuH,EACP09B,QACA19B,gBACAG,mBACA+6B,QAASwC,GAAS,iBAClB0P,cARDyoD,CASG5xE,GACH4xE,GAAuB,CACtBh4D,aACAyF,KAAM,mBACN7qC,MAAO0H,EACPu9B,QACA19B,gBACAG,mBACA+6B,QAASwC,GAAS,iBAClB0P,cARDyoD,CASG5xE,GACH6yE,GAAsB,CACrBj5D,aACAz8B,QACAs8B,SAHDo5D,CAIG7yE,GACHuyE,GAAsB,CACrB34D,aACAyF,KAAM,aACN7qC,MAAO4H,EACPq9B,QACAr9B,aACAC,sBACAF,WAPDo2F,CAQGvyE,GACHuyE,GAAsB,CACrB34D,aACAyF,KAAM,sBACN7qC,MAAO6H,EACPo9B,QACAr9B,aACAC,sBACAF,WAPDo2F,CAQGvyE,KAzEC,WA6BC5mB,EA7BD6N,EAAA5D,KA4ECi2B,EAAUlgC,EAAYopF,MAAM,SAAAp1E,GAAC,OAAU,IAANA,IAET,kBAAnBmxC,EA9EN,CAAAt3C,EAAAnE,KAAA,gBAAAmE,EAAAnE,KAAA,GA+EEs8B,EAAcqf,MAAwB,EAAtCrf,CAA4Cpf,GA/E9C,eAiFE7zB,EAAUD,YAAc/B,GAjF1B8c,EAAAnE,KAAA,GAuFM25E,aAAY,CACrBhiF,SAASzP,OAAAC,EAAA,EAAAD,CAAA,GAAM0rF,GACfvqF,UACAswE,aAAa,EACbkgB,YAAY,IA3FT,eAAA9tF,EAAAoY,EAAA5D,KAoFH08C,EApFGlxD,EAoFHkxD,cACAu9B,EArFGzuF,EAqFHyuF,aACAC,EAtFG1uF,EAsFH0uF,uBAQK1oC,EA9FF7pD,OAAAC,EAAA,EAAAD,CAAA,GA8FiB80C,IACbye,eAAiBwB,EACzBlL,EAAQ1L,WAAam0C,EACrBzoC,EAAQ2J,oBAAsB++B,EAjG1Bt2E,EAAAnE,KAAA,GAmGEs5C,GAAkB,OAAQvH,EAA1BuH,CAAmCp8B,EAAU51B,GAnG/C,eAAA6c,EAAAnE,KAAA,GAsGCstF,GAAsB,CAAE92D,UAAS0T,UAASoW,cAtG3C,QAAAn8C,EAAAnE,KAAA,iBAAAmE,EAAApE,KAAA,GAAAoE,EAAAzD,GAAAyD,EAAA,SAwGL0R,QAAQpL,MAAM,kCAAdtG,EAAAzD,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,kCAAmC,CAC3CqI,KAAM,CAAC20F,EAAW7gF,EAAAzD,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GA/GE,eAAA/Y,EAAAnE,KAAA,GAkHAs8B,EAAcqf,MAAwB,EAAtCrf,CAA6Cpf,GAlH7C,eAAA/Y,EAAAnE,KAAA,GAmHAs8B,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GAnHjC,yBAAA/Y,EAAAtD,SAAA2C,EAAA,kBAAP,gBAAA2D,EAAA4jF,GAAA,OAAAp/F,EAAAkO,MAAAkH,KAAA/Z,YAAA,GAuHM,SAAS81D,KACf,sBAAA5wD,EAAAhE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0F,EAAe8X,EAAU51B,GAAzB,IAAAD,EAAAsQ,EAAA7O,EAAA8wG,EAAA58D,EAAA/jC,EAAA5P,EAAAkD,EAAA0wD,EAAA2a,EAAAiiC,EAAA38C,EAAAnL,EAAA,OAAA3oC,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAAyF,EAAAzF,KAAA,EACAs8B,EAAcqf,MAAwB,EAAtCrf,CAA4Cpf,GAD5C,cAAAzX,EAAA1F,KAAA,EAGC1Y,EAAQC,IACRqQ,EAAWd,aAAkBxP,GAC7ByB,EAAYH,aAAgBtB,GAL7BuyG,EAMgCjiG,EAA7BqlC,YANH,IAAA48D,EAMU,GANVA,EAMc3gG,EAAkBtB,EAAlBsB,cAEb5P,EAAUD,YAAc/B,GARzBoe,EAAAzF,KAAA,GAUiC25E,aAAY,CACjDhiF,SAASzP,OAAAC,EAAA,EAAAD,CAAA,GAAMyP,GACftO,UACAswE,aAAa,IAbT,eAAAptE,EAAAkZ,EAAAlF,KAUG08C,EAVH1wD,EAUG0wD,cAAe2a,EAVlBrrE,EAUkBqrE,KAMjBiiC,EAAahtG,sBAAWoM,EAAenQ,EAAU4D,UAAUkU,IAAIg3D,GAE/D1a,EAAsBjqD,aAC3B4mG,EAAW12F,WACXra,EAAU4D,UAAY,IACtB,GACA,IAGKqlD,EAzBD7pD,OAAAC,EAAA,EAAAD,CAAA,GAyBgB80C,IACbigB,cAAgBA,EACxBlL,EAAQmL,oBAAsBA,EA3BzBz3C,EAAAzF,KAAA,GA6BCs5C,GAAkB,OAAQvH,EAA1BuH,CAAmCp8B,EAAU51B,GA7B9C,QAAAme,EAAAzF,KAAA,iBAAAyF,EAAA1F,KAAA,GAAA0F,EAAA/E,GAAA+E,EAAA,SA+BLoQ,QAAQpL,MAAM,4BAAdhF,EAAA/E,IACA+zD,EAAS,CACRvjE,KAAM,SACNyL,MAAO3U,aAAE,4BAA6B,CACrCqI,KAAM,CAAC20F,EAAWv/E,EAAA/E,OAEnBsb,QAAS,KALVy4C,CAMGv3C,GAtCE,eAAAzX,EAAAzF,KAAA,GAyCAs8B,EAAcqf,MAAwB,EAAtCrf,CAA6Cpf,GAzC7C,yBAAAzX,EAAA5E,SAAAuE,EAAA,kBAAP,gBAAA4lF,EAAAG,GAAA,OAAAj/F,EAAA2N,MAAAkH,KAAA/Z,YAAA,GA6CM,SAASygD,GAA4BthB,GAC3C,sBAAA35B,EAAAtE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAwG,EAAegX,EAAU51B,GAAzB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cAAAwG,EAAAxG,KAAA,EACAs8B,EAAc0J,MAA6B,EAA3C1J,CAAiDpf,GADjD,OAEN+gD,EAAa/1E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACZ,SAAA2rF,IAAA,OAAAjiF,EAAAriB,EAAA8Y,KAAA,SAAAyrF,GAAA,cAAAA,EAAAvrF,KAAAurF,EAAAtrF,MAAA,cAAAsrF,EAAAtrF,KAAA,EACO0kF,EAAwBv+D,EAAxBu+D,CAAkCxnE,EAAU51B,GADnD,cAAAgkG,EAAAtrF,KAAA,EAEOkd,EAASvoB,aAAK,mCAFrB,cAAA22F,EAAAtrF,KAAA,EAGOs8B,EAAc0J,MAA6B,EAA3C1J,CAAkDpf,GAHzD,wBAAAouE,EAAAzqF,SAAAwqF,MADYnjG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAMZ,SAAAqH,IAAA,OAAAqC,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,cAAAgH,EAAAhH,KAAA,EACOs8B,EAAc0J,MAA6B,EAA3C1J,CAAkDpf,GADzD,wBAAAlW,EAAAnG,SAAAkG,MAGA,CACC1M,MAAOrS,aAAE,2CACTqoB,KAAMroB,aAAE,2CAXVi2E,CAaE/gD,EAAU51B,GAfN,wBAAAkf,EAAA3F,SAAAqF,MAAP,gBAAAklF,EAAAI,GAAA,OAAAh/F,EAAAqN,MAAAkH,KAAA/Z,YAAA,OClbO8yG,GAAev/D,UAAfu/D,WAED,SAASp8C,GAAcnhB,EAAM7qC,EAAO4lC,GAC1C,sBAAA1vC,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeid,EAAU51B,GAAzB,IAAAD,EAAA0yG,EAAA,OAAA3wF,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACA3Y,EAAQC,IACRyyG,EAAc/iG,aAAgB3P,GAF9BiZ,EAAAN,KAAA,EAGAivC,GACL8qD,EACAziE,GAASpvC,OAAA80B,EAAA,EAAA90B,CAAA,GAAOq0C,EAAO7qC,GACvB,SACAyF,SAJK83C,CAKJ/xB,GARI,wBAAA5c,EAAAO,SAAAZ,MAAP,gBAAAiB,EAAAJ,GAAA,OAAAlZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS65D,GAATp4D,GAKJ,IAJFquC,EAIEruC,EAJFquC,WACAH,EAGEluC,EAHFkuC,MACAuT,EAEEzhD,EAFFyhD,QACAoW,EACE73D,EADF63D,UAEA,sBAAAz3D,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAeud,EAAU51B,GAAzB,IAAAwB,EAAAzB,EAAA+rE,EAAA/4D,EAAAsiC,EAAAzrC,EAAAiK,EAAA6+F,EAAA5gG,EAAA9C,EAAAkgC,EAAA,OAAAptB,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAs8B,EAAcxF,GAAY,EAA1BwF,CAAgCpf,GADhC,cAGAp0B,EAAYH,eACZtB,EAAQC,IACR8rE,EAAOp8D,aAAgB3P,GACrBgT,EAA+D+4D,EAA/D/4D,MAAOsiC,EAAwDy2B,EAAxDz2B,YAAazrC,EAA2CkiE,EAA3CliE,KAAMiK,EAAqCi4D,EAArCj4D,QAN5B6+F,EAMiE5mC,EAA5Bh6D,wBANrC,IAAA4gG,EAMwD,KANxDA,EAAAl6F,EAAAE,KAAA,EAQoBgB,QAAQjZ,IAAI,CACrC4pG,GAAmB,CAClB76D,aACAplC,MAAO2I,EACPkiC,KAAM,QACNvuB,OAAQ8rF,GAAWz/F,MACnBs8B,SALDg7D,CAMGz0E,GACHy0E,GAAmB,CAClB76D,aACAplC,MAAOirC,EACPJ,KAAM,cACNvuB,OAAQ8rF,GAAWn9D,YACnBhG,SALDg7D,CAMGz0E,GACHy0E,GAAmB,CAClB76D,aACAplC,MAAOR,EACPqrC,KAAM,OACNvuB,OAAQ8rF,GAAW5oG,KACnBylC,SALDg7D,CAMGz0E,GACHy0E,GAAmB,CAClB76D,aACAplC,MAAOyJ,EACPohC,KAAM,UACNvuB,OAAQ8rF,GAAW3+F,QACnBw7B,SALDg7D,CAMGz0E,GACHg/B,GAAqB,CACpBplB,aACAyF,KAAM,mBACN7qC,MAAO0H,GAAoB,IAC3Bu9B,SAJDulB,CAKGh/B,KA1CE,UAQA5mB,EARAwJ,EAAAS,OA6CFi2B,EAAUlgC,EAAYopF,MAAM,SAAAp1E,GAAC,OAAU,IAANA,KA7C/B,CAAAxK,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAgDW2xF,GAAmB,CAClC76D,aACAplC,MAAMxJ,OAAA80B,EAAA,EAAA90B,CAAA,GACJY,EAAUV,QAAU68F,GAAyB,CAC7C/uB,OAAQ98D,EACR1M,SAAU5D,EAAU4D,YAGtB6vC,KAAM,mBACNvuB,OAAQ8rF,GAAW1gG,iBACnBu9B,SAVeg7D,CAWbz0E,GA3DE,QAgDLsZ,EAhDK12B,EAAAS,KAAA,eAAAT,EAAAE,KAAA,GA8DAstF,GAAsB,CAAE92D,UAAS0T,UAASoW,cA9D1C,eAAAxgD,EAAAE,KAAA,GAgEAs8B,EAAcxF,GAAY,EAA1BwF,CAAiCpf,GAhEjC,yBAAApd,EAAAe,SAAAlB,MAAP,gBAAA2C,EAAAF,GAAA,OAAAvZ,EAAAgR,MAAAkH,KAAA/Z,YAAA,gmFClBc0X,EAAA,EAAAxW,OAAAC,EAAA,MACXkyD,EACA4/C,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,oCCzBJl8F,EAAAC,EAAAC,EAAA,sBAAAmqE,IAAArqE,EAAAC,EAAAC,EAAA,sBAAAquF,IAAAvuF,EAAAC,EAAAC,EAAA,sBAAA4sE,IAAA9sE,EAAAC,EAAAC,EAAA,sBAAAqqE,IAAAvqE,EAAAC,EAAAC,EAAA,sBAAAm6C,IAAAr6C,EAAAC,EAAAC,EAAA,sBAAAi9C,IAAAn9C,EAAAC,EAAAC,EAAA,sBAAAmqF,IAAArqF,EAAAC,EAAAC,EAAA,sBAAA4+C,IAAA9+C,EAAAC,EAAAC,EAAA,sBAAAsnC,IAAO,IAAM6iC,EAAmB,mBACnBkkB,EAAsB,sBACtBzhB,EAA2B,2BAC3BvC,EAAyB,yBACzBlwB,EAAmB,mBACnB8C,EAAyB,yBACzBktC,EAA4B,4BAC5BvrC,EAAwB,wBACxBtX,EAA8B,0PCH3CjzB,SAAO0lD,OAAOkiC,YAAY,aAElB7oB,EAAwCd,IAAxCc,SAAUN,EAA8BR,IAA9BQ,SAAUS,EAAoBjB,IAApBiB,gBA+BtB2oB,EAAkB,SAAAj4F,GACvB,IAAMk4F,EA9Ba,SAAAl4F,GAAY,IACvBm4F,EAAa1zG,eAAb0zG,SACR,OAAO,IAAI9nF,WAAS8nF,EAAUhpB,EAASL,IAAK9uE,GA4B3Bo4F,CAAYp4F,GACvB7Z,EA1Bc,SAAA6Z,GAAY,IAAAq4F,EACL5zG,eAAnB0B,iBADwB,IAAAkyG,EACZ,GADYA,EAEhC,OAAO,IAAIhoF,WACVlqB,EAAUV,QACV4oF,IAAUloF,EAAUmyG,UAAUxpB,IAC9B9uE,GAqBiBu4F,CAAav4F,GACzBw4F,EARoB,SAAAx4F,GAAY,IAC9By4F,EAAwBh0G,eAAxBg0G,oBACR,OAAO,IAAIpoF,WAASooF,EAAqBnpB,EAAgBR,IAAK9uE,GAMtC04F,CAAmB14F,GAc3C,MAZgB,CACfA,WACAmvE,SAAU+oB,EACVrpB,SAAUA,EACVQ,IAAKlpF,EACLwyG,UAAWxyG,EACXmpF,gBAAiBkpB,EACjB75F,SAAU,SAAA7Y,GAAA,IAAGwyG,EAAHxyG,EAAGwyG,SAAU7yG,EAAbK,EAAaL,QAAb,OA3BK,SAAAR,GAAqC,IAAlC+a,EAAkC/a,EAAlC+a,SAAUs4F,EAAwBrzG,EAAxBqzG,SAAU7yG,EAAcR,EAAdQ,QACvC,OAAO,IAAI4qB,WAAS5qB,EAAS4oF,IAAUiqB,GAAUxpB,IAAK9uE,GA2BpDrB,CAAS,CAAEqB,WAAUs4F,WAAU7yG,aAChCub,YAAa,SAAA9a,GAAA,IAAGT,EAAHS,EAAGT,QAAH,OAzBK,SAAAE,GAA2B,IAAxBqa,EAAwBra,EAAxBqa,SAAUva,EAAcE,EAAdF,QAGhC,OAFyB,IAAI4qB,WAAS5qB,EAASopF,EAASC,IAAK9uE,GAwB9BgB,CAAY,CAAEhB,WAAUva,eAMlDmzG,EAAY,WACjB,IAAM54F,EAAW,IAAIoQ,SAAOyoF,UAAUC,gBACrCzsG,iEAED,OAAO4rG,EAAgBj4F,IAGlB+4F,EAAmB,IAAI16F,QAAQ,SAACC,EAASuS,GAC9C4mB,OAAOuhE,iBAAiB,OAAQ,WAC/B,IAAMjQ,EAAWtxD,OAAOsxD,SAClBkQ,EAAOxhE,OAAOwhE,KACpB,OAAO36F,EAAQ,CACdyqF,WACAkQ,aAKGC,EAAY,eAAA7yG,EAAAd,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAAO,IAAA,IAAA9W,EAAAyyG,EAAAlQ,EAAA/oF,EAAA,OAAAq7E,EAAAj3F,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACa07F,EAAiBn3F,OAD9B,UAAApb,EAAAmX,EAAAC,KACZq7F,EADYzyG,EACZyyG,KAAMlQ,EADMviG,EACNuiG,SACV/oF,EAAW,MAEX+oF,EAJgB,CAAAprF,EAAAN,KAAA,gBAAAM,EAAAP,KAAA,EAAAO,EAAAN,KAAA,GAMZ0rF,EAASoQ,SANG,eAQlBn5F,EAAW,IAAIoQ,SAAOyoF,UAAUO,aAAarQ,GAR3BprF,EAAAK,OAAA,SAUXi6F,EAAgBj4F,IAVL,cAAArC,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SAYlBuV,QAAQpL,MAAM,iCAAdnK,EAAAI,IACM,IAAI8J,MAAMlK,EAAAI,GAAImK,SAbF,QAAAvK,EAAAN,KAAA,qBAmBX47F,EAnBW,CAAAt7F,EAAAN,KAAA,gBAoBnB6V,QAAQpL,MAAM,sDACdoL,QAAQpL,MAAM,mCArBKnK,EAAAN,KAAA,GAsBNu7F,IAtBM,eAAAj7F,EAAAK,OAAA,SAAAL,EAAAC,MAAA,eAwBnBsV,QAAQpL,MAAM,kCACdoL,QAAQpL,MAAM,mCAzBKnK,EAAAN,KAAA,GA0BNu7F,IA1BM,eAAAj7F,EAAAK,OAAA,SAAAL,EAAAC,MAAA,yBAAAD,EAAAO,SAAAZ,EAAA,kBAAH,yBAAAjX,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GA8BZg1G,EAAY,eAAA1xG,EAAApC,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAAC,IAAA,OAAAq+E,EAAAj3F,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAa,OAAA,SAEb46F,KAFa,wBAAAz7F,EAAAe,SAAAlB,MAAH,yBAAArV,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAKZ8a,EAAY,SAAAoJ,GAIjB,OAAIA,IAASiC,IAAWC,SAASpU,KACzB6iG,IAEAG,KAIH9Q,EAAuB,eAAA1gG,EAAAtC,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAAqC,IAAA,IAAArX,EAAAghG,EAAA,OAAA1N,EAAAj3F,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACJ07F,EAAiBn3F,OADb,UAAA7Z,EAAAwX,EAAA3B,OACvBmrF,EADuBhhG,EACvBghG,YACQA,EAAShiB,gBAFM,CAAAxnE,EAAAlC,KAAA,eAAAkC,EAAAvB,OAAA,SAGvBoJ,QAAMoC,WAAWu/E,EAAShiB,kBAHH,cAAAxnE,EAAAvB,OAAA,SAKvB,MALuB,wBAAAuB,EAAArB,SAAAkB,MAAH,yBAAAvX,EAAAqP,MAAAkH,KAAA/Z,YAAA,GASvBukG,EAAiB,eAAA1gG,EAAA3C,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAA0B,IAAA,IAAArW,EAAA2gG,EAAA98F,EAAA,OAAAovF,EAAAj3F,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACE07F,EAAiBn3F,OADnB,UAAAxZ,EAAA8W,EAAAtB,OACjBmrF,EADiB3gG,EACjB2gG,UADiB,CAAA7pF,EAAA7B,KAAA,eAGlBpR,EAAKoG,SAAS02F,EAASuQ,eAAgB,IAHrBp6F,EAAAlB,OAAA,SAIjB/R,GAJiB,cAAAiT,EAAAlB,OAAA,SAMjB,MANiB,yBAAAkB,EAAAhB,SAAAO,MAAH,yBAAAvW,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAUjB+/E,EAAmB,eAAA77E,EAAAhD,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAG,SAAA2H,IAAA,IAAAhc,EAAAqgG,EAAA,OAAA1N,EAAAj3F,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsH,EAAAtH,KAAA,EACA07F,EAAiBn3F,OADjB,UAAAlZ,EAAAic,EAAA/G,KACnBmrF,EADmBrgG,EACnBqgG,SADmB,CAAApkF,EAAAtH,KAAA,eAAAsH,EAAA3G,OAAA,SAGnB,MAHmB,WAMvB+qF,EAASwQ,WANc,CAAA50F,EAAAtH,KAAA,eAAAsH,EAAA3G,OAAA,SAOnBwM,IAAWC,SAASpU,MAPD,cAAAsO,EAAA3G,OAAA,SAUpB,MAVoB,wBAAA2G,EAAAzG,SAAAwG,MAAH,yBAAAnc,EAAA2O,MAAAkH,KAAA/Z,YAAA,wBC7IzB0yB,EAAAC,QAAiBnb,EAAAob,EAAuB,6DCAxCF,EAAAC,QAAiBnb,EAAAob,EAAuB,8DCAxCF,EAAAC,QAAiBnb,EAAAob,EAAuB,uHCGlCkqC,mDAmDLC,qBAAuB,SAAC/4C,EAAKmxF,GAC5B,IAAKnxF,GAAsB,kBAARA,EAClB,MAAM,IAAIR,MAAM,iBACS,IAAfQ,EAAI/jB,SACd+jB,GAAYA,EAAIoxF,OAAO,EAAG,IAGN,kBAAVD,GAAuC,qBAAVA,IACvCA,EAAQ,GAGT,IAAME,EAAW,SAAAC,GAChB,OAAOtnG,SAAS,KAAOsnG,EAAG,KAGvBlyF,EAAIiyF,EAASrxF,EAAIoxF,OAAO,EAAG,IAC3BG,EAAIF,EAASrxF,EAAIoxF,OAAO,EAAG,IAC3Bj1G,EAAIk1G,EAASrxF,EAAIoxF,OAAO,EAAG,IAE/B,cAAAhiG,OAAegQ,EAAf,KAAAhQ,OAAoBmiG,EAApB,KAAAniG,OAAyBjT,EAAzB,KAAAiT,OAA8B+hG,EAA9B,WAyBDxmC,UAAY,SAAAlgD,GACX,IAAI+mF,GAAS/mF,EAAI5K,SAAW4K,GAAO,IAAItS,WAAWlZ,MAAM,eAExD,OAAIuyG,EAAMv1G,OAAS,GACVwuB,EAAIzc,KAAOyc,EAAIzc,KAAO,KAAO,IAAMwjG,EAAM,GAAGr5F,YAE5CsS,EAAIhL,OAASgL,GAAO,IAAItS,iBAIlCs5F,MAAQ,SAAAC,GACP,MAAsB,kBAARA,GAAoBA,EAAM,IAAM,QAG/CC,aAAe,SAAA1vC,GACd,OAAO/kE,OAAA00G,EAAA,EAAA10G,CAAI+kE,GAAO7wD,KAAK,kBAAMzC,KAAK4U,SAAW,4DA5G7C,MAAO,uCAAuCjU,QAAQ,QAAS,SAAAjH,GAC9D,IAAI+W,EAAqB,GAAhBzQ,KAAK4U,SAAiB,EAE/B,OADW,MAANlb,EAAY+W,EAAS,EAAJA,EAAW,GACxBjH,SAAS,2CAIP05F,GACZ,IAAIP,EAAI,mCAAmChiG,QAAQ,QAAS,SAAAjH,GAC3D,IAAI+W,EAAqB,GAAhBzQ,KAAK4U,SAAiB,EAE/B,OADW,MAANlb,EAAY+W,EAAS,EAAJA,EAAW,GACxBjH,SAAS,MAKnB,OAHI05F,IACHP,EAAIO,EAASP,EAAEnf,UAAU0f,EAAO51G,SAE1Bq1G,uCAGKl9F,EAAKxF,GACjB,OAAOD,KAAK2U,MAAM3U,KAAK4U,UAAY3U,EAAMwF,EAAM,GAAKA,2CAIpD,QAAS2B,KAAK+7F,aAAa,EAAG,gDAGVzhC,GACpB,IAAIpgE,EAAO/S,OAAO+S,KAAKogE,GACvB,OAAOA,EAAIpgE,EAAMA,EAAKhU,OAAS0S,KAAK4U,UAAa,gDAG9B8sD,GACnB,IAAIpgE,EAAO/S,OAAO+S,KAAKogE,GACvB,OAAOpgE,EAAMA,EAAKhU,OAAS0S,KAAK4U,UAAa,0CAG/BwuF,EAAaC,EAAcC,GAEzC,IAAI13F,EAAU21C,IAAOgiD,SAASD,GAC3BA,EAAcphD,eACd30D,EAEH,OAAOg0D,IAAO31C,GACZ3E,IAAIG,KAAK+7F,cAAcC,EAAaC,GAAe,KACnDp8F,IAAIG,KAAK+7F,cAAc,GAAI,IAAK,KAChCl8F,IAAIG,KAAK+7F,cAAc,GAAI,IAAK,sCAyB1BrqF,GACR,OACEA,GACuB,kBAAhBA,IAA6BvqB,OAAO+S,KAAKwX,GAAaxrB,OAEvD,GAGP,IACCiB,OAAO+S,KAAKwX,GACVrf,OAAO,SAAA8H,GAAG,YAAyBhU,IAArBurB,EAAYvX,KAC1BxS,IAAI,SAAAwS,GACJ,OACCy4D,mBAAmBz4D,GACnB,IACAy4D,mBAAmBlhD,EAAYvX,KAE9B,IACFqoD,KAAK,OAAQ,WAuBJ7kD,EAAA,MAAIolD,kbCrGnB,SAASq5C,EAAYC,EAAMnR,EAAMoR,EAAYC,EAAQC,EAASC,GAC7D,OAAO,IAAIx8F,QAAQ,SAACC,EAASuS,GAC5BiqF,IAAOA,OACNL,EACAnR,EACAoR,EACAC,EACAC,EACA,SAAC9nF,EAAKioF,GACL,GAAIjoF,EACH,OAAOjC,EAAOiC,GAGf,IAAMjR,EAAMk5F,EAAWv6F,SAASq6F,GAEhC,OAAOv8F,EAAQuD,gBAMJm5F,+EAAf,SAAA19F,EAAArY,GAAA,IAAAmC,EAAA6hB,EAAAwxF,EAAAnR,EAAA/wF,EAAA,OAAA8iF,EAAAj3F,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAA8BjW,EAA9BnC,EAA8BmC,MAAO6hB,EAArChkB,EAAqCgkB,SAC9BwxF,EAAOhR,EAAaxgF,GACpBqgF,EAAOG,EAAariG,GAF3BuW,EAAAN,KAAA,EAImBm9F,EAAYC,EAAMnR,EAAM,IAAO,GAAI,SAAU,OAJhE,cAIO/wF,EAJPoF,EAAAC,KAAAD,EAAAK,OAAA,SAMQzF,GANR,wBAAAoF,EAAAO,SAAAZ,6BASA,SAAS29F,EAAeh0G,GACvB,OAAQA,GAAyB,WAAbA,GAAsC,UAAbA,EAIvC,SAASi0G,IACf,IAAMC,EAAgB/zF,QAAMiqE,YAAY,IAGxC,OAFiBjqE,QAAMg0F,OAAOC,kBAAkBF,GAK1C,SAAeG,EAAtBn9F,GAAA,OAAAo9F,EAAArkG,MAAAkH,KAAA/Z,sDAAO,SAAA2Y,EAA8Bw+F,GAA9B,IAAA7wE,EAAA7jC,EAAA,OAAAu0F,EAAAj3F,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACAstB,EAAO6wE,GAAYN,IACnBp0G,EAASspB,SAAO9G,OAAOmyF,aAAa9wE,GAFpCxtB,EAAAa,OAAA,SAIC,CACNw9F,WACAjyF,WAAYziB,EAAOyiB,WACnB9jB,QAASqB,EAAOrB,QAChB2a,KAAMtZ,EAAOsZ,OARR,wBAAAjD,EAAAe,SAAAlB,sCAYQ0+F,+EAAf,SAAAt8F,EAAAzZ,GAAA,IAAAyB,EAAA6hB,EAAAhiB,EAAA,OAAAo0F,EAAAj3F,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,UAAyBjW,EAAzBzB,EAAyByB,MAAO6hB,EAAhCtjB,EAAgCsjB,SAAUhiB,EAA1CtB,EAA0CsB,SAA1C,CAAAsY,EAAAlC,KAAA,eAAAkC,EAAAlC,KAAA,EAEe6gF,YAAc92F,EAAO6hB,GAFpC,cAAA1J,EAAAvB,OAAA,SAAAuB,EAAA3B,MAAA,UAGgC,kBAAb3W,EAHnB,CAAAsY,EAAAlC,KAAA,gBAAAkC,EAAAvB,OAAA,iBAAAvG,OAIiBxQ,EAJjB,YAAAwQ,OAIoCrQ,EAAMke,gBAJ1C,cAMQ,IAAIuC,MAAM,gBANlB,yBAAAtI,EAAArB,SAAAkB,6BAUO,SAAeu8F,EAAtBl8F,GAAA,OAAAm8F,EAAA1kG,MAAAkH,KAAA/Z,sDAAO,SAAAoa,EAAA3Y,GAAA,IAAA+1G,EAAAz0G,EAAA6hB,EAAAxX,EAAAxK,EAAA60G,EAAAC,EAAAC,EAAAze,EAAA,OAAAlC,EAAAj3F,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,UAAAw+F,EAAA/1G,EAA0BsB,aAA1B,IAAAy0G,EAAkC,GAAlCA,EAAsC5yF,EAAtCnjB,EAAsCmjB,SAAUxX,EAAhD3L,EAAgD2L,KAAMxK,EAAtDnB,EAAsDmB,SACtD60G,EAAWb,EAAeh0G,GAC1B80G,EAAW1sF,KAAKC,UAAU7d,IAC5BqqG,EAHE,CAAA58F,EAAA7B,KAAA,gBAAA6B,EAAA7B,KAAA,EAIyB6gF,YAAc6d,EAAU30G,EAAQ6hB,GAJzD,cAIC+yF,EAJD98F,EAAAtB,KAAAsB,EAAAlB,OAAA,SAKEg+F,GALF,eAAA98F,EAAAnB,GAOmBo/E,IAPnBj+E,EAAA8K,GAQJ+xF,EARI78F,EAAA7B,KAAA,GASE29F,EAAa,CAAE5zG,MAAOA,EAAMke,cAAe2D,aAT7C,eAAA/J,EAAA+K,GAAA/K,EAAAtB,KAAAsB,EAAA7B,KAAA,MAAA6B,EAAAnB,IAAAmB,EAAA8K,GAAA9K,EAAA+K,IAAA,eAOCszE,EAPDr+E,EAAAtB,KAAAsB,EAAAlB,OAAA,SAWEu/E,GAXF,yBAAAr+E,EAAAhB,SAAAO,6BAeA,SAAew9F,EAAtBp8F,GAAA,OAAAq8F,EAAAhlG,MAAAkH,KAAA/Z,sDAAO,SAAAqgB,EAAAxe,GAAA,IAAAi2G,EAAA/0G,EAAA6hB,EAAAxX,EAAAxK,EAAAm1G,EAAAte,EAAA,OAAAzC,EAAAj3F,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,UAAA8+F,EAAAj2G,EAA0BkB,aAA1B,IAAA+0G,EAAkC,GAAlCA,EAAsClzF,EAAtC/iB,EAAsC+iB,SAAUxX,EAAhDvL,EAAgDuL,KAAMxK,EAAtDf,EAAsDe,SACxDm1G,EAAe,IACFnB,EAAeh0G,GAF1B,CAAA0d,EAAAtH,KAAA,eAAAsH,EAAAtH,KAAA,EAKgBghF,YAAc5sF,EAAMrK,EAAQ6hB,GAL5C,OAKLmzF,EALKz3F,EAAA/G,KAAA+G,EAAAtH,KAAA,uBAAAsH,EAAA5G,GAOgB2/E,IAPhB/4E,EAAAqF,GAQJvY,EARIkT,EAAAtH,KAAA,GASE29F,EAAa,CAAE5zG,MAAOA,EAAMke,cAAe2D,aAT7C,eAAAtE,EAAAsF,GAAAtF,EAAA/G,KAAA+G,EAAAtH,KAAA,MAAAsH,EAAA5G,IAAA4G,EAAAqF,GAAArF,EAAAsF,IAAA,QAOLmyF,EAPKz3F,EAAA/G,KAAA,eAAA+G,EAAAvH,KAAA,GAcC0gF,EAAOzuE,KAAKwD,MAAMupF,GAdnBz3F,EAAA3G,OAAA,SAeE8/E,GAfF,cAAAn5E,EAAAvH,KAAA,GAAAuH,EAAAuF,GAAAvF,EAAA,UAiBC,IAAIkD,MAAM,4BAAVlD,EAAAuF,IAjBD,yBAAAvF,EAAAzG,SAAAwG,EAAA,0CAqBA,SAAe8sF,EAAtB7wF,GAAA,OAAA07F,EAAAnlG,MAAAkH,KAAA/Z,sDAAO,SAAA0b,EAAA1Z,GAAA,IAAAi2G,EAAAl1G,EAAAm1G,EAAAtzF,EAAAuyF,EAAAgB,EAAAv1G,EAAAiiB,EAAA3Q,EAAA9G,EAAA,OAAA4pF,EAAAj3F,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAAi/F,EAAAj2G,EACNe,aADM,IAAAk1G,EACE,GADFA,EAAAC,EAAAl2G,EAEN4iB,gBAFM,IAAAszF,EAEK,GAFLA,EAGNf,EAHMn1G,EAGNm1G,SAHMgB,EAAAn2G,EAINY,gBAJM,IAAAu1G,EAIK,GAJLA,EAAAt8F,EAAA7C,KAAA,EAMmBi+F,EAAeE,GANlC,cAMAtyF,EANAhJ,EAAAtC,KAAAsC,EAAA7C,KAAA,EAOYq+F,EAAQ,CAAEt0G,QAAO6hB,WAAUhiB,aAPvC,cAOAsR,EAPA2H,EAAAtC,KAAAsC,EAAA7C,KAAA,EAQas+F,EAAS,CAAElqG,KAAMyX,EAAY9hB,QAAO6hB,WAAUhiB,aAR3D,cAQAwK,EARAyO,EAAAtC,KAAAsC,EAAA7C,KAAA,GASA0V,YAAmB,CAAEthB,QAAQ8G,GAT7B,eAWN2Q,EAAWjiB,SAAWA,EAXhBiZ,EAAAlC,OAAA,SAYCkL,GAZD,yBAAAhJ,EAAAhC,SAAA6B,6BAeA,SAAe8qE,EAAtBtoE,GAAA,OAAAk6F,EAAAvlG,MAAAkH,KAAA/Z,sDAAO,SAAAwc,EAAAra,GAAA,IAAAk2G,EAAAt1G,EAAAu1G,EAAA1zF,EAAAniB,EAAA81G,EAAA,OAAAvhB,EAAAj3F,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAq/F,EAAAl2G,EAAqCY,aAArC,IAAAs1G,EAA6C,GAA7CA,EAAAC,EAAAn2G,EAAiDyiB,gBAAjD,IAAA0zF,EAA4D,GAA5DA,EAAAn7F,EAAAnE,KAAA,EACegM,EAAe,CACnCjiB,QACA6hB,WACA4zF,cAAc,IAJT,YACA/1G,EADA0a,EAAA5D,QAOQ9W,EAAO2K,KAPf,CAAA+P,EAAAnE,KAAA,eAAAmE,EAAAnE,KAAA,EAQgBq+F,EAAQ,CAC5Bt0G,QACA6hB,WACAhiB,SAAUujB,IAAWK,MAAMxU,OAXvB,OAQCumG,EARDp7F,EAAA5D,KAaLmV,YAAmBjsB,EAAQ81G,GAbtB,wBAAAp7F,EAAAtD,SAAA2C,6BAiBA,SAAeiqE,EAAtBwI,GAAA,OAAAwpB,EAAA5lG,MAAAkH,KAAA/Z,sDAAO,SAAAoe,EAAA9a,GAAA,IAAAo1G,EAAA31G,EAAA41G,EAAA/zF,EAAA1Q,EAAA,OAAA8iF,EAAAj3F,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAA0/F,EAAAp1G,EAAiCP,aAAjC,IAAA21G,EAAyC,GAAzCA,EAAAC,EAAAr1G,EAA6CshB,gBAA7C,IAAA+zF,EAAwD,GAAxDA,EAAAl6F,EAAAzF,KAAA,EACYq+F,EAAQ,CAAEt0G,QAAO6hB,aAD7B,OACA1Q,EADAuK,EAAAlF,KAENwV,YAAuB7a,GAFjB,wBAAAuK,EAAA5E,SAAAuE,6BAKA,SAAegvF,EAAtBpuF,GAAA,OAAA45F,EAAA/lG,MAAAkH,KAAA/Z,sDAAO,SAAAqkG,EAAA7gG,GAAA,IAAAq1G,EAAA91G,EAAA+1G,EAAAl0F,EAAAm0F,EAAA1L,EAAA2L,EAAA1L,EAAA1qG,EAAAsR,EAAAzR,EAAA2K,EAAA,OAAA4pF,EAAAj3F,EAAA8Y,KAAA,SAAAyrF,GAAA,cAAAA,EAAAvrF,KAAAurF,EAAAtrF,MAAA,UAAA6/F,EAAAr1G,EACNT,aADM,IAAA81G,EACE,GADFA,EAAAC,EAAAt1G,EAENohB,gBAFM,IAAAk0F,EAEK,GAFLA,EAAAC,EAAAv1G,EAGN6pG,eAHM,IAAA0L,EAGI,GAHJA,EAAAC,EAAAx1G,EAIN8pG,iBAJM,IAAA0L,EAIM,GAJNA,EAKNp2G,EALMY,EAKNZ,SAEgB,SAAZyqG,EAPE,CAAA/I,EAAAtrF,KAAA,cAQC,IAAIwK,MAAM,oBARX,cAAA8gF,EAAAtrF,KAAA,EAWYq+F,EAAQ,CAAEt0G,QAAO6hB,WAAUhiB,aAXvC,UAWAsR,EAXAowF,EAAA/qF,KAYA9W,EAAS4rB,YAAqBna,GAZ9B,CAAAowF,EAAAtrF,KAAA,cAeC,IAAIwK,MAAM,oBAfX,cAAA8gF,EAAAtrF,KAAA,GAkBas+F,EAAS,CAAElqG,KAAMkgG,EAAWvqG,QAAO6hB,WAAUhiB,aAlB1D,QAkBAwK,EAlBAk3F,EAAA/qF,KAmBN9W,EAAO4qG,GAAWjgG,EAClBshB,YAAmBjsB,EAAQyR,GApBrB,yBAAAowF,EAAAzqF,SAAAwqF,6BAuBA,SAAe/vB,EAAtB/zD,GAAA,OAAA04F,EAAApmG,MAAAkH,KAAA/Z,sDAAO,SAAA+f,EAAArc,GAAA,IAAAX,EAAA6hB,EAAAhiB,EAAAsR,EAAAzR,EAAA,OAAAu0F,EAAAj3F,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,UAAuCjW,EAAvCW,EAAuCX,MAAO6hB,EAA9ClhB,EAA8CkhB,SAAUhiB,EAAxDc,EAAwDd,SACzDG,GAAU6hB,EADT,CAAA5E,EAAAhH,KAAA,eAAAgH,EAAArG,OAAA,SAEE,MAFF,cAAAqG,EAAAhH,KAAA,EAKYq+F,EAAQ,CAAEt0G,QAAO6hB,WAAUhiB,aALvC,cAKAsR,EALA8L,EAAAzG,KAMA9W,EAAS4rB,YAAqBna,GAN9B8L,EAAArG,OAAA,SAQC,CACNzF,MACAzR,WAVK,wBAAAud,EAAAnG,SAAAkG,6BAcA,SAAeiF,EAAtBrE,GAAA,OAAAu4F,EAAArmG,MAAAkH,KAAA/Z,sDAAO,SAAA6gB,EAAAhd,GAAA,IAAAd,EAAA6hB,EAAAhiB,EAAA41G,EAAAtkG,EAAAzR,EAAA02G,EAAAC,EAAAC,EAAAC,EAAA,OAAAtiB,EAAAj3F,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,UACNjW,EADMc,EACNd,MACA6hB,EAFM/gB,EAEN+gB,SACAhiB,EAHMiB,EAGNjB,SACA41G,EAJM30G,EAIN20G,aAEKz1G,GAAU6hB,EANT,CAAA5D,EAAAhI,KAAA,cAOC,IAAIwK,MAAM,+BAPX,cAAAxC,EAAAhI,KAAA,EAUYq+F,EAAQ,CAAEt0G,QAAO6hB,WAAUhiB,aAVvC,UAUAsR,EAVA8M,EAAAzH,OAWA9W,EAAS4rB,YAAqBna,IAX9B,CAAA8M,EAAAhI,KAAA,aAcDw/F,EAdC,CAAAx3F,EAAAhI,KAAA,gBAAAgI,EAAArH,OAAA,SAeGlX,GAfH,eAkBC02G,EAAaj4G,OAAO+S,KAAKxR,GAEzB22G,EAAWD,EAAWz3G,IAAX,eAAA8C,EAAAtD,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAAe,SAAAwG,EAAMhL,GAAN,IAAAmlG,EAAA,OAAAriB,EAAAj3F,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cAAAwG,EAAAxG,KAAA,EAQH4+F,EAAS,CACpCxqG,KAAM3K,EAAOyR,GACbnR,QACA6hB,WACAhiB,aAZ8B,cAQzBy2G,EARyB75F,EAAAjG,KAAAiG,EAAA7F,OAAA,SAexB0/F,GAfwB,wBAAA75F,EAAA3F,SAAAqF,MAAf,gBAAA6kF,GAAA,OAAAv/F,EAAAqO,MAAAkH,KAAA/Z,YAAA,IApBZghB,EAAAhI,KAAA,GAsCuBgB,QAAQjZ,IAAIq4G,GAtCnC,eAsCCC,EAtCDr4F,EAAAzH,KAwCC+/F,EAAkBH,EAAWr4G,OAAO,SAAC0yB,EAAOtf,EAAKiC,GAEtD,OADAqd,EAAMtf,GAAOmlG,EAAcljG,GACpBqd,GACL,IA3CExS,EAAArH,OAAA,SA6CE2/F,GA7CF,eAAAt4F,EAAArH,OAAA,SA+CE,MA/CF,yBAAAqH,EAAAnH,SAAAgH,6BAuDA,SAAS8rF,EAAWz4F,EAAKiC,EAAO1T,GACtC,IAAMQ,EAAQiR,EAAIjR,MAAM,KAClBs2G,EAAOt2G,EAAMhD,QAAU,EAAIgD,EAAMsK,MAAM,EAAGtK,EAAMhD,QAAQs8D,KAAK,KAAO,KACpE35D,EAAWK,EAAM,IAAM,SAU7B,MAPa,CACZiR,MACAzR,SACAuP,KALYunG,GAAI,mBAAAnmG,OAAuB+C,EAAQ,GAM/CvT,YAMK,SAASy6E,IAWf,OAVmBpuD,cACjBvtB,IAAI,SAAAwS,GACJ,MAAO,CACNA,MACAzG,KAAM4gB,YAAqBna,MAG5B9H,OAAO,SAAArI,GAAA,OA5BV,SAAkB0J,GACjB,OAAOA,GAAQA,EAAKL,MAAQK,EAAK/K,UAAY+K,EAAK6P,WA2B3Bk8F,CAAdz1G,EAAG0J,QACV/L,IAAI,SAAAwC,EAAgBiS,GAAhB,IAAG1I,EAAHvJ,EAAGuJ,KAAH,OAA0Bk/F,EAA1BzoG,EAASgQ,IAAiCiC,EAAO1I,KAKjD,SAAe43F,EAAtBllF,GAAA,OAAAs5F,EAAA5mG,MAAAkH,KAAA/Z,sDAAO,SAAAmjG,EAAA9+F,GAAA,IAAA4gG,EAAArgF,EAAA80F,EAAAz1F,EAAA,OAAA+yE,EAAAj3F,EAAA8Y,KAAA,SAAAwqF,GAAA,cAAAA,EAAAtqF,KAAAsqF,EAAArqF,MAAA,cAA+BisF,EAA/B5gG,EAA+B4gG,KAAMrgF,EAArCvgB,EAAqCugB,SACrC80F,EAAa32F,QAAMnb,GAAGgd,GADtBy+E,EAAArqF,KAAA,EAGam9F,EAAYuD,EAAYzU,EAAM,IAAO,GAAI,SAAU,OAHhE,cAGAhhF,EAHAo/E,EAAA9pF,KAAA8pF,EAAA1pF,OAAA,SAKCsK,GALD,wBAAAo/E,EAAAxpF,SAAAspF,6BAQA,SAASiC,EAAauU,GAC5B,GAAuB,kBAAZA,EACV,MAAM,IAAIn2F,MAAM,8BACV,IAAKm2F,EAAQ15G,OACnB,MAAM,IAAIujB,MAAM,gCAGjB,IAAM5b,EAAKmb,QAAMnb,GAAG+xG,GAEpB,OADa52F,QAAMgE,UAAUnf,6kZC5RxBsZ,EAAkB,eAEHoF,cACpB,SAAAA,EAAY3K,GAAqB,IAAA4F,EAAXvY,EAAWhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAi2F,EAAA,EAAAj2F,CAAA6Y,KAAAuM,IAChC/E,EAAArgB,OAAA04G,EAAA,EAAA14G,CAAA6Y,KAAA7Y,OAAA24G,EAAA,EAAA34G,CAAAolB,GAAA3E,KAAA5H,QAaD+/F,gBAdiC54G,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAcf,SAAAO,IAAA,IAAAuiF,EAAAue,EAAAz4G,EAAA04G,EAAAl4F,EAAAm4F,EAAA1mG,EAAA2mG,EAAAC,EAAAhkG,EAAAugG,EAAA9qF,EAAAvS,EAAArZ,UAAA,OAAAg3F,EAAAj3F,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OAUjB,IATAwiF,EADiBniF,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GACL,GACZ0gG,EAFiB1gG,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAEL,GAFK/X,EAAA+X,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAGO,GAHP2gG,EAAA14G,EAGfwgB,YAHe,IAAAk4F,EAGR,EAHQA,EAAAC,EAAA34G,EAGLiS,UAHK,IAAA0mG,EAGA,GAHAA,GAKXC,EAAQ,IAAIE,KACZ5e,UAAYpC,EAAOt3E,KAAK05E,EAAW,OACzC0e,EAAMH,UAAY3gB,EAAOt3E,KAAKi4F,EAAW,OAEnCI,EAAQ,GACLhkG,EAAQ2L,EAAM3L,EAAQ5C,EAAI4C,IAC5BugG,EAAawD,EAAMG,OAAN,KAAAjnG,OAAkB+C,IAASmkG,kBAExC1uF,EAAO7I,QAAMg0F,OAAOwD,gBAAgB7D,GAAYt1G,QAEtD+4G,EAAMxsG,KAAK,CACVvM,QAASwqB,EACT7P,KAAI,GAAA3I,OAAKmO,EAAKxF,KAAV,KAAA3I,OAAkB+C,KAjBP,OAAAmD,EAAAK,OAAA,SAqBVwgG,GArBU,wBAAA7gG,EAAAO,SAAAZ,MAdesI,EAsCjCW,aAtCiChhB,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAsClB,SAAAC,IAAA,IAAA9W,EAAA24G,EAAA14F,EAAA24F,EAAAlnG,EAAAmnG,EAAApuF,EAAAtqB,EAAAw5F,EAAAue,EAAA13B,EAAAs4B,EAAA36G,UAAA,OAAAg3F,EAAAj3F,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAnX,EAAA84G,EAAA16G,OAAA,QAAAC,IAAAy6G,EAAA,GAAAA,EAAA,GAA8B,GAA9BH,EAAA34G,EAASigB,YAAT,IAAA04F,EAAgB,EAAhBA,EAAAC,EAAA54G,EAAmB0R,UAAnB,IAAAknG,EAAwB,EAAxBA,EAAA3hG,EAAAE,KAAA,EACUuI,EAAKq5F,WAAWC,SAD1B,cACRH,EADQ5hG,EAAAS,KAER+S,EAAM,IAAIwuF,IAAUJ,GAFZ5hG,EAAAE,KAAA,EAGyBsT,EAAInH,WAC1C5D,EAAKxF,MACL,GACA,GANa,cAAA/Z,EAAA8W,EAAAS,KAGNiiF,EAHMx5F,EAGNw5F,UAAWue,EAHL/3G,EAGK+3G,UAHLjhG,EAAAE,KAAA,GASUuI,EAAKu4F,gBAAgBte,EAAWue,EAAW,CAClEj4F,OACAvO,OAXa,eASR8uE,EATQvpE,EAAAS,KAAAT,EAAAa,OAAA,SAcP0oE,GAdO,yBAAAvpE,EAAAe,SAAAlB,MAtCkB4I,EAuDjCmB,OAvDiC,eAAAvgB,EAAAjB,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAuDxB,SAAAqC,EAAM4H,GAAN,IAAAC,EAAAm4F,EAAAL,EAAApuF,EAAAhpB,EAAA8f,EAAAC,EAAAC,EAAAT,EAAAC,EAAA,OAAAk0E,EAAAj3F,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACc+J,QAAMC,kBAAkBL,GADtC,cACFC,EADE1H,EAAA3B,KAEFwhG,EAAah4F,QAAMQ,qBAAqBX,GAASuzE,UAAU,GAFzDj7E,EAAAlC,KAAA,EAIgBuI,EAAKq5F,WAAWC,SAJhC,cAIFH,EAJEx/F,EAAA3B,KAKF+S,EAAM,IAAIwuF,IAAUJ,GALlBx/F,EAAAlC,KAAA,GAMkBsT,EAAI0uF,gBAAgBz5F,EAAKxF,KAAMg/F,GANjD,eAAAz3G,EAAA4X,EAAA3B,KAMA6J,EANA9f,EAMA8f,EAAGC,EANH/f,EAMG+f,EAAGC,EANNhgB,EAMMggB,EAERT,EAAY,CACjBO,EAAG,KAAOA,EACVC,EAAG,KAAOA,EACVC,KAGKR,EAAWC,QAAMQ,qBAAqBX,EAASC,GAd7C3H,EAAAvB,OAAA,SAgBDmJ,GAhBC,yBAAA5H,EAAArB,SAAAkB,MAvDwB,gBAAAb,GAAA,OAAA/X,EAAA0Q,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAmFjCmC,gBAnFiC,eAAAlgB,EAAAtC,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAmFf,SAAA0B,EAAMuI,GAAN,IAAAG,EAAAa,EAAA,OAAAqzE,EAAAj3F,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACMuI,EAAKmB,OAAOC,GADlB,cACXG,EADWjI,EAAAtB,KAEXoK,EAASpC,EAAK5F,SAAS+H,gBAAgBZ,GAF5BjI,EAAAlB,OAAA,SAGVgK,GAHU,wBAAA9I,EAAAhB,SAAAO,MAnFe,gBAAAN,GAAA,OAAAtW,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAyFjCqC,YAzFiC,eAAAlgB,EAAAxC,OAAA61F,EAAA,EAAA71F,CAAA81F,EAAAj3F,EAAA2Y,KAyFnB,SAAA2H,EAAOwD,GAAP,IAAA62F,EAAApuF,EAAAzJ,EAAAhf,EAAAzC,EAAAoc,EAAA8H,EAAAtlB,UAAA,OAAAg3F,EAAAj3F,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsM,EAAArlB,OAAA,QAAAC,IAAAolB,EAAA,GAAAA,EAAA,GAAuB,IAC1BtB,MACc,kBAAZH,IACVA,EAAUd,QAAM8D,YAAYhD,IAG7BA,EAAUkI,SAAOhJ,MAAME,QAAQY,IAGhCA,EAAUA,EAAQsyE,UAAU,GATf71E,EAAAtH,KAAA,EAWWuI,EAAKq5F,WAAWC,SAX3B,cAWPH,EAXOp6F,EAAA/G,KAYP+S,EAAM,IAAIwuF,IAAUJ,GAZbp6F,EAAAtH,KAAA,EAcWsT,EAAI2uF,oBAAoB15F,EAAKxF,KAAM8H,GAd9C,cAcPhB,EAdOvC,EAAA/G,MAeH6J,EAAI,KAAOP,EAAUO,EAC/BP,EAAUQ,EAAI,KAAOR,EAAUQ,EAhBlB/C,EAAAtH,KAAA,GAkBasT,EAAInH,WAAW5D,EAAKxF,MAlBjC,eAAAlY,EAAAyc,EAAA/G,KAkBLnY,EAlBKyC,EAkBLzC,QAEFoc,EAAM,CACXqF,UAAWkJ,SAAOhJ,MAAMm4F,cAAcr4F,GACtCoB,KAAMJ,EACNK,KAAMpO,YAAUqO,eAAeC,KAC/BhjB,WAxBYkf,EAAA3G,OAAA,SA2BN6D,GA3BM,yBAAA8C,EAAAzG,SAAAwG,MAzFmB,gBAAA/E,GAAA,OAAA5X,EAAAmP,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAuHjC8C,QAAU,SAAA1I,GACT,OAAO,IAAI2K,EAAa3K,EAAU,CAAEI,KAAMwF,EAAKxF,QAtH/CwF,EAAK+C,UAAY3I,EACjB4F,EAAKgD,MAAQvb,EAAK+S,MAAQmF,EAC1BK,EAAKq5F,WAAaO,IAJc55F,oEAQhC,OAAOxH,KAAKwK,uCAGZ,OAAOxK,KAAKuK,iBAZ4BE,iICHpC42F,EAASC,IAAOrqB,OACrBhmE,KAAKC,UAAU,CACd/gB,KAAM,MACNoxG,IAAK,SAmCQ5jG,EAAA,GAAE2N,KA7BjB,SAAcW,EAAQxD,GACrB,IAAM+4F,EAAiBF,IAAOrqB,OAC7BhmE,KAAKC,UAAL/pB,OAAAs6G,EAAA,EAAAt6G,CAAA,GACIshB,EADJ,CAECphB,QAAS4kB,EAAO5kB,YAGlB,OAAO4kB,EAAOpC,YAAP,GAAAxQ,OAAsBgoG,EAAtB,KAAAhoG,OAAgCmoG,IAAkBh+F,KAAK,SAASoK,GACtE,IAAM8zF,EAASriB,EAAOt3E,KAAK6F,EAAI9E,UAAUtV,MAAM,GAAI,OACnD,SAAA6F,OAAUgoG,EAAV,KAAAhoG,OAAoBmoG,EAApB,KAAAnoG,OAAsCioG,IAAOrqB,OAAOyqB,OAoB/BC,OAhBvB,SAAgBzjG,GACf,IAAMm+E,EAAQn+E,EAAMhV,MAAM,KAC1B,GAAqB,IAAjBmzF,EAAMn2F,OACT,OAAO+Z,QAAQwS,OAAO,IAAIhJ,MAAM,yCAEjC,IAAM4J,EAAMgpE,EAAM7oF,MAAM,EAAG,GAAGgvD,KAAK,KAC7Bk/C,EAASriB,EAAOt3E,KAAKs0E,EAAM,GAAI,UACrC,IACC,IAAMt0E,EAAOiK,IAAOhJ,MAAM44F,cAAcvuF,EAAKquF,GACvCj5F,EAAUwI,KAAKwD,MAAM6sF,IAAOO,OAAOxlB,EAAM,KAC/C,OAAOp8E,QAAQC,QAAQ,CAAE6H,OAAMU,YAC9B,MAAOjW,GACR,OAAOyN,QAAQwS,OAAOjgB,mDCxCxBmmB,EAAAC,QAAAkpF,q1DCAAnpF,EAAAC,QAAiBnb,EAAAob,EAAuB,6DCAxCF,EAAAC,QAAA,s+QCAAD,EAAAC,QAAiBnb,EAAAob,EAAuB,mECAxCF,EAAAC,QAAiBnb,EAAAob,EAAuB,wDCAxCF,EAAAC,QAAiBnb,EAAAob,EAAuB,yDCAxCF,EAAAC,QAAiBnb,EAAAob,EAAuB,0DCAxCF,EAAAC,QAAA,snQCAAD,EAAAC,QAAiBnb,EAAAob,EAAuB,mECAxCF,EAAAC,QAAiBnb,EAAAob,EAAuB,ohBCKlC5J,EAAY,IAAIF,IAAU,CAAED,QADT7gB,gCAGnBmhB,EAAkB,SAAC3L,EAAKs+F,EAAWhzB,GACxC,OAAItrE,EAAI3L,QAAU,KAAO2L,EAAI3L,OAAS,IAC9B2L,EAAI4L,OAGL5L,EAAI6L,OAAO9L,KAAK,SAAA8L,GACH,MAAf7L,EAAI3L,QAAiC,MAAf2L,EAAI3L,QAC7B80B,YAAOmiD,GAEHgzB,GACJxyF,YAAwB,CAAE9L,MAAK6L,YAKrBu5E,EAAa,SAAAhiG,GAQpB,IAPL8B,EAOK9B,EAPL8B,SACAwhB,EAMKtjB,EANLsjB,KACArB,EAKKjiB,EALLiiB,UACAwE,EAIKzmB,EAJLymB,UACApD,EAGKrjB,EAHLqjB,KACA0C,EAEK/lB,EAFL+lB,UACAk8E,EACKjiG,EADLiiG,cAEA,OAAO75E,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACpBvoB,WACAwhB,OACArB,YACAwE,YACApD,OACA0C,YACAk8E,kBAEDt4E,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKu5E,EAAe,SAAAphG,GAA+B,IAA5BqB,EAA4BrB,EAA5BqB,QAASggG,EAAmBrhG,EAAnBqhG,aACvC,OAAO35E,EACLsB,MAAM,CACNM,MAAO,UACPC,OAAQ,MACRloB,UACAggG,iBAEAplF,KAAK,SAAAC,GAAG,OAAI2L,EAAgB3L,GAAK,GAAM,MAG7BghF,EAAc,SAAA/8F,GAA4C,IAAzCg9F,EAAyCh9F,EAAzCg9F,UAAyCsd,EAAAt6G,EAA9Bi9F,iBAA8B,IAAAqd,EAAlB,GAAkBA,EAAdp5G,EAAclB,EAAdkB,QAClDq5G,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASzd,EAAWC,GAC7B11E,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,OACRE,KAAMixF,EACNr5G,YAEA4a,KAAK4L,IAGFgzF,EAAoB,SAAA1uG,GACzB,IAAM2uG,EAAal7G,OAAAs6G,EAAA,EAAAt6G,CAAA,GAAQuM,GAK3B,OAJI2uG,EAAc/pG,SAAW6hD,IAAOgiD,SAASkG,EAAc/pG,WAC1D+pG,EAAc/pG,QAAU6hD,IAAO47C,KAAKsM,EAAc/pG,SAAW,KAGvD2Y,KAAKC,UAAUmxF,IAGV9c,EAAa,SAAAz9F,GAAkB,IAAfa,EAAeb,EAAfa,SAC5B,OAAOsmB,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,MACRY,YAAa,CAAE/oB,cAEf6a,KAAK4L,IAGK41E,EAAa,SAAA/8F,GAAuB,IAApBirF,EAAoBjrF,EAApBirF,KAAMtqF,EAAcX,EAAdW,QAClC,OAAOqmB,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,OACRE,KAAMoxF,EAAkBlvB,GACxBtqF,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKy2E,EAAe,SAAAz9F,GAA2B,IAAxB8qF,EAAwB9qF,EAAxB8qF,KAAMrlF,EAAkBzF,EAAlByF,GAAIjF,EAAcR,EAAdQ,QACxC,OAAOqmB,EACLsB,MAAM,CACNM,MAAK,SAAAxX,OAAWxL,GAChBijB,OAAQ,MACRE,KAAMoxF,EAAkBlvB,GACxBtqF,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKo2E,EAAa,SAAAj8F,GAAkB,IAAfZ,EAAeY,EAAfZ,SAC5B,OAAOsmB,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,MACRY,YAAa,CAAE/oB,cAEf6a,KAAK4L,IAGKg2E,EAAa,SAAA37F,GAAuB,IAApB4oE,EAAoB5oE,EAApB4oE,KAAMzpE,EAAca,EAAdb,QAClC,OAAOqmB,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,OACRE,KAAMoxF,EAAkB/vC,GACxBzpE,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKw2E,EAAe,SAAAj8F,GAA2B,IAAxB0oE,EAAwB1oE,EAAxB0oE,KAAMxkE,EAAkBlE,EAAlBkE,GAAIjF,EAAce,EAAdf,QACxC,OAAOqmB,EACLsB,MAAM,CACNM,MAAK,SAAAxX,OAAWxL,GAChBijB,OAAQ,MACRE,KAAMoxF,EAAkB/vC,GACxBzpE,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKqpF,EAAe,SAAA3uG,GAA0B,IAAvBlB,EAAuBkB,EAAvBlB,QAAuBkB,EAAd0oF,QACvC,OAAOvjE,EACLsB,MAAM,CACNM,MAAO,qBACPC,OAAQ,MACR2qE,SAAS,EACT7yF,YAEA4a,KAAK4L,IAGKspF,EAAsB,SAAA1uG,GAA2B,IAAxB4M,EAAwB5M,EAAxB4M,SAAUhO,EAAcoB,EAAdpB,QAC/C,OAAOqmB,EACLsB,MAAM,CACNM,MAAK,aAAAxX,OAAezC,EAAS/I,GAAxB,UACLijB,OAAQ,MACRloB,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKmlE,EAAkB,WAAsC,IAAApqF,EAAAlE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAA5Be,EAAmCmD,EAAnCnD,IAAKs7G,EAA8Bn4G,EAA9Bm4G,SAAU9tB,EAAoBrqF,EAApBqqF,SAC1C9iE,EAAWvqB,OAAAs6G,EAAA,EAAAt6G,CAAA,GACZH,GAAO,CAAEA,KAAK,GACds7G,GAAY,CAAExqG,OAAQwqG,EAAS9/C,KAAK,MAFxB,CAGhBgyB,aAGD,OAAOvlE,EACLsB,MAAM,CACNM,MAAO,YACPC,OAAQ,MACRY,gBAEAlO,KAAK4L,IAGK02E,EAAiB,SAAAx7F,GAA+B,IAA5BsM,EAA4BtM,EAA5BsM,SAAU/I,EAAkBvD,EAAlBuD,GAAIjF,EAAc0B,EAAd1B,QAC9C,OAAOqmB,EACLsB,MAAM,CACNM,MAAK,aAAAxX,OAAexL,GACpBijB,OAAQ,MACRE,KAAMoxF,EAAkBxrG,GACxBhO,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,yBCrMRuJ,EAAAC,QAAiBnb,EAAAob,EAAuB,wECAxC,SAAA1rB,GAAAsQ,EAAAC,EAAAC,EAAA,sBAAAmwE,IAAA,IAAAy0B,EAAA9kG,EAAA,GAAA+kG,EAAA/kG,EAAA,IAAAglG,EAAAhlG,EAAA,GAAAilG,EAAAjlG,EAAA,KAAAklG,EAAAllG,EAAA,GAUe,SAASqwE,EAAYr0D,GACnC,IAAMntB,EAAWkxB,YAAYpxB,OAAmB,GAC1Cw2G,EAAoB,WAIzB,IAJ2D,IAAjCC,EAAiC58G,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtB,GAAI68G,EAAkB78G,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAC9C88G,EAAYF,EAAS35G,MAAM,OAE3B85G,EAAYF,EAAS55G,MAAM,OAC1B65G,EAAU78G,QAAU88G,EAAU98G,QAAQ,CAC5C,IAAMF,EAAI4K,OAAOmyG,EAAUnjB,SAErBx5F,EAAIwK,OAAOoyG,EAAUpjB,SAE3B,GAAI55F,IAAMI,EAEV,OAAOJ,EAAII,GAAK8sB,MAAM9sB,GAEvB,OAAO,GA6BR,OA1BAo+C,oBAAU,WACT,IAAIn7B,EAAIzQ,KAAK4U,SACXpL,SAAS,IACTg6E,UAAU,GACZ7rE,MAAK,gBAAAlX,OAAiBgQ,GAAK,CAAE45F,MAAO,aAClCz/F,KAAK,SAAA4iF,GAAQ,OAAIA,EAAS/2E,SAC1B7L,KAAK,SAAAxG,GAAQ,IACLkmG,EAA6BlmG,EAA7BkmG,cAAeC,EAAcnmG,EAAdmmG,UADVt8G,EAE0BsG,EAAO6P,MAAQ,GAA9ComG,EAFKv8G,EAELu8G,eAAgBC,EAFXx8G,EAEWw8G,aAEtBl2G,EAAO6P,MAAQ4lG,EAAkBM,EAAeE,KAEjDz+E,YACCi/D,YAAsB,CACrBp8D,QAAS07E,OAKV/1G,EAAO6P,MAAQ4lG,EAAkBO,EAAWE,KAE7C1+E,YAAQm/D,kBAGT,CAACx3F,IAEGmtB,EAAMyE,SAjDd/wB,EAAO6P,KAAO,CACbomG,eAAgBt5E,EAAYtC,QAC5B67E,WAAYv5E,EAAYw5E,0sBCwBjB3yB,EAAqCV,IAArCU,eAAgBE,EAAqBZ,IAArBY,iBAElBM,EAAQ,IAAIE,YAAUn/D,GACtBqxF,EAAkB,IAAIlyB,YAAUmyB,GAChCC,EAA0B,IAAIpyB,YAAUV,EAAeD,KACvDgzB,EAA4B,IAAIryB,YAAUR,EAAiBH,KACzDizB,EAA2B11G,6CAE5B,SAAeglG,EAAtB9yF,GAAA,OAAAyjG,EAAA9qG,MAAAkH,KAAA/Z,sDAAO,SAAAiZ,EAAArY,GAAA,IAAA8jF,EAAAk5B,EAAAC,EAAAtjG,EAAA65F,EAAA0J,EAAAC,EAAAC,EAAAlK,EAAAhyG,EAAAwb,EAAA2gG,EAAAC,EAAAjZ,EAAA19F,EAAA,OAAA6a,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACN0rE,EADM9jF,EACN8jF,MADMk5B,EAAAh9G,EAENi9G,oCAFM,IAAAD,EAEyB,YAFzBA,EAAArjG,EAWFna,eANHg0G,EALK75F,EAKL65F,oBACA0J,EANKvjG,EAMLujG,YACAC,EAPKxjG,EAOLwjG,iBACAC,EARKzjG,EAQLyjG,qBACAlK,EATKv5F,EASLu5F,SACAhyG,EAVKyY,EAULzY,UAGKwb,EAAa,CAAC,CAAConE,EAAO,GAAI,CAACs5B,EAAsB,IAEjDC,EAA2B,CAChC,CACCx9G,QAASq9G,EACTK,QAASrK,EACTpnB,WAAYmxB,EACZ/sB,aAAchvF,EAAUV,QACxBg9G,eAAgB,SAIZF,EAAWG,iCAChBN,EACAzgG,EACA,CACCghG,SAAU,EACVC,iBAAkB,EAClBC,sBAAuBP,EAAyBv8G,IAAI,SAAA6pC,GAAC,OACpD,IAAIkzE,uBAAqBlzE,GAAGtnB,UAG9By6F,KAGKzZ,EAAOl+E,oBAAU29D,GAEjBn9E,EAAe4d,qBAAU,KAAA/R,OACzBurG,2BAAiBvK,EAAqBnP,EAAMiZ,GAAU/hG,SAAS,SAzC/D7C,EAAAK,OAAA,SA4CC,CACNy6F,sBACA2J,mBACAG,WACAjZ,OACA19F,eACA+V,aACA2gG,6BAnDK,wBAAA3kG,EAAAO,SAAAZ,6BAuDA,SAAeizF,EAAtBpyF,GAAA,OAAA8kG,EAAA/rG,MAAAkH,KAAA/Z,sDAAO,SAAA2Y,EAAArX,GAAA,IAAAe,EAAAyrE,EAAAC,EAAA4E,EAAA7wE,EAAA4D,EAAAmQ,EAAA22E,EAAA/pF,EAAAC,EAAAiB,EAAAf,EAAAgb,EAAA1Z,EAAAyX,EAAA6uE,EAAAlwE,EAAA/S,EAAAs3G,EAAAC,EAAApvG,EAAA2jF,EAAAziB,EAAA2iB,EAAAwrB,EAAAC,EAAA/vG,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACN3W,EADMf,EACNe,QACAyrE,EAFMxsE,EAENwsE,iBACAC,EAHMzsE,EAGNysE,WACA4E,EAJMrxE,EAINqxE,YAEM7wE,EAAYH,eACV+D,EAAyC5D,EAAzC4D,SAAUmQ,EAA+B/T,EAA/B+T,OAAiB22E,EAAc1qF,EAAvBV,QAClBqB,EAA4BJ,EAA5BI,OAAQC,EAAoBL,EAApBK,SAAUiB,EAAUtB,EAAVsB,MAClBf,EAAaH,EAAbG,SACAgb,EAAsCja,EAAMK,IAA5C4Z,kCAVF9E,EAAAE,KAAA,EAWyC8B,YAAUlY,GAXnD,cAAAsB,EAAA4U,EAAAS,KAWEoC,EAXFzX,EAWEyX,SAAU6uE,EAXZtmF,EAWYsmF,SAAUlwE,EAXtBpW,EAWsBoW,SAEtB/S,EAAe7E,EAAStB,QAExBy9G,EAAah5G,qBAAWioE,EAAkBpoE,GAE1Co5G,EAAa,CAClBhiG,iBAAkBvV,EAClBupF,aAActE,EACdj5E,GAAIi5E,EACJp/E,KAAM89E,EAAM8C,UAAUixB,SAASjuB,OAAO,CAACjjB,EAAY8wC,IACnDC,YAAY,GAEPpvG,EAAO,CAACovG,GAxBRhmG,EAAAE,KAAA,GA0BuBg7E,EAAiC,CAC7D9B,wBAAyB2sB,EACzBnvG,OACAnI,eACAoU,WACA6uE,WACAnoF,UACAiY,aAjCK,eA0BA+4E,EA1BAv6E,EAAAS,KAAAT,EAAAE,KAAA,GAoCai7E,EAAyB,CAAEZ,iBAAgBvxF,cApCxD,WAoCA8uE,EApCA93D,EAAAS,KAqCAg6E,EAAY5tF,uBAAaiY,IAE3BgzD,EAAK0iB,QAAQ1tF,GAAG2tF,GAvCd,CAAAz6E,EAAAE,KAAA,eAwCC,IAAIwK,MACTxiB,aAAE,oCAAqC,CACtCqI,KAAM,IAAA+J,OACFnH,YACFsnF,EAAUp3E,WACVzW,GACA,EACA,GALI,KAAA0N,OAMAyC,GANA,GAAAzC,OAOFw9D,EAAKxzD,MAPH,KAAAhK,OAOYyC,GAPZ,GAAAzC,OAQFnH,YAAkB4yG,EAAW1iG,WAAYzW,GARvC,KAAA0N,OAQoDyC,OAlDvD,WAwDAkpG,EAAcxrB,EAAUrF,IAAItd,EAAK0iB,SAEnC0rB,EAAuBH,EAEvBA,EAAWj5G,GAAGm5G,KACjBC,EAAuBD,EACvB1rB,EAAe7G,GAAa6G,EAAe7G,GAAW9qF,IAAI,SAAAgmB,GAQzD,OAPIA,EAAGo3F,aACNp3F,EAAGta,KAAO89E,EAAM8C,UAAUixB,SAASjuB,OAAO,CACzCjjB,EACAixC,EAAqB7iG,cAIhBuL,MAILirD,EA1EE,CAAA75D,EAAAE,KAAA,gBAAAF,EAAAa,OAAA,SA2EE,CACNi3D,KAAMA,EAAKxzD,MACXyzD,MAAO5kE,YAAkB+yG,EAAsBt5G,KA7E3C,eAAAoT,EAAAE,KAAA,GAiFek7E,EAA0B,CAC9C3sF,eACA8rF,iBACA5wF,SACAkZ,aArFK,eAiFA1M,EAjFA6J,EAAAS,KAAAT,EAAAa,OAAA,SAwFC,CACN1K,WAzFK,yBAAA6J,EAAAe,SAAAlB,6BA6FA,SAAe+5D,EAAtBp3D,GAAA,OAAA4jG,EAAArsG,MAAAkH,KAAA/Z,sDAAO,SAAA+a,EAAAtZ,GAAA,IAAAY,EAAAutE,EAAAC,EAAA8C,EAAAlwE,EAAAC,EAAA2B,EAAAsX,EAAA24F,EAAA9pB,EAAAlwE,EAAA/S,EAAA43G,EAAAC,EAAA1vG,EAAA2jF,EAAApkF,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cACN3W,EADMZ,EACNY,QACAutE,EAFMnuE,EAENmuE,QACAC,EAHMpuE,EAGNouE,UACA8C,EAJMlxE,EAINkxE,YAEQlwE,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SANVwY,EAAAlC,KAAA,EAOoD8B,YACzDrY,EAAOG,UARF,cAAAyB,EAAA6W,EAAA3B,KAOEoC,EAPFtX,EAOEsX,SAAU24F,EAPZjwG,EAOYiwG,UAAW9pB,EAPvBnmF,EAOuBmmF,SAAUlwE,EAPjCjW,EAOiCiW,SAGjC/S,EAAe7E,EAAStB,QAExB+9G,EAAoB,IAAI/zB,YAAUZ,EAASC,KAE3C20B,EAAM,CACXtiG,iBAAkBvV,EAClBupF,aAAcwjB,EAAUlzG,QACxBmS,GAAIhM,EACJ6F,KAAM+xG,EAAkBnxB,UAAUqxB,iBAAiBruB,OAAO,CACzDphB,EACAC,KAIIngE,EAAO,CAAC0vG,GAxBRlkG,EAAAlC,KAAA,GAyBuBg7E,EAAiC,CAC7DtkF,OACAnI,eACAoU,WACA6uE,WACAnoF,UACAiY,aA/BK,WAyBA+4E,EAzBAn4E,EAAA3B,MAkCFo5D,EAlCE,CAAAz3D,EAAAlC,KAAA,gBAAAkC,EAAAlC,KAAA,GAoCSi7E,EAAyB,CAAEZ,mBApCpC,eAAAn4E,EAAAxB,GAAAwB,EAAA3B,KAoCuD6D,MApCvDlC,EAAAvB,OAAA,UAoCJi3D,KApCI11D,EAAAxB,KAAA,eAAAwB,EAAAlC,KAAA,GAwCek7E,EAA0B,CAC9Cb,iBACA9rF,eACA9E,SACAkZ,WACAw4E,UAAW,CACVvkB,UACAC,eA/CI,eAwCA5gE,EAxCAiM,EAAA3B,KAAA2B,EAAAvB,OAAA,SAmDC,CACN1K,WApDK,yBAAAiM,EAAArB,SAAAkB,6BAuDP,SAASukG,EAATz9G,GAMG,IALF6N,EAKE7N,EALF6N,KACA5N,EAIED,EAJFC,UACAy9G,EAGE19G,EAHF09G,QACAt9G,EAEEJ,EAFFI,QACAsF,EACE1F,EADF0F,aACEipF,EAC4C9gF,EAAK5O,OAClD,SAAC0T,EAASkT,EAAIvY,GAAM,IACX0hF,EAA0BnpE,EAA1BmpE,sBASJC,EAAe,GAmBnB,QAzBGD,KACAA,EAAsB5uF,KACvBylB,EAAGopE,eAAiB7uF,IAAYylB,EAAGopE,eACpChvF,EAAUV,UAAYm+G,GACtBt9G,IAAYs9G,IAKZ/qG,EAAQgrG,kBAAoBhrG,EAAQgrG,kBAAkB5lG,IACrDjU,uBAAakrF,EAAsB5uF,KAEpC6uF,EAAeyuB,GAGhBzuB,EAAeA,GAAgBppE,EAAGopE,cAAgBhvF,EAAUV,QAE5DsmB,EAAGopE,aAAeA,EAClBppE,EAAG5K,kBAAoB4K,EAAG5K,kBAAoBvV,GAAc0Z,cAE5DzM,EAAQ6+E,eAAevC,GAAvB,GAAA19E,OAAAlS,OAAA2D,EAAA,EAAA3D,CACKsT,EAAQ6+E,eAAevC,IAAiB,IAD7C,CAECppE,IAGMlT,GAER,CACCgrG,kBAAmB75G,uBAAa,KAChC0tF,eAAgB,KAIlB,MAAO,CAAEA,eAvCP7C,EACM6C,eAsCiBmsB,kBAvCvBhvB,EACsBgvB,mBAyClB,SAAensC,EAAtBj4D,GAAA,OAAAqkG,EAAA5sG,MAAAkH,KAAA/Z,sDAAO,SAAAoa,EAAApY,GAAA,IAAA09G,EAAAtsC,EAAA/wE,EAAAswE,EAAAlwE,EAAAC,EAAA8B,EAAAmX,EAAA24F,EAAAh6F,EAAAkwE,EAAAjjF,EAAA63G,EAAAO,EAAAjwG,EAAA2jF,EAAAusB,EAAA99G,EAAA6C,EAAAyY,EAAAnO,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA0mG,EAAA19G,EAAgCoxE,gBAAhC,IAAAssC,EAA2C,GAA3CA,EAA+Cr9G,EAA/CL,EAA+CK,QAASswE,EAAxD3wE,EAAwD2wE,YACtDlwE,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SADVmY,EAAA7B,KAAA,EAEoD8B,YACzDrY,EAAOG,UAHF,cAAA4B,EAAAqW,EAAAtB,KAEEoC,EAFFnX,EAEEmX,SAAU24F,EAFZ9vG,EAEY8vG,UAAWh6F,EAFvB9V,EAEuB8V,SAAUkwE,EAFjChmF,EAEiCgmF,SAGjCjjF,EAAe7E,EAAStB,QAExBg+G,EAAM,CACXtiG,iBAAkBvV,EAClBupF,aAAcwjB,EAAUlzG,QACxBmS,GAAIm3E,EAAetpF,QACnBgM,KAAMowG,EAAwBxvB,UAAU6xB,iBAAiB7uB,OAAO,CAC/DtG,EAAeC,eACf/iF,aAAGwrE,GACH7rE,KAIIo4G,EAAM,CACX7iG,iBAAkBvV,EAClBupF,aAAcwjB,EAAUlzG,QACxBmS,GAAIq3E,EAAiBxpF,QACrBgM,KAAMqwG,EAA0BzvB,UAAU8xB,QAAQ9uB,OAAO,IAAA59E,OACrDggE,EADqD,KAAAhgE,OACzCw3E,EAAiBC,iBAI5Bn7E,EAAO,CAAC0vG,EAAKO,GA3Bb9kG,EAAA7B,KAAA,GA6BuBg7E,EAAiC,CAC7DtkF,OACAnI,eACAoU,WACA6uE,WACAnoF,UACAiY,aAnCK,eA6BA+4E,EA7BAx4E,EAAAtB,KAAAqmG,EAsCgBx/G,eAAd0B,EAtCF89G,EAsCE99G,UAtCF+Y,EAAA7B,KAAA,GAuCkBi7E,EAAyB,CAChDZ,iBACAvxF,cAzCK,WAAA6C,EAAAkW,EAAAtB,KAuCE6D,EAvCFzY,EAuCEyY,OAIJu1D,EA3CE,CAAA93D,EAAA7B,KAAA,gBAAA6B,EAAAlB,OAAA,SA4CE,CACNi3D,KAAMxzD,IA7CF,eAAAvC,EAAA7B,KAAA,GAiDek7E,EAA0B,CAC9C3sF,eACA8rF,iBACA5wF,SACAkZ,aArDK,eAiDA1M,EAjDA4L,EAAAtB,KAAAsB,EAAAlB,OAAA,SAwDC,CACN1K,WAzDK,yBAAA4L,EAAAhB,SAAAO,6BA6DA,SAAe45E,EAAtBx4E,GAAA,OAAAukG,EAAAltG,MAAAkH,KAAA/Z,sDAAO,SAAAqgB,EAAAle,GAAA,IAAA69G,EAAA9tB,EAAA+tB,EAAAvwG,EAAAnI,EAAAoU,EAAA6uE,EAAAnoF,EAAAiY,EAAAzZ,EAAA+wF,EAAAoiB,EAAAlyG,EAAAy9G,EAAAt9G,EAAAi+G,EAAAC,EAAArjG,EAAAsjG,EAAAC,EAAAC,EAAAv7G,EAAAw7G,EAAA/tB,EAAAguB,EAAA/tB,EAAAguB,EAAAC,EAAAC,EAAAC,EAAAvtB,EAAAwtB,EAAA,OAAAz+F,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAgnG,EAAA79G,EACN+vF,+BADM,IAAA8tB,EACoB,IADpBA,EAAAC,EAAA99G,EAENuN,YAFM,IAAAuwG,EAEC,GAFDA,EAGN14G,EAHMpF,EAGNoF,aACAoU,EAJMxZ,EAINwZ,SACA6uE,EALMroF,EAKNqoF,SACAnoF,EANMF,EAMNE,QACAiY,EAPMnY,EAONmY,SAEMzZ,EAAoBH,cACpBkxF,EAAW7vF,eAVXiyG,EAWkC5zG,eAAhC0B,EAXFkyG,EAWElyG,UAAWy9G,EAXbvL,EAWauL,QAASt9G,EAXtB+xG,EAWsB/xG,QACtBi+G,EAAoBr/G,EAAkBiB,EAAUV,SAZhDkf,EAAAtH,KAAA,EAckB2C,EAASmlG,QAAQv5G,GAdnC,UAAA+Y,EAAA5G,GAAA4G,EAAA/G,KAcF4mG,EAAwD,OAdtD7/F,EAAA5G,GAeFoD,EAAmB,KAEnBqjG,IACHrjG,EAAmB,IAAIkP,WAASzkB,EAAcijF,EAASC,IAAK9uE,KAGxCwkG,EArBf,CAAA7/F,EAAAtH,KAAA,gBAAAsH,EAAAtH,KAAA,GAsBI8D,EAAiBiwE,QAtBrB,QAAAzsE,EAAAqF,GAAArF,EAAA/G,KAsB8BwnG,WAtB9BzgG,EAAAtH,KAAA,iBAAAsH,EAAAqF,GAuBH,EAvBG,eAqBAy6F,EArBA9/F,EAAAqF,GAyBA06F,EAAkB3wG,EAAKzP,OAC1B0F,uBACCy6G,EAEEF,EAAkBc,eADlBd,EAAkBe,WAEnBrnG,IACFjU,uBAAau6G,EAAkBc,gBAAgB3oG,IAC9C1S,uBAAa+J,EAAKzP,OAAS,KAG5B0F,uBAAa,GAEV26G,EAA+BD,EAAgBzmG,IACpDjU,uBAAausF,IAtCR5xE,EAAAtH,KAAA,GA4CIg5E,YAAwB,CACjCE,wBAAyBouB,EAEzBj+G,YA/CK,WAAA0C,EAAAub,EAAA/G,KAAAgnG,EAAAx7G,EA0CLytF,iBA1CK,IAAA+tB,EA0CO,GA1CPA,EAAAC,EAAAz7G,EA2CL0tF,0BA3CK,IAAA+tB,EA2CgB,GA3ChBA,EAmDAC,EAAmBnB,EAA4B,CACpD5vG,KAAM8iF,EACN1wF,YACAy9G,UACAt9G,UACAsF,iBAIKm5G,EAAmBpB,EAA4B,CACpD5vG,OACA5N,YACAy9G,UACAt9G,UACAsF,kBASKo5G,EAAgBF,EAAiBjB,kBACrC5lG,IAAI8mG,EAAiBlB,mBACrB5lG,IAAIjU,uBAAa8sF,EAAmBxwF,IAAY,KAE/BurB,SA9Eb,CAAAlN,EAAAtH,KAAA,gBAAAsH,EAAAsF,GAAA,GAAAtF,EAAAuF,GAAA3kB,OAAA2D,EAAA,EAAA3D,CAgFAu/G,EAAiBptB,eAAeksB,IAAY,IAhF5Cj/F,EAAAkjF,GAAA3+F,EAAA,EAAAyb,EAAAtH,KAAA,GAiFMkoG,EAAiB,CAC1B5mG,WACA/S,eACAg4G,UACA3tB,WACAuvB,WAAYR,IAtFT,QAAArgG,EAAAmjF,GAAAnjF,EAAA/G,KAAA+G,EAAA8gG,IAAA,EAAA9gG,EAAAkjF,IAAAljF,EAAAmjF,IA+ELgd,EAAiBptB,eAAeksB,GA/E3Bj/F,EAAAsF,GAAAxS,OAAAuO,KAAArB,EAAAsF,GAAAtF,EAAAuF,GAAAvF,EAAA8gG,IAAA,eA2FAR,EA3FA1/G,OAAA2D,EAAA,EAAA3D,CA4FF,IAAImgH,IAAJ,GAAAjuG,OAAAlS,OAAA2D,EAAA,EAAA3D,CACCA,OAAO+S,KAAKwsG,EAAiBptB,iBAD9BnyF,OAAA2D,EAAA,EAAA3D,CAECA,OAAO+S,KAAKysG,EAAiBrtB,oBAI5BA,EAAiButB,EAAa9/G,OAAO,SAAC4O,EAAMuI,GAMjD,OALAvI,EAAKuI,GAAL,GAAA7E,OAAAlS,OAAA2D,EAAA,EAAA3D,CACKu/G,EAAiBptB,eAAep7E,IAAU,IAD/C/W,OAAA2D,EAAA,EAAA3D,CAEKw/G,EAAiBrtB,eAAep7E,IAAU,KAGxCvI,GACL,IAECmxG,EAAeT,EAEnBl/G,OAAO+S,KAAKo/E,GAAgB5iD,QAAQ,SAAAv8B,GACnCm/E,EAAen/E,GAAOm/E,EAAen/E,GAAKxS,IAAI,SAAAgmB,GAAM,IAAA45F,EACmB55F,EAA9DupE,4BAD2C,IAAAqwB,EACpB,EADoBA,EAAAC,EACmB75F,EAApCksE,wBADiB,IAAA2tB,EACE,EADFA,EACK7vB,EAAchqE,EAAdgqE,UAClDv5E,EAAWtX,EAAkB6mB,EAAGopE,cAChC0wB,EAAc9vB,EAAYv5E,EAASC,IAAMD,EAAS6oG,eAElDS,EAAe97G,uBACH,IAAjBk7G,EAAqB1oG,EAAS8oG,UAAYO,GAGrCE,EAAyB/7G,uBAAasrF,GAAsB54E,IACjE1S,uBAAawS,EAASC,MAGjBupG,EAAkBh8G,uBAAaiuF,GAAkBv7E,IACtD1S,uBAAawS,EAAS6oG,iBAIjBY,EAAYH,EAChB7nG,IAAI8nG,GACJ9nG,IAAI+nG,GACJxlG,WAGI0lG,EAA8Bl8G,uBAAai8G,GAC/C1zB,IAAIvoF,uBAAa+rF,EAAYv5E,EAASC,IAAM,IAC5C81E,IAAIvoF,uBAAasrF,GAAsB54E,IAAI1S,uBAAawS,EAASC,OACjE+D,WAEI2lG,EAAW5gH,OAAAC,EAAA,EAAAD,CAAA,GACbwmB,EADa,CAEhBopE,aAAc34E,EAAS/W,QACvBwgH,YACA70B,MAAO8zB,EACPgB,gCAKD,OAFAhB,GAAgB,EAETiB,MArJHxhG,EAAA3G,OAAA,SAyJC05E,GAzJD,yBAAA/yE,EAAAzG,SAAAwG,6BA4JA,SAAewzE,EAAtBv3E,GAAA,OAAAylG,EAAAlvG,MAAAkH,KAAA/Z,sDAAO,SAAA0b,EAAApY,GAAA,IAAAgX,EAAArC,EAAA1Q,EAAAupF,EAAAgD,EAAAC,EAAA/4E,EAAAoR,EAAA+mE,EAAA,OAAA/wE,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cACNsB,EADMhX,EACNgX,SACArC,EAFM3U,EAEN2U,MACA1Q,EAHMjE,EAGNiE,aACAupF,EAJMxtF,EAINwtF,aACAgD,EALMxwF,EAKNwwF,kBACAC,EANMzwF,EAMNywF,cAEM/4E,EAAgBV,EAASrC,GARzB4D,EAAA7C,KAAA,EAUkBgC,EAAcoR,UACrC7kB,EACAusF,GAZK,cAUA1nE,EAVAvQ,EAAAtC,KAeA45E,EAAc,GAEf/mE,EAAUoB,UACd2lE,EAAYxlF,KAAK,CAChBmP,iBAAkBvV,EAClBupF,aAAcA,EACdv9E,GAAI0E,EAAM7W,QACVgM,KAAM89E,EAAM8C,UAAUg0B,QAAQhxB,OAAO,CAAC8C,EAAmB,MAI3DX,EAAYxlF,KAAK,CAChBmP,iBAAkBvV,EAClBupF,aAAcA,EACdv9E,GAAI0E,EAAM7W,QACVgM,KAAM89E,EAAM8C,UAAUg0B,QAAQhxB,OAAO,CAAC8C,EAAmBC,MA9BpDl4E,EAAAlC,OAAA,SAiCCw5E,GAjCD,wBAAAt3E,EAAAhC,SAAA6B,sCAoCQwlG,+EAAf,SAAA1kG,EAAAhZ,GAAA,IAAA+D,EAAAg4G,EAAA3tB,EAAAuvB,EAAA7mG,EAAA64E,EAAA8uB,EAAA,OAAA7/F,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cACCzR,EADD/D,EACC+D,aACAg4G,EAFD/7G,EAEC+7G,QACA3tB,EAHDpuF,EAGCouF,SACAuvB,EAJD39G,EAIC29G,WACA7mG,EALD9W,EAKC8W,SALD6C,EAAAnE,KAAA,EAO2B66E,EAAe,CACxCv5E,WACArC,MAAO25E,EACPrqF,eACAupF,aAAcyuB,EACdzrB,kBAAmB4pB,EACnB3pB,cAAeotB,IAbjB,cAOOhuB,EAPPh2E,EAAA5D,KAgBO0oG,EAAS,CACdnlG,iBAAkBvV,EAClBupF,aAAcyuB,EACdhsG,GAAImqG,EACJtwG,KAAMkwG,EAAgBtvB,UAAUk0B,aAAalxB,OAAO,CAACmwB,KApBvDhkG,EAAAxD,OAAA,YAAAvG,OAAAlS,OAAA2D,EAAA,EAAA3D,CAuBYiyF,GAvBZ,CAuByB8uB,KAvBzB,wBAAA9kG,EAAAtD,SAAA2C,6BA4BO,SAAey3E,EAAtBhF,GAAA,OAAAkzB,EAAAtvG,MAAAkH,KAAA/Z,sDAAO,SAAAoe,EAAA1a,GAAA,IAAA2vF,EAAA+uB,EAAAtgH,EAAAjB,EAAAyd,EAAAqyD,EAAA0xC,EAAAzxC,EAAA,OAAAxuD,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cACNq6E,EADM3vF,EACN2vF,eADM+uB,EAAA1+G,EAEN5B,iBAFM,IAAAsgH,EAEM,GAFNA,EAIAvhH,EAAoBH,cACpB4d,EAAU3Y,uBAAa,KACvBgrE,EAAWzvE,OAAOuJ,OAAO4oF,GAC7BvyF,OAAO,SAACC,EAAKuhH,GAAN,OAAqBvhH,EAAIqS,OAAOkvG,IAAa,IACpDxhH,OACA,SAACmO,EAAQyY,GACR,IAAM85F,EAAc77G,uBAAa+hB,EAAGm6F,6BAOpC,OANA5yG,EAAOmO,MAAQnO,EAAOmO,MAAMxD,IAAI4nG,GAEhCvyG,EAAOozG,QAAQ36F,EAAGopE,eACjB7hF,EAAOozG,QAAQ36F,EAAGopE,eAAiBxyE,GAClC1E,IAAI4nG,GAECvyG,GAER,CAAEmO,MAAOkB,EAAS+jG,QAAS,KAGvBA,EAAUnhH,OAAOypD,QAAQgmB,EAAS0xC,SAAS3gH,IAAI,SAAAwD,GAAkB,IAAAK,EAAArE,OAAA4J,EAAA,EAAA5J,CAAAgE,EAAA,GAAhBgP,EAAgB3O,EAAA,GAAXmF,EAAWnF,EAAA,GAAAg9G,EACzC1hH,EAAkBqT,GAAvCxO,EAD8D68G,EAC9D78G,SAAUmQ,EADoD0sG,EACpD1sG,OAClB,MAAO,CACNzU,QAAS8S,EACTg5E,IAAKjhF,YAAkBvB,EAAMyR,WAAYzW,GACzCmQ,SACA2sG,aAAY,GAAApvG,OAAKnH,YAChBvB,EAAMyR,WACNzW,GACA,EACA,GAJW,KAAA0N,OAKPyC,MAID+6D,EAAO,CAEZxzD,MAAOnR,YACN0kE,EAASvzD,MAAMjB,WACfra,EAAU4D,UAAY,IACtB,EACA,GAED4tF,QAAS3iB,EAASvzD,MAClBilG,WA9CK5jG,EAAA9E,OAAA,SAiDCi3D,GAjDD,wBAAAnyD,EAAA5E,SAAAuE,6BAoDA,SAAe81E,EAAtBl1E,GAAA,OAAAyjG,EAAA5vG,MAAAkH,KAAA/Z,sDAAO,SAAA+f,EAAAlc,GAAA,IAAAwvF,EAAA5wF,EAAAkZ,EAAApU,EAAAm7G,EAAAvuB,EAAAnuE,EAAAjlB,EAAA0pB,EAAA,OAAArI,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,cACNq6E,EADMxvF,EACNwvF,eACA5wF,EAFMoB,EAENpB,OACAkZ,EAHM9X,EAGN8X,SACApU,EAJM1D,EAIN0D,aAJMm7G,EAAA7+G,EAKNswF,iBALM,IAAAuuB,EAKM,GALNA,EAAA1iG,EAAAhH,KAAA,EAOe8M,YAAU,CAAErjB,SAAQkZ,aAPnC,cAOAqK,EAPAhG,EAAAzG,KAQAxY,EAAMG,OAAOuJ,OAAO4oF,GAAgB3xF,IAA9B,eAAA8D,EAAAtE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAkC,SAAA2rF,EAAMse,GAAN,IAAA16F,EAAA7a,EAAA6B,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAyrF,GAAA,cAAAA,EAAAvrF,KAAAurF,EAAAtrF,MAAA,cAAAsrF,EAAAtrF,KAAA,EACpB+O,YAAwB,CAAErY,KAAMizG,EAAS38F,WADrB,cACvCiC,EADuCq8E,EAAA/qF,KAEvCnM,EAFuClM,OAAAC,EAAA,EAAAD,CAAA,CAG5CyhH,UACA16F,aACA1gB,gBACG4sF,GANyCmQ,EAAAtrF,KAAA,EAgBxB4pG,YAAUx1G,GAhBc,cAgBvC6B,EAhBuCq1F,EAAA/qF,KAAA+qF,EAAA3qF,OAAA,SAkBtC,CACN1K,WAnB4C,wBAAAq1F,EAAAzqF,SAAAwqF,MAAlC,gBAAA1jF,GAAA,OAAAnb,EAAAqN,MAAAkH,KAAA/Z,YAAA,IARNggB,EAAAhH,KAAA,EA+BgBgB,QAAQjZ,IAAIA,GA/B5B,cA+BA0pB,EA/BAzK,EAAAzG,KAAAyG,EAAArG,OAAA,SAiCC8Q,GAjCD,wBAAAzK,EAAAnG,SAAAkG,6BAoCA,SAAeizD,EAAtBzyD,GAAA,OAAAsiG,EAAAhwG,MAAAkH,KAAA/Z,sDAAO,SAAAkf,EAAAnb,GAAA,IAAA1B,EAAAyrE,EAAAqB,EAAAI,EAAAxB,EAAA4E,EAAAmwC,EAAAhhH,EAAAW,EAAAC,EAAAE,EAAAuJ,EAAAwP,EAAA6uE,EAAAlwE,EAAA5U,EAAA6B,EAAAs3G,EAAAC,EAAApvG,EAAA2jF,EAAAziB,EAAA3hE,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cACN3W,EADM0B,EACN1B,QACAyrE,EAFM/pE,EAEN+pE,iBACAqB,EAHMprE,EAGNorE,aACAI,EAJMxrE,EAINwrE,cACAxB,EALMhqE,EAKNgqE,WACA4E,EANM5uE,EAMN4uE,YANMmwC,EAQgB1iH,eAAd0B,EARFghH,EAQEhhH,UACAW,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SACRE,EAAaH,EAAbG,SAVF4c,EAAAxG,KAAA,EAWyC8B,YAAUlY,GAXnD,cAAAuJ,EAAAqT,EAAAjG,KAWEoC,EAXFxP,EAWEwP,SAAU6uE,EAXZr+E,EAWYq+E,SAAUlwE,EAXtBnO,EAWsBmO,SACtB5U,EAAWsI,SAASuhE,EAAe,IAEnChoE,EAAe7E,EAAStB,QAExBy9G,EAAah5G,qBAAWioE,EAAkBpoE,GAE1Co5G,EAAa,CAClBhiG,iBAAkBvV,EAClBupF,aAAchvF,EAAUV,QACxBmS,GAAI47D,EACJ/hE,KAAM89E,EAAM8C,UAAUixB,SAASjuB,OAAO,CAACjjB,EAAY8wC,KAE9CnvG,EAAO,CAACovG,GAxBRt/F,EAAAxG,KAAA,GA0BuBg7E,EAAiC,CAC7DtkF,OACAnI,eACAoU,WACA6uE,WACAnoF,UACAiY,aAhCK,eA0BA+4E,EA1BA7zE,EAAAjG,KAAAiG,EAAAxG,KAAA,GAmCai7E,EAAyB,CAAEZ,iBAAgBvxF,cAnCxD,WAmCA8uE,EAnCApxD,EAAAjG,MAqCFo5D,EArCE,CAAAnzD,EAAAxG,KAAA,gBAAAwG,EAAA7F,OAAA,SAsCE,CACNi3D,KAAMA,EAAKxzD,MACXyzD,MAAO5kE,YAAkB4yG,EAAYn5G,KAxCjC,eAAA8Z,EAAAxG,KAAA,GA4Cek7E,EAA0B,CAC9C3sF,eACA8rF,iBACA5wF,SACAkZ,aAhDK,eA4CA1M,EA5CAuQ,EAAAjG,KAAAiG,EAAA7F,OAAA,SAmDC,CACN1K,WApDK,yBAAAuQ,EAAA3F,SAAAqF,gKChpBP,IAAM6jG,EAAY,SAACvuG,EAAStK,EAAM44F,GACjC,IAAMkgB,EAAM9hH,OAAAC,EAAA,EAAAD,CAAA,GAAQsT,GAEpB,OADAwuG,EAAO94G,GAAPhJ,OAAAC,EAAA,EAAAD,CAAA,GAAoB4hG,GACbkgB,gBCoBKC,EAAkB,CAC9B5gH,QCnBc,WAA8D,IACxE6gH,EADkC7iH,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9Bq7F,IAAah5F,QAASozB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM5E,OAFAgjH,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAERo1B,EAAOvrB,MACd,KAAK0mB,IAGJ,OADAsyF,EADUhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQu0B,EAAOpzB,SAG1B,KAAKyuB,IAGJ,OADAoyF,EADa7nB,IAAah5F,QAG3B,KAAKwuB,IAOJ,OADAqyF,EALavkB,OAAKC,aAAa,CAC9BnxF,KAAMy1G,EACN5yE,UAAUpvC,OAAAC,EAAA,EAAAD,CAAA,GAAMu0B,EAAO6a,WACvByD,SAAUkoC,YAKZ,QACC,OAAO57E,IDLTiQ,MAAO6yG,wBEhBO,WAA0D,IACpED,EACAt0D,EACAh/C,EACAwzG,EACA31G,EALgCpN,EAAoCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA5Bq7F,IAAa/qF,MAAOmlB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAOlEotD,EAAa,WAAwB,IAAvBjtD,EAAuBL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIy1B,EAAWz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1C,OAAKu1B,EAAOhoB,KACLvM,OAAAC,EAAA,EAAAD,CAAA,GACHb,EADJa,OAAA80B,EAAA,EAAA90B,CAAA,GAEEu0B,EAAOhoB,KAAK7F,GAAK6tB,EAAOhoB,OAHDpN,GAmB1B,OANIo1B,EAAOhoB,MAAQgoB,EAAOllB,WACzB2yG,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBoN,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQu0B,EAAOhoB,MACnB21G,EAAe3tF,EAAOllB,UAGfklB,EAAOvrB,MACd,KAAKglB,IASJ,OANAtf,EAAUnC,EACVmhD,EAAgBtB,EAAW41D,EAASE,GAAVliH,OAAAC,EAAA,EAAAD,CAAA,GACtBu0B,EADsB,CAEzBhoB,KAAMmC,KAEPszG,EAASE,GAAgBx0D,EAClBs0D,EAER,KAAKzzF,IAOJ,OANA7f,EAAUikC,OAAKwvE,QAAQH,EAASE,GAAc31G,EAAK0pC,KAAM1hB,EAAO6tF,OAChE10D,EAAgBtB,EAAW41D,EAASE,GAAVliH,OAAAC,EAAA,EAAAD,CAAA,GACtBu0B,EADsB,CAEzBhoB,KAAMmC,KAEPszG,EAASE,GAAgBx0D,EAClBs0D,EAER,KAAK3zF,IAGJ,OAFAq/B,EAlC2B,WAA2B,IAA1BtB,EAA0BttD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,GAAIu1C,EAASv1C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnDqjH,EAAMriH,OAAAC,EAAA,EAAAD,CAAA,GAAQosD,GAElB,cADOi2D,EAAOhuE,GACPguE,EA+BUC,CAAqBN,EAASE,GAAe31G,EAAK0pC,KAClE+rE,EAASE,GAAgBx0D,EAClBs0D,EAER,KAAK1zF,IAUJ,OATA5f,EAAUikC,OAAK7kB,WACdk0F,EAASE,GAAc31G,EAAK0pC,KAC5B1hB,EAAOguF,UAER70D,EAAgBtB,EAAW41D,EAASE,GAAVliH,OAAAC,EAAA,EAAAD,CAAA,GACtBu0B,EADsB,CAEzBhoB,KAAMmC,KAEPszG,EAASE,GAAgBx0D,EAClBs0D,EAER,KAAK/zF,IAOJ,OANAvf,EAAUnC,EACVmhD,EAAgBtB,EAAW41D,EAASE,GAAVliH,OAAAC,EAAA,EAAAD,CAAA,GACtBu0B,EADsB,CAEzBhoB,KAAMmC,KAEPszG,EAASE,GAAgBx0D,EAClBs0D,EAER,KAAKxzF,IACJwzF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChB,IAAMqjH,EAAWjuF,EAAOnlB,MAAMxP,OAAO,SAACwP,EAAO7C,EAAM0I,GAClD,IAAMwtG,EAAYziH,OAAAC,EAAA,EAAAD,CAAA,GAAQoP,GACpBV,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,GAErB,OADAk2G,EAAa/zG,EAAQhI,IAAMgI,EAAQ4D,MAAQ5D,EACpC+zG,GACLT,EAASztF,EAAOllB,WAGnB,OADA2yG,EAASztF,EAAOllB,UAAYmzG,EACrBR,EACR,KAAKvzF,IAEJ,OADAuzF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAa/qF,OAG9B,QACC,OAAOjQ,IF1EmB,SAAAo1B,GAAM,OAAIA,EAAOvrB,KAAK6vB,MAAM,WACxD9yB,GG1Bc,WAAoD,IAC9Di8G,EAD6B7iH,EAAiCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBq7F,IAAap0F,GAAIwuB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAElE,OAAQu1B,EAAOvrB,MACd,KAAK8lB,KAeJ,OAdAkzF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPiH,WAATpG,OAAAC,EAAA,EAAAD,CAAA,GAA2BgiH,EAAS57G,YACpC47G,EAAS57G,WAAWmuB,EAAO/yB,UAA3BxB,OAAAC,EAAA,EAAAD,CAAA,GACIgiH,EAAS57G,WAAWmuB,EAAO/yB,WAE3B+yB,EAAOonE,UACVqmB,EAAS57G,WAAWmuB,EAAO/yB,UAAU+yB,EAAOonE,UAA5C37F,OAAAC,EAAA,EAAAD,CAAA,GACIgiH,EAAS57G,WAAWmuB,EAAO/yB,UAAU+yB,EAAOonE,WAEhDqmB,EAAS57G,WAAWmuB,EAAO/yB,UAAU+yB,EAAOonE,UAAUpnE,EAAOhoB,MAC5DgoB,EAAO/qB,OAERw4G,EAAS57G,WAAWmuB,EAAO/yB,UAAU+yB,EAAOhoB,MAAQgoB,EAAO/qB,MAErDw4G,EACR,KAAKnzF,IASJ,OARAmzF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP6G,OAAThG,OAAAC,EAAA,EAAAD,CAAA,GAAuBgiH,EAASh8G,QAC5BuuB,EAAOonE,UACVqmB,EAASh8G,OAAOuuB,EAAOonE,UAAvB37F,OAAAC,EAAA,EAAAD,CAAA,GAAwCgiH,EAASztF,EAAOonE,WACxDqmB,EAASh8G,OAAOuuB,EAAOonE,UAAUpnE,EAAOhoB,MAAQgoB,EAAO/qB,OAEvDw4G,EAASh8G,OAAOuuB,EAAOhoB,MAAQgoB,EAAO/qB,MAEhCw4G,EACR,QACC,OAAO7iH,IHHTwI,SI1Bc,WAAgE,IAAvCxI,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/Bq7F,IAAaxyF,SAAU4sB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9E,OAAQu1B,EAAOvrB,MACd,KAAKmmB,IACJ,IAAIuzF,EAAUnuF,EAAOxsB,MAAQ5I,EAE7B,OADA23F,YAAQ4rB,GACDA,EACR,QACC,OAAOvjH,IJoBTw7F,iBKxBc,WAGb,IACGqnB,EACAW,EACAC,EACAC,EANJ1jH,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOq7F,IAAaQ,iBACrBpmE,EACCz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAMDgjH,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAGhB,IAOM2jH,EAAmB,SAAA1iH,GAAqB,IAAlB2iH,EAAkB3iH,EAAlB2iH,KAAMJ,EAAYviH,EAAZuiH,MAOjC,OANqB,IAAjBA,EAAMhyG,QAAgBoyG,EAAKhwE,QAAQ4vE,EAAM5/F,MAC5CggG,EAAKt2G,KAAKk2G,EAAM5/F,MAEhBggG,EAAOA,EAAK73G,OAAO,SAAAsb,GAAE,OAAIA,IAAOm8F,EAAM5/F,OAGhCggG,GAGR,IAAKxuF,EAAO7J,KACX,OAAOvrB,EAQR,OALAyjH,EAAU5iH,OAAAC,EAAA,EAAAD,CAAA,GAASgiH,EAASztF,EAAO7J,OAAS,IAC5Cm4F,EAAU7iH,OAAA2D,EAAA,EAAA3D,CAAQ4iH,EAAWC,YAAc,IAInCtuF,EAAOvrB,MACd,KAAKgnB,IAQJ,OAPA2yF,EAAK3iH,OAAAC,EAAA,EAAAD,CAAA,GAAQu0B,EAAO/qB,OACpBo5G,EAAWruF,EAAO/N,IAAMm8F,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAOA,IAERX,EAASztF,EAAO7J,MAAQk4F,EACjBZ,EACR,KAAK/xF,KASJ,OAPA0yF,EAtCgB,SAAAjjH,GAAuB,IAApByzE,EAAoBzzE,EAApByzE,IAAKngE,EAAetT,EAAfsT,IAAKnL,EAAUnI,EAAVmI,IAI9B,OAHAsrE,EAAMA,GAAO,IACTngE,GAAOnL,EAEJsrE,EAkCE6vC,CAAU,CAAE7vC,IADpBwvC,EAAK3iH,OAAAC,EAAA,EAAAD,CAAA,GAAS4iH,EAAWruF,EAAO/N,KAAO,IACPxT,IAAKuhB,EAAOvhB,IAAKnL,IAAK0sB,EAAO/qB,QAC7Do5G,EAAWruF,EAAO/N,IAAMm8F,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAOA,IAERX,EAASztF,EAAO7J,MAAQk4F,EACjBZ,EACR,KAAK9xF,IAQJ,OAPAyyF,EAAK3iH,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAaQ,iBAAiB99D,SAC3C+lF,EAAWruF,EAAO/N,IAAMm8F,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAO,CAAEM,OAAQ1uF,EAAO/N,MAEzBw7F,EAASztF,EAAO/N,IAAMm8F,EACfX,EACR,QACC,OAAO7iH,IL3CTyuD,KM7Bc,WAAwD,IAClEo0D,EAD+B7iH,EAAmCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3Bq7F,IAAavsC,KAAMr5B,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGtE,OAAQu1B,EAAOvrB,MACd,KAAKqnB,KAEJ,OADA2xF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,EAAUo1B,EAAOq5B,MAElC,KAAKt9B,IAGJ,OAFA0xF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo1B,EAAO83B,KAAO93B,EAAO83B,IACvB21D,EACR,QACC,OAAO7iH,INkBTy7F,WO9Bc,WAAwD,IAClEonB,EAD+B7iH,EAAmCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3Bq7F,IAAavsC,KAAMr5B,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGtE,OAAQu1B,EAAOvrB,MACd,KAAKynB,IAGJ,OAFAuxF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP27F,QAAT96F,OAAAC,EAAA,EAAAD,CAAA,GAAwBu0B,EAAOumE,SACxBknB,EACR,QACC,OAAO7iH,IPsBTG,ODzBc,WAAwD,IAArCH,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7Bq7F,IAAa76F,OAAQi1B,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtE,OAAQu1B,EAAOvrB,MACd,KAAK4nB,IACJ,OAAOixF,EAAU1iH,EAAO,UAAWo1B,EAAOqtE,KAC3C,QACC,OAAOziG,ICqBTqJ,UQ1Bc,WAGb,IACGw5G,EAHJ7iH,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOq7F,IAAa3xF,UACrB+rB,EACCz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQu1B,EAAOvrB,MACd,KAAK6nB,IAGJ,OAFAmxF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPyJ,UAAY2rB,EAAO/qB,MACrBw4G,EACR,KAAKlxF,IAYJ,OAXAkxF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo1B,EAAO1uB,MAAhB7F,OAAAC,EAAA,EAAAD,CAAA,GAA6BgiH,EAASztF,EAAO1uB,OAC7Cm8G,EAASztF,EAAO1uB,MAAM0uB,EAAOrqB,WAA7BlK,OAAAC,EAAA,EAAAD,CAAA,GACIgiH,EAASztF,EAAO1uB,MAAM0uB,EAAOrqB,YAEjC83G,EAASztF,EAAO1uB,MAAM0uB,EAAOrqB,WAAWqqB,EAAOpqB,QAA/CnK,OAAAC,EAAA,EAAAD,CAAA,GACIgiH,EAASztF,EAAO1uB,MAAM0uB,EAAOrqB,WAAWqqB,EAAOpqB,SAEnD63G,EAASztF,EAAO1uB,MAAM0uB,EAAOrqB,WAAWqqB,EAAOpqB,QAC9CoqB,EAAO3rB,WADR5I,OAAAC,EAAA,EAAAD,CAAA,GAESu0B,EAAO/qB,OACTw4G,EACR,KAAKjxF,IAMJ,OALAixF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPuJ,SAAT1I,OAAAC,EAAA,EAAAD,CAAA,GAAyBgiH,EAASt5G,UAClCs5G,EAASt5G,SAAS6rB,EAAOrqB,WAAzBlK,OAAAC,EAAA,EAAAD,CAAA,GACIu0B,EAAO/qB,OAEJw4G,EACR,KAAK3wF,IAGJ,OAFA2wF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP2J,OAASyrB,EAAO/qB,MAClBw4G,EACR,KAAKhxF,IAEJ,OADAgxF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAa3xF,WAG9B,QACC,OAAOrJ,IRbTkC,SS5Bc,WAAgE,IAAvClC,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/Bq7F,IAAa94F,SAAUkzB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1EgjH,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAEpB,OAAQo1B,EAAOvrB,MACd,KAAKioB,IAEJ,OADA+wF,EAASl+G,eAAT9D,OAAAC,EAAA,EAAAD,CAAA,GAA+Bu0B,EAAOlzB,UAC/B2gH,EACR,KAAK9wF,IAEJ,OADA8wF,EAASl+G,eAAiBq2F,IAAa94F,SAASyC,eACzCk+G,EACR,KAAK7wF,IAEJ,OADA6wF,EAASt+G,uBAAT1D,OAAA2D,EAAA,EAAA3D,CAAsCu0B,EAAOlzB,UACtC2gH,EACR,KAAK5wF,IAGJ,OAFA4wF,EAASt+G,uBACRy2F,IAAa94F,SAASqC,uBAChBs+G,EAER,QACC,OAAO7iH,ITUT4F,aUlCc,WAA+D,IACzEi9G,EAD8B7iH,EAA2CL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnCq7F,IAAap1F,aAAcwvB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE7E,OAAQu1B,EAAOvrB,MACd,KAAKuoB,IAGJ,OAFAywF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo1B,EAAOhoB,MAAQgoB,EAAO/qB,MACxBw4G,EAER,QACC,OAAO7iH,KV4BG+jH,EAAiB,CAC7B9oB,OWtCc,WAA4D,IACtE4nB,EACAmB,EAFiChkH,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7Bq7F,IAAaC,OAAQ7lE,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM1E,OAFAgjH,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAERo1B,EAAOvrB,MACd,KAAKwmB,IAUJ,OATA2zF,EAASnjH,OAAAC,EAAA,EAAAD,CAAA,GAAQgiH,GACb/pF,MAAMmjC,QAAQ+nD,EAAU5uF,EAAO8f,OAClC8uE,EAAU5uF,EAAO8f,MAAjBr0C,OAAA2D,EAAA,EAAA3D,CAA6Bu0B,EAAO/qB,OAEpC25G,EAAU5uF,EAAO8f,MAAQ9f,EAAO/qB,MAGjCw4G,EAAWmB,EAIZ,KAAK1zF,IAGJ,OADAuyF,EADAmB,EAASnjH,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAaC,QAI/B,QACC,OAAOj7F,IXcTqC,SYvCc,WAAgE,IAC1EwgH,EACAhhB,EAFmC7hG,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/Bq7F,IAAa34F,SAAU+yB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM9E,OAFAgjH,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAERo1B,EAAOvrB,MACd,KAAKunB,IAUJ,OATAywE,EAAcghB,EACV/pF,MAAMmjC,QAAQ4lC,EAAYzsE,EAAO8f,OACpC2sD,EAAYzsE,EAAO8f,MAAnBr0C,OAAA2D,EAAA,EAAA3D,CAA+Bu0B,EAAO/qB,OAEtCw3F,EAAYzsE,EAAO8f,MAAQ9f,EAAO/qB,MAGnCw4G,EAAWhhB,EAIZ,KAAKxwE,IAGJ,OADAwxF,EADAhhB,EAAWhhG,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAa34F,UAIjC,QACC,OAAOrC,IZeToC,OaxCc,WAA4D,IACtEygH,EACA3gB,EAFiCliG,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7Bq7F,IAAa54F,OAAQgzB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM1E,OAFAgjH,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAERo1B,EAAOvrB,MACd,KAAK0nB,KAUJ,OATA2wE,EAAY2gB,EACR/pF,MAAMmjC,QAAQimC,EAAU9sE,EAAO8f,OAClCgtD,EAAU9sE,EAAO8f,MAAjBr0C,OAAA2D,EAAA,EAAA3D,CAA6Bu0B,EAAO/qB,OAEpC63F,EAAU9sE,EAAO8f,MAAQ9f,EAAO/qB,MAGjCw4G,EAAW3gB,EAIZ,KAAK1wE,IAGJ,OADAqxF,EADA3gB,EAASrhG,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAa54F,QAI/B,QACC,OAAOpC,IbgBTuP,QAASuzG,wBcrCK,WAA+D,IACzED,EACAtzG,EAFmCvP,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9Bq7F,IAAazrF,QAAS6lB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI7E,OAAQu1B,EAAOvrB,MACd,KAAKklB,IAKJ,OAJA8zF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBuP,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQu0B,EAAOhoB,MACtBy1G,EAASztF,EAAOllB,UAAYX,EAErBszG,EAER,KAAK7zF,IAKJ,OAJA6zF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBuP,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAazrF,QAAQ6lB,EAAOhoB,OAC3Cy1G,EAASztF,EAAOhoB,MAAQmC,EAEjBszG,EAER,KAAK5zF,IAGJ,OAFA4zF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAazrF,SAI9B,QACC,OAAOvP,IdYuB,SAAAo1B,GAAM,OAAIA,EAAOvrB,KAAK6vB,MAAM,cAC5D3yB,SAAU+7G,wBe1CI,WAAgE,IAAvC9iH,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/Bq7F,IAAaj0F,SAAUquB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxEgjH,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAEtB,OAAQo1B,EAAOvrB,MACd,KAAK4lB,IAGJ,OAFAozF,EAASztF,EAAO2b,SAAW3b,EAAO/qB,MAE3Bw4G,EACR,KAAK/zF,IAEJ,OADA+zF,EAAS,SAAWztF,EAAOhoB,KAAK0pC,MAAO,EAChC+rE,EAER,QACC,OAAO7iH,If6ByB,CAACs8F,MACnCzoE,OgB3Cc,WAA4D,IAEtEowF,EAFiCjkH,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7Bq7F,IAAannE,OAAQuB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI1E,OAAQu1B,EAAOvrB,MACd,KAAK+lB,IAIJ,OAHAq0F,EAAQpjH,OAAAC,EAAA,EAAAD,CAAA,GAAQu0B,EAAO5B,QACd0wF,MAAQ56F,KAAKC,MACd,CAAI06F,GAAJlxG,OAAAlS,OAAA2D,EAAA,EAAA3D,CAAiBb,IAG1B,KAAK6vB,IAEJ,OADW7vB,EAAM+L,OAAO,SAAApL,GAAC,OAAIA,EAAE4G,KAAO6tB,EAAO5B,QAE9C,QACC,OAAOxzB,IhB6BTy3B,QAASqrF,wBiB3CK,WAA8D,IACxED,EADkC7iH,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9Bq7F,IAAavjE,QAASrC,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAG5E,OAAQu1B,EAAOvrB,MACd,KAAKimB,IAWJ,OAVA+yF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP+M,KAATlM,OAAAC,EAAA,EAAAD,CAAA,GAAqBu0B,EAAOqC,QAAQ1qB,MACpC81G,EAAStqF,UAAYnD,EAAOqC,QAAQc,UACpCsqF,EAASrqF,SAAWpD,EAAOqC,QAAQe,SACnCqqF,EAASvvF,YACkBzzB,IAA1Bu1B,EAAOqC,QAAQnE,QAAuB8B,EAAOqC,QAAQnE,OACtDuvF,EAAS9qF,eAAiB3C,EAAOqC,QAAQM,aAGzC8qF,EAASpqF,SAAWnP,KAAKC,MAClBs5F,EAER,QACC,OAAO7iH,IjByBuB,CAACs8F,MACjC/1F,IAAKu8G,wBkB7CS,WAAsD,IAChED,EAD8B7iH,EAAkCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1Bq7F,IAAaz0F,IAAK6uB,EAAQz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGpE,OAAQu1B,EAAOvrB,MACd,KAAKkmB,IAGJ,OAFA8yF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo1B,EAAOhoB,MAAQgoB,EAAO/qB,MACxBw4G,EAER,QACC,OAAO7iH,IlBmCe,CAACs8F,MACzBrtF,YmB3Cc,WAGb,IACG4zG,EACAhd,EAJJ7lG,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOq7F,IAAa/rF,YACrBmmB,EACCz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAID,OAAQu1B,EAAOvrB,MACd,KAAKomB,IAKJ,OAJA4yF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChB6lG,EAAShlG,OAAAC,EAAA,EAAAD,CAAA,GAAQgiH,EAASztF,EAAOhoB,MAAUgoB,EAAOg8C,QAClDyxC,EAASztF,EAAOhoB,MAAQy4F,EAEjBgd,EAER,KAAK3yF,IAYJ,OAXA2yF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IAChB6lG,EAAShlG,OAAAC,EAAA,EAAAD,CAAA,GAAQgiH,EAASztF,EAAOhoB,SAChBy4F,EAAUse,eAAe/uF,EAAOvhB,YAEzCgyF,EAAUzwE,EAAOvhB,KACdgyF,IAAczwE,EAAOvhB,MAC/BgyF,EAAY,IAGbgd,EAASztF,EAAOhoB,MAAQy4F,EAEjBgd,EAER,QACC,OAAO7iH,InBcTmI,coB/Cc,WAGb,IACG06G,EAHJ7iH,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOq7F,IAAa7yF,cACrBitB,EACCz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQu1B,EAAOvrB,MACd,KAAKsoB,IAGJ,OAFA0wF,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo1B,EAAO63B,YAAc73B,EAAOjtB,cAC9B06G,EACR,QACC,OAAO7iH,IpBoCToP,gBqB5Cc,WAGb,IACGyzG,EACAW,EAJJxjH,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOq7F,IAAa5rF,gBACrBgmB,EACCz1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAcD,OAVAgjH,EAAQhiH,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAURo1B,EAAOvrB,MACd,KAAK6mB,IAQJ,OAJA8yF,EAZe,SAAAjjH,GAAsB,IAAnB8mB,EAAmB9mB,EAAnB8mB,GAAIxT,EAAetT,EAAfsT,IAAKnL,EAAUnI,EAAVmI,IAI5B,OAHA2e,EAAKA,GAAM,IACRxT,GAAOnL,EAEH2e,EAQE+8F,CAAS,CAAE/8F,GAHnBm8F,EAAK3iH,OAAAC,EAAA,EAAAD,CAAA,GACAgiH,EAASztF,EAAO/N,KAAO2zE,IAAa5rF,gBAAgBsuB,SAE3B7pB,IAAKuhB,EAAOvhB,IAAKnL,IAAK0sB,EAAO/qB,QAG3Dw4G,EAASztF,EAAO/N,IAAMm8F,EACfX,EACR,KAAKlyF,IAGJ,OAFA6yF,EAAK3iH,OAAAC,EAAA,EAAAD,CAAA,GAAQm6F,IAAa5rF,gBAAgBsuB,SAC1CmlF,EAASztF,EAAO/N,IAAMm8F,EACfX,EACR,KAAKjyF,IAEJ,OADAiyF,EAAW7nB,IAAa5rF,gBAEzB,QACC,OAAOpP,2DChCJqkH,EAAwBC,YAAiBprF,KAEzCqrF,EAAgB,CACrB1wG,IAAK,UACL2wG,QAASv2F,KAWJw2F,EAAcC,YAAgB,CACnCxkH,QAASykH,YAAuBJ,EAAe3B,GAC/Cl9G,OAAQg/G,YAAgBX,GACxBh+G,OAAQ6+G,YAAc1rF,OA2EvB,IAGe2rF,EA9Df,SAA4B7pB,GAC3B,IAAM8pB,EAAc,CAKnBC,IACAV,GAOGj9B,EAAQ49B,YACXP,EACAzpB,EACAiqB,YAAQC,IAAe1yG,WAAf,EAAmBsyG,KAK5B,MAAO,CAAEx9B,UAFO69B,YAAa/9B,GAETA,SAwCNy9B,GC1Gf1tG,EAAAC,EAAAC,EAAA,sBAAA+tG,IAAAjuG,EAAAC,EAAAC,EAAA,sBAAAguG,IAAAluG,EAAAC,EAAAC,EAAA,sBAAApX,IAEe4kH,IAEFz9B,EAAQy9B,EAAez9B,MACvBE,EAAYu9B,EAAev9B,UAE3BrnF,GADWmnF,EAAMvxD,SACNuxD,EAAMnnF,2CCP9BkX,EAAAC,EAAAC,EAAA,sBAAA00F,IAAA50F,EAAAC,EAAAC,EAAA,sBAAAoqF,IAAAtqF,EAAAC,EAAAC,EAAA,sBAAAqrF,IAAAvrF,EAAAC,EAAAC,EAAA,sBAAAkrG,IAAAprG,EAAAC,EAAAC,EAAA,sBAAA+0F,IAAAj1F,EAAAC,EAAAC,EAAA,sBAAA4tF,IAAA9tF,EAAAC,EAAAC,EAAA,sBAAAkuF,IAAApuF,EAAAC,EAAAC,EAAA,sBAAA8zF,IAAA,IAAAma,EAAAnuG,EAAA,KAGMwR,EAAY,IAAIF,IAAU,CAAED,QADR7gB,iCAGpBmhB,EAAkB,SAAA3L,GACvB,OAAIA,EAAI3L,QAAU,KAAO2L,EAAI3L,OAAS,IAC9B2L,EAAI4L,OAGL5L,EAAI6L,OAAO9L,KAAK,SAAA8L,GACtBC,YAAwB,CAAE9L,MAAK6L,YAIpB+iF,EAAqB,SAAAxrG,GAAe,IAAZ8jF,EAAY9jF,EAAZ8jF,MACpC,OAAO17D,EACLsB,MAAM,CACNM,MAAK,qBAAAxX,OAAuBsxE,GAC5B75D,OAAQ,QAERtN,KAAK4L,IAGK24E,EAAkB,SAAAxgG,GAAsB,IAAnBiG,EAAmBjG,EAAnBiG,aACjC,OAAOyhB,EACLsB,MAAM,CACNM,MAAK,YAAAxX,OAAc7L,GACnBsjB,OAAQ,QAERtN,KAAK4L,IAGK45E,EAAuB,WACnC,OAAO/5E,EACLsB,MAAM,CACNM,MAAO,cACPC,OAAQ,QAERtN,KAAK4L,IAGKy5F,EAAY,SAAAnhH,GAAoD,IAAjDkhH,EAAiDlhH,EAAjDkhH,QAAS16F,EAAwCxmB,EAAxCwmB,WAAY1gB,EAA4B9F,EAA5B8F,aAAcmY,EAAcje,EAAdie,QAC9D,OAAOsJ,EACLsB,MAAM,CACNM,MAAK,YAAAxX,OAAc7L,EAAd,YACLsjB,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACpB03F,UACA16F,aACA1gB,eACAmY,YAED6K,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKsjF,EAAa,SAAA5qG,GAUpB,IATL6iF,EASK7iF,EATL6iF,MACA3hF,EAQKlB,EARLkB,MACAm7G,EAOKr8G,EAPLq8G,SACA9J,EAMKvyG,EANLuyG,oBACA2J,EAKKl8G,EALLk8G,iBACA9Y,EAIKpjG,EAJLojG,KACA19F,EAGK1F,EAHL0F,aACA+V,EAEKzb,EAFLyb,WACA2gG,EACKp8G,EADLo8G,yBAEA,OAAOj1F,EACLsB,MAAM,CACNM,MAAK,YAAAxX,OAAc7L,GACnBsjB,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACpBy5D,QACA3hF,QACAm7G,WACA9J,sBACA2J,mBACA9Y,OACA19F,eACA+V,aACA2gG,6BAED1zF,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKm8E,EAAiB,SAAAtjG,GAAc,IAAXiiB,EAAWjiB,EAAXiiB,KAChC,OAAO+E,EACLsB,MAAM,CACNM,MAAK,UAAAxX,OAAYu5D,mBAAmB1oD,IACpC4G,OAAQ,QAERtN,KAAK4L,IAGKy8E,EAAe,SAAAzjG,GAA4C,IAAzCY,EAAyCZ,EAAzCY,MAAOkiG,EAAkC9iG,EAAlC8iG,KAAMhhF,EAA4B9hB,EAA5B8hB,KAAMihF,EAAsB/iG,EAAtB+iG,gBACjD,OAAOl8E,EACLsB,MAAM,CACNM,MAAK,SACLC,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACpBloB,QACAkiG,OACAhhF,OACAihF,oBAED36E,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKqiF,EAAW,SAAAloG,GAAe,IAAZP,EAAYO,EAAZP,MAC1B,OAAOimB,EACLsB,MAAM,CACNM,MAAK,kBAAAxX,OAAoBu5D,mBAAmB5pE,IAC5C8nB,OAAQ,QAERtN,KAAK4L","file":"static/js/main.76eb6a3d.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n\r\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\t(a = [], b = []) => a.length === b.length\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken || {}\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector, selectMainToken } from 'selectors'\r\nimport { bigNumberify, parseUnits } from 'ethers/utils'\r\n\r\nconst MIN_PUBLISHER_REVENUE = '30'\r\n\r\nexport const selectAccount = state => state.persist.account || {}\r\nexport const selectChannels = state => state.persist.channels\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet || {}\r\n)\r\n\r\nexport const selectEmail = createSelector(\r\n\tselectAccount,\r\n\t({ email }) => email\r\n)\r\n\r\nexport const selectEmailProvider = createSelector(\r\n\tselectEmail,\r\n\temail => (!!email ? email.split('@')[1] : null)\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectWalletAddress = createSelector(\r\n\tselectWallet,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity || {}\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAccountIdentityDeployData = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) => relayerData.deployData\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesEligible = createSelector(\r\n\tselectChannels,\r\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesAll = createSelector(\r\n\tselectChannels,\r\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\r\n)\r\n\r\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\r\n)\r\n\r\nexport const selectWalletPrivileges = createSelector(\r\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\r\n\t(privileges = {}, address) => privileges[address] || 0\r\n)\r\n\r\nexport const selectPublisherMinRevenueReached = createSelector(\r\n\t[selectAccountStatsRaw, selectMainToken],\r\n\t({ totalRevenue }, { decimals }) =>\r\n\t\tbigNumberify(totalRevenue || 0).gt(\r\n\t\t\tparseUnits(MIN_PUBLISHER_REVENUE, decimals)\r\n\t\t)\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectIdentity = state => state.memory.identity\r\n\r\nexport const selectEnsAddresses = state => state.persist.ensAddresses\r\n\r\nexport const selectEnsAddressByAddr = createSelector(\r\n\t[selectEnsAddresses, (_, address) => address],\r\n\t(ensAddresses, address) => ensAddresses[address] || ''\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectLocation = state => state.router.location\r\n\r\nexport const selectSearch = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => search\r\n)\r\n\r\nexport const selectLocationQuery = createSelector(\r\n\tselectLocation,\r\n\t({ query }) => query || {}\r\n)\r\n\r\nexport const selectSearchParams = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => new URLSearchParams(search)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { selectAccountIdentityAddr } from './accountSelectors'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectGlobalUi = state => state.persist.ui.global\r\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\r\nexport const selectSelectedItems = state => state.memory.selectedItems\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectIdentityUi = createSelector(\r\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\r\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\r\n)\r\n\r\nexport const selectCompanyData = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ companyData }) => companyData || {}\r\n)\r\n\r\nexport const selectSpinnerById = createSelector(\r\n\t[selectSpinners, (_, id) => id],\r\n\t(spinners, id) => spinners[id]\r\n)\r\n\r\nexport const selectMultipleSpinnersByIds = createSelector(\r\n\t[selectSpinners, (_, ids) => ids],\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\r\n)\r\n\r\nexport const selectEasterEggsAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowEasterEggs }) => allowEasterEggs\r\n)\r\n\r\nexport const selectPrivilegesWarningAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\r\n)\r\n\r\nexport const selectHideGettingStarted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ hideGettingStarted }) => hideGettingStarted\r\n)\r\n\r\nexport const selectSelectedCampaigns = createSelector(\r\n\tselectSelectedItems,\r\n\t({ campaigns }) => campaigns || []\r\n)\r\n\r\nexport const selectLoginDirectSide = createSelector(\r\n\tselectGlobalUi,\r\n\t({ goToSide }) => goToSide || ''\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createSelector(\r\n\t[\r\n\t\tselectLang,\r\n\t\t(_, val, opts = {}) => {\r\n\t\t\treturn { val, opts }\r\n\t\t},\r\n\t],\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''], components = [] } = opts\r\n\t\treturn translate(val, { isProp, args, components }, lang)\r\n\t}\r\n)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\r\n\r\nexport const selectAnalytics = state => state.persist.analytics\r\n\r\nexport const selectAnalyticsData = createSelector(\r\n\t[selectAnalytics, (_, side) => side],\r\n\t(analytics, side) => {\r\n\t\treturn analytics[side] || {}\r\n\t}\r\n)\r\n\r\nexport const selectAdvancedAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\tanalytics => analytics.advanced || {}\r\n)\r\n\r\nexport const selectAnalyticsTimeframe = createSelector(\r\n\tselectAnalytics,\r\n\t({ timeframe }) => {\r\n\t\treturn timeframe\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ campaigns }) => campaigns || {}\r\n)\r\n\r\nexport const selectDemandAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ demand }) => demand || {}\r\n)\r\n\r\nexport const selectAdvancedAnalyticsByType = createSelector(\r\n\t[selectAdvancedAnalytics, (_, type) => type],\r\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\r\n)\r\n\r\nexport const selectPublisherStatsByType = createSelector(\r\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\r\n\tadvancedByType => advancedByType.publisherStats || {}\r\n)\r\nexport const selectPublisherTotalImpressions = createSelector(\r\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\r\n\t({ reportPublisherToAdUnit }) => {\r\n\t\tconst totalImpressions = reportPublisherToAdUnit\r\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\r\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: 0\r\n\r\n\t\treturn totalImpressions\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\r\n\t(state, { type, campaignId } = {}) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\tcampaignId,\r\n\t],\r\n\t([analyticsByType, campaignId]) =>\r\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\r\n\t(state, { type, campaignId } = {}) => [\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t],\r\n\t([{ reportChannelToAdUnit }]) => {\r\n\t\treturn reportChannelToAdUnit || {}\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsDataAggr = createSelector(\r\n\t[selectAnalytics, (_, opts = {}) => opts],\r\n\t(analytics = {}, { side, eventType, metric, timeframe }) => {\r\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\r\n\t\t// NOTE: It was working fine with default initial state but\r\n\t\t// when eventType CLICK was added if you were logged and had\r\n\t\t// old analytics the initialState is not applied === boom.\r\n\r\n\t\tconst {\r\n\t\t\t[side]: {\r\n\t\t\t\t[eventType]: { [metric]: { [timeframe]: { aggr } = {} } = {} } = {},\r\n\t\t\t} = {},\r\n\t\t} = analytics\r\n\r\n\t\treturn aggr\r\n\t}\r\n)\r\n\r\nexport function selectCampaignEventsCount(type, campaignId) {\r\n\treturn Object.values(\r\n\t\t// TODO: fix this selector w/o using getState\r\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\r\n\t\t\ttype,\r\n\t\t\tcampaignId,\r\n\t\t})\r\n\t).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nexport const selectTotalImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalMoney = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalImpressionsWithPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\t],\r\n\t([eventCounts, eventPayouts]) =>\r\n\t\teventCounts && eventPayouts\r\n\t\t\t? eventCounts\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\r\n\t\t\t\t\t\t\t\t.value !== null\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAverageCPM = createSelector(\r\n\t[\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\r\n\t],\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createSelector(\r\n\t[\r\n\t\t(state, { noLastOne, ...rest } = {}) => {\r\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\r\n\t\t},\r\n\t],\r\n\t({ data = [], noLastOne, metric, ...rest }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tmemo.labels.push(formatDateTime(time))\r\n\t\t\t\tmemo.datasets.push(\r\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\r\n\t\t\t\t)\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectChartDatapointsImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([impressions]) => impressions\r\n)\r\n\r\nexport const selectChartDatapointsClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([clicks]) => clicks\r\n)\r\n\r\nexport const selectChartDatapointsPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([payouts]) => payouts\r\n)\r\n\r\nexport const selectChartDatapointsCPM = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\r\n\t],\r\n\t([payouts, impressions]) => {\r\n\t\tconst result = {\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t\tresult.labels = payouts.labels\r\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\r\n\t\t\treturn impressions.datasets[i] !== 0\r\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\r\n\t\t\t\t: n\r\n\t\t})\r\n\t\treturn result\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createSelector(\r\n\t[selectValidations, (_, id) => id],\r\n\t(validations, id) => validations[id]\r\n)\r\n\r\nexport const selectMultipleValidationsByIds = createSelector(\r\n\t[selectValidations, (_, ids) => ids],\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createSelector(\r\n\t[selectNewTransactions, (_, id) => id],\r\n\t(txns, id) => txns[id] || {}\r\n)\r\n","import {\r\n\tCampaign as CampaignModel,\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n} from 'adex-models'\r\n\r\nimport { createSelector } from 'reselect'\r\n\r\nexport const selectNewItems = state => state.memory.newItem\r\n\r\nexport const selectNewCampaign = createSelector(\r\n\tselectNewItems,\r\n\t({ Campaign }) => new CampaignModel(Campaign)\r\n)\r\n\r\nexport const selectNewAdUnit = createSelector(\r\n\tselectNewItems,\r\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\r\n)\r\n\r\nexport const selectNewAdSlot = createSelector(\r\n\tselectNewItems,\r\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { selectCampaignEventsCount } from 'selectors'\r\nexport const selectItems = state => state.persist.items\r\n\r\nexport const selectItemsByType = createSelector(\r\n\t[selectItems, (_, itemType) => itemType],\r\n\t(items, itemType) => items[itemType] || {}\r\n)\r\n\r\nexport const selectItemsArrayByType = createSelector(\r\n\t[selectItemsByType, (_, itemType) => itemType],\r\n\t(items = {}) => Object.values(items)\r\n)\r\n\r\nexport const selectCampaigns = createSelector(\r\n\tstate => selectItemsByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectCampaignById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => campaigns[id]\r\n)\r\n\r\nexport const selectCampaignWithAnalyticsById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => {\r\n\t\tconst campaign = { ...(campaigns[id] || {}) }\r\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\r\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\r\n\t\treturn campaign\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectAdUnits = createSelector(\r\n\tstate => selectItemsByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdUnitById = createSelector(\r\n\t[selectAdUnits, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectAdUnitsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdSlots = createSelector(\r\n\tstate => selectItemsByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignsArray,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAdSlotsArray,\r\n\tselectAdUnits,\r\n\tcreatArrayOnlyLengthChangeSelector,\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\tselectCampaignEventsCount,\r\n} from 'selectors'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nexport const selectCampaignsTableData = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\r\n\t(campaigns, tokens, side) =>\r\n\t\tcampaigns.map(item => {\r\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\r\n\t\t\tconst { spec = {}, adUnits = [] } = item\r\n\r\n\t\t\tconst firstUnit = adUnits[0] || {}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\r\n\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\r\n\t\t\t\t},\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\r\n\t\t\t\t\toriginalName: item.status.name,\r\n\t\t\t\t},\r\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\r\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\r\n\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', item.id),\r\n\t\t\t\tclicks: selectCampaignEventsCount('CLICK', item.id),\r\n\t\t\t\tminPerImpression:\r\n\t\t\t\t\tNumber(\r\n\t\t\t\t\t\tformatUnits(\r\n\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\r\n\t\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) * 1000,\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\r\n\t\t\t\twithdrawPeriodStart:\r\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tside: side,\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\r\n\t\t\t\t},\r\n\t\t\t\tid: item.id,\r\n\t\t\t\treceiptAvailable:\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\r\n\tselectCampaignsTableData,\r\n\tdata => data\r\n)\r\n\r\nexport const selectCampaignsMaxImpressions = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxClicks = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxDeposit = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\r\n\t(campaigns, tokens) =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\r\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\r\n\t\t\t})\r\n\t\t)\r\n)\r\n\r\nexport const selectAdSlotsTableData = createSelector(\r\n\t[selectAdSlotsArray, (_, side) => side],\r\n\t(slots, side) =>\r\n\t\tslots.map(item => {\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tmediaUrl: item.fallbackUnit ? `ipfs://${item.fallbackUnit}` : '', //TODO: provide fallback image to slot\r\n\t\t\t\t\tmediaMime: 'image/jpeg',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type.replace('legacy_', ''),\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto: `/dashboard/${side}/AdSlot/${item.id || item.ipfs}`,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectAdUnitsTableData = createSelector(\r\n\t[selectAdUnits, (_, { side, items }) => ({ side, items })],\r\n\t(units, { side, items }) =>\r\n\t\tObject.values(items || units).map(item => ({\r\n\t\t\tid: item.id,\r\n\t\t\tmedia: {\r\n\t\t\t\tid: item.id,\r\n\t\t\t\tmediaUrl: item.mediaUrl,\r\n\t\t\t\tmediaMime: item.mediaMime,\r\n\t\t\t},\r\n\t\t\ttitle: item.title || units[item.ipfs].title,\r\n\t\t\ttype: item.type,\r\n\t\t\tcreated: item.created,\r\n\t\t\tactions: {\r\n\t\t\t\tto: `/dashboard/${side}/AdUnit/${item.id || item.ipfs}`,\r\n\t\t\t\titem,\r\n\t\t\t},\r\n\t\t}))\r\n)\r\n\r\nexport const selectCampaignStatsTableData = createSelector(\r\n\t(state, campaignId) => {\r\n\t\treturn {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\t},\r\n\t({ impressions, clicks }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\r\n\t\treturn Object.keys(imprStats).map(key => ({\r\n\t\t\twebsite: key,\r\n\t\t\timpressions: imprStats[key] || 0,\r\n\t\t\tctr:\r\n\t\t\t\t(((clickStats[key] || 0) / (imprStats[key] || 0)) * 100).toFixed(2) ||\r\n\t\t\t\t0,\r\n\t\t\tearnings: Number((earnStats[key] || 0).toFixed(2)),\r\n\t\t\tclicks: clickStats[key] || 0,\r\n\t\t}))\r\n\t}\r\n)\r\n\r\nexport const selectCampaignTotalValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalClicks += current.clicks\r\n\t\t\t\tnewResult.totalImpressions += current.impressions\r\n\t\t\t\tnewResult.totalEarnings += current.earnings\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectCampaignStatsMaxValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\tnewResult.maxEarnings = Math.max(\r\n\t\t\t\t\tcurrent.earnings,\r\n\t\t\t\t\tnewResult.maxEarnings\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\r\n\r\nexport const selectCampaignDoughnutStats = createSelector(\r\n\t(state, { campaignId, chartColors, maxDataSets }) => {\r\n\t\tconst analytics = {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\r\n\t\treturn { ...analytics, chartColors, maxDataSets }\r\n\t},\r\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\r\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\r\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, key, i) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tif (i < maxDataSets) {\r\n\t\t\t\t\t\tnewData.labels.push(key)\r\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\r\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\r\n\r\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\r\n\r\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\r\n\t\t\t)\r\n\r\n\t\tconst data = {\r\n\t\t\tlabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: impressionsData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: clicksData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t}\r\n)\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\r\nimport { createSelector } from 'reselect'\r\nimport { constants } from 'adex-models'\r\n\r\nexport const selectSlotTypesSourceWithDemands = createSelector(\r\n\t[selectDemandAnalytics, selectMainToken],\r\n\t(demand, { symbol }) => {\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tlabel: type.split('_')[1],\r\n\t\t\t\tdemand: demand[type],\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\r\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\r\n\r\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst current = type\r\n\t\t\t\t\tif (index === 0 && type.demand) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\t!type.demand\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (current.demand) {\r\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\r\n\t\t\t)\r\n\t\treturn source\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n","export * from './selectors'\r\nexport * from './configSelectors'\r\nexport * from './accountSelectors'\r\nexport * from './identitySelectors'\r\nexport * from './locationSelectors'\r\nexport * from './uiSelectors'\r\nexport * from './translationsSelectors'\r\nexport * from './analyticsSelectors'\r\nexport * from './validationsSelectors'\r\nexport * from './newTransactionSelectors'\r\nexport * from './newItemsSelectors'\r\nexport * from './itemsSelectors'\r\nexport * from './tablesDataSelectors'\r\nexport * from './chartsSelectors'\r\nexport * from './dataSelectors'\r\nexport * from './gettingStartedSelectors'\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { bigNumberify, formatEther } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\r\n\r\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\r\n\treturn isAvailable ? balance : bigNumberify(0)\r\n}\r\n\r\nexport const getTotalAccountRevenue = async ({ all }) => {\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst totalRevenue = await Object.values(all).reduce(\r\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\r\n\t\t\tconst revenue = await revenuePr\r\n\r\n\t\t\tconst token = withdrawTokens[depositAsset]\r\n\r\n\t\t\tconst hasMinBalance = bigNumberify(balance).gt(\r\n\t\t\t\tbigNumberify(token.minFinal)\r\n\t\t\t)\r\n\r\n\t\t\tconst balanceMainToken = hasMinBalance\r\n\t\t\t\t? await tokenInMainTokenValue({\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t  })\r\n\t\t\t\t: bigNumberify(0)\r\n\r\n\t\t\treturn revenue.add(balanceMainToken)\r\n\t\t},\r\n\t\tPromise.resolve(bigNumberify(0))\r\n\t)\r\n\r\n\treturn totalRevenue\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({\r\n\tauthType,\r\n\taddress,\r\n\tgetFullBalances,\r\n}) => {\r\n\tconst { getToken } = await getEthers(authType)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = getFullBalances\r\n\t\t\t? balance\r\n\t\t\t: tokenAvailableBalance({\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmainToken,\r\n\t\t\t\t\tbalance,\r\n\t\t\t  })\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, balanceData) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\tbalanceData.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (balanceData.token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\r\n\t\t\tmainTokenBalance: bigNumberify(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({\r\n\taddress,\r\n\tauthType,\r\n\tgetFullBalances,\r\n}) {\r\n\tconst { provider } = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({\r\n\t\t\tauthType,\r\n\t\t\taddress: address.address,\r\n\t\t\tgetFullBalances,\r\n\t\t}),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: bigNumberify('0'),\r\n\t\tavailable: bigNumberify('0'),\r\n\t},\r\n\tall,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(authType)\r\n\tconst { decimals } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ authType, address }),\r\n\t\tprivilegesAction,\r\n\t\tgetTotalAccountRevenue({ all }),\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t\ttotalRevenue,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t\ttotalRevenue,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalRevenue: formatTokenAmount(\r\n\t\t\traw.totalRevenue || '0',\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(\r\n\t\t\tbigNumberify(outstandingAvailable)\r\n\t\t)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst saiDaiConversion = async ({ token, balance }) => balance\r\n\r\nconst valueInMainTokenConversions = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\r\n\t\t// DAI\r\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\r\n\t},\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\r\n\t\t// SAI\r\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\r\n\t},\r\n}\r\n\r\nexport async function tokenInMainTokenValue({ token, balance }) {\r\n\tconst { address } = selectMainToken()\r\n\r\n\tif (address === token.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst valueInMainToken = await valueInMainTokenConversions[\r\n\t\taddress.toLowerCase()\r\n\t][token.address.toLowerCase()]({\r\n\t\ttoken,\r\n\t\tbalance,\r\n\t})\r\n\r\n\treturn valueInMainToken\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tthis._provider = provider\r\n\t\tthis._opts = opts\r\n\t}\r\n\r\n\tgetWallet = async () => {\r\n\t\tif (this._wallet) {\r\n\t\t\treturn this._wallet\r\n\t\t} else {\r\n\t\t\tconst { email, password, authType } = this._opts\r\n\t\t\tconst walletData = await getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\r\n\t\t\treturn this._wallet\r\n\t\t}\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn await this.getWallet().address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = await this.getWallet().sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst wallet = await this.getWallet()\r\n\r\n\t\tconst signature = await wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n\tsegmentByChannel,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/for-${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tlimit,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\teventType,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn { aggregates, metric }\r\n}\r\n\r\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/advanced`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n\r\nexport const campaignAnalytics = ({\r\n\tcampaign,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n}) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${campaign.id}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\n\r\nexport const isEthAddressERC20 = async (addr = '', authType) => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({\r\n\taddr = '',\r\n\tbalanceFor = '',\r\n\tauthType,\r\n}) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(authType)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\tconst notEthAddress = !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else {\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n\r\nexport const freeAdExENS = async ({ ens = '', authType }) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tif (ens === '') {\r\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\r\n\t\t} else {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst ensAddress = await provider.resolveName(\r\n\t\t\t\t`${ens}.${process.env.REVERSE_REGISTRAR_PARENT}`\r\n\t\t\t)\r\n\r\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error.code === 'INVALID_ARGUMENT') {\r\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\r\n\t\t} else {\r\n\t\t\tmsg = 'ERR_ENS_CHECK'\r\n\t\t}\r\n\t}\r\n\treturn { msg }\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\r\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\r\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\r\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\r\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\r\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\r\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\r\n","module.exports = __webpack_public_path__ + \"static/media/GS-bonus-ic.274db134.png\";","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tif (!nextToast) {\r\n\t\t\tthis.setState({ active: false, toast: {} })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t}\r\n\t}\r\n\r\n\tclose = id => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby='client-snackbar'\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\ttoast.action && toast.action,\r\n\t\t\t\t\t\t!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey='close'\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\r\n\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || [],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)',\r\n\t\t\t},\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00',\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722',\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Button from '@material-ui/core/Button'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport class Confirm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.cancel = this.cancel.bind(this)\r\n\t\tthis.confirm = this.confirm.bind(this)\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tthis.setState({ active: nextProps.visible })\r\n\t}\r\n\r\n\tconfirm() {\r\n\t\tif (typeof this.props.confirm === 'function') {\r\n\t\t\tthis.props.confirm()\r\n\t\t}\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\tcancel() {\r\n\t\tif (typeof this.props.cancel === 'function') {\r\n\t\t\tthis.props.cancel()\r\n\t\t}\r\n\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\ttext,\r\n\t\t\tchildren,\r\n\t\t\tcancelLabel,\r\n\t\t\tconfirmLabel,\r\n\t\t\tt,\r\n\t\t\tnoActionBtns,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog open={this.state.active}>\r\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t{!noActionBtns && (\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t)}\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nConfirm.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tcancelLabel: PropTypes.string,\r\n\tconfirmLabel: PropTypes.string,\r\n\ttitle: PropTypes.string.isRequired,\r\n\ttext: PropTypes.string,\r\n\tconfirm: PropTypes.func,\r\n\tcancel: PropTypes.func,\r\n\tvisible: PropTypes.bool,\r\n\tcalledOn: PropTypes.number,\r\n\tnoActionBtns: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tstate = state.memory\r\n\treturn {\r\n\t\tcancelLabel: state.confirm.data.cancelLabel,\r\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\r\n\t\ttitle: state.confirm.data.title || '',\r\n\t\ttext: state.confirm.data.text || '',\r\n\t\tconfirm: state.confirm.onConfirm,\r\n\t\tcancel: state.confirm.onCancel,\r\n\t\tvisible: state.confirm.active || false,\r\n\t\tcalledOn: state.confirm.calledOn,\r\n\t\tnoActionBtns: state.confirm.noActionBtns,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Confirm))\r\n","import React, { forwardRef } from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tforwardedRef,\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\tref={forwardedRef}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\thref={toLocation}\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst WithRouter = withRouter(Decorated)\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithRouter {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport Link from '@material-ui/core/Link'\r\nimport { OpenInNew } from '@material-ui/icons'\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({\r\n\thref,\r\n\ttarget,\r\n\tchildren,\r\n\tlabel,\r\n\tunderline,\r\n\texternalIcon,\r\n\tcolor,\r\n\t...rest\r\n}) => {\r\n\tconst isExternal = target && target === '_blank'\r\n\tconst url = isExternal ? getUrl(href) : href\r\n\r\n\tconst linkProps = {\r\n\t\tunderline: underline || 'none',\r\n\t\tcolor: color || 'inherit',\r\n\t\tdraggable: 'false',\r\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\r\n\t\ttarget,\r\n\t\thref: url,\r\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\r\n\t\t...rest,\r\n\t}\r\n\treturn (\r\n\t\t<Link {...linkProps}>\r\n\t\t\t{children || label}{' '}\r\n\t\t\t{externalIcon && <OpenInNew style={{ fontSize: 'small' }} />}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport const ExternalAnchor = ({ href, children, style }) => (\r\n\t<Anchor\r\n\t\tstyle={{ fontWeight: 'bold' }}\r\n\t\tunderline='always'\r\n\t\ttarget='_blank'\r\n\t\tcolor='primary'\r\n\t\texternalIcon\r\n\t\thref={href}\r\n\t>\r\n\t\t{children}\r\n\t</Anchor>\r\n)\r\n\r\nexport default Anchor\r\n","const drawerWidth = 250\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingTop: theme.spacing(1),\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: 240,\r\n\t\t\t\tpaddingTop: theme.spacing(1),\r\n\t\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t\tpaddingLeft: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\t...theme.mixins.toolbar,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\tpaddingTop: theme.spacing(4),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1600,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 36,\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nconst sideIndex = {\r\n\tadvertiser: 0,\r\n\tpublisher: 1,\r\n\t'0': 'advertiser',\r\n\t'1': 'publisher',\r\n}\r\n\r\nconst handleChange = (ev, index) => {\r\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\r\n}\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.light\r\n\t\t\t: theme.palette.accentTwo.light\r\n\treturn {\r\n\t\t// TODO: keep it everywhere in case of components update\r\n\t\troot: {\r\n\t\t\tminWidth: 30,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tindicator: {\r\n\t\t\tbackgroundColor: activeColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst SideSwitch = ({ side, className }) => {\r\n\tconst classes = useStyles({ side })\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\tvalue={sideIndex[side]}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\taria-label='side select'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\r\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { styles } from './styles'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport Box from '@material-ui/core/Box'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.contrastText\r\n\t\t\t: theme.palette.accentTwo.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\tconst hoverActiveBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.light\r\n\t\t\t: theme.palette.accentTwo.light\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 80,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: hoverActiveBgColor,\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsideSwitch: {\r\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useCommonStyles = makeStyles(styles)\r\n\r\nfunction SideNav(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst commonClasses = useCommonStyles()\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<div className={classes.navigation}>\r\n\t\t\t<List\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\troot: classes.navListRoot,\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={classes.navList}\r\n\t\t\t\tcomponent='nav'\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tbgcolor='background.paper'\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tcommonClasses.toolbar,\r\n\t\t\t\t\t\t\tclasses.sideNavToolbar\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t</div>\r\n\t\t\t</List>\r\n\t\t\t<div className={classes.version}>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx Network OÜ\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState } from 'react'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [active, setActive] = useState(false)\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\tconst open = Boolean(anchorEl)\r\n\r\n\tconst handleButtonClick = () => {\r\n\t\tsetActive(!active)\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-owns={id}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={open}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t// anchorOrigin={{\r\n\t\t\t\t// \tvertical: 'top',\r\n\t\t\t\t// \thorizontal: 'right',\r\n\t\t\t\t// }}\r\n\t\t\t\t// transformOrigin={{\r\n\t\t\t\t// \tvertical: 'top',\r\n\t\t\t\t// \thorizontal: 'right',\r\n\t\t\t\t// }}\r\n\t\t\t\tonClick={handleButtonClick}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\treturn ledgerLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport classnames from 'classnames'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { selectNavTitle, selectAccount } from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst navTitle = useSelector(selectNavTitle)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t{/* <AdexIconTxt\r\n              className={classes.icon}\r\n            /> */}\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\r\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t\tactive={true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\tclassName={classes.flex}\r\n\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(navTitle)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\nclass Img extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null,\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = src => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = ev => {\r\n\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = nextProps => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = fallback => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null,\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\r\n\t\t\tthis,\r\n\t\t\tfallback\r\n\t\t)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tmini\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<video\r\n\t\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t></video>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\talt,\r\n\t\t\tallowFullscreen,\r\n\t\t\tclassName,\r\n\t\t\tclasses,\r\n\t\t\tfullScreenOnClick,\r\n\t\t} = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn imgSrc || videoSrc ? (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\r\n\t\t\t>\r\n\t\t\t\t{!!imgSrc ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\r\n\t\t\t\t\t></video>\r\n\t\t\t\t)}\r\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t<span className={classes.circular}>\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content',\r\n\t},\r\n})\r\n","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport CropIcon from '@material-ui/icons/Crop'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass ImgForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size, imgSrc, mime } = props\r\n\t\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: imgSrc || '',\r\n\t\t\tmime: mime || '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect },\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = e => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = crop => {\r\n\t\tthis.setState({ crop })\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize,\r\n\t\t}).then(croppedBlob => {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = e => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst { t, classes, label, additionalInfo } = this.props\r\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div className={classes.imgForm}>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.header,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t{imgSrc && imgName ? (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdropzone: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport default function ValidImageHoc(Decorated) {\r\n\tclass ValidImage extends Component {\r\n\t\tvalidate = ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaHeight,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmime,\r\n\t\t\ttempUrl,\r\n\t\t}) => {\r\n\t\t\tlet isValid = true\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\r\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\r\n\r\n\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: msg, args: masgArgs },\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst resMedia = {\r\n\t\t\t\twidth: mediaWidth,\r\n\t\t\t\theight: mediaHeight,\r\n\t\t\t\tmime,\r\n\t\t\t\ttempUrl,\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof onChange === 'function') {\r\n\t\t\t\tonChange(propsName, resMedia)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidateMedia = async (\r\n\t\t\t{\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t} = {},\r\n\t\t\tmedia\r\n\t\t) => {\r\n\t\t\tif (!required && !media.tempUrl && onChange) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: true,\r\n\t\t\t\t\terr: { msg: msg, args: [] },\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\t// TODO: fix this\r\n\t\t\t\tonChange(propsName, media)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (!media.mime || !media.tempUrl) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: false,\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\r\n\t\t\tthis.validate({\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmediaWidth: size.width,\r\n\t\t\t\tmediaHeight: size.height,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t\tmime: media.mime,\r\n\t\t\t\ttempUrl: media.tempUrl,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\r\n\t\t}\r\n\t}\r\n\r\n\tValidImage.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidImage))\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { execute, validate } from 'actions'\r\nimport { selectValidationsById } from 'selectors'\r\n\r\nexport default function ValidationHoc(Decorated) {\r\n\tconst ValidItem = props => {\r\n\t\tconst validations =\r\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\r\n\r\n\t\tconst makeValidation = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tconst { validateId } = props\r\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Decorated\r\n\t\t\t\t{...props}\r\n\t\t\t\tvalidate={makeValidation}\r\n\t\t\t\tinvalidFields={validations}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\tValidItem.propTypes = {\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\treturn ValidItem\r\n}\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(3)\r\n\treturn {}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport class ImgDialog extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tvalues: {},\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newValues = { ...this.state.values }\r\n\t\tnewValues[name] = value\r\n\t\tthis.setState({ values: newValues })\r\n\t}\r\n\r\n\tonOk = () => {\r\n\t\tconst vals = this.state.values\r\n\t\tObject.keys(vals).forEach(key => {\r\n\t\t\tthis.props.onChangeReady(key, vals[key])\r\n\t\t})\r\n\t\tthis.props.handleToggle()\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet t = () => {}\r\n\t\tlet validations = this.props.invalidFields || {}\r\n\t\tlet errImg = validations[this.props.imgPropName]\r\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\r\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.props.active}\r\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\r\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\r\n\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\ttype={this.props.type || 'normal'}\r\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t{this.props.t(this.props.title)}\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\r\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\r\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\r\n\t\t\t\t\t\t\t\texact: this.props.exact,\r\n\t\t\t\t\t\t\t\trequired: this.props.required,\r\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\r\n\t\t\t\t\t\t\t{'Cancel'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.onOk}\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{'Ok'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgDialog.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tlet persist = state.persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnames'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\r\nclass SaveBtn extends Component {\r\n\trender() {\r\n\t\tlet {\r\n\t\t\tspinner,\r\n\t\t\tclasses,\r\n\t\t\tsuccess,\r\n\t\t\tdirtyProps,\r\n\t\t\tsave,\r\n\t\t\tvalidations,\r\n\t\t\tvalidationId,\r\n\t\t\tdisabled,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.position}>\r\n\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t<Fab\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t// className={buttonClassname}\r\n\t\t\t\t\t\tonClick={() => save()}\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tdisabled ||\r\n\t\t\t\t\t\t\tspinner ||\r\n\t\t\t\t\t\t\t!dirtyProps.length ||\r\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// {...other}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n\tspinnerId: PropTypes.string,\r\n\tvalidationId: PropTypes.string,\r\n\titemId: PropTypes.string,\r\n\tvalidations: PropTypes.object,\r\n\tdisabled: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\tspinner: memory.spinners[props.spinnerId],\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SaveBtn)))\r\n","import color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: 40,\r\n\t\tzIndex: theme.zIndex.appBar + 1,\r\n\t},\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404_1 from 'resources/404-no.png'\r\nimport IMG_404_2 from 'resources/404-yes.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst G404 = ({ size }) => (\r\n\t<Grid item xs={size}>\r\n\t\t<Typography\r\n\t\t\tinline\r\n\t\t\tvariant={`h${size}`}\r\n\t\t\tstyle={{ textTransform: 'uppercase' }}\r\n\t\t>\r\n\t\t\t{t('404')}\r\n\t\t</Typography>\r\n\t</Grid>\r\n)\r\n\r\nclass PageNotFound extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\r\n\t\t\t\t\t\t\t{t(title || '404')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={4} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\t\t\t\t\t<G404 size={1} />\r\n\t\t\t\t\t<G404 size={5} />\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\r\nimport { schemas, Joi } from 'adex-models'\r\nimport classnames from 'classnames'\r\nimport { Prompt } from 'react-router'\r\nimport Translate from 'components/translate/Translate'\r\nimport { items as ItemsConstants } from 'adex-constants'\r\nimport Img from 'components/common/img/Img'\r\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InfoOutlineIcon from '@material-ui/icons/Info'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { styles } from './styles'\r\nimport { validName } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { selectSide } from 'selectors'\r\n\r\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\r\nconst { AdSizesByValue } = ItemsConstants\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass Item extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.save = this.save.bind(this)\r\n\t\t\tthis.state = {\r\n\t\t\t\tactiveFields: {},\r\n\t\t\t\titem: null,\r\n\t\t\t\tinitialItemState: {},\r\n\t\t\t\tdirtyProps: [],\r\n\t\t\t\teditImg: false,\r\n\t\t\t\t_activeInput: null,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateNav = (item = {}) => {\r\n\t\t\tconst { actions, t, itemType } = this.props\r\n\t\t\tactions.updateNav(\r\n\t\t\t\t'navTitle',\r\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tconst { item, matchId, objModel } = this.props\r\n\r\n\t\t\tif (!item) {\r\n\t\t\t\tthis.updateNav({ title: matchId })\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst initialItemState = new objModel(item)\r\n\r\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\r\n\t\t\tthis.updateNav(initialItemState)\r\n\t\t}\r\n\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t\t//     return diffProps || diffState\r\n\t\t// }\r\n\r\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item } = this.state\r\n\t\t\tlet currentItemInst = new objModel(item || {})\r\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\r\n\t\t\t// TODO: check the above\r\n\t\t\tlet nextItem = nextProps.item\r\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\r\n\r\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\r\n\t\t\t\t// if (\r\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\r\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\r\n\t\t\t\t// ) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titem: nexItemInst.plainObj(),\r\n\t\t\t\t\tinitialItemState: nexItemInst,\r\n\t\t\t\t\tactiveFields: {},\r\n\t\t\t\t\tdirtyProps: [],\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateNav(nexItemInst)\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tif (this.state.item) {\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[name] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (dp.indexOf(name) < 0) {\r\n\t\t\t\tdp.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t}\r\n\r\n\t\treturnPropToInitialState = propName => {\r\n\t\t\tconst { objModel, actions } = this.props\r\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\r\n\t\t\tconst initialItemStateValue = initialItemState[propName]\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemStateValue\r\n\r\n\t\t\tconst dp = dirtyProps.filter(dp => {\r\n\t\t\t\treturn dp !== propName\r\n\t\t\t})\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t\t// TEMP fix, we assume that the initial values are validated\r\n\t\t\tactions.resetValidationErrors(item.id, propName)\r\n\t\t}\r\n\r\n\t\tsetActiveFields = (field, value) => {\r\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\r\n\t\t\tnewActiveFields[field] = value\r\n\t\t\tthis.setState({ activeFields: newActiveFields })\r\n\t\t}\r\n\r\n\t\t//TODO: Do not save if not dirty!\r\n\t\tsave = () => {\r\n\t\t\tconst { itemType, spinner, actions } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tif (dirtyProps.length && !spinner) {\r\n\t\t\t\tactions.updateItem({\r\n\t\t\t\t\titemType,\r\n\t\t\t\t\titem,\r\n\t\t\t\t})\r\n\t\t\t\tthis.setState({ dirtyProps: [] })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisDirtyProp(prop) {\r\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\r\n\r\n\t\t\tif (isDemo) return\r\n\r\n\t\t\tlet active = this.state.editImg\r\n\t\t\tthis.setState({ editImg: !active })\r\n\t\t}\r\n\r\n\t\tisNameValid(name) {\r\n\t\t\tconst { msg } = validName(name)\r\n\t\t\treturn !msg\r\n\t\t}\r\n\r\n\t\tvalidateTitle(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tschema = campaignPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('title', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvalidateDescription(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('description', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tvalidations,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\taccount,\r\n\t\t\t\titemType,\r\n\t\t\t\tobjModel,\r\n\t\t\t\tmatchId,\r\n\t\t\t\tside,\r\n\t\t\t\tinvalidFields,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst propsItem = this.props.item\r\n\r\n\t\t\tif (!propsItem) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PageNotFound\r\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\t\t\targs: [itemType.toUpperCase(), matchId],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tgoToPath={`/dashboard/${side}`}\r\n\t\t\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\r\n\t\t\t * in this case there is no need to make instance inside them\r\n\t\t\t */\r\n\r\n\t\t\tconst isDemo = account._authType === 'demo'\r\n\t\t\tconst item = new objModel(this.state.item || {})\r\n\t\t\tlet canEdit = itemType === 'AdSlot'\r\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\r\n\r\n\t\t\tconst titleErr = invalidFields['title']\r\n\t\t\tconst descriptionErr = invalidFields['description']\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Prompt\r\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\r\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\r\n\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\r\n\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\r\n\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{itemType !== 'Campaign' && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<ImgDialog\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\r\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\r\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\twidth={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\r\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\theight={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\r\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\r\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\r\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\r\n\t\t\t\t\t\t\t\t\timgPropName='img'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\r\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\r\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\r\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\r\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<SaveBtn\r\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\r\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\r\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\r\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\r\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\r\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\r\n\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tisDemo={isDemo}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItem.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\titem: PropTypes.object.isRequired,\r\n\t\tspinner: PropTypes.bool,\r\n\t\titemType: PropTypes.string.isRequired,\r\n\t\tobjModel: PropTypes.func.isRequired,\r\n\t}\r\n\r\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\r\n\t\tlet keys = Object.keys(items)\r\n\r\n\t\tfor (let index = 0; index < keys.length; index++) {\r\n\t\t\tconst key = keys[index]\r\n\t\t\tconst item = items[key]\r\n\r\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist } = state\r\n\t\t// const memory = state.memory\r\n\t\tconst items = persist.items[props.itemType]\r\n\t\tconst id = props.match.params.itemId\r\n\t\tlet item = items[id]\r\n\r\n\t\tif (!item && props.itemType !== undefined) {\r\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\titem: item,\r\n\t\t\tvalidateId: 'update-' + (item ? item.id || item.ipfs : 'notfound'),\r\n\t\t\tmatchId: id,\r\n\t\t\tside: selectSide(state),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\r\n}\r\n","import React from 'react'\r\nimport MUIDataTable from 'mui-datatables'\r\nimport { t } from 'selectors'\r\n\r\nconst generalTableOptions = {\r\n\trowsPerPage: 5,\r\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\r\n\tsetTableProps: () => {\r\n\t\treturn {\r\n\t\t\tpadding: 'default',\r\n\t\t\tsize: 'small',\r\n\t\t\twidth: '100%',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t},\r\n\ttextLabels: {\r\n\t\tbody: {\r\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\r\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\r\n\t\t\tcolumnHeaderTooltip: column =>\r\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\r\n\t\t\t\t\targs: [column.label || column],\r\n\t\t\t\t})}`,\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tnext: t('TABLE_NEXT'),\r\n\t\t\tprevious: t('TABLE_PREV'),\r\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\r\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tsearch: t('TABLE_SEARCH'),\r\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\r\n\t\t\tprint: t('TABLE_PRINT'),\r\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\r\n\t\t\tfilterTable: t('TABLE_FILTER'),\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tall: t('TABLE_FILTER_ALL'),\r\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\r\n\t\t\treset: t('TABLE_FILTER_RESET'),\r\n\t\t},\r\n\t\tviewColumns: {\r\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\r\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\r\n\t\t},\r\n\t\tselectedRows: {\r\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\r\n\t\t\tdelete: t('TABLE_DELETE'),\r\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\r\n\t\t},\r\n\t},\r\n}\r\nexport default function MUIDataTableEnhanced(props) {\r\n\tconst { title, data, columns, options } = props\r\n\r\n\treturn (\r\n\t\t<MUIDataTable\r\n\t\t\ttitle={title}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={{\r\n\t\t\t\t...generalTableOptions,\r\n\t\t\t\t...options,\r\n\t\t\t\televation: 2,\r\n\t\t\t\tsearch: !props.noSearch,\r\n\t\t\t\tdownload: !props.noDownload,\r\n\t\t\t\tprint: !props.noPrint,\r\n\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\r\n\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\n\r\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\r\n\tconst icon = {\r\n\t\txs: { fontSize: 10 },\r\n\t\tmd: { fontSize: 15 },\r\n\t\tls: { fontSize: 20 },\r\n\t}\r\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\r\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\r\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\r\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\r\n\t\treturn waitIcon\r\n\tswitch (status.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn doneIcon\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn waitIcon\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn warningIcon\r\n\t\tcase 'withdraw':\r\n\t\t\treturn cashIcon\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nexport { mapStatusIcons }\r\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 60,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n})\r\n","import React from 'react'\r\nimport { Typography, Slider, Box } from '@material-ui/core'\r\nimport { formatAbbrNum, formatNumberWithoutCommas } from 'helpers/formatters'\r\n\r\nconst getSliderStep = (min, max, steps, precision = 2) => {\r\n\tconst diff = max - min\r\n\tconst step = diff / steps\r\n\tconst fixed = parseFloat(step.toFixed(precision))\r\n\r\n\treturn fixed\r\n}\r\n\r\nexport const sliderFilterOptions = ({\r\n\tinitial = [],\r\n\tfilterTitle = '',\r\n\tstepsCount = 20,\r\n\tstepsPrecision = 2,\r\n}) => {\r\n\tconst min = initial[0] || 0\r\n\tconst max = initial[1] || 100\r\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\r\n\treturn {\r\n\t\tfilter: true,\r\n\t\tdisplay: 'true',\r\n\t\tfilterType: 'custom',\r\n\t\tcustomFilterListOptions: {\r\n\t\t\trender: v =>\r\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\r\n\t\t\tupdate: (filterList, filterPos, index) => {\r\n\t\t\t\tfilterList[index] = []\r\n\t\t\t\treturn filterList\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tfilterOptions: {\r\n\t\t\tnames: [],\r\n\t\t\tlogic: (rowNumber, filters) => {\r\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\r\n\t\t\t\tif (filters.length > 0) {\r\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\tdisplay: (filterList, onChange, index, column) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\r\n\t\t\t\t\t\t\t{filterTitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\r\n\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\t\tmarks={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: min,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\r\n\t\t\t\t\t\t\t\tstep={step}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\r\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\r\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport function useTableData({ selector, selectorArgs, getColumns }) {\r\n\tconst [data, setData] = useState([])\r\n\tconst [columns, setColumns] = useState([])\r\n\r\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\r\n\r\n\tconst reloadData = useCallback(() => {\r\n\t\tsetData(selectedData)\r\n\t\tsetColumns(getColumns())\r\n\t}, [getColumns, selectedData])\r\n\r\n\tuseEffect(() => {\r\n\t\treloadData()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedData.length, selector, selectorArgs])\r\n\r\n\treturn { data, columns, reloadData }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tIconButton,\r\n\tTooltip,\r\n\tBox,\r\n\tButton,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\r\nimport { t, selectSpinnerById } from 'selectors'\r\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport function ReloadData({ handleReload }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleReload}>\r\n\t\t\t\t\t<Refresh />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\r\n\t\t\t\t\t<Receipt />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\r\n\tconst classes = useStyles()\r\n\tconst receiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\r\n\t\t\t\t<Box ml={2} mr={2}>\r\n\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{receiptsSpinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility, Receipt } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectCampaignsTableData,\r\n\tselectMainToken,\r\n\tselectSide,\r\n\tselectCampaignsMaxImpressions,\r\n\tselectCampaignsMaxClicks,\r\n\tselectCampaignsMaxDeposit,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { commify } from 'ethers/utils'\r\nimport { execute, handlePrintSelectedReceipts } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData, PrintAllReceipts } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tsymbol,\r\n\tmaxImpressions,\r\n\tmaxDeposit,\r\n\tmaxClicks,\r\n}) => [\r\n\t{\r\n\t\tname: 'id',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'receiptAvailable',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tdownload: false,\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t// TODO: Images issue some stop displaying\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'status',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tfilterOptions: {\r\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\r\n\t\t\t\tlogic: (status, filters) => {\r\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName }) => (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{humanFriendlyName}{' '}\r\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t),\r\n\t\t\t// TODO: Sorting issue\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'depositAmount',\r\n\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: depositAmount => (\r\n\t\t\t\t<React.Fragment>{`${depositAmount.toFixed(\r\n\t\t\t\t\t2\r\n\t\t\t\t)} ${symbol}`}</React.Fragment>\r\n\t\t\t),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxDeposit],\r\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'fundsDistributedRatio',\r\n\t\tlabel: t('PROP_DISTRIBUTED'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\r\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)}%`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'minPerImpression',\r\n\t\tlabel: t('PROP_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: minPerImpression => (\r\n\t\t\t\t<React.Fragment>{`${minPerImpression.toFixed(\r\n\t\t\t\t\t2\r\n\t\t\t\t)} ${symbol}`}</React.Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'activeFrom',\r\n\t\tlabel: t('PROP_STARTS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'withdrawPeriodStart',\r\n\t\tlabel: t('PROP_ENDS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\r\n\t\t\t\tformatDateTime(withdrawPeriodStart),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, humanFriendlyName }) => (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\tto={`/dashboard/${side}/Campaign/${id}`}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\taria-label='preview'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{(humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\thumanFriendlyName === 'Completed') && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('RECEIPT_VIEW')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\t\tto={`/dashboard/${side}/Campaign/receipt/${id}`}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='receip'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Receipt color='primary' />\r\n\t\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0],\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2],\r\n\t\t\ti.data[3].humanFriendlyName,\r\n\t\t\t`${i.data[4]} ${symbol}`,\r\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)}%`,\r\n\t\t\ti.data[6],\r\n\t\t\ti.data[7],\r\n\t\t\ti.data[8],\r\n\t\t\tformatDateTime(i.data[9]),\r\n\t\t\tformatDateTime(i.data[10]),\r\n\t\t\tformatDateTime(i.data[11]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst selectedItems = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[0])\r\n\t\treturn (\r\n\t\t\t<PrintAllReceipts\r\n\t\t\t\thandlePrintAllReceipts={() =>\r\n\t\t\t\t\texecute(handlePrintSelectedReceipts(selectedItems))\r\n\t\t\t\t}\r\n\t\t\t\tdisabled={selectedItems.length === 0}\r\n\t\t\t/>\r\n\t\t)\r\n\t},\r\n})\r\n\r\nfunction CampaignsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\r\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\r\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tdecimals,\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ decimals, symbol, reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable\r\n\t\t\ttoolbarEnabled\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CampaignsTable\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Box from '@material-ui/core/Box'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tinitialPage = 0,\r\n\t\tpages = [],\r\n\t\t// ...props\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\r\n\tconst canReverse = pages.length > currentPage && currentPage > 0\r\n\r\n\tconst page = pages[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst { pageValidation = null, onValid, stepsId } = page\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tif (pageValidation) {\r\n\t\t\tpageValidation({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [\r\n\t\tcurrentPage,\r\n\t\tgoToPage,\r\n\t\tisValidPage,\r\n\t\tonValid,\r\n\t\tpageValidation,\r\n\t\tstepsId,\r\n\t\tvalidateId,\r\n\t])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (pageValidation) {\r\n\t\t\tpageValidation({ stepsId, validateId, dirty: false })\r\n\t\t}\r\n\t}, [currentPage, pageValidation, stepsId, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<StepperNav\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tpages={pages}\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t/>\r\n\t\t\t</Paper>\r\n\t\t\t<br />\r\n\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.pageContent}>\r\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\r\n\r\n\t\t\t\t\t{!!dirtyErrors && (\r\n\t\t\t\t\t\t<Box color='error.main'>\r\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\r\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\r\n\r\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\r\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\r\n\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tpages: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\t// display: 'flex',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 115,\r\n\t\t},\r\n\t\tpageContent: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 20,\r\n\t\t\tleft: 20,\r\n\t\t\tright: 20,\r\n\t\t\tbottom: 50,\r\n\t\t\tpadding: 20,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t\t'@media(max-width:500px)': {\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\tpaddingRight: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 5,\r\n\t\t\tleft: 20,\r\n\t\t\tright: 20,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\twidth: '100%',\r\n\t\t\t'& div': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '10px',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepLabel: {\r\n\t\t\t'& span': {\r\n\t\t\t\tfontSize: '24px',\r\n\t\t\t\tmargin: '14px auto',\r\n\t\t\t},\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: errColor,\r\n\t\t\t},\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { t } from 'selectors'\r\n\r\nclass FormSteps extends Component {\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pages = []\r\n\t\tconst {\r\n\t\t\tSaveBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tcancelFunction,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages,\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\tconst cancelButton = () => (\r\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t)\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tstepsPages.forEach((page, index) => {\r\n\t\t\tpages.push({\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: !page.pageValidation\r\n\t\t\t\t\t? ValidItemHoc(page.page || page)\r\n\t\t\t\t\t: page.page || page,\r\n\t\t\t\tpageValidation: page.pageValidation,\r\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\r\n\t\t\t\tstepsId,\r\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tpages.push({\r\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\r\n\t\t\tcompleteBtn: () => (\r\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t),\r\n\t\t\tcancelBtn: cancelButton,\r\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\r\n\t\t\tstepsId,\r\n\t\t\tprops: {\r\n\t\t\t\t...this.props,\r\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t// <div style={{ textAlign: 'left' }}>\r\n\t\t\t<MaterialStepper pages={pages} />\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\titemPages: PropTypes.arrayOf(PropTypes.func),\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n\t<FormSteps {...props} forwardedRef={ref} />\r\n))\r\n","import grey from '@material-ui/core/colors/grey'\r\n\r\nexport const styles = theme => {\r\n\tconst spacing = theme.spacing(3)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: grey[200], // TODO: color,\r\n\t\t\t// maxHeight: `${fullHeight}`,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 0,\r\n\t\t\t// left: 0,\r\n\t\t\t// bottom: 0,\r\n\t\t\t// right: 0,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: 40,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t},\r\n\t\tfullContentMessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction='up' ref={ref} {...props} />\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\tforwardedRef,\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tfabVariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\tonBeforeOpen,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tvariant,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst handleClick = async ev => {\r\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\t\tawait handleToggle()\r\n\t\t\tif (onClick) onClick()\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = null\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t} else {\r\n\t\t\tButtonComponent = Button\r\n\t\t\tbtnProps.fullWidth = fullWidth\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = btnLabel\r\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={ev => handleClick(ev)}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle disableTypography>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(title)}\r\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\r\n\t\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</DialogTitle>{' '}\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithDialog {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdUnit',\r\n\t\t\t\tAdUnit\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\t\t\tactions.addUnit(newItem)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dropdown(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst {\r\n\t\tonChange,\r\n\t\tlabel = '',\r\n\t\tvalue,\r\n\t\tsource = [],\r\n\t\thtmlId = 'some-id',\r\n\t\tdisabled = false,\r\n\t\terror = false,\r\n\t\thelperText,\r\n\t\t// margin = '',\r\n\t\tfullWidth = false,\r\n\t\tclassName,\r\n\t\trequired,\r\n\t\tloading,\r\n\t\tnoSrcLabel,\r\n\t\tvariant,\r\n\t\tIconComponent,\r\n\t} = props\r\n\r\n\tconst inputLabel = React.useRef(null)\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0)\r\n\tReact.useEffect(() => {\r\n\t\tsetLabelWidth(inputLabel.current.offsetWidth)\r\n\t}, [])\r\n\r\n\tconst handleChange = event => {\r\n\t\tonChange(event.target.value)\r\n\t}\r\n\r\n\t// TODO: add native renderer for mobile devices when supported\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\tdisabled={disabled}\r\n\t\t\terror={error}\r\n\t\t\tfullWidth={fullWidth}\r\n\t\t\tvariant={variant}\r\n\t\t>\r\n\t\t\t<InputLabel ref={inputLabel} htmlFor={htmlId} required={required}>\r\n\t\t\t\t{label}\r\n\t\t\t</InputLabel>\r\n\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tlabelWidth={labelWidth}\r\n\t\t\t\t\tIconComponent={IconComponent}\r\n\t\t\t\t>\r\n\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\treturn src.group ? (\r\n\t\t\t\t\t\t\t<ListSubheader key={src.group.name || src.group}>\r\n\t\t\t\t\t\t\t\t{src.group.name || src.group}\r\n\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Select>\r\n\t\t\t) : !loading ? (\r\n\t\t\t\t<Input disabled value={noSrcLabel} />\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\r\n\t\t\t\t\t<InputLoading />\r\n\t\t\t\t</>\r\n\t\t\t)}{' '}\r\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n\tIconComponent: PropTypes.element,\r\n}\r\n\r\nexport default Dropdown\r\n","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdUnitBasic extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { newItem } = props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\r\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\r\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\r\n\t\t) {\r\n\t\t\tthis.addUtmParameters()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateTargetUrl(targetUrl, dirty) {\r\n\t\tconst withHttp = url => (!/^https?:\\/\\//i.test(url) ? `http://${url}` : url)\r\n\t\tconst result = Joi.validate(withHttp(targetUrl), adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t\tif (!result.error) this.addUtmParameters(withHttp(targetUrl))\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adUnitPost.type)\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\taddUtmParameters() {\r\n\t\tconst { handleChange, newItem } = this.props\r\n\t\tconst { targetUrl, title, type, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tif (!!targetUrl) {\r\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\tcampaign: title,\r\n\t\t\t\tcontent: type,\r\n\t\t\t\tremoveFromUrl: !addUtmLink,\r\n\t\t\t})\r\n\t\t\thandleChange('targetUrl', newTargetUrl)\r\n\t\t}\r\n\t}\r\n\r\n\thandleChangeAddUtmLink(ev) {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.addUtmLink = ev.target.checked\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\r\n\t\tconst { targetUrl, type, title, description, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errTargetUrl = invalidFields['targetUrl']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\r\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\r\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\r\n\r\nexport default Translate(NewAdUnitBasic)\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({\r\n\ttargetUrl,\r\n\tcampaign,\r\n\tcontent,\r\n\tremoveFromUrl,\r\n}) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || ''\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdUnitMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem, validate, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl, mime } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (tempUrl) {\r\n\t\t\tvalidateMedia(\r\n\t\t\t\t{\r\n\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\texact: true,\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { newItem, t, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\tmime={temp.mime || ''}\r\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\r\n\r\nexport default Translate(NewAdUnitMedia)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { translate } from 'services/translations/translations'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\nexport const renderInput = inputProps => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({\r\n\tsuggestion,\r\n\tindex,\r\n\tstyle,\r\n\titemProps,\r\n\thighlightedIndex,\r\n\tselectedItem,\r\n\tshowSelected,\r\n}) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected =\r\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\r\n\t\t\tsuggestion.value\r\n\t\t) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={style}>\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\t{...itemProps}\r\n\t\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\t\tselected={isHighlighted}\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ListItemText primary={suggestion.label} />\r\n\t\t\t</ListItem>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = inputValue => {\r\n\treturn {\r\n\t\tlabel: `${translate(\r\n\t\t\t'CREATE_TAG_LABEL'\r\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim(),\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (\r\n\tinputValue = '',\r\n\tsource,\r\n\tallowCreate,\r\n\tvalidateCreation\r\n) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (\r\n\t\t\t\t!inputValue ||\r\n\t\t\t\tsuggestion.label\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.indexOf(inputValue) !== -1\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map(item => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (\r\n\t\t\t!values.includes(inputValue) &&\r\n\t\t\tallowCreate &&\r\n\t\t\t(!validateCreation || validateCreation(inputValue))\r\n\t\t) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\r\nimport { getSuggestions } from './common'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst {\r\n\t\tid,\r\n\t\tclasses,\r\n\t\tsource,\r\n\t\tmultiple,\r\n\t\tvalue,\r\n\t\tlabel,\r\n\t\tvariant,\r\n\t\tallowCreate,\r\n\t\tvalidateCreation,\r\n\t\tvalidateAutocomplete,\r\n\t\terror,\r\n\t\terrorText,\r\n\t\tonInit,\r\n\t\tonChange,\r\n\t\t...rest\r\n\t} = props\r\n\tconst [inputValue, setInputValue] = useState('')\r\n\r\n\tconst suggestions = getSuggestions(\r\n\t\tinputValue,\r\n\t\tsource,\r\n\t\tallowCreate,\r\n\t\tvalidateCreation\r\n\t)\r\n\tuseEffect(() => {\r\n\t\tonInit()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst handleChange = item => {\r\n\t\tconst selectedItem = item ? item.value || item.label : item\r\n\t\tonChange(selectedItem)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.container}>\r\n\t\t\t\t<AutocompleteMUI\r\n\t\t\t\t\tmultiple={multiple}\r\n\t\t\t\t\toptions={suggestions}\r\n\t\t\t\t\tgetOptionLabel={option => option.label}\r\n\t\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\r\n\t\t\t\t\tonInputChange={(_, newValue) => setInputValue(newValue)}\r\n\t\t\t\t\trenderInput={params => {\r\n\t\t\t\t\t\tif (value) params.inputProps.value = value\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t\t{errorText}\r\n\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)\r\n","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\t// TODO: fix the component and do nou use z-index\r\n\t\tzIndex: 1000,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'hidden',\r\n\t\theight: 150,\r\n\t\twidth: '100%',\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { SOURCES } from 'constants/targeting'\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdUnitTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: [...(targets || [])],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\thandleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource = [],\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalidateAutocomplete={this.validateAutocomplete}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsource = '',\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\t\ttarget = {},\r\n\t\t\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\tIconComponent={AddIcon}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\r\n\r\nexport default Translate(NewAdUnitTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\nconst targetIcon = {\r\n\tlocation: LocationOnIcon,\r\n\tgender: WcIcon,\r\n\tage: ChildCareIcon,\r\n}\r\n\r\nconst getTargetType = tag => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nclass UnitTargets extends Component {\r\n\ttargetArrayValues = (target, type, t, index) => {\r\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\t\treturn (\r\n\t\t\t<span key={target.tag + target.score + index}>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\r\n\t\t\t\t\t\tsecondary={target.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\r\n\t\t<List\r\n\t\t\tdense\r\n\t\t\tsubheader={\r\n\t\t\t\tsubHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{targets.map(target => {\r\n\t\t\t\tconst type = getTargetType(target.tag)\r\n\t\t\t\treturn this.targetArrayValues(target, type, t)\r\n\t\t\t})}\r\n\t\t</List>\r\n\t)\r\n\r\n\trender() {\r\n\t\treturn <this.TargetsList {...this.props} />\r\n\t}\r\n}\r\n\r\nUnitTargets.propTypes = {\r\n\ttargets: PropTypes.array.isRequired,\r\n\tsubHeader: PropTypes.string,\r\n\tt: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default UnitTargets\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\n// TODO: fix responsive styles\r\nconst propRow = ({\r\n\tclasses,\r\n\tleft,\r\n\tright,\r\n\tclassName,\r\n\tclassNameLeft,\r\n\tclassNameRight,\r\n\tstyle = {},\r\n}) => (\r\n\t<Grid\r\n\t\titem\r\n\t\tcontainer\r\n\t\tspacing={2}\r\n\t\txs={12}\r\n\t\tclassName={classnames(className)}\r\n\t\tstyle={style}\r\n\t>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={4}\r\n\t\t\tlg={3}\r\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\r\n\t\t>\r\n\t\t\t{left}\r\n\t\t</Grid>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={8}\r\n\t\t\tlg={9}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tclasses.rightCol,\r\n\t\t\t\tclasses.breakLong,\r\n\t\t\t\tclassNameRight\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t{right}\r\n\t\t</Grid>\r\n\t</Grid>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\tclassName={className}\r\n\t>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<Box flexGrow={1} className={className}>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nconst fullContentMessage = ({\r\n\tchildren,\r\n\tmsgs = [],\r\n\tspinner,\r\n\tcolor = 'primary',\r\n}) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\talignItems='center'\r\n\t\tjustifyContent='center'\r\n\t\tbgcolor={`${color}.main`}\r\n\t\tcolor={`${color}.contrastText`}\r\n\t>\r\n\t\t{spinner && (\r\n\t\t\t<Box p={4}>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tcolor={`${color}.contrastText`}\r\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\r\n\t\t\t\t\tsize={69}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t{children}\r\n\t\t{msgs\r\n\t\t\t.filter(x => !!x && x.message)\r\n\t\t\t.map((msg, index) => {\r\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={index} component='div'>\r\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t</Box>\r\n)\r\n\r\nexport const PropRow = withStyles(styles)(propRow)\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nclass AdUnitFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, targeting } = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{targeting && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Campaign } from 'adex-models'\r\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\r\n\r\nexport default function NewCampaignHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'Campaign',\r\n\t\t\t\tCampaign\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = async () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\t\t\tconst { temp } = newItem\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.waitingAction = true\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tawait actions.openCampaign({ campaign: newItem })\r\n\r\n\t\t\tnewTemp.waitingAction = false\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\r\n\t\tconst adUnits = persist.items['AdUnit'] || {}\r\n\t\tconst adUnitsArray = Object.values(adUnits) || []\r\n\t\treturn {\r\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\r\n\t\t\tadUnits,\r\n\t\t\tadUnitsArray,\r\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsArray,\r\n\tselectAdUnits,\r\n\tselectNewCampaign,\r\n} from 'selectors'\r\nimport { updateNewCampaign, execute } from 'actions'\r\n\r\nfunction CampaignUnits(props) {\r\n\tconst { temp } = useSelector(selectNewCampaign)\r\n\tconst { selectedUnits } = temp\r\n\tconst allAdUnits = useSelector(selectAdUnits)\r\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\r\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\r\n\r\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\r\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\r\n\t\t\treturn allAdUnits[value]\r\n\t\t})\r\n\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.selectedUnits = selectedIndexes\r\n\r\n\t\texecute(updateNewCampaign('adUnits', units))\r\n\t\texecute(updateNewCampaign('temp', newTemp))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t>\r\n\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\tselected={selectedUnits}\r\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\r\n\t\t\t\t\t\t\t\tvalidate={props.validate}\r\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\r\n\t\t\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\trowSelectable\r\n\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CampaignUnits\r\n","import React, { Component } from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/DateRange'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <CalendarIcon />,\r\n\ticonColor,\r\n\tonIconClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DateTimePicker extends Component {\r\n\trender() {\r\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDateTimePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectMainToken,\r\n\tselectNewCampaign,\r\n\tselectValidationsById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\nimport { validations } from 'adex-models'\r\nconst { isNumberString } = validations\r\n\r\nconst moment = new MomentUtils()\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\r\n\ttry {\r\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\r\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\r\n\t\tif (!dep) {\r\n\t\t\treturn t('DEPOSIT_NOT_SET')\r\n\t\t} else if (!min) {\r\n\t\t\treturn t('CPM_NOT_SET')\r\n\t\t} else {\r\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\r\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nfunction CampaignFinance({ validateId }) {\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst campaign = useSelector(selectNewCampaign)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// depositAsset,\r\n\t\tactiveFrom,\r\n\t\twithdrawPeriodStart,\r\n\t\tminTargetingScore,\r\n\t\ttemp = {},\r\n\t} = campaign\r\n\r\n\tconst { maxChannelFees, maxDepositFormatted } = temp\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst from = activeFrom || undefined\r\n\tconst to = withdrawPeriodStart || undefined\r\n\tconst now = moment.date().valueOf()\r\n\r\n\tconst errTitle = invalidFields['title']\r\n\tconst errDepAmnt = invalidFields['depositAmount']\r\n\tconst errMin = invalidFields['minPerImpression']\r\n\tconst errFrom = invalidFields['activeFrom']\r\n\tconst errTo = invalidFields['withdrawPeriodStart']\r\n\r\n\tconst impressions = getTotalImpressions({\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t})\r\n\r\n\tconst leader = validators[0] || {}\r\n\tconst follower = validators[1] || {}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\r\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\r\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\r\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\r\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty ? errDepAmnt.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignFinance\r\n","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, getCampaignActualFees } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\n\r\nconst UnitsTable = ({ items }) => {\r\n\treturn (\r\n\t\t<Grid item sm={12}>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<AdUnitsTable items={items} noSearch noActions noDownload noPrint />\r\n\t\t\t</ContentBody>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nfunction CampaignFormPreview({ newItem } = {}) {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst mainToken = useSelector(selectMainToken)\r\n\tconst { symbol } = mainToken\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\t// targeting,\r\n\t\tadUnits,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// maxPerImpression,\r\n\t\t// depositAsset,\r\n\t\twithdrawPeriodStart,\r\n\t\tactiveFrom,\r\n\t\tminTargetingScore,\r\n\t\t// nonce\r\n\t\ttemp = {},\r\n\t} = newItem\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getCampaignActualFees())\r\n\t}, [])\r\n\r\n\treturn spinner ? (\r\n\t\t<FullContentSpinner />\r\n\t) : (\r\n\t\t<ContentBox>\r\n\t\t\t{temp.waitingAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\tright={<UnitsTable items={adUnits} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<PropRow left={t('FEES')} right={`${temp.feesFormatted} ${symbol}`} />\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\r\n\t\t\t\t\tright={`${temp.totalSpendFormatted} ${symbol}`}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\r\n\t\t\t\t\t\tright={maxPerImpression}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t/>\r\n\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(created)}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t<br />\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nCampaignFormPreview.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewCampaignFormPreview = NewCampaignHoc(CampaignFormPreview)\r\nexport default NewCampaignFormPreview\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdSlot',\r\n\t\t\t\tAdSlot\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\r\n\t\t\tactions.addSlot(newItem)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectSlotTypesSourceWithDemands,\r\n} from 'selectors'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tvalidateNumberString,\r\n\tupdateNewSlot,\r\n\texecute,\r\n} from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst newItem = useSelector(selectNewAdSlot)\r\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\r\n\tconst { title, description, website, type, minPerImpression } = newItem\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\r\n\t)\r\n\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateSlotsDemandThrottled())\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\twebsite: errWebsite,\r\n\t\ttype: errType,\r\n\t\tminPerImpression: errMin,\r\n\t} = invalidFields\r\n\r\n\tconst { symbol } = selectMainToken\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\t\t\t\t\tname='website'\r\n\t\t\t\t\t\t\tvalue={website}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\r\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\r\n\t\t\t\t\t\t\tsource={adTypesSource}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdSlotMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tconst { temp, targetUrl } = newItem\r\n\t\tconst { useFallback } = temp\r\n\r\n\t\tif (useFallback) {\r\n\t\t\tthis.validateImage(useFallback)\r\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateImage = useFallback => {\r\n\t\tconst { newItem, validate, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl, mime } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (!useFallback) {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\terr: {\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t},\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t} else if (tempUrl) {\r\n\t\t\tvalidateMedia(\r\n\t\t\t\t{\r\n\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\texact: true,\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !useFallback || !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleFallbackChange = useFallback => {\r\n\t\tconst { temp, targetUrl } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.useFallback = useFallback\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\r\n\t\tthis.validateImage(useFallback)\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tvalidateMedia,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, temp } = newItem\r\n\t\tconst useFallback = temp.useFallback || false\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\r\n\r\nexport default Translate(NewAdSlotMedia)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\ttags: { src: AcTags, collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags' },\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdSlotTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || [],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource = [],\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsource = '',\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\t\ttarget = {},\r\n\t\t\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\tIconComponent={AddIcon}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\r\n\r\nexport default Translate(NewAdSlotTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { Typography } from '@material-ui/core'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { selectMainToken } from 'selectors'\r\n\r\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass AdSlotPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\twebsite,\r\n\t\t\ttemp,\r\n\t\t\ttags,\r\n\t\t\ttargetUrl,\r\n\t\t\tminPerImpression,\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\r\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.useFallback && (\r\n\t\t\t\t\t\t<SlotFallback\r\n\t\t\t\t\t\t\timg={temp}\r\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{tags && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={tags}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotPreview.propTypes = {\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\r\n\t}\r\n}\r\n\r\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\n// import CampaignTargeting from './Campaign/CampaignTargeting'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateNewCampaignFinance,\r\n\tvalidateNewCampaignAdUnits,\r\n\tvalidateNewSlotBasics,\r\n} from 'actions'\r\n\r\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button color='primary' onClick={save}>\r\n\t\t\t{/*TODO: withStyles */}\r\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t{t('SAVE')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={newItem.temp.waitingAction}\r\n\t\t>\r\n\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\r\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\r\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\r\n}\r\n\r\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\r\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\r\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\r\n\r\nconst dialogCommon = {\r\n\tdarkerBackground: true,\r\n\ticon: <AddIcon />,\r\n}\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdUnit}\r\n\t\tCancelBtn={CancelBtnWithItem}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdUnit'}\r\n\t\tstepsId={'new-adunit-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\r\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\r\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: AdUnitFormPreview,\r\n\t\t}}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon color='primary' />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithCampaign}\r\n\t\tCancelBtn={CancelBtnWithCampaign}\r\n\t\tvalidateIdBase={'new-Campaign-'}\r\n\t\titemType={'Campaign'}\r\n\t\tstepsId={'new-campaign-'}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\r\n\t\t\t\tpage: CampaignUnits,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignAdUnits({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t// NOTE: Only at ad units at the moment\r\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\r\n\t\t\t\tpage: CampaignFinance,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignFinance({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: CampaignFormPreview,\r\n\t\t}}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdSlot}\r\n\t\tCancelBtn={CancelBtnWithAdSlot}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdSlot'}\r\n\t\tstepsId={'new-slot-'}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\r\n\t\t\t\tpage: AdSlotBasic,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewSlotBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectAdUnitsTableData, selectSide } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, noActions, noClone }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\titems, //\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignUnits,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t} = props\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, items })\r\n\t}, [side, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignUnits ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\twidth: 320,\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\t'@media(max-width:380px)': {\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tmarginBottom: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\r\n\t\t\ttop: 0,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport Img from 'components/common/img/Img'\r\nimport { validUrl } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { validations, schemas, Joi } from 'adex-models'\r\nimport { utils } from 'ethers'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { selectMainToken } from 'selectors'\r\n\r\nconst FallbackAdData = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\r\n\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false}>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\r\n\t\t\t\t\talt={item.fallbackTargetUrl}\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t/>\r\n\t\t\t</CardMedia>\r\n\t\t\t{/* <Fab\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleFallbackImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\tdisabled={isDemo}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Fab> */}\r\n\t\t\t<CardContent>\r\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t// required\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\r\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\r\n\t\t\t\t\t\t// maxLength={1024}\r\n\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\r\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\r\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\r\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{/* <span>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className={classes.error}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\r\n\r\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\r\n\tconst { temp } = item\r\n\tconst newTemp = { ...temp }\r\n\tnewTemp[prop] = value\r\n\r\n\treturn newTemp\r\n}\r\n\r\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\r\n\tconst isValidNumber = validations.isNumberString(value)\r\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\tvalidate(prop, {\r\n\t\tisValid: isValid,\r\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\tdirty: dirty,\r\n\t})\r\n}\r\n\r\nconst validateWebsite = (value = '', prop, dirty, errMsg, validate) => {\r\n\tconst result = Joi.validate(value, schemas.adSlotPut.website)\r\n\r\n\tconst isValid = !result.error\r\n\r\n\tvalidate(prop, {\r\n\t\tisValid: isValid,\r\n\t\terr: { msg: errMsg || 'SLOT_WEBSITE_ERR' },\r\n\t\tdirty: dirty,\r\n\t})\r\n}\r\n\r\nconst SlotMinCPM = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errMin = invalidFields['minPerImpression']\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst minCPM = formatTokenAmount(\r\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\r\n\t\tdecimals,\r\n\t\ttrue\r\n\t)\r\n\r\n\tconst minPerImpression =\r\n\t\titem.temp.minPerImpression !== undefined\r\n\t\t\t? item.temp.minPerImpression\r\n\t\t\t: minCPM\r\n\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tfullWidth\r\n\t\t\tclassName={classes.textField}\r\n\t\t\tmargin='dense'\r\n\t\t\terror={!!errMin}\r\n\t\t>\r\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\r\n\t\t\t<Input\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoFocus\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname={'minPerImpression'}\r\n\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\tonChange={ev => {\r\n\t\t\t\t\tvalidateAmount(\r\n\t\t\t\t\t\tev.target.value,\r\n\t\t\t\t\t\t'minPerImpression',\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t'',\r\n\t\t\t\t\t\tvalidate\r\n\t\t\t\t\t)\r\n\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\tupdateItemTemp({\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tmaxLength={1024}\r\n\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={!activeFields.minPerImpression}\r\n\t\t\t\tendAdornment={\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<FormHelperText>\r\n\t\t\t\t{errMin && !!errMin.errMsg\r\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\r\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\r\n\t\t\t</FormHelperText>\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\r\n\r\nconst SlotWebsite = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errWebsite = invalidFields['website']\r\n\r\n\tconst website = item.temp.website\r\n\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tfullWidth\r\n\t\t\tclassName={classes.textField}\r\n\t\t\tmargin='dense'\r\n\t\t\terror={!!errWebsite && activeFields.website}\r\n\t\t>\r\n\t\t\t<InputLabel>{t('SLOT_WEBSITE')}</InputLabel>\r\n\t\t\t<Input\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoFocus\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname={'website'}\r\n\t\t\t\tvalue={website || item.website || ''}\r\n\t\t\t\tonChange={ev => {\r\n\t\t\t\t\tvalidateWebsite(ev.target.value, 'website', true, '', validate)\r\n\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\tupdateItemTemp({\r\n\t\t\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tmaxLength={1024}\r\n\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\tsetActiveFields('website', false)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={!!item.website || !activeFields.website}\r\n\t\t\t\tendAdornment={\r\n\t\t\t\t\t!item.website && (\r\n\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tdisabled={activeFields.website || isDemo}\r\n\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\tonClick={ev => setActiveFields('website', true)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<FormHelperText>\r\n\t\t\t\t{errWebsite && !!errWebsite.errMsg && activeFields.website ? (\r\n\t\t\t\t\tt(errWebsite.errMsg, { args: errWebsite.errMsgArgs })\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{activeFields.website && (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</FormHelperText>\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nconst ValidatedSlotWebsite = ValidItemHoc(SlotWebsite)\r\n\r\nconst MediaCard = ({\r\n\tclasses,\r\n\tmediaUrl,\r\n\tmediaMime,\r\n\ttitle,\r\n\tcanEditImg,\r\n\ttoggleImgEdit,\r\n\turl,\r\n}) => (\r\n\t<Card className={classes.card} raised={false}>\r\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t<Img\r\n\t\t\t\tallowFullscreen={true}\r\n\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\talt={title}\r\n\t\t\t\tclassName={classes.img}\r\n\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\tallowVideo\r\n\t\t\t/>\r\n\t\t</CardMedia>\r\n\t\t{canEditImg && (\r\n\t\t\t<Button\r\n\t\t\t\tvariant='fab'\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Button>\r\n\t\t)}\r\n\r\n\t\t{url && (\r\n\t\t\t<CardContent>\r\n\t\t\t\t<Anchor href={url} target='_blank'>\r\n\t\t\t\t\t{url}\r\n\t\t\t\t</Anchor>\r\n\t\t\t</CardContent>\r\n\t\t)}\r\n\t</Card>\r\n)\r\n\r\nconst basicProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\tactiveFields,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst mediaMime = item.mediaMime\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\r\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\r\n\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\r\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<ValidatedSlotWebsite\r\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\tvalue={item.type}\r\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\r\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\r\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\trows={7}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t{rightComponent}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const BasicProps = withStyles(styles)(basicProps)\r\n\r\nconst campaignProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst status = item.status || {}\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className={classes.basicInfo}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\r\n\t\t\t\t\t{rightComponent}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\r\nexport const CampaignProps = withStyles(styles)(campaignProps)\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={450}\r\n\t\t\theight={450}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\t// responsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas(earnings || 0)} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr}%`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 20,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst campaignId = props.campaignId\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = campaign.status.humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box mb={5} className={classnames(classes.pageBreak)}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4'>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5'>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2'>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={5}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_PAID')}</Typography>\r\n\t\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE_EARNINGS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classnames(classes.breakAll)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>{stats.website}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nReceipt.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Receipt\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Card, Typography, TextField } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={3} mt={3}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography variant='h4'>{'Company Details'}</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Card>\r\n\t\t\t\t<Box p={3}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</Box>\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Card, Button, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport classnames from 'classnames'\r\nimport { Print, Visibility } from '@material-ui/icons'\r\nimport Receipt from './Receipt'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport { t, selectSelectedCampaigns } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\thideOnMobile: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\thideOnDesktop: {\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n})\r\nfunction CampaignReceipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst { itemId } = useParams()\r\n\tconst items = useSelector(state => selectSelectedCampaigns(state))\r\n\t// TODO: render back button\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receipts = selectedByPropsOrParams ? [selectedByPropsOrParams] : items\r\n\tif (receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnDesktop)}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={5}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Visibility />\r\n\t\t\t\t\t\t\t<Typography variant='overline' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_PREVIEW_ONLY_DESKTOP')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnMobile)}>\r\n\t\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t\t<Box ref={invoice} className={classnames(classes.a4)}>\r\n\t\t\t\t\t\t\t\t{receipts.map(campaignId => (\r\n\t\t\t\t\t\t\t\t\t<Receipt campaignId={campaignId} key={campaignId} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Card>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { CampaignReceipt }\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\r\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\r\nimport { CampaignReceipt } from 'components/dashboard/containers/Receipt/CampaignReceipt'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nconst VIEW_MODE = 'campaignRowsView'\r\n\r\nexport class Campaign extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tstatistics: {},\r\n\t\t}\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tCampaignActions = ({ campaign, actions, t }) => {\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\titem,\r\n\t\t\t// handleChange,\r\n\t\t\t// activeFields,\r\n\t\t\t// isDemo,\r\n\t\t\tactions,\r\n\t\t\thistory,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\t\tconst units = item.spec.adUnits\r\n\t\tconst campaign = new CampaignModel(item)\r\n\t\tconst status = (campaign.status || {}).name\r\n\t\tconst humanFriendlyName = campaign.status.humanFriendlyName\r\n\t\tconst leader = campaign.spec.validators[0]\r\n\t\tconst follower = campaign.spec.validators[1]\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignProps\r\n\t\t\t\t\titem={campaign}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t// <UnitTargets\r\n\t\t\t\t\t\t// \t{...rest}\r\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\r\n\t\t\t\t\t\t// \tt={t}\r\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\r\n\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t(status === 'Ready' ||\r\n\t\t\t\t\t\t\tstatus === 'Active' ||\r\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\r\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\r\n\t\t\t\t\t\t\t<this.CampaignActions\r\n\t\t\t\t\t\t\t\tcampaign={campaign}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default' className={classes.appBar}>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\r\n\t\t\t\t\t\t\t{(humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\t\thumanFriendlyName === 'Completed') && (\r\n\t\t\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 2, md: 2, lg: 1 }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item lg={8} md={12} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={item.id} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 1, md: 1, lg: 2 }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item lg={4} md={12} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={item.id} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<AdUnitsTable items={units} campaignUnits noClone />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 3 && <CampaignReceipt itemId={campaign.id} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tunits: PropTypes.object.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\tunits: persist.items['AdUnit'],\r\n\t\trowsView: !!persist.ui.global[VIEW_MODE],\r\n\t\tobjModel: CampaignModel,\r\n\t\titemType: 'Campaign',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(CampaignItem))\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tappBar: {\r\n\t\t\tzIndex: theme.zIndex.appBar - 1,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\r\n\t</g>,\r\n\r\n\t'AdexPublisher',\r\n\t'0 0 114 110'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\r\n\t</g>,\r\n\t'AdexAdvertiser',\r\n\t'0 0 109 94'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({\r\n\tsalePoints = [],\r\n\tlinkTitle,\r\n\ticon,\r\n\ttitle,\r\n\tdisabled,\r\n\tclasses,\r\n\t...other\r\n}) => (\r\n\t<div\r\n\t\t{...other}\r\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\r\n\t>\r\n\t\t<div className={classes.icon}>{icon}</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function(point, key) {\r\n\t\t\t\treturn <li key={key}> {point} </li>\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<AdvertiserLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<PublisherLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1,\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectStatsChartData, selectMainToken } from 'selectors'\r\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0.1,\r\n\tborderWidth: 0,\r\n\tpointRadius: 3,\r\n\tpointHitRadius: 10,\r\n}\r\n\r\nexport const SimpleStatistics = ({\r\n\tside,\r\n\ttimeframe = '',\r\n\teventType,\r\n\tpayouts,\r\n\timpressions,\r\n\tclicks,\r\n\tcpm,\r\n\toptions = {},\r\n\tt,\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty3Label = 'DATA3',\r\n\ty4Label = 'DATA4',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n\ty3Color = CHARTS_COLORS[3],\r\n\ty4Color = CHARTS_COLORS[4],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tafterDraw: function(chart) {\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\r\n\t\t\t\t\tif (chartScalesy1) {\r\n\t\t\t\t\t\tconst topY = chartScalesy1.top\r\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\r\n\t\t\t\t\t\tctx.save()\r\n\t\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\t\tctx.lineWidth = 1 // line width\r\n\t\t\t\t\t\tctx.setLineDash([1, 5])\r\n\t\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\r\n\t\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\t\tctx.restore()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: payouts.labels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: payouts.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: impressions.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tlabel: y3Label,\r\n\t\t\t\tdata: clicks.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-3',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tpointBackgroundColor: y4Color,\r\n\t\t\t\tlabel: y4Label,\r\n\t\t\t\tdata: cpm.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-4',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tanimation: false,\r\n\t\tresponsive: true,\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: true,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel =\r\n\t\t\t\t\t\txLabel === y1Label\r\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\r\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tautoSkip: false,\r\n\t\t\t\t\t\tcallback: function(tick, index, array) {\r\n\t\t\t\t\t\t\treturn index % Math.floor(array.length / 12) ? '' : tick\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y1Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y2Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// grid line settings\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y3Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-3',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// grid line settings\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t\tlabelString: y4Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-4',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn <Line height={500} data={chartData} options={linesOptions} />\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport classnames from 'classnames'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor })\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\t// raised\r\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{title && (\r\n\t\t\t\t\t<Typography variant='h5' noWrap>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{subtitle && (\r\n\t\t\t\t\t<Typography component='p' noWrap>\r\n\t\t\t\t\t\t{subtitle}{' '}\r\n\t\t\t\t\t\t{explain && (\r\n\t\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\r\n\t\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{children}\r\n\t\t\t</CardContent>\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\r\nimport lime from '@material-ui/core/colors/lime'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nconst WHITE = '#fff'\r\nexport const PRIMARY = '#1B75BC'\r\nexport const SECONDARY = '#FFAC00'\r\nexport const ALEX_GREY = '#3f3e3e'\r\nexport const ACCENT_ONE = '#57467B'\r\nexport const ACCENT_ONE_LIGHT = '#ceccde'\r\nexport const ACCENT_TWO = '#7CB4B8'\r\nexport const ACCENT_TWO_LIGHT = '#dfecee'\r\n\r\nconst palette = {\r\n\tprimary: { main: PRIMARY, contrastText: WHITE },\r\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: deepOrange,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n\taction: {\r\n\t\tdisabledBackground: grey[300],\r\n\t\tdisabled: grey[600],\r\n\t},\r\n}\r\n\r\nexport const theme = createMuiTheme({\r\n\ttypography: {\r\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\t\tfontSize: 13,\r\n\t},\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: { borderRadius: 0 },\r\n\t\t},\r\n\t\tMuiFormControl: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiSelect: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiInputLabel: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiOutlinedInput: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAlert: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// },\r\n\t\tMuiTableFooter: {\r\n\t\t\troot: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflex: 0,\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAppBar: {\r\n\t\t\tcolorDefault: {\r\n\t\t\t\tbackgroundColor: palette.appBar.main,\r\n\t\t\t\tcolor: palette.appBar.contrastText,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTablePagination: {\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableFilter: {\r\n\t\t\troot: {\r\n\t\t\t\tmaxWidth: '400px',\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Think of accessing an element not a class\r\n\t\tMuiGridListTile: {\r\n\t\t\troot: {\r\n\t\t\t\twidth: '100% !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBodyCell: {\r\n\t\t\tstackedCommon: {\r\n\t\t\t\theight: '80px !important',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport const themeMUI = responsiveFontSizes(theme, {\r\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateAnalyticsTimeframe } from 'actions'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tPRIMARY,\r\n\tSECONDARY,\r\n\tACCENT_ONE,\r\n\tACCENT_TWO,\r\n\tALEX_GREY,\r\n} from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n\tselectTotalClicks,\r\n\tselectChartDatapointsCPM,\r\n\tselectChartDatapointsImpressions,\r\n\tselectChartDatapointsClicks,\r\n\tselectChartDatapointsPayouts,\r\n} from 'selectors'\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = t(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst metrics = {\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_TWO,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CTR'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_ONE,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n}\r\n\r\nconst timeHints = {\r\n\thour: 'SHOWING_LAST_HOUR',\r\n\tday: 'SHOWING_LAST_24_HOURS',\r\n\tweek: 'SHOWING_LAST_7_DAYS',\r\n}\r\n\r\nexport function BasicStats({ side }) {\r\n\tconst useStyles = makeStyles(styles)\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalClicks = useSelector(state =>\r\n\t\tselectTotalClicks(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst loadingImpressions = totalImpressions === null\r\n\tconst loadingMoney = totalMoney === null\r\n\tconst loadingCPM = averageCPM === null\r\n\tconst loadingClicks = totalClicks === null\r\n\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst impressions = useSelector(state =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst clicks = useSelector(state =>\r\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst cpm = useSelector(state =>\r\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst dataInSync =\r\n\t\t(clicks.labels[clicks.labels.length - 1] ===\r\n\t\t\timpressions[impressions.labels.length - 1]) ===\r\n\t\tpayouts[payouts.labels.length - 1]\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t\t<StatsCard>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\r\n\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={loadingImpressions && !dataInSync}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='secondary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\r\n\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\tloadingClicks &&\r\n\t\t\t\t\t\t\tloadingImpressions &&\r\n\t\t\t\t\t\t\t!dataInSync &&\r\n\t\t\t\t\t\t\ttotalClicks / totalImpressions !== Infinity\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\r\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\r\n\t\t\t\t\t\t).toFixed(2)}% ${t('LABEL_CTR')})`}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\r\n\t\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\r\n\t\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={loadingCPM && !dataInSync}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\tside={side}\r\n\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\ttitle:\r\n\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tpayouts={payouts}\r\n\t\t\t\t\timpressions={impressions}\r\n\t\t\t\t\tclicks={clicks}\r\n\t\t\t\t\tcpm={cpm}\r\n\t\t\t\t\ty1Label={metrics[side][0].label}\r\n\t\t\t\t\ty1Color={metrics[side][0].color}\r\n\t\t\t\t\ty2Label={metrics[side][1].label}\r\n\t\t\t\t\ty2Color={metrics[side][1].color}\r\n\t\t\t\t\ty3Label={metrics[side][2].label}\r\n\t\t\t\t\ty3Color={metrics[side][2].color}\r\n\t\t\t\t\ty4Label={metrics[side][3].label}\r\n\t\t\t\t\ty4Color={metrics[side][3].color}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateNav } from 'actions'\r\nimport { Box, Paper } from '@material-ui/core'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport { BasicStats } from './BasicStats'\r\nimport { t, selectSide } from 'selectors'\r\n\r\nexport function DashboardStats(props) {\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\r\n\t}, [])\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\r\n\t\t<SideSelect active={true} />\r\n\t) : (\r\n\t\t<Paper elevation={2}>\r\n\t\t\t<Box p={1}>\r\n\t\t\t\t<BasicStats side={side} />\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default DashboardStats\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnit } from 'adex-models'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Translate from 'components/translate/Translate'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\n\r\nexport class Unit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcloseDialog: false,\r\n\t\t}\r\n\t}\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t//     return diffProps || diffState\r\n\t// }\r\n\trender() {\r\n\t\tconst { item, t, ...rest } = this.props\r\n\r\n\t\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnit.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\treturn {\r\n\t\tobjModel: AdUnit,\r\n\t\titemType: 'AdUnit',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst UnitItem = ItemHoc(Unit)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(UnitItem))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\nimport copy from 'copy-to-clipboard'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport url from 'url'\r\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = account.identity.address\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\tonCopy && onCopy()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport class Slot extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\teditFallbackImg: false,\r\n\t\t\ttabIndex: 0,\r\n\t\t}\r\n\t\tthis.tabsFocus = React.createRef()\r\n\t}\r\n\r\n\thandleFallbackImgUpdateToggle = () => {\r\n\t\tconst active = this.state.editFallbackImg\r\n\t\tthis.setState({ editFallbackImg: !active })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index }, () => {\r\n\t\t\tif (this.tabsFocus.current) {\r\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t\tblock: 'start',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\tcanEditImg={!isDemo}\r\n\t\t\t\t\trightComponent={null}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\r\n\t\t\t\t\t\t\tref={this.tabsFocus}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\r\n\t\t\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<IntegrationCode\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\t\tslot={item}\r\n\t\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* {tabIndex === 0 && null} */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSlot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tobjModel: AdSlot,\r\n\t\titemType: 'AdSlot',\r\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\r\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\r\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\r\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\r\n\t\tupdateImgExact: true,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SlotItem)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectAccountStatsFormatted,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\n\r\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst { amountToWithdraw: errAmount, withdrawTo: errAddr } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t{' '}\r\n\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\r\n\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\tname='withdrawTo'\r\n\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t// onChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t<TextField\r\n\t\t\t\ttype='text'\r\n\t\t\t\tfullWidth\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawFromIdentity\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n\r\n// const { TX_STATUS } = ExchangeConstants\r\n\r\nexport default function NewTransactionHoc(Decorated) {\r\n\t// TODO: make it common for bids and items\r\n\tclass TransactionHoc extends Component {\r\n\t\tcomponentWillMount() {\r\n\t\t\t// console.log('TransactionHoc')\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\r\n\t\t}\r\n\r\n\t\t// addTx = (tx) => {\r\n\t\t//     let txData = { ...tx }\r\n\t\t//     txData.status = TX_STATUS.Pending.id\r\n\t\t//     txData.sendingTime = Date.now()\r\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\r\n\t\t// }\r\n\r\n\t\tonSave = (err, tx, manyTxs) => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTransaction()\r\n\t\t}\r\n\r\n\t\tresetTransaction = () => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.resetNewTransaction({ tx: txId })\r\n\t\t}\r\n\r\n\t\thandleSaveRes = ({ err, res }) => {\r\n\t\t\tconst { t, actions } = this.props\r\n\t\t\t// const areManyTxs = Array.isArray(res)\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tactions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.onSave(err, res, Array.isArray(res))\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tthis.handleChange('waitingForWalletAction', true)\r\n\t\t\tthis.props\r\n\t\t\t\t.saveFn({\r\n\t\t\t\t\tacc: this.props.account,\r\n\t\t\t\t\ttransaction: this.props.transaction,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res = {}) => {\r\n\t\t\t\t\tconsole.log('res on save', res)\r\n\r\n\t\t\t\t\tconst txs = res.txResults || res\r\n\t\t\t\t\tconst err = res.err || null\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error = {}) => {\r\n\t\t\t\t\tconsole.log('err on save', error)\r\n\t\t\t\t\tconst res = error.txResults || null\r\n\t\t\t\t\tconst err = error.err || error\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\t// TODO: take a look at onSave if change something\r\n\t\t\tthis.onSave(null, null)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tlet transaction = this.props.transaction || {}\r\n\t\t\tlet props = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\ttransaction={transaction}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tresetTransaction={this.resetTransaction}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTransactionHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tlabel: PropTypes.string,\r\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t\t.isRequired,\r\n\t\ttransaction: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tsaveFn: PropTypes.func,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\tconst txId = props.stepsId\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\t\ttxId: txId,\r\n\t\t\tspinner: memory.spinners[txId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(TransactionHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { validateNumber } from 'helpers/validators'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nclass WithdrawAnyTokenFromIdentity extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { validate, transaction } = this.props\r\n\t\t// If nothing entered will validate\r\n\t\tif (!transaction.amountToWithdraw) {\r\n\t\t\tvalidate('amountToWithdraw', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.withdrawTo) {\r\n\t\t\tvalidate('withdrawTo', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.tokenAddress) {\r\n\t\t\tvalidate('tokenAddress', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\r\n\t\tthis.props.validate('amountToWithdraw', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: msg },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tvalidate,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\twithdrawToSpinner,\r\n\t\t\tbalanceAnySpinner,\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\twithdrawTo,\r\n\t\t\tamountToWithdraw,\r\n\t\t\ttokenAddress,\r\n\t\t\ttokenBalance,\r\n\t\t\ttokenDecimals,\r\n\t\t} = transaction || {}\r\n\t\tconst errAmount = invalidFields['amountToWithdraw']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\t\tconst errToken = invalidFields['tokenAddress']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={balanceAnySpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\t\tname='tokenAddress'\r\n\t\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: tokenAddress,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'tokenAddress',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: tokenAddress,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'tokenAddress',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errToken && !!errToken.dirty}\r\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\r\n\t\t\t\t\tname='tokenDecimals'\r\n\t\t\t\t\tvalue={tokenDecimals || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('tokenDecimals', ev.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={withdrawToSpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t\tnonERC20: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t\tnonERC20: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_AMOUNT_TO_WITHDRAW')}\r\n\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('amountToWithdraw', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(amountToWithdraw, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(amountToWithdraw, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\r\n\t\t\t\t\t\t\t? errAmount.errMsg\r\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\r\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\r\n\tWithdrawAnyTokenFromIdentity\r\n)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawAnyTokenFromIdentityForm)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport Box from '@material-ui/core/Box'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport { constants } from 'adex-models'\r\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\r\n\treturn {\r\n\t\tvalue,\r\n\t\tlabel: t(`PRIV_${value}_LABEL`),\r\n\t\tinfo: t(`PRIV_${value}_INFO`),\r\n\t}\r\n})\r\n\r\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\r\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\r\n\t\tstate => selectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsetAddr: errAddr,\r\n\t\tsetAddrWarning: warning,\r\n\t\tprivLevel: errPrivLvl,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}</div>\r\n\t\t\t<TextField\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\tname='setAddr'\r\n\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t<Dropdown\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\tonChange={val =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'privLevel',\r\n\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\tfullWidth\r\n\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\r\n\t\t\t\t\t\t? errPrivLvl.errMsg\r\n\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<Box marginTop={2}>\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tkey={x.value}\r\n\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t))}\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{(warning || warningAccepted || warningMsg) && (\r\n\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvalue='warningAccepted'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormControl>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SeAddressPrivilege\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nclass SetAccountENSPage extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { transaction, validate } = this.props\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('setEns', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleValidate = () => {\r\n\t\tif (this._timeout) {\r\n\t\t\t//if there is already a timeout in process cancel it\r\n\t\t\tclearTimeout(this._timeout)\r\n\t\t}\r\n\t\tthis._timeout = setTimeout(() => {\r\n\t\t\tthis._timeout = null\r\n\t\t\tconst { actions, transaction, validate } = this.props\r\n\t\t\tconst { setEns } = transaction || {}\r\n\t\t\tactions.validateENS({\r\n\t\t\t\tens: setEns,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tvalidate,\r\n\t\t\t\tname: 'setEns',\r\n\t\t\t})\r\n\t\t}, 500)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\tsetEnsSpinner,\r\n\t\t} = this.props\r\n\t\tconst { setEns } = transaction || {}\r\n\t\t// const errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['setEns']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div> {t('SET_ENS_MAIN_INFO')}</div>\r\n\t\t\t\t<form noValidate>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\r\n\t\t\t\t\t\tname='setEns'\r\n\t\t\t\t\t\tvalue={setEns || ''}\r\n\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\thandleChange('setEns', ev.target.value.toLowerCase())\r\n\t\t\t\t\t\t\tthis.handleValidate()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{setEnsSpinner ? <InputLoading /> : null}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSetAccountENSPage.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\tsetEnsSpinner: memory.spinners['setEns'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SetAccountENSPageForm = NewTransactionHoc(SetAccountENSPage)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SetAccountENSPageForm)\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tt,\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetENSPreview = ({\r\n\tt,\r\n\tsetEns,\r\n\taddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='addr'\r\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\r\n\t\t\tright={(address || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='setEns'\r\n\t\t\tleft={t('setEns', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tfeesData.fees,\r\n\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tSetENSPreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\n\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\nimport { execute, updateSpinner } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst {\r\n\t\tgetFeesFn,\r\n\t\thandleChange,\r\n\t\tidentityAvailable,\r\n\t\tpreviewWarnMsgs,\r\n\t\tstepsId,\r\n\t} = props\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { address } = account.identity\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst transaction = useSelector(state =>\r\n\t\tselectNewTransactionById(state, txId)\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\r\n\r\n\tuseEffect(() => {\r\n\t\tif (getFeesFn && Object.keys(transaction).length) {\r\n\t\t\texecute(updateSpinner(txId, true))\r\n\t\t\tgetFeesFn({ account, transaction })\r\n\t\t\t\t.then(feesData => {\r\n\t\t\t\t\thandleChange('feesData', feesData)\r\n\t\t\t\t\t// if (feesData.toGet) {\r\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\r\n\t\t\t\t\t// }\r\n\t\t\t\t\texecute(updateSpinner(txId, false))\r\n\r\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\r\n\t\t\t\t\t\thandleChange('errors', [\r\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\r\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\texecute(updateSpinner(txId, false))\r\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\twithdrawAmount,\r\n\t\tamountToWithdraw,\r\n\t\tsetAddr,\r\n\t\tsetEns,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = transaction\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setENS' && (\r\n\t\t\t\t\t\t\t<SetENSPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\tsetEns={setEns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\r\nexport default TransactionPreviewForm\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport SetAccountENSPage from './SetAccountENSPage'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport Button from '@material-ui/core/Button'\r\nimport TransactionHoc from './TransactionHoc'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { t } from 'selectors'\r\n// import SaveIcon from '@material-ui/icons/Save'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n\taddIdentityENS,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddrIdentityPrivilege,\r\n\tidentityWithdraw,\r\n\tsetIdentityENS,\r\n\tvalidatePrivilegesChange,\r\n\tidentityWithdrawAny,\r\n\tvalidateIdentityWithdraw,\r\n\texecute,\r\n} from 'actions'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst SaveBtn = ({\r\n\tsave,\r\n\tsaveBtnLabel,\r\n\tsaveBtnIcon,\r\n\tt,\r\n\ttransaction,\r\n\twaitingForWalletAction,\r\n\tspinner,\r\n\t...other\r\n}) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={\r\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\r\n\t\t\t\t!!transaction.waitingForWalletAction ||\r\n\t\t\t\t!!spinner\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || ''\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\r\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\r\n}\r\n\r\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\r\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\r\n\r\nconst txCommon = {\r\n\tSaveBtn: SaveBtnWithTransaction,\r\n\tCancelBtn: CancelBtnWithTransaction,\r\n\tvalidateIdBase: 'tx-',\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawFromIdentity,\r\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateIdentityWithdraw({\r\n\t\t\t\t\t\t\tstepsId,\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction: { amountToWithdraw, withdrawTo } } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tidentityWithdraw({\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\tstepsId='setIdentityPrivilege'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\tpage: SeAddressPrivilege,\r\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidatePrivilegesChange({\r\n\t\t\t\t\t\t\tstepsId,\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\taddrIdentityPrivilege({\r\n\t\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction, account } = {}) => {\r\n\t\t\treturn setIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(identityWithdrawAny(transaction))\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction = {}, account } = {}) => {\r\n\t\t\treturn withdrawOtherTokensFromIdentity({\r\n\t\t\t\t...transaction,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetAccountENS = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\r\n\t\tstepsId='setENS'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\r\n\t\t\t\tpage: SetAccountENSPage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tsetIdentityENS({\r\n\t\t\t\t\tusername: transaction.setEns,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ account } = {}) => {\r\n\t\t\treturn addIdentityENS({\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tWithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n\tSetAccountENS,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectMainToken,\r\n\tselectEasterEggsAllowed,\r\n\tselectEnsAddressByAddr,\r\n} from 'selectors'\r\nimport { updateNav, execute, addToast } from 'actions'\r\nimport { formatAddress } from 'helpers/formatters'\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nconst AccountItem = props => (\r\n\t<ListItem>\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexWrap={'wrap'}\r\n\t\t\tflex='1'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\talignItems='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow='8'\r\n\t\t\t\tflexBasis='700px'\r\n\t\t\t\tmr={1}\r\n\t\t\t\tflexWrap={'nowrap'}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t>\r\n\t\t\t\t<Box flex='1'>{props.left}</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\r\n\t\t\t\t{props.right}\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t</ListItem>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType = '', email, password } = useSelector(selectWallet)\r\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst canMakeTx = privileges > 1\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst identityEnsName = useSelector(state =>\r\n\t\tselectEnsAddressByAddr(state, identityAddress)\r\n\t)\r\n\r\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\r\n\r\n\tconst [localWalletDownloadHref, setLocalWalletDownloadHref] = useState('')\r\n\r\n\tconst loadBackupHref = async () => {\r\n\t\tconst obj = await getRecoveryWalletData({ email, password, authType })\r\n\t\tif (obj && obj.wallet) {\r\n\t\t\tconst data =\r\n\t\t\t\t'data:text/json;charset=utf-8,' +\r\n\t\t\t\tencodeURIComponent(JSON.stringify(obj))\r\n\r\n\t\t\tsetLocalWalletDownloadHref(data)\r\n\t\t}\r\n\t}\r\n\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\r\n\t}, [identityAddress])\r\n\r\n\tuseEffect(() => {\r\n\t\tloadBackupHref()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst displayRampWidget = () => {\r\n\t\tconst widget = new RampInstantSDK({\r\n\t\t\thostAppName: 'AdExNetwork',\r\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\t\tvariant: 'auto',\r\n\t\t\tswapAsset: symbol,\r\n\t\t\tuserAddress: identityAddress,\r\n\t\t})\r\n\t\twidget.domNodes.overlay.style.zIndex = 1000\r\n\t\twidget.show()\r\n\t}\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List className={classes.root}>\r\n\t\t\t\t<ListSubheader>{t('ADEX_ACCOUNT')}</ListSubheader>\r\n\t\t\t\t<AccountItem\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t{...(identityEnsName && {\r\n\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\r\n\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t{...(!identityEnsName && {\r\n\t\t\t\t\t\t\t\t\tprimary: identityAddress,\r\n\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t!!identityAddress && (\r\n\t\t\t\t\t\t\t<SetAccountENS\r\n\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<AccountItem\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\r\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\ttoken={symbol}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={handleExpandChange}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\r\n\t\t\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\tlocalWalletDownloadHref && (\r\n\t\t\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t></AccountItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t{allowEasterEggs && (\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t\tflexGrow: 0,\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { Stars } from '@material-ui/icons'\r\nimport { PRIMARY, SECONDARY } from 'components/App/themeMUi'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tzIndex: 1,\r\n\t\twidth: props => props.size || 80,\r\n\t\theight: props => props.size || 80,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `3px solid ${theme.palette.grey[300]}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `3px solid ${PRIMARY} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `3px solid ${SECONDARY}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: 40,\r\n\t},\r\n\tline: {\r\n\t\theight: 3,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, #fff 50%), ${\r\n\t\t\ttheme.palette.grey[300]\r\n\t\t}`,\r\n\t\tbackgroundSize: `16px 2px, 100% 2px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <Stars className={clsx(classes.star)} color='secondary' />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { confirmAction, execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nexport const createAdUnitTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 8; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const fundAccountTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const launchFirstCampaign = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 5; i++) {\r\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const createAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 7; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const placeAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 2; i++) {\r\n\t\tsteps.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://webcusp.com/iframe-wordpress-plugins-and-tutorials/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tStepButton,\r\n\tMobileStepper,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tTypography,\r\n\tHidden,\r\n\tLink,\r\n\tExpansionPanel,\r\n\tExpansionPanelDetails,\r\n\tExpansionPanelSummary,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n\tKeyboardArrowLeft,\r\n\tKeyboardArrowRight,\r\n\tExpandMore,\r\n\tClose,\r\n\tStar,\r\n\tStarBorder,\r\n} from '@material-ui/icons'\r\nimport EmailEddie from 'resources/getting-started/GS-email-ic.png'\r\nimport FundEddie from 'resources/getting-started/GS-fund-ic.png'\r\nimport CreateEddie from 'resources/getting-started/GS-create-ic.png'\r\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic.png'\r\nimport PlaceEddie from 'resources/getting-started/GS-place-ic.png'\r\nimport BonusEddie from 'resources/getting-started/GS-bonus-ic.png'\r\nimport {\r\n\tt,\r\n\tselectHasCreatedAdUnit,\r\n\tselectHasCreatedCampaign,\r\n\tselectHasConfirmedEmail,\r\n\tselectHasFundedAccount,\r\n\tselectHasAdSlotImpressions,\r\n\tselectHas5000Impressions,\r\n\tselectHasCreatedAdSlot,\r\n\tselectHideGettingStarted,\r\n\tselectEmailProvider,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\r\nimport { hideGettingStarted, execute } from 'actions'\r\nimport {\r\n\tcreateAdUnitTutorial,\r\n\tfundAccountTutorial,\r\n\tlaunchFirstCampaign,\r\n\tcreateAdSlot,\r\n\tplaceAdSlot,\r\n} from './Tutorials'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tflex: 1,\r\n\t},\r\n\tbutton: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n\tinstructions: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tmarginBottom: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nexport default function GettingStarted(props) {\r\n\tconst classes = useStyles()\r\n\tconst { side } = props\r\n\r\n\tconst hasCreatedAdUnit = useSelector(selectHasCreatedAdUnit)\r\n\tconst hasCreatedCampaign = useSelector(selectHasCreatedCampaign)\r\n\tconst hasCreatedAdSlot = useSelector(selectHasCreatedAdSlot)\r\n\tconst hasConfirmedEmail = useSelector(selectHasConfirmedEmail)\r\n\tconst hasFundedAccount = useSelector(selectHasFundedAccount)\r\n\tconst hasImpressions = useSelector(selectHasAdSlotImpressions)\r\n\tconst has5000Impressions = useSelector(selectHas5000Impressions)\r\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\r\n\tconst emailProvider = useSelector(selectEmailProvider)\r\n\tconst [expanded, setExpanded] = useState(true)\r\n\r\n\tconst steps = {\r\n\t\tadvertiser: [\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\t\tcontent: (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{t('TUTORIAL_CONFIRM_EMAIL_CONTENT')}\r\n\t\t\t\t\t\t{emailProvider\r\n\t\t\t\t\t\t\t? t('TUTORIAL_CONFIRM_EMAIL_CONTENT_GO_TO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\t\t\tkey='confirm-email-go-to'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`https://${emailProvider}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{emailProvider}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\t\ticon: EmailEddie,\r\n\t\t\t\tcheck: hasConfirmedEmail,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\r\n\t\t\t\ticon: CreateEddie,\r\n\t\t\t\tcheck: hasCreatedAdUnit,\r\n\t\t\t\ttutorial: createAdUnitTutorial,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\r\n\t\t\t\ticon: FundEddie,\r\n\t\t\t\tcheck: hasFundedAccount,\r\n\t\t\t\ttutorial: fundAccountTutorial,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\r\n\t\t\t\ticon: LaunchEddie,\r\n\t\t\t\tcheck: hasCreatedCampaign,\r\n\t\t\t\ttutorial: launchFirstCampaign,\r\n\t\t\t},\r\n\t\t\t// {\r\n\t\t\t// \tlabel: 'Receive your bonus',\r\n\t\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t\t// \ticon: BonusEddie,\r\n\t\t\t// \tcheck: false,\r\n\t\t\t// },\r\n\t\t],\r\n\t\tpublisher: [\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\t\tcontent: (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{t('TUTORIAL_CONFIRM_EMAIL_CONTENT')}\r\n\t\t\t\t\t\t{emailProvider\r\n\t\t\t\t\t\t\t? t('TUTORIAL_CONFIRM_EMAIL_CONTENT_GO_TO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\t\t\tkey='confirm-mail-link'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`https://${emailProvider}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{emailProvider}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\t\ticon: EmailEddie,\r\n\t\t\t\tcheck: hasConfirmedEmail,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\r\n\t\t\t\ticon: CreateEddie,\r\n\t\t\t\tcheck: hasCreatedAdSlot,\r\n\t\t\t\ttutorial: createAdSlot,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\r\n\t\t\t\ticon: PlaceEddie,\r\n\t\t\t\tcheck: hasImpressions,\r\n\t\t\t\ttutorial: placeAdSlot,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\r\n\t\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\r\n\t\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\r\n\t\t\t\ticon: LaunchEddie,\r\n\t\t\t\tcheck: has5000Impressions,\r\n\t\t\t},\r\n\t\t\t// {\r\n\t\t\t// \tlabel: 'Receive your bonus',\r\n\t\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t\t// \ticon: BonusEddie,\r\n\t\t\t// \tcheck: false,\r\n\t\t\t// },\r\n\t\t],\r\n\t}\r\n\tconst indexOfFirstIncompleteStep = steps[side].findIndex(step => !step.check)\r\n\tconst [activeStep, setActiveStep] = React.useState(0)\r\n\r\n\tconst handleStep = step => () => {\r\n\t\tsetActiveStep(step)\r\n\t}\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep(activeStep + 1)\r\n\t}\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep(activeStep - 1)\r\n\t}\r\n\r\n\tconst handleDismiss = () => {\r\n\t\tsetActiveStep(0)\r\n\t\texecute(hideGettingStarted())\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tsetActiveStep(\r\n\t\t\tindexOfFirstIncompleteStep !== -1\r\n\t\t\t\t? indexOfFirstIncompleteStep\r\n\t\t\t\t: steps[side].length - 1\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [indexOfFirstIncompleteStep])\r\n\t// TODO: wait for the data to be loaded before displaying the getting started\r\n\treturn (\r\n\t\t!isGettingStartedHidden &&\r\n\t\t(steps[side] && (\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={() => setExpanded(!expanded)}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\r\n\t\t\t\t\t\taria-controls='expand-getting-started'\r\n\t\t\t\t\t\tid='getting-started-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\r\n\t\t\t\t\t\t\t\t{t('GETTING_STARTED_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{steps[side].map(({ label, icon, check }, index) => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = check ? Star : StarBorder\r\n\t\t\t\t\t\t\t\t\tconst color = check ? 'secondary' : 'inherit'\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon color={color} key={index} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\r\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\r\n\t\t\t\t\t\t\t\t\t\ticon={steps[side][activeStep].icon}\r\n\t\t\t\t\t\t\t\t\t\tcompleted={steps[side][activeStep].check}\r\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\t\t\t\tclassName={classes.root}\r\n\t\t\t\t\t\t\t\t\tsteps={steps[side].length}\r\n\t\t\t\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tnextButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === steps[side].length - 1}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbackButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\t\t\t\tnonLinear\r\n\t\t\t\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{steps[side].map(({ label, icon, check }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\r\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveStep + 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsteps[side][activeStep].label || '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].check ? t('COMPLETED') : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].check ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].contentCompleted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].content}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].tutorial &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsteps[side][activeStep].tutorial()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</Box>\r\n\t\t))\r\n\t)\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign, {\r\n\tCampaignReceipt,\r\n} from 'components/dashboard/containers/Campaign'\r\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tCampaignsTable,\r\n\tAdSlotsTable,\r\n\tAdUnitsTable,\r\n} from 'components/dashboard/containers/Tables'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tanalyticsCampaignsLoop,\r\n} from 'services/store-data/analytics'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Box from '@material-ui/core/Box'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tupdateNav,\r\n\tgetAllItems,\r\n\tupdateSlotsDemandThrottled,\r\n\texecute,\r\n\tresolveEnsAddress,\r\n\tupdatePrivilegesWarningAccepted,\r\n\tupdateAccountIdentityData,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectPrivilegesWarningAccepted,\r\n\tselectPublisherMinRevenueReached,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport GettingStarted from '../getting-started/GettingStarted'\r\n\r\nconst Campaigns = () => {\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst disabled = privileges <= 1\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<NewCampaignDialog\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tfabButton\r\n\t\t\t\tvariant='extended'\r\n\t\t\t\taccent\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t/>\r\n\t\t\t<CampaignsTable />\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdUnits = () => (\r\n\t<>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t/>\r\n\t\t<AdUnitsTable />\r\n\t</>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\taccent\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t/>\r\n\t\t<AdSlotsTable />\r\n\t</>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\tconst [dataLoaded, setDataLoaded] = useState(false)\r\n\tconst address = useSelector(selectAccountIdentityAddr)\r\n\tconst minPublisherRevenueReached = useSelector(\r\n\t\tselectPublisherMinRevenueReached\r\n\t)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\r\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(resolveEnsAddress({ address }))\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function updateInitialData() {\r\n\t\t\texecute(updateAccountIdentityData())\r\n\t\t\texecute(updateSlotsDemandThrottled())\r\n\t\t\texecute(updateNav('side', side))\r\n\t\t\texecute(getAllItems())\r\n\r\n\t\t\t// NOTE: await for stats (withBalance.all)\r\n\t\t\t// needed for publisher analytics\r\n\t\t\tawait statsLoop.start()\r\n\t\t\tawait analyticsLoop.start()\r\n\r\n\t\t\t//NOTE: await fo campaign analytics first\r\n\t\t\t// because of the campaigns table data update fix\r\n\t\t\tawait analyticsCampaignsLoop.start()\r\n\t\t\tawait campaignsLoop.start()\r\n\t\t\tsetDataLoaded(true)\r\n\t\t}\r\n\r\n\t\tupdateInitialData()\r\n\r\n\t\treturn () => {\r\n\t\t\tanalyticsLoop.stop()\r\n\t\t\tanalyticsCampaignsLoop.stop()\r\n\t\t\tcampaignsLoop.stop()\r\n\t\t\tstatsLoop.stop()\r\n\t\t}\r\n\t}, [side])\r\n\r\n\tuseEffect(() => {}, [match, mobileOpen])\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t\t{showTxPrivLevelWarning && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\r\n\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && !minPublisherRevenueReached && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Alert variant='outlined' severity='warning'>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{t('PUBLISHER_REVENUE_NOTICE', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='publisher-revenue-notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tunderline='always'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012285459-Mandatory-verification-for-publishers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{<strong>{t('HERE')}</strong>}\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\r\n\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\r\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/receipt/:itemId'\r\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\r\n\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet, identity } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\tlogOut()\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\r\n\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto='/side-select'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport Box from '@material-ui/core/Box'\r\nimport {\r\n\taddToast,\r\n\tupdateIdentity,\r\n\tupdateIdentityWallet,\r\n\texecute,\r\n} from 'actions'\r\nimport { t, selectIdentity } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthMetamask(props) {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\r\n\tconst { address } = wallet\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\t// const [stats, setStats] = useState(null)\r\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\r\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProvider()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\tconst checkMetamask = async () => {\r\n\t\tsetWaitingAddrsData(true)\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: authType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tauthType,\r\n\t\t\t\tgetFullBalances: true,\r\n\t\t\t})\r\n\r\n\t\t\texecute(updateIdentity('stats', stats))\r\n\t\t\tsetWaitingAddrsData(false)\r\n\r\n\t\t\texecute(\r\n\t\t\t\tupdateIdentityWallet({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Error: catch', err)\r\n\t\t\tsetWaitingMetamaskAction(false)\r\n\t\t\tsetWaitingAddrsData(false)\r\n\t\t\texecute(\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingMetamaskAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'metamask logo'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthMetamask\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions, { execute, login } from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\t// componentDidUpdate = () => {\r\n\t\t// \tconst { account } = this.props\r\n\t\t// \tif (account.wallet.authSig) {\r\n\t\t// \t\texecute(push('/side-select'))\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tsave = async () => {\r\n\t\t\texecute(login())\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\texecute(push('/'))\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\r\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t{!this.state.waitingAddrsData &&\r\n\t\t\t\t\t\t\t\t\t!this.state.waitingTrezorAction && (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography variant='subtitle1'>{t('LEDGER_INFO')}</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\tkey='auth-ledger'\r\n\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocationQuery } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod() {\r\n\tconst classes = useStyles()\r\n\tconst query = useSelector(selectLocationQuery)\r\n\tconst method = query['external']\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\r\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\r\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport {\r\n\texecute,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tupdateIdentity,\r\n} from 'actions'\r\n\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\r\n\t]\r\n\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\tpassword,\r\n\t\tpasswordCheck,\r\n\t\ttosCheck,\r\n\t\taccessWarningCheck,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner || sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\r\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_QUICK_CHECK')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\texecute,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tupdateIdentity,\r\n} from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst FulInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet = {} } = identity\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\t// Errors\r\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{walletAddress}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\r\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\r\n\t]\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { push } from 'connected-react-router'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\texecute,\r\n\tupdateIdentity,\r\n\townerIdentities as updateOwnerIdentities,\r\n} from 'actions'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectIdentity,\r\n\tt,\r\n\tselectSearchParams,\r\n\tselectRegistrationAllowed,\r\n} from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: id.ens\r\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\r\n\t\t\t\t  })\r\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\r\n\t\t\t\t  }),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst {\r\n\t\twalletAddr,\r\n\t\twallet = {},\r\n\t\townerIdentities,\r\n\t\tidentityContractAddress,\r\n\t} = identity\r\n\tconst walletAddress = wallet.address || walletAddr\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\r\n\t)\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\r\n\tconst searchParams = useSelector(selectSearchParams)\r\n\tsearchParams.set('step', '1')\r\n\r\n\tconst search = searchParams.toString()\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(\r\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\r\n\t\t)\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{showRegistration && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { selectLocationQuery } from 'selectors'\r\n\r\nclass IdentitySteps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tpages: this.mapPages(),\r\n\t\t}\r\n\r\n\t\t// TODO: Check if it is possible to need state update\r\n\t}\r\n\r\n\tmapPages = () => {\r\n\t\tconst {\r\n\t\t\tGoBtn,\r\n\t\t\tcancelFunction,\r\n\t\t\tt,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages = [],\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tconst pages = stepsPages.map((page, index) => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelFunction,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page),\r\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\r\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\r\n\t\t\t\tpageValidation: page.pageValidation,\r\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\r\n\t\t\t\tcompleteBtn: page.final\r\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t\t\t: undefined,\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn pages\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { initialPage } = this.props\r\n\t\treturn (\r\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentitySteps.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\treturn {\r\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentitySteps)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: spacing,\r\n\t\t\tbottom: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh',\r\n\t\t},\r\n\t\tformControl: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\tinfoPaper: {\r\n\t\t\t...theme.mixins.gutters(),\r\n\t\t\tpaddingTop: spacing * 2,\r\n\t\t\tpaddingBottom: spacing * 2,\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tdisplay: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport AuthMethod from './ownerAuth/AuthMethod'\r\nimport QuickInfo from './QuickInfo'\r\nimport FullInfo from './FullInfo'\r\nimport QuickLogin from './QuickLogin'\r\nimport FullLogin from './FullLogin'\r\nimport IdentitySteps from './IdentitySteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateFullInfo,\r\n\tvalidateContractOwner,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<IdentitySteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tstepsPages={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tpage: AuthMethod,\r\n\t\t\t\t\tpageValidation: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tpage: FullLogin,\r\n\t\t\t\t\tpageValidation: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateStandardIdentity = props => {\r\n\treturn (\r\n\t\t<IdentitySteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-create'\r\n\t\t\tstepsPages={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tpage: AuthMethod,\r\n\t\t\t\t\tpageValidation: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'FULL_INFO',\r\n\t\t\t\t\tpage: FullInfo,\r\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\r\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tpage: QuickInfo,\r\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tpage: QuickLogin,\r\n\t\t\t\tpageValidation: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialog: {\r\n\t\theight: '100vh',\r\n\t\twidth: theme.maxWidth || 1200,\r\n\t\tmaxWidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n\tupdateEasterEggsAllowed,\r\n\thandleRedirectParams,\r\n\thandleSignupLink,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\tLoginStandardIdentity,\r\n\tCreateStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedCreateStandardIdentity = ConnectHoc(\r\n\tJustDialog(CreateStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = async wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tawait migrateLegacyWallet({ email, password })\r\n\t\tawait removeLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getRelayerConfig())\r\n\t\texecute(metamaskChecks())\r\n\t\texecute(handleRedirectParams(location.search))\r\n\t\texecute(handleSignupLink(location.search))\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t\texecute(updateEasterEggsAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\r\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/quick'\r\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/full'\r\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<PageNotFound />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import React, { Component } from 'react'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI } from './themeMUi'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\n\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n\tresetChannelsWithBalanceAll,\r\n\tresetChannelsWithOutstandingBalance,\r\n\tresetAllNewTransaction,\r\n} from 'actions'\r\n\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tanalyticsCampaignsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\n\r\nexport const logOut = skipRedirect => {\r\n\tanalyticsLoop.stop()\r\n\tanalyticsCampaignsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAccount())\r\n\texecute(resetAnalytics())\r\n\texecute(resetChannelsWithBalanceAll())\r\n\texecute(resetChannelsWithOutstandingBalance())\r\n\texecute(resetAllNewTransaction())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport AdExENSManager from './abi/AdExENSManager.json'\r\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExENSManager: {\r\n\t\taddress: process.env.ADEX_ENS_ADDR,\r\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\r\n\t\tabi: AdExENSManager,\r\n\t},\r\n\tReverseRegistrar: {\r\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\r\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\r\n\t\tabi: ReverseRegistrar,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import crypto from 'crypto'\r\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tgetAddress,\r\n} from 'ethers/utils'\r\nimport {\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n\tselectMainToken,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\r\nimport { getState } from 'store'\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst IdentityInterface = new Interface(IdentityABI)\r\n\r\nconst timeframe = 15 * 1000 // 1 event per 15 seconds\r\nconst VALID_UNTIL_COEFFICIENT = 0.5\r\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\r\nconst OUTSTANDING_STATUSES = {\r\n\tActive: true,\r\n\tReady: true,\r\n\tExhausted: true,\r\n\tOffline: true,\r\n\tUnhealthy: true,\r\n\tWithdraw: true,\r\n}\r\n\r\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - activeFrom\r\n\tconst validUntil =\r\n\t\twithdrawPeriodStart +\r\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(\r\n\t\tnewCampaign.activeFrom,\r\n\t\tnewCampaign.withdrawPeriodStart\r\n\t)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = parseUnits(\r\n\t\tnewCampaign.depositAmount || '0',\r\n\t\tmainToken.decimals\r\n\t).toString()\r\n\r\n\tconst validators = newCampaign.validators.map(v => {\r\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\r\n\t\tconst fee = deposit\r\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\r\n\t\t\t.div(bigNumberify(v.feeDen || 1))\r\n\t\t\t.toString()\r\n\r\n\t\tconst validator = {\r\n\t\t\tid: v.id,\r\n\t\t\turl: v.url,\r\n\t\t\tfee,\r\n\t\t}\r\n\r\n\t\tif (v.feeAddr) {\r\n\t\t\tvalidator.feeAddr = v.feeAddr\r\n\t\t}\r\n\r\n\t\treturn validator\r\n\t})\r\n\r\n\tnewCampaign.validators = validators\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(\r\n\t\tnewCampaign.minPerImpression || '0',\r\n\t\tmainToken.decimals\r\n\t)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Active',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tAdExCore,\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\treturn bigNumberify(balance).sub(\r\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\r\n\t)\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\r\n\tconst { authType } = wallet\r\n\tconst channels = await getAllCampaigns({ all: true, byEarner: identityAddr })\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst allChannels = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ bTree }) => {\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(\r\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\r\n\t\t\t\t\t//  mTree,\r\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\tAdExCore,\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tconst outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t\toutstanding,\r\n\t\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\r\n\tconst all = Object.assign(\r\n\t\t{},\r\n\t\t...allChannels.map(c => {\r\n\t\t\tconst { channel, balance } = c\r\n\t\t\tconst { id, depositAmount, depositAsset, status } = channel\r\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\treturn {\r\n\t\t\t\t[c.channel.id.toLowerCase()]: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tdepositAsset,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\tstatus: status.name,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n\r\n\tconst withOutstandingBalance = allChannels.filter(x => {\r\n\t\treturn (\r\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\r\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\r\n\t\t\t\tDate.now() &&\r\n\t\t\tx.outstanding.gt(\r\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\r\n\t\t\t) &&\r\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\r\n\t\t)\r\n\t})\r\n\r\n\treturn { all, withOutstandingBalance }\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\r\n\tconst { eligible } = withBalance\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\r\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\r\n\t\t\t)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\tlastApprovedBalances,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\r\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction is41identity(routineAuthTuple) {\r\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\r\n\r\n\treturn is41\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\tis41identity(routineAuthTuple) &&\r\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { wallet, identity } = account\r\n\t// TODO: pass withBalance as prop\r\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\r\n\r\n\tconst { AdExCore } = await getEthers(wallet.authType)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twithBalance,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\toutstanding,\r\n\t\t\t// outstandingAvailable,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\t// TODO: currently work only for SAI to DAI swap\r\n\t\t\tif (\r\n\t\t\t\tbalance.token.address !== mainToken.address &&\r\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\r\n\t\t\t\tbalance.token.address === saiToken.address\r\n\t\t\t) {\r\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\t\tbalance.balanceMainToken\r\n\t\t\t\t)\r\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\t}\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: bigNumberify(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\r\n\tconst {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\r\n\r\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\r\n\r\n\tconst txns = []\r\n\r\n\tif (hasIdentityChannelOpen) {\r\n\t\tconst identityChannelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: identityAddr,\r\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\r\n\t\t\t\tAdExCore.address,\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t\textraTxFeesCount: 1,\r\n\t\t}\r\n\t\ttxns.push(identityChannelOpenTx)\r\n\t} else {\r\n\t\tconst approveTxns = await getApproveTxns({\r\n\t\t\tgetToken,\r\n\t\t\ttoken: mainToken,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tapproveForAddress: AdExCore.address,\r\n\t\t\tapproveAmount: depositAmount,\r\n\t\t})\r\n\r\n\t\tconst channelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\r\n\t\t}\r\n\t\ttxns.push(...approveTxns, channelOpenTx)\r\n\t}\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\r\n\tconst bigZero = bigNumberify(0)\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\r\n\t\t? bigZero\r\n\t\t: mtBalance.sub(totalBN)\r\n\tconst maxAvailableFormatted = formatTokenAmount(\r\n\t\tmaxAvailable.toString(),\r\n\t\tmainToken.decimals || 18,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfeesFormatted: total,\r\n\t\t\tfees: totalBN,\r\n\t\t\tmaxAvailable,\r\n\t\t\tmaxAvailableFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\tconst storeCampaign = { ...readyCampaign }\r\n\tstoreCampaign.spec = { ...openReady.spec }\r\n\treturn {\r\n\t\tresult,\r\n\t\tstoreCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\nimport { t } from 'selectors'\r\n\r\nexport const handleRequesterErrorRes = ({ res, text }) => {\r\n\tlet message = text\r\n\ttry {\r\n\t\tconst textObj = JSON.parse(text)\r\n\t\tmessage =\r\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\r\n\t} catch {}\r\n\r\n\tthrow new Error(\r\n\t\tt('SERVICE_ERROR_MSG', {\r\n\t\t\targs: [res.url, res.status, res.statusText, message],\r\n\t\t})\r\n\t)\r\n}\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\nexport * from './requester'\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n\r\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString,\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\t// We want truncated not rounded\r\n\t\treturn parseFloat(formatted)\r\n\t\t\t.toFixed(toFixed + 4)\r\n\t\t\t.slice(0, -4)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '', joinSymbol = '...') => {\r\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n\r\nexport const formatFloatNumberWithCommas = x => {\r\n\tconst parts = x.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n\treturn parts.join('.')\r\n}\r\n\r\nexport const formatNumberWithoutCommas = x => {\r\n\treturn x\r\n\t\t.toString()\r\n\t\t.split(',')\r\n\t\t.join('')\r\n}\r\n\r\nexport const formatAbbrNum = (number, decPlaces) => {\r\n\t// 2 decimal places => 100, 3 => 1000, etc\r\n\tdecPlaces = Math.pow(10, decPlaces)\r\n\r\n\t// Enumerate number abbreviations\r\n\tvar abbrev = ['k', 'm', 'b', 't']\r\n\r\n\t// Go through the array backwards, so we do the largest first\r\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\r\n\t\t// Convert array index to \"1000\", \"1000000\", etc\r\n\t\tvar size = Math.pow(10, (i + 1) * 3)\r\n\r\n\t\t// If the number is bigger or equal do the abbreviation\r\n\t\tif (size <= number) {\r\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\r\n\t\t\t// This gives us nice rounding to a particular decimal place.\r\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\r\n\r\n\t\t\t// Handle special case where we round up to the next abbreviation\r\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\r\n\t\t\t\tnumber = 1\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\r\n\t\t\t// Add the letter for the abbreviation\r\n\t\t\tnumber += abbrev[i]\r\n\r\n\t\t\t// We are done... stop\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn number\r\n}\r\n\r\nexport const truncateString = (string, maxLength = 50) => {\r\n\tif (!string) return ''\r\n\tif (string.length <= maxLength) return string\r\n\treturn `${string.substring(0, maxLength).trim()}...`\r\n}\r\n","import Loop from './loop'\r\nimport {\r\n\texecute,\r\n\tupdateAccountAnalytics,\r\n\tupdateAccountCampaignsAnalytics,\r\n} from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 120 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: () => execute(updateAccountAnalytics()),\r\n\tloopName: '_ANALYTICS',\r\n})\r\n\r\nconst analyticsCampaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () => await execute(updateAccountCampaignsAnalytics()),\r\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\r\n})\r\n\r\nexport { analyticsLoop, analyticsCampaignsLoop }\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '' }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tawait this.syncAction()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tstart = async () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tawait this.startLoop()\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n","import adexTranslations from 'adex-translations'\r\nimport { removeTags } from 'helpers/sanitizer'\r\nimport { isValidElement, cloneElement } from 'react'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\r\n\tconst parts = tpl.split(pattern)\r\n\r\n\tconst interpolated = parts.map((p, i) => {\r\n\t\tconst element = args[p] || p\r\n\t\tif (isValidElement(element) && !element.key) {\r\n\t\t\tconst withKey = cloneElement(element, { key: i })\r\n\r\n\t\t\treturn withKey\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t})\r\n\r\n\tif (interpolated.every(i => typeof i === 'string')) {\r\n\t\treturn interpolated.join('')\r\n\t}\r\n\r\n\treturn interpolated\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''] } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = removeTags(translations[language][key] || val)\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\tconst translatedArgs = args.map(a => {\r\n\t\t\tif (typeof a === 'string') {\r\n\t\t\t\treturn translations[language][a] || a\r\n\t\t\t} else {\r\n\t\t\t\treturn a\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","export const removeTags = dirty => {\r\n\tif (!dirty || typeof dirty !== 'string') return ''\r\n\r\n\treturn (\r\n\t\tdirty\r\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\r\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\r\n\t\t\t// Strip any remaining HTML tags\r\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\r\n\t\t\t// Replace {strong} ... with <strong> ...\r\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\r\n\t)\r\n}\r\n","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = async (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = async (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\r\n\t'IMPRESSION', //\r\n\t'CLICK',\r\n]\r\n\r\n// TEMP: disable long periods\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t// { label: 'LABEL_MONTH', value: 'month' },\r\n\t// { label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n\r\nexport const WALLET_ACTIONS_MSGS = {\r\n\t[AUTH_TYPES.METAMASK.name]: [\r\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\r\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\r\n\t],\r\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.QUICK.name]: [\r\n\t\t{ message: 'QUICK_WAITING_MSG' },\r\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\r\n\t],\r\n\t[AUTH_TYPES.GRANT.name]: [\r\n\t\t{ message: 'GRANT_WAITING_MSG' },\r\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\r\n\t],\r\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\r\n}\r\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj(),\r\n\t},\r\n\tcurrentItem: {},\r\n\tselectedItems: {\r\n\t\tcampaings: [],\r\n\t\tadUnits: [],\r\n\t\tslots: [],\r\n\t},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {\r\n\t\tglobal: {},\r\n\t\tbyIdentity: {},\r\n\t},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: { timeframe: 'day' },\r\n\tchannels: {\r\n\t\twithBalanceAll: {},\r\n\t\twithOutstandingBalance: [],\r\n\t},\r\n\tensAddresses: {},\r\n}\r\n\r\nexport default initialState\r\n","import { createHashHistory } from 'history'\r\n\r\nconst history = createHashHistory()\r\n\r\nexport default history\r\n","import Loop from './loop'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\n// 30 seconds = market statusLoopTick\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst syncCampaigns = () => {\r\n\texecute(updateUserCampaigns())\r\n}\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: () => syncCampaigns(),\r\n\tloopName: '_CAMPAIGNS',\r\n})\r\n\r\nexport { campaignsLoop }\r\n","import Loop from './loop'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () => await execute(updateAccountStats()),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n})\r\n\r\nexport default accountStatsLoop\r\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectCompanyData, selectAccountIdentityAddr } from 'selectors'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGlobalUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUiByIdentity(item, value, category) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\r\n\t\t\tidentity,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn async function(dispatch) {\r\n\t\treturn await dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateCompanyData(newData) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst companyData = selectCompanyData(getState())\r\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\r\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_COMPANY_DATA'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateSelectedItems(collection, selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\r\n\t\t\tselectedItems,\r\n\t\t\tcollection,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateSelectedCampaigns(selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version }) {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (caches) {\r\n\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{translate('REFRESH')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\targs: [version],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function notifyNewTOS() {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{translate('TOS_CHECK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: translate('NOTIFICATION_NEW_TOS', {\r\n\t\t\t\t\targs: [translate('TOS_CHECK')],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function handleRedirectParams(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('confirm-email')\r\n\t\tconst identity = searchParams.get('confirm-identity')\r\n\t\tconst grant = searchParams.get('confirm-grant')\r\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\r\n\r\n\t\tif (email && identity && !grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\r\n\t\t\t\t\targs: [email, identity],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} else if (email && identity && grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\r\n\t\t\t\t\targs: [email, identity, grant],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateEasterEggsAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (\r\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\r\n\t\t\tprocess.env.EASTER_EGGS_VALUE\r\n\t\t) {\r\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updatePrivilegesWarningAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function hideGettingStarted() {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('hideGettingStarted', true)(dispatch, getState)\r\n\t}\r\n}\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import { parseUnits, bigNumberify } from 'ethers/utils'\r\n\r\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\r\n\tif (numStr === null || numStr === undefined) {\r\n\t\treturn numStr\r\n\t}\r\n\r\n\treturn parseUnits(numStr, decimals)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tuploadImage,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n} from 'services/adex-market/actions'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\n\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\r\n\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport { selectRelayerConfig, selectAuthSig, selectMainToken } from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// register item\r\nexport function addUnit(item) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function addSlot(item) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tif (newItem.minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\r\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\r\n\r\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, itemType } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { id } = item\r\n\t\tupdateSpinner('update' + id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { mainToken } = selectRelayerConfig()\r\n\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tif (typeof newItem.temp.minPerImpression === 'string') {\r\n\t\t\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\t\tnumStr: newItem.temp.minPerImpression,\r\n\t\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof newItem.temp.website === 'string') {\r\n\t\t\t\t\t\tnewItem.website = newItem.temp.website\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewItem.website = null\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\r\n\t\t\t\t\t\t.campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\r\n\t\terrMsg: 'ERR_RESTORING_ITEM',\r\n\t})\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner, updateGlobalUi } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport { addToast, confirmAction } from './uiActions'\r\nimport {\r\n\tgetEthers,\r\n\tgetEthereumProvider,\r\n\tethereumSelectedAddress,\r\n\tethereumNetworkId,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectSearchParams,\r\n\tselectAuthType,\r\n\tselectAccountIdentity,\r\n\tselectLoginDirectSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n\tCREATING_SESSION,\r\n\tQUICK_WALLET_BACKUP,\r\n\tUPDATING_ACCOUNT_IDENTITY,\r\n} from 'constants/spinners'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithBalanceAll(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithBalanceAll() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithOutstandingBalance(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithOutstandingBalance() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst { identity, wallet } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t\twallet,\r\n\t\t\t})\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twallet,\r\n\t\t\t\taddress,\r\n\t\t\t\twithBalance: withOutstandingBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t\tall,\r\n\t\t\t})\r\n\t\t\tawait updateChannelsWithBalanceAll(all)(dispatch)\r\n\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\r\n\t\t\t\tdispatch\r\n\t\t\t)\r\n\t\t\tawait updateAccount({\r\n\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountIdentityData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t\tconst identity = selectAccountIdentity(getState())\r\n\r\n\t\ttry {\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identity.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst updatedIdentity = { ...identity }\r\n\r\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\r\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\r\n\t\t\tupdatedIdentity.relayerData = relayerData\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { identity: updatedIdentity },\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tawait removeLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst side = selectLoginDirectSide(getState())\r\n\r\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\r\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(push('/side-select'))\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function getNetworkId() {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\treturn networkId\r\n}\r\n\r\nasync function getNetworkData({ id }) {\r\n\tconst networkId = id || (await getNetworkId())\r\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\r\n\r\n\treturn network\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst searchParams = selectSearchParams(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst isMetamaskMatters =\r\n\t\t\t(authType === AUTH_TYPES.METAMASK.name ||\r\n\t\t\t\t(!authType && searchParams.get('external') === 'metamask')) &&\r\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name\r\n\r\n\t\tif (\r\n\t\t\tisMetamaskMatters &&\r\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = accountAddress => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress || address !== accountAddress)\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst address = await ethereumSelectedAddress()\r\n\t\tonMetamaskAccountChange(address)(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(_, getState) {\r\n\t\tmetamaskNetworkCheck()(_, getState)\r\n\t\tmetamaskAccountCheck()(_, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('networkChanged', network => {\r\n\t\t\t\tconsole.log('networkChanged', network)\r\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = await getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = await getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { updateSpinner } from './uiActions'\r\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\nimport { bigNumberify, parseUnits } from 'ethers/utils'\r\nimport { validations, Joi, schemas, constants } from 'adex-models'\r\nimport { validPassword } from 'helpers/validators'\r\nimport { t, selectAuthType } from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getEmail } from 'services/adex-relayer/actions'\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst { campaignPut, account } = schemas\r\nconst { isNumberString } = validations\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst authType = selectAuthType(getState())\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (validate) {\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const handleAfterValidation = async ({\r\n\tisValid,\r\n\tonValid,\r\n\tonInvalid,\r\n}) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tawait onValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tawait onInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateENS({ ens, dirty, validate, name }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { authType } = getState().persist.account.wallet\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await freeAdExENS({\r\n\t\t\t\tens,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\t\t\tupdateSpinner(name, false)(dispatch)\r\n\t\t\tif (validate)\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ENS_ADDRESS', error)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ENS_ADDRESS', { args: [error] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\nexport function validateWallet(validateId, wallet, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!wallet && !!wallet.address\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateIdentityContractOwner(\r\n\tvalidateId,\r\n\tidentityContractOwner,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!identityContractOwner\r\n\t\tvalidate(validateId, 'identityContractOwner', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateAccessWarning(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'accessWarningCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignUnits(validateId, adUnits, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!adUnits && adUnits.length\r\n\t\tvalidate(validateId, 'adUnits', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!!validators &&\r\n\t\t\tvalidators.length === 2 &&\r\n\t\t\t!!validators[0] &&\r\n\t\t\t!!validators[1] &&\r\n\t\t\t!!validators[0].id &&\r\n\t\t\t!!validators[0].url &&\r\n\t\t\tvalidators[0].feeNum !== undefined &&\r\n\t\t\tvalidators[0].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined &&\r\n\t\t\t!!validators[1].id &&\r\n\t\t\t!!validators[1].url &&\r\n\t\t\tvalidators[1].feeNum !== undefined &&\r\n\t\t\tvalidators[1].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined\r\n\r\n\t\tvalidate(validateId, 'validators', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst validateAmounts = ({\r\n\tmaxDeposit = bigNumberify(0),\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n}) => {\r\n\tlet error = null\r\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\r\n\t\t\tprop: 'depositAmount',\r\n\t\t}\r\n\t}\r\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t}\r\n\tif (depositAmount.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t}\r\n\tif (minPerImpression.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateWithdrawAmount({\r\n\tvalidateId,\r\n\tamountToWithdraw,\r\n\tavailableIdentityBalanceMainTokenRaw,\r\n\tavailableIdentityBalanceMainTokenFormatted,\r\n\tdecimals,\r\n\tsymbol,\r\n\terrorMsg,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = isNumberString(amountToWithdraw)\r\n\r\n\t\tlet msg = errorMsg || 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet args = []\r\n\t\tlet amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\r\n\t\tif (errorMsg) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = errorMsg\r\n\t\t} else if (isValid && amount.isZero()) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\r\n\t\t} else if (\r\n\t\t\tisValid &&\r\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'amountToWithdraw', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateNumberString({ validateId, prop, value, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = isNumberString(value)\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_INVALID_AMOUNT' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAmount({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\terrMsg,\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n\tmaxDeposit,\r\n\tdecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValidNumber = isNumberString(value)\r\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\r\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\r\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\r\n\r\n\t\t\tconst isValidDeposit = isNumberString(deposit)\r\n\t\t\tconst isValidMin = isNumberString(min)\r\n\r\n\t\t\tif (isValidDeposit && isValidMin) {\r\n\t\t\t\tconst result = validateAmounts({\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\r\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\r\n\t\t\t\t})\r\n\r\n\t\t\t\tisValid = !result.error\r\n\t\t\t\tmsg = result.error ? result.error.message : ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\r\n\r\nconst getCampaignDatesValidation = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\r\n\t} else if (\r\n\t\twithdrawPeriodStart &&\r\n\t\tactiveFrom &&\r\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\r\n\t) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\r\n\t\t\targs: ['1', 'HOUR'],\r\n\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t}\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateCampaignDates({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n\tcreated,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst withdraw =\r\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\r\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\r\n\r\n\t\tconst result = getCampaignDatesValidation({\r\n\t\t\twithdrawPeriodStart: withdraw,\r\n\t\t\tactiveFrom: from,\r\n\t\t\tcreated,\r\n\t\t})\r\n\r\n\t\tvalidate(validateId, 'activeFrom', {\r\n\t\t\tisValid: !!from,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\r\n\t\t\terr: {\r\n\t\t\t\tmsg: result.error ? result.error.message : '',\r\n\t\t\t\targs: result.error && (result.error.args || []),\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignTitle({ validateId, title, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst result = Joi.validate(title, campaignPut.title)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tvalidate(validateId, 'title', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEthAddress({\r\n\tvalidateId,\r\n\tprop,\r\n\taddr,\r\n\tnonZeroAddr = true,\r\n\tnonERC20 = true,\r\n\tdirty,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { msg } = await validEthAddress({\r\n\t\t\taddr,\r\n\t\t\tnonZeroAddr,\r\n\t\t\tnonERC20,\r\n\t\t\tauthType,\r\n\t\t})\r\n\r\n\t\tconst isValid = !msg\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesAddress({\r\n\tvalidateId,\r\n\tsetAddr = '',\r\n\twalletAddr = '',\r\n\tprivLevel,\r\n\tauthType,\r\n\twarningAccepted,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isCurrentAddress =\r\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\r\n\t\tlet isValid = warningAccepted || !isCurrentAddress\r\n\r\n\t\tlet msg = ''\r\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\r\n\t\tif (isCurrentAddress && privLevel === 0) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\r\n\t\t} else if (isCurrentAddress && privLevel === 1) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\r\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\r\n\t\t\tisValid = true\r\n\t\t} else if (!isCurrentAddress) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'setAddrWarning', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn { isValid, msg }\r\n\t}\r\n}\r\n\r\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\r\n\t\tawait validate(validateId, 'privLevel', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(value, schema)\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(email, account.email)\r\n\t\tlet isValid = !result.error\r\n\t\tlet msg = result.error ? result.error.message : ''\r\n\r\n\t\tif (validateNotExisting && isValid) {\r\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\r\n\t\t\tisValid = existing === false\r\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { createSession } from './accountActions'\r\n\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\taddIdentityENS,\r\n\tsetIdentityPrivilege,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport { selectAccount, selectIdentity, selectAuthType } from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tvalidateWallet,\r\n\tvalidateIdentityContractOwner,\r\n\tvalidateAccessWarning,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tGETTING_OWNER_IDENTITIES,\r\n\tUPLOADING_ACCOUNT_DATA,\r\n} from 'constants/spinners'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = ev => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function setIdentityENS({ username }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await addIdentityENS({\r\n\t\t\t\tusername,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('ENS_SETUP_NOTIFICATION', { args: [username] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SETTING_ENS', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdrawAny({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t\ttokenDecimals,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner, authType }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst data = Object.entries(identityData).map(\r\n\t\t\t\tasync ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tens,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail: email.toLowerCase(),\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\taddress: relayerData.deployData._id,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\r\n\t\t\tawait createSession({\r\n\t\t\t\tidentity,\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = await getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = await getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, wallet } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\r\n\t\t\tif (!identityAddr && wallet && !!email) {\r\n\t\t\t\tconst walletAddr = wallet.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, password } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && email && password\r\n\r\n\t\t\tif (!identityAddr && email && password) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = await createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\r\n\t\t\t\tconst identityAddr = txData.identityAddr\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityAddr,\r\n\t\t\t\t})\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = !!identityAddr\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\twallet,\r\n\t\t\tidentityContractOwner,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\ttosCheck,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t// validate wallet again in case of step skip\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\r\n\t\t\t// validate step fields\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateFullDeploy({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tskipSpinnerUpdate: true,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateContractOwner({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityContractOwner, wallet } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityWallet({\r\n\taddress,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\thdWalletAddrIdx,\r\n\tpath,\r\n\tchainId,\r\n\tsignType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst wallet = {\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}\r\n\r\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\r\n\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handleSignupLink(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('signup-email')\r\n\r\n\t\tif (email) {\r\n\t\t\tupdateIdentity('email', email)(dispatch)\r\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resolveEnsAddress({ address }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst authType = selectAuthType(state)\r\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst name = await provider.lookupAddress(address)\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\r\n\t\t\t\titem: address,\r\n\t\t\t\tvalue: name,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_RESOLVING_ENS_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tupdateSpinner,\r\n\taddToast,\r\n\thandleAfterValidation,\r\n\tvalidate,\r\n\tupdateAccountIdentityData,\r\n\tvalidateEthAddress,\r\n\tvalidatePrivilegesAddress,\r\n\tvalidatePrivLevel,\r\n\tvalidateWithdrawAmount,\r\n} from 'actions'\r\nimport {\r\n\tselectNewTransactionById,\r\n\tselectWalletAddress,\r\n\tselectAuthType,\r\n\tselectAccount,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountStatsRaw,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nimport { withdrawFromIdentity } from 'services/smart-contracts/actions/identity'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewTransaction() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\ttxId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: setAddr,\r\n\t\t\t\tprop: 'setAddr',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidatePrivLevel({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst validation = await validatePrivilegesAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\twalletAddr,\r\n\t\t\t\twarningAccepted,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t\tauthType,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tisValid = validation.isValid\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'warningMsg',\r\n\t\t\t\tvalue: validation.msg,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdraw({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\r\n\t\t// const walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateWithdrawAmount({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\ttry {\r\n\t\t\t\tconst feesData = await withdrawFromIdentity({\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewTransaction({\r\n\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\tkey: 'feesData',\r\n\t\t\t\t\tvalue: feesData,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tisValid = false\r\n\r\n\t\t\t\tawait validateWithdrawAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tsymbol,\r\n\t\t\t\t\terrorMsg: getErrorMsg(err),\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import moment from 'moment'\r\n\r\nexport const intervalsMs = () => {\r\n\tconst nowUTC = moment.utc()\r\n\r\n\t// TODO: Make it dynamic\r\n\tconst lastSixHoursPeriod = Math.floor(\r\n\t\t(nowUTC.clone().valueOf() - nowUTC.clone().startOf('day')) /\r\n\t\t\t(6 * 60 * 60 * 1000)\r\n\t)\r\n\treturn {\r\n\t\tlastHour: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.startOf('minute')\r\n\t\t\t\t.subtract(1, 'hours'),\r\n\t\t\tend: moment().startOf('minute'),\r\n\t\t},\r\n\t\tlast24Hours: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'day')\r\n\t\t\t\t.startOf('hour')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.startOf('hour')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlast7Days: {\r\n\t\t\tstart: nowUTC\r\n\t\t\t\t.clone()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\r\n\t\t\t\t.subtract(7, 'days')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: nowUTC\r\n\t\t\t\t.clone()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\r\n\t\t\t\t.add(2, 'hours')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tthisWeek: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.utc()\r\n\t\t\t\t.startOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.utc()\r\n\t\t\t\t.endOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlastWeek: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'week')\r\n\t\t\t\t.startOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.subtract(1, 'week')\r\n\t\t\t\t.endOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tthisMonth: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.startOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.endOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlastMonth: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'month')\r\n\t\t\t\t.startOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.subtract(1, 'month')\r\n\t\t\t\t.endOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const fillEmptyTime = (prevAggr, timeframe, defaultValue) => {\r\n\tconst intervals = intervalsMs()\r\n\tconst time = {\r\n\t\tinterval: intervals.lastHour,\r\n\t\tstep: { ammount: 1, unit: 'minute' },\r\n\t}\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\ttime.interval = intervals.lastHour\r\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\ttime.interval = intervals.last24Hours\r\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\ttime.interval = intervals.last7Days\r\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\treturn prevAggr\r\n\t}\r\n\tconst newAggr = []\r\n\tfor (\r\n\t\tvar m = moment(time.interval.start);\r\n\t\tm.diff(time.interval.end, time.step.unit) <= 0;\r\n\t\tm.add(time.step.ammount, time.step.unit)\r\n\t) {\r\n\t\tnewAggr.push({ value: defaultValue, time: m.unix() * 1000 })\r\n\t}\r\n\r\n\tconst data = [...prevAggr, ...newAggr].reduce((data, a) => {\r\n\t\tconst newData = { ...data }\r\n\t\tconst value = data[a.time] || a.value || defaultValue\r\n\t\tnewData[a.time] = value\r\n\r\n\t\treturn newData\r\n\t}, {})\r\n\r\n\tconst result = Object.entries(data)\r\n\t\t.map(([key, value]) => ({\r\n\t\t\tvalue,\r\n\t\t\ttime: +key,\r\n\t\t}))\r\n\t\t.sort((a, b) => a.time - b.time)\r\n\r\n\treturn result\r\n}\r\n\r\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\r\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n\r\nimport { getAllCampaigns } from './actions'\r\n\r\nexport async function getUnitsStatsByType() {\r\n\tconst { decimals } = selectMainToken()\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst allChannels = await getAllCampaigns()\r\n\r\n\tconst channels = allChannels.filter(\r\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\r\n\t)\r\n\r\n\tconst unitsByType = channels.reduce((units, channel) => {\r\n\t\tconst byType = { ...units }\r\n\t\tchannel.spec.adUnits.forEach(unit => {\r\n\t\t\tbyType[unit.type] = byType[unit.type] || []\r\n\t\t\tbyType[unit.type].push(channel)\r\n\t\t})\r\n\r\n\t\treturn byType\r\n\t}, {})\r\n\r\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\r\n\t\tasync (prevStats, key) => {\r\n\t\t\tconst stats = await prevStats\r\n\t\t\tconst channelsByType = unitsByType[key]\r\n\r\n\t\t\tlet totalPerImpression = bigNumberify('0')\r\n\t\t\tlet totalVolume = bigNumberify('0')\r\n\r\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\r\n\t\t\t\tconst channel = channelsByType[index]\r\n\r\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\r\n\t\t\t\t})\r\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\r\n\t\t\t\t})\r\n\r\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\r\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\r\n\t\t\t}\r\n\r\n\t\t\tconst avgPerImpression = totalPerImpression.div(\r\n\t\t\t\tbigNumberify(channelsByType.length)\r\n\t\t\t)\r\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\r\n\r\n\t\t\tconst statsByType = { ...stats }\r\n\t\t\tstatsByType[key] = {}\r\n\t\t\tstatsByType[key].raw = {\r\n\t\t\t\ttotalVolume,\r\n\t\t\t\tavgPerImpression,\r\n\t\t\t\tavgCPM,\r\n\t\t\t}\r\n\r\n\t\t\tstatsByType[key].formatted = {\r\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\r\n\t\t\t\tavgPerImpression: formatTokenAmount(\r\n\t\t\t\t\tavgPerImpression,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\r\n\t\t\t}\r\n\r\n\t\t\treturn statsByType\r\n\t\t},\r\n\t\tPromise.resolve({})\r\n\t)\r\n\r\n\treturn unitsByTypeStats\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport throttle from 'lodash.throttle'\r\nimport { addToast, removeToast, updateSpinner } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n\tidentityCampaignsAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { fillEmptyTime } from 'helpers/timeHelpers'\r\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectSide,\r\n\tselectAccount,\r\n\tselectAnalyticsTimeframe,\r\n} from 'selectors'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = (timeframe, side) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t\t...(side === 'publisher' &&\r\n\t\t\t\t\tmetric === 'eventPayouts' && { segmentByChannel: true }),\r\n\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\nconst analyticsCampaignsParams = () => {\r\n\tconst callsParams = []\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tcallsParams.push({ eventType })\r\n\t)\r\n\treturn callsParams\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nfunction checkAccountChanged(getState, account) {\r\n\tconst accountCheck = getState().persist.account\r\n\tconst accountChanged =\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nfunction aggrByChannelsSegments({\r\n\taggr,\r\n\tallChannels,\r\n\tfeeTokens,\r\n\twithdrawTokens,\r\n}) {\r\n\tif (!Object.keys(allChannels).length) {\r\n\t\treturn []\r\n\t}\r\n\t// NOTE: No need to sort them again because fillEmptyTime\r\n\t// is sorting by time after adding the empty time values\r\n\tconst { aggregations, all } = aggr\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\t\t.reduce(\r\n\t\t\t(data, a) => {\r\n\t\t\t\tconst { time } = a\r\n\t\t\t\tconst { aggregations, channels, all } = data\r\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\r\n\r\n\t\t\t\tconst { depositAmount, balanceNum, depositAsset, status } =\r\n\t\t\t\t\tallChannels[channelId] || {}\r\n\r\n\t\t\t\tconst { minPlatform, minFinal } = withdrawTokens[depositAsset]\r\n\t\t\t\tconst { min } = feeTokens[depositAsset]\r\n\t\t\t\tconst isExpired = status === 'Expired'\r\n\t\t\t\tconst minBalance = isExpired ? minFinal : minPlatform\r\n\r\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\r\n\r\n\t\t\t\tconst value = bigNumberify(a.value || 0)\r\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\r\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\r\n\r\n\t\t\t\tcurrent.aggr.push({ value, time })\r\n\r\n\t\t\t\tconst currentAggr = aggregations[time] || {\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t}\r\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\r\n\r\n\t\t\t\tconst hasMinBalance = currentChannelValue.gt(bigNumberify(minBalance))\r\n\t\t\t\tconst currentTimeValue = currentAggr.value\r\n\r\n\t\t\t\tcurrent.value = currentChannelValue\r\n\r\n\t\t\t\tif (hasMinBalance && !current.feeSubtracted) {\r\n\t\t\t\t\tcurrent.feeSubtracted = true\r\n\t\t\t\t\tconst currentAvailable = currentChannelValue.sub(bigNumberify(min))\r\n\t\t\t\t\tconst currentAdded = bigNumberify(0)\r\n\t\t\t\t\tconst points = current.aggr\r\n\r\n\t\t\t\t\tfor (let index = points.length - 1; index >= 0; index--) {\r\n\t\t\t\t\t\tconst point = points[index]\r\n\t\t\t\t\t\tcurrentAdded.add(point.value)\r\n\r\n\t\t\t\t\t\tconst curInnerAggr = aggregations[point.time] || {\r\n\t\t\t\t\t\t\ttime,\r\n\t\t\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (currentAdded.lt(currentAvailable)) {\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(point.value)\r\n\t\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(\r\n\t\t\t\t\t\t\t\tcurrentAdded.sub(currentAvailable)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (hasMinBalance && current.feeSubtracted) {\r\n\t\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchannels[channelId] = current\r\n\t\t\t\taggregations[time] = currentAggr\r\n\t\t\t\tall[time] = a.value || all[time]\r\n\r\n\t\t\t\treturn { aggregations, channels, all }\r\n\t\t\t},\r\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\r\n\t\t)\r\n\r\n\t// NOTE: force to null values when value under limits but not naturally 0\r\n\tconst aggrWithNullValues = Object.values(aggregations).map(\r\n\t\t({ time, value }) => {\r\n\t\t\tconst isNull =\r\n\t\t\t\tall[time] === undefined ||\r\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\r\n\t\t\treturn { time, value: isNull ? null : value }\r\n\t\t}\r\n\t)\r\n\r\n\treturn aggrWithNullValues\r\n}\r\n\r\nexport function updateAccountAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\r\n\t\tconst side = selectSide(state)\r\n\t\tconst timeframe = selectAnalyticsTimeframe(state)\r\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\r\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\r\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams(timeframe, side)\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t\tleaderAuth,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(({ aggregates, metric }) => {\r\n\t\t\t\t\t\tconst aggrByChannelSegments =\r\n\t\t\t\t\t\t\tside === 'publisher' && metric === 'eventPayouts'\r\n\t\t\t\t\t\tlet aggr = aggrByChannelSegments\r\n\t\t\t\t\t\t\t? aggrByChannelsSegments({\r\n\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\r\n\t\t\t\t\t\t\t\t\tallChannels,\r\n\t\t\t\t\t\t\t\t\tfeeTokens,\r\n\t\t\t\t\t\t\t\t\twithdrawTokens,\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: aggregates.aggr\r\n\r\n\t\t\t\t\t\tconst defaultValue = aggrByChannelSegments ? null : 0\r\n\r\n\t\t\t\t\t\taggregates.aggr = fillEmptyTime(aggr, timeframe, defaultValue)\r\n\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\tvalue: { ...aggregates },\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountCampaignsAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsCampaignsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = await identityCampaignsAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\r\n\r\n\t\t\t\t\treturn { opts, value }\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tconst data = await Promise.all(allAnalytics)\r\n\r\n\t\t\tif (!accountChanged) {\r\n\t\t\t\tdata\r\n\t\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t\t.forEach(({ opts, value }) =>\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\r\n\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsTimeframe(timeframe) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\r\n\t\t\t\tvalue: timeframe,\r\n\t\t\t})\r\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateSlotsDemand = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\r\n\t\t\t\tvalue: demandAnalytics,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateSlotsDemandThrottled = () => dispatch => {\r\n\treturn updateSlotsDemand(dispatch)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\texecute,\r\n\taddToast,\r\n\tupdateSpinner,\r\n\tupdateItems,\r\n\tupdateValidatorAuthTokens,\r\n\tupdateNewItem,\r\n\thandleAfterValidation,\r\n\tvalidateCampaignValidators,\r\n\tvalidateCampaignAmount,\r\n\tvalidateCampaignTitle,\r\n\tvalidateCampaignDates,\r\n\tvalidateCampaignUnits,\r\n\tconfirmAction,\r\n\tupdateSelectedCampaigns,\r\n} from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { parseUnits, bigNumberify } from 'ethers/utils'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\nimport { closeCampaignMarket } from 'services/adex-market/actions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectAccount,\r\n\tselectNewCampaign,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { Campaign } from 'adex-models'\r\nimport {\r\n\tOPENING_CAMPAIGN,\r\n\tGETTING_CAMPAIGNS_FEES,\r\n\tPRINTING_CAMPAIGNS_RECEIPTS,\r\n} from 'constants/spinners'\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\r\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\r\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\r\n\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\r\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\r\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\r\n\r\nexport function openCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { storeCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: storeCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\r\n\t\t\t\t\targs: [storeCampaign.id],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Pending':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\treturn 'Active'\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\treturn 'Completed'\r\n\t\tdefault:\r\n\t\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst { wallet, identity } = selectAccount(state)\r\n\t\tconst { authSig } = wallet\r\n\t\tconst { address } = identity\r\n\r\n\t\tif (hasAuth && authSig && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\r\n\t\t\t\tlet campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: campaignsMapped,\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\r\n\t\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\r\n\t\t\t\targs: [campaign.id],\r\n\t\t\t})\r\n\t\t\tupdateUserCampaigns(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewCampaign(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst currentCampaign = selectNewCampaign(getState())\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentCampaign,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\t'Campaign',\r\n\t\t\tCampaign\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\r\n\t},\r\n]\r\n\r\nexport function validateNewCampaignAdUnits({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst campaign = selectNewCampaign(state)\r\n\t\tconst { adUnits } = campaign\r\n\r\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewCampaignFinance({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst {\r\n\t\t\t\tvalidators,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\ttitle,\r\n\t\t\t\tactiveFrom,\r\n\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\tcreated,\r\n\t\t\t\ttemp = {},\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\r\n\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\r\n\t\t\tif (!validators || !validators.length) {\r\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\r\n\t\t\t\tnewCampaign.validators = tempValidators\r\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\tvalue: depositAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'activeFrom',\r\n\t\t\t\t\tvalue: activeFrom,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t\t\t\tvalue: withdrawPeriodStart,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (typeof maxChannelFees !== 'string') {\r\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\r\n\t\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesFormatted,\r\n\t\t\t\t\tmaxAvailable,\r\n\t\t\t\t\tmaxAvailableFormatted,\r\n\t\t\t\t} = await openChannel({\r\n\t\t\t\t\tcampaign: { ...newCampaign },\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\tgetMaxFees: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst newTemp = { ...temp }\r\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\r\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\r\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getCampaignActualFees() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst mainToken = selectMainToken(state)\r\n\t\t\tconst { temp = {}, depositAmount } = campaign\r\n\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\tconst { feesFormatted, fees } = await openChannel({\r\n\t\t\t\tcampaign: { ...campaign },\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\r\n\r\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\r\n\t\t\t\ttotalSpend.toString(),\r\n\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\tfalse,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.feesFormatted = feesFormatted\r\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\r\n\r\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handlePrintSelectedReceipts(selected) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\r\n\t\tconfirmAction(\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSelectedCampaigns(selected)(dispatch, getState)\r\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\r\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\r\n\t\t\t}\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\tupdateNewItem,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { selectMainToken, selectNewAdSlot } from 'selectors'\r\nimport { AdSlot, schemas } from 'adex-models'\r\n\r\nconst { adSlotPost } = schemas\r\n\r\nexport function updateNewSlot(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst currentSlot = selectNewAdSlot(state)\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentSlot,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\t'AdSlot',\r\n\t\t\tAdSlot\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewSlotBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst mainToken = selectMainToken()\r\n\t\tconst state = getState()\r\n\t\tconst slot = selectNewAdSlot(state)\r\n\t\tconst { title, description, type, website, minPerImpression = null } = slot\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: title,\r\n\t\t\t\tprop: 'title',\r\n\t\t\t\tschema: adSlotPost.title,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: description,\r\n\t\t\t\tprop: 'description',\r\n\t\t\t\tschema: adSlotPost.description,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tprop: 'type',\r\n\t\t\t\tschema: adSlotPost.type,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: website,\r\n\t\t\t\tprop: 'website',\r\n\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\tvalue: minPerImpression || '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\tschema: adSlotPost.minPerImpression,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as itemActions from './itemActions'\r\nimport * as uiActions from './uiActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as analyticsActions from './analyticsActions'\r\nimport * as campaignActions from './campaignActions'\r\nimport * as newItemsActions from './newItemsActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...itemActions,\r\n\t...uiActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...validationActions,\r\n\t...analyticsActions,\r\n\t...campaignActions,\r\n\t...newItemsActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './itemActions'\r\nexport * from './uiActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './validationActions'\r\nexport * from './analyticsActions'\r\nexport * from './campaignActions'\r\nexport * from './newItemsActions'\r\n","export const CREATING_SESSION = 'CREATING_SESSION'\r\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\r\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\r\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\r\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\r\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\r\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\r\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\r\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\r\n","import { ethers, utils, Contract } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\nethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst localWeb3 = () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(\r\n\t\tprocess.env.WEB3_NODE_ADDR\r\n\t)\r\n\treturn getEthersResult(provider)\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3,\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst injectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\r\n\tlet provider = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait ethereum.enable()\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\t// TODO: we just have to throw or show notification\r\n\t// At the moment if it throws it will show error toast but not always.\r\n\telse if (web3) {\r\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = async () => {\r\n\t// console.log('getLocalWeb3')\r\n\treturn localWeb3()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3()\r\n\t} else {\r\n\t\treturn getLocalWeb3()\r\n\t}\r\n}\r\n\r\nconst ethereumSelectedAddress = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3.then()\r\n\tif (ethereum && ethereum.selectedAddress) {\r\n\t\treturn utils.getAddress(ethereum.selectedAddress)\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3.then()\r\n\tif (ethereum) {\r\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProvider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3.then()\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport {\r\n\tgetEthers,\r\n\tethereumSelectedAddress,\r\n\tethereumNetworkId,\r\n\tgetEthereumProvider,\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/GS-email-ic.7f647acc.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic.8de20f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-launch-ic.b4a8f505.png\";","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tpbkdf2.pbkdf2(\r\n\t\t\tpass,\r\n\t\t\tsalt,\r\n\t\t\titerations,\r\n\t\t\tkeylen,\r\n\t\t\tdigiset,\r\n\t\t\t(err, derivedKey) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn reject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst res = derivedKey.toString(encoding)\r\n\r\n\t\t\t\treturn resolve(res)\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}\r\n\r\nasync function getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport async function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path,\r\n\t}\r\n}\r\n\r\nasync function encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn await encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport async function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\r\n\t\treturn legacyEncrypted\r\n\t} else {\r\n\t\tconst encrypted = await encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t\treturn encrypted\r\n\t}\r\n}\r\n\r\nexport async function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = await decrypt(\r\n\t\t\tdata,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport async function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = await generateWallet(mnemonic)\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst data = await encrData({ data: walletData, email, password, authType })\r\n\tawait saveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = await getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = await encrKey({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\r\n\t\t})\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport async function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = await encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport async function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = await encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport async function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport async function getLocalWallet({\r\n\temail,\r\n\tpassword,\r\n\tauthType,\r\n\tgetEncrypted,\r\n}) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst walletKeys = Object.keys(wallet)\r\n\r\n\t\tconst decrypts = walletKeys.map(async key => {\r\n\t\t\t// props[key] = await decrData({\r\n\t\t\t// \tdata: wallet[key],\r\n\t\t\t// \temail,\r\n\t\t\t// \tpassword,\r\n\t\t\t// \tauthType,\r\n\t\t\t// })\r\n\r\n\t\t\tconst decryptedData = await decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn decryptedData\r\n\t\t})\r\n\r\n\t\tconst decryptedData = await Promise.all(decrypts)\r\n\r\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\r\n\t\t\tprops[key] = decryptedData[index]\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn decryptedWallet\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport async function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from '@ledgerhq/hw-app-eth'\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}\r\n\t) => {\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\r\n\t\t\tthis.path,\r\n\t\t\tfalse,\r\n\t\t\ttrue\r\n\t\t)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\r\n\t\t\tfrom,\r\n\t\t\tto,\r\n\t\t})\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv,\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t * TODO: may not work.\r\n\t * The ledger device or u2f seems to broken\r\n\t * Can list the addresses\r\n\t * Can sign messages\r\n\t * Signs transactions\r\n\t * Actually it show the tx but does not return value after\r\n\t * confirmation on the device\r\n\t */\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof message === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-fund-ic.a3c1ce2c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MWE5YjZhZS0zYjg3LWZlNDAtYjc2Zi05ZWQwZGY2M2IzOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjAyOTAwYy1mYWQxLTZkNDctYmMyZi0wZDg0ZTg5MDgzZDUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTk2YjBhMi02OWJjLTVjNGUtOTIxZS1hNjcwMGNjZjIzYjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowODoxMSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq0lBPoAABGCSURBVHja7d0JlBT1ncDx8TauuyYRdxVdTXY3Hk9WfZrEczUx3jMwI/c9HIJBOQSCQECQWwGVQ2PkUkCQYNQowWON0c0q66pI9OGiAkEuueWQ4Zb/VrUzzdycAz09n99739cw0wNidX1e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\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow, skipRedirect) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut(skipRedirect)\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\thandleRequesterErrorRes({ res, text })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig, creator }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = ({ all, statuses, byEarner } = {}) => {\r\n\tconst queryParams = {\r\n\t\t...(all && { all: true }),\r\n\t\t...(statuses && { status: statuses.join(',') }),\r\n\t\tbyEarner,\r\n\t}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute, notifyNewTOS } from 'actions'\r\nglobal.meta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA = '', versionB = '') => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = global.meta || {}\r\n\t\t\t\tconst shouldForceRefresh =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestVersion, currentVersion)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst shouldNotifyNewTOS =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestTOS, currentTOS)\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract } from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\tgetAddress,\r\n\tInterface,\r\n\tkeccak256,\r\n\tid,\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n\tt,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nconst { AdExENSManager, ReverseRegistrar } = contracts\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\r\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\r\n\tif (fees.totalBN.gt(mtBalance)) {\r\n\t\tthrow new Error(\r\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t`${formatTokenAmount(\r\n\t\t\t\t\t\tmtBalance.toString(),\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t)} ${symbol}`,\r\n\t\t\t\t\t`${fees.total} ${symbol}`,\r\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\r\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\r\n\t\t\t\ttx,\r\n\t\t\t]\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: AdExENSManager.address,\r\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\r\n\t\t\tAdExENSManager.publicResolver,\r\n\t\t\tid(username),\r\n\t\t\tidentityAddr,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: ReverseRegistrar.address,\r\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\r\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { total } = await getIdentityTxnsTotalFees({\r\n\t\ttxnsByFeeToken,\r\n\t\tmainToken,\r\n\t})\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\r\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\tconst feesForMainTxns = txns.length\r\n\t\t? bigNumberify(\r\n\t\t\t\t!initialNonce\r\n\t\t\t\t\t? mainTokenWithFees.minDeploy\r\n\t\t\t\t\t: mainTokenWithFees.minRecommended\r\n\t\t  ).add(\r\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\r\n\t\t\t\t\tbigNumberify(txns.length - 1)\r\n\t\t\t\t)\r\n\t\t  )\r\n\t\t: bigNumberify(0)\r\n\r\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\r\n\t\tbigNumberify(amountInMainTokenNeeded)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\r\n\r\n\t\taccount,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\r\n\r\n\t\t\tconst minFeeAmount = bigNumberify(\r\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\r\n\t\t\t)\r\n\r\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.minRecommended)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = minFeeAmount\r\n\t\t\t\t.add(sweepRoutinesFeeAmount)\r\n\t\t\t\t.add(extraFeesAmount)\r\n\t\t\t\t.toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\r\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\r\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = bigNumberify('0')\r\n\tconst feesData = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\r\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\r\n\r\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\r\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\r\n\t\t\t\t).add(txFeeAmount)\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{ total: bigZero, byToken: {} }\r\n\t\t)\r\n\r\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst fees = {\r\n\t\t// TODO: change to return total as BN and add totalFormatted\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\tfeesData.total.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalBN: feesData.total,\r\n\t\tbyToken,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\r\n\t\t\tprocess.env.NODE_ENV === 'development'\r\n\t\t) {\r\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n\r\nexport async function withdrawOtherTokensFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\tconst decimals = parseInt(tokenDecimals, 10)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tto: tokenAddress,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport channels from './channelsReducer'\r\nimport selectedItems from './selectedItemsReducer'\r\nimport ensAddresses from './ensReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttags,\r\n\tethNetwork,\r\n\tconfig,\r\n\tanalytics,\r\n\tchannels,\r\n\tensAddresses,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tselectedItems,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tADD_ITEM_TO_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase ADD_ITEM_TO_ITEM:\r\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, newState[action.itemType])\r\n\r\n\t\t\tnewState[action.itemType] = newItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GLOBAL_UI, UPDATE_UI_BY_IDENTITY } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI_BY_IDENTITY:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...newState.byIdentity[action.identity],\r\n\t\t\t}\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\r\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\r\n\t\t\t\t}\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\r\n\t\t\t\t\taction.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_GLOBAL_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.global = { ...newState.global }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState.global[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.global[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TAGS:\r\n\t\t\tnewState = { ...state, ...action.tags }\r\n\t\t\treturn newState\r\n\t\tcase ADD_NEW_TAG:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.tag] = action.tag\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_GAS_DATA:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.gasData = { ...action.gasData }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n\tUPDATE_ADVANCED_ANALYTICS,\r\n\tUPDATE_DEMAND_ANALYTICS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.advanced = { ...newState.advanced }\r\n\t\t\tnewState.advanced[action.eventType] = {\r\n\t\t\t\t...action.value,\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_DEMAND_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.demand = action.value\r\n\t\t\treturn newState\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\r\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function channelsReducer(state = initialState.channels, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = { ...action.channels }\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance =\r\n\t\t\t\tinitialState.channels.withOutstandingBalance\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function ensReducer(state = initialState.ensAddresses, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tnewState[action.itemType] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\t\tnewState[action.item] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tconst newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SELECTED_ITEMS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n\tRESET_ALL_NEW_TRANSACTIONS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\r\n\t\t\tnewState = initialState.newTransactions\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/lib/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst persistConfig = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t]\r\n\r\n\tif (process.env.BUILD_TYPE === 'staging') {\r\n\t\tmiddlewares.push(logger)\r\n\t}\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n"],"sourceRoot":""}