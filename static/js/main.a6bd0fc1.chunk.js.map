{"version":3,"sources":["selectors/selectors.js","selectors/configSelectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/index.js","helpers/ipfsHelpers.js","helpers/localStorageHelpers.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/common/stepper/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/common/dropdown/Dropdown.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","services/images/crop.js","components/common/dialog/content.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/dashboard/containers/TargetsList/TargetsList.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/containers/ItemCommon/SaveBtn.js","components/dashboard/containers/ItemCommon/itemCommonNew.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/itemHooks.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/common/autocomplete/Autocomplete.js","components/dashboard/forms/items/NewItemTargeting.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/styles.js","components/dashboard/containers/Receipt/PublisherReceiptTpl.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/Receipt/CampaignReceiptTpl.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Tables/StatsByCountryTable.js","components/dashboard/charts/map/MapChart.js","components/dashboard/containers/Campaign/CampaignBasic.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/common/DatePicker/styles.js","components/common/DatePicker/DatePicker.js","components/dashboard/containers/DashboardStats/styles.js","hooks/useKeyPress.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/Campaign/CampaignStatsByTimeframe.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/DashboardStats/AdvertiserStats.js","components/dashboard/containers/Tables/BestEarnersTable.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/SlotEdits.js","components/dashboard/containers/Slot/SlotBasic.js","components/dashboard/containers/Slot/IntegrationCode.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","helpers/popupHelper.js","components/dashboard/deposit/TopUp.js","components/dashboard/deposit/styles.js","services/onramp/index.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/Identity.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","constants/actionTypes.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","helpers/formatters.js","helpers/dateUtils.js","helpers/itemsHelpers.js","services/store-data/loop.js","services/store-data/analytics.js","store/initialState.js","constants/misc.js","constants/spinners.js","services/crypto/crypto.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","actions/common.js","helpers/timeHelpers.js","helpers/errors.js","actions/uiActions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/requester/requester.js","services/requester/index.js","services/adex-relayer/actions.js","actions/validationActions.js","actions/mediaValidations.js","services/adex-market/actions.js","helpers/numbers.js","constants/targeting.js","actions/itemActions.js","services/auth/auth.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/core.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/identityActions.js","actions/bidActions.js","services/gas/actions.js","actions/transactionActions.js","actions/newItemsActions.js","actions/campaignActions.js","services/images/blob.js","actions/slotActions.js","actions/unitActions.js","actions/index.js","resources/trezor-logo-h.png","services/smart-contracts/ethers.js","resources/getting-started/GS-email-ic.png","resources/getting-started/GS-create-ic.png","resources/getting-started/GS-launch-ic.png","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/uiReducer.js","reducers/itemsReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/ensReducer.js","reducers/uiMemoryReducer.js","reducers/channelsReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","components/App/themeMUi.js","helpers/miscHelpers.js","services/translations/translations.js","helpers/sanitizer.js","../../adex-translations/index.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","services/wallet/wallet.js","resources/404-no.png","resources/404-yes.png","resources/ramp.svg","resources/wyre.svg","resources/paytrie.svg","resources/getting-started/GS-fund-ic.png","resources/getting-started/GS-place-ic.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectRelayerConfig","state","getState","persist","config","relayer","selectFeeTokenWhitelist","createSelector","_ref","feeTokenWhitelist","reduce","all","t","tokens","Object","objectSpread","address","selectRoutineWithdrawTokens","_ref2","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","_ref3","map","selectMainToken","relayerConfig","_ref4","mainToken","selectGasPriceCap","_ref5","gasPriceCap","selectSaiToken","_ref6","saiAddr","selectMainFeeToken","_ref7","selectAccount","account","selectChannels","memory","channels","selectAuth","wallet","identity","authSig","authType","selectWallet","selectEmail","email","selectAuthSig","split","selectWalletAddress","selectAuthType","selectAccountIdentity","selectAccountIdentityAddr","_ref8","selectAccountStats","_ref9","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","_ref14$relayerData","deployData","selectChannelsWithUserBalancesEligible","_ref15","withOutstandingBalance","toConsumableArray","selectChannelsWithUserBalancesAll","_ref16","withBalanceAll","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectIdentity","selectEnsAddressByAddr","ensAddresses","_","selectSide","nav","side","selectMemoryUi","uiMemory","selectGlobalUi","ui","global","selectConfirm","confirm","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectIdentitySideUi","identityUi","selectCompanyData","companyData","selectSpinnerById","id","selectRegistrationAllowed","ids","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectMissingRevenueDataPointsAccepted","missingRevenueDataPointsAccepted","selectSideSpecificUI","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectInitialDataLoadedByData","dataType","initialDataLoaded","selectInitialDataLoaded","_ref11$initialDataLoa","every","type","selectCampaignInDetails","campaignId","selectAnalyticsDataSide","concat","selectIdentitySideAnalyticsTimeframe","_ref13$sideAnalyticsT","sideAnalyticsTimeframe","selectIdentitySideAnalyticsPeriod","_ref14$sideAnalyticsP","sideAnalyticsPeriod","start","dateUtils","startOfDay","date","end","endOfDay","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","_opts$components","components","translate","selectItems","items","selectItemsByType","itemType","selectItemByTypeAndId","selectItemsArrayByType","values","selectCampaigns","selectCampaignById","selectCampaignUnitsById","adUnits","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignEventsCount","impressions","selectCampaignsArray","selectAdUnits","selectAdUnitById","selectAdUnitsArray","selectAdSlots","adSlots","selectAdSlotsArray","selectAdSlotById","selectWebsites","websites","selectWebsiteByWebsite","ws","url","parse","hostname","selectAnalytics","analytics","selectAdvancedAnalytics","advanced","selectAnalyticsLastChecked","lastChecked","Date","now","selectAnalyticsLiveTimestamp","timeframe","startOf","add","utc","selectDemandAnalytics","demand","selectAdvancedAnalyticsByType","campaignAnalytics","selectTotalStatsByAdUnits","adUnitId","slicedToArray","analyticsByChannel","byChannelStats","acc","curr","reportChannelToAdUnit","selectPublisherStatsByType","publisherStats","selectPublisherStatsByCountry","reportPublisherToCountry","selectPublisherPayStatsByCountry","reportPublisherToCountryPay","selectPublisherStatsAdUnit","reportPublisherToAdUnit","selectPublisherStatsAdUnitPay","reportPublisherToAdUnitPay","selectPublisherStatsAdSlot","reportPublisherToAdSlot","selectPublisherStatsAdSlotPay","reportPublisherToAdSlotPay","selectPublisherAggrStatsByCountry","byCountry","max","Math","apply","total","value","Number","selectAllAdUnitsInChannels","units","_ref14$adUnits","forEach","u","ipfs","selectPublisherAdvanceStatsToAdUnit","impressionsByAdUnit","clicksByAdUnit","impressionsPayByAdUnit","clicksPayByAdUnit","filter","i","item","impressionsPay","clicksPay","selectPublisherAdvanceStatsToAdSlot","_ref18","impressionsByAdSlot","clicksByAdSlot","impressionsPayByAdSlot","clicksPayByAdSlot","selectPublisherTotalImpressions","_ref19","selectCampaignAnalyticsByChannelStats","_ref20","_ref21","_ref22","analyticsByType","selectCampaignAnalyticsByChannelToCountry","_ref23","_ref24","reportChannelToCountry","selectCampaignAnalyticsByChannelToCountryPay","_ref25","_ref26","reportChannelToCountryPay","selectCampaignAggrStatsByCountry","_ref27","selectCampaignAnalyticsByChannelToAdUnit","_ref28","_ref29","selectAnalyticsDataAggr","_ref30","_ref31","_ref33","eventType","metric","liveTimestamp","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectTotalImpressions","_ref34","eventCounts","_ref35","selectTotalClicks","_ref36","_ref37","selectTotalMoney","_ref38","eventPayouts","_ref39","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref40","_ref41","_ref42","c","find","e","time","_ref43","selectAverageCPM","_ref44","_ref45","totalMoney","totalImpressions","selectStatsChartData","_ref47","noLastOne","rest","objectWithoutProperties","data","_ref48","_ref48$data","slice","memo","labels","push","formatDateTime","datasets","_ref46","parseFloat","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref49","_ref50","selectChartDatapointsClicks","_ref52","_ref53","selectChartDatapointsPayouts","_ref55","_ref56","selectChartDatapointsCPM","_ref58","_ref59","_ref60","payouts","result","n","toFixed","selectPublisherReceipts","_ref61","receipts","selectPublisherReceiptsPresentMonths","keys","r","selectAnalyticsNowLabel","format","DEFAULT_DATETIME_FORMAT","setMinutes","getNearestSixHoursUTC","selectValidations","validations","selectValidationsById","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewItemByTypeAndId","itemId","initialState","selectNewCampaign","Campaign","CampaignModel","selectNewAdUnit","AdUnit","AdUnitModel","selectNewAdSlot","AdSlot","AdSlotModel","COUNTRY_NAMES","ISOCountries","getNames","selectCampaignsTableData","_ref$decimals","depositAsset","decimals","_item$spec","spec","_item$adUnits","firstUnit","to","toReceipt","media","mediaUrl","mediaMime","title","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","ctr","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","replace","earnings","selectAdUnitsTableData","mapByCountryTableData","impressionsByCountry","clicksByCountry","impressionsAggrByCountry","impressionsPayByCountry","clicksPayByCountry","addEarnings","key","countryName","percentImpressions","selectPublisherStatsByCountryData","selectCampaignAnalyticsToCountryData","selectPublisherStatsByCountryTableData","selectCampaignAnalyticsToCountryTableData","mapByCountryMapChartData","colorScale","scaleLinear","domain","range","PRIMARY_LIGHTEST","PRIMARY_DARKEST","hoverColor","SECONDARY","pressedColor","SECONDARY_LIGHT","chartData","chartCountriesData","objects","countries","geometries","numericToAlpha2","tooltipElements","formatAbbrNum","properties","fillColor","grey","selectPublisherStatsByCountryMapChartData","selectCampaignAnalyticsToCountryMapChartData","selectBestEarnersTableData","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","website","selectCampaignStatsMaxValues","channelId","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectPublisherReceiptsStatsByMonthTableData","token","_ref16$decimals","_i","_Object$entries","entries","selectPublisherReceiptsStatsByMonthTotalValues","totalPayouts","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","dA","bigNumberify","avgCPM","dB","gt","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","selectMonthsRange","startDate","endDate","months","m","moment","diff","selectReceiptMonths","__","monthsEnd","monthTimestamp","endOf","selectFromSource","labelValueMapping","translated","selectKnowUsFromSource","WHERE_YOU_KNOW_US","selectTargetingSources","sources","collection","target","tag","score","toUpperCase","placeholder","autocompleteTagsSingleSelect","PredefinedTags","_id","slotSources","tags","src","custom","unitSources","locations","AllCountries","genders","Genders","gender","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","_ref$meta","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","selectHasAdSlotImpressions","selectHas5000Impressions","sectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","SIDES","advertiser","publisher","selectDashboardBreadcrumbs","_ref4$pathname","pathname","paths","x","sideDashboard","sideDashboardBC","join","restBC","prev","selector","bc","restCopy","receiptAt","indexOf","__webpack_require__","d","__webpack_exports__","configSelectors_selectRelayerConfig","translationsSelectors_t","ipfsSrc","adex_models__WEBPACK_IMPORTED_MODULE_0__","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","loadFromLocalStorage","localStorage","getItem","JSON","err","saveToLocalStorage","serialized","stringify","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","module","exports","p","typeToSeverity","accept","success","warning","info","cancel","error","Toast","_Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","close","setState","active","setTimeout","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_this2","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","Alert","severity","variant","action","react","IconButton","aria-label","color","size","onClick","Close","toString","Component","connect","dispatch","bindActionCreators","Confirm","children","_useState","useState","_useState2","setOpen","_useSelector","useSelector","onConfirm","onCancel","calledOn","noActionBtns","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","text","confirmLabel","cancelLabel","useEffect","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","withReactRouterLink","Decorated","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","path","history","createHref","handleClick","asyncToGenerator","regenerator_default","mark","_callee","event","_this$props","wrap","_context","next","preventDefault","stopPropagation","stop","_x","_this$props2","forwardedRef","match","staticContext","toLocation","assign","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","Icon","SvgIcon","pure","muiName","Anchor","underline","externalIcon","component","isExternal","getUrl","linkProps","draggable","rel","style","wordBreak","Link","OpenInNew","fontSize","ExternalAnchor","anchor_Anchor","fontWeight","sideIndex","0","1","handleChange","ev","execute","useTabsStyles","makeStyles","theme","indicator","background","useTabStyles","activeColor","palette","primary","main","root","minWidth","&$selected","common","white","&:hover","hover","selected","SideSwitch","className","tabsClasses","tabClasses","Box","bgcolor","Divider","Tabs","classes","onChange","textColor","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","display","flex","alignItems","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","useStyles","contrastText","activeBgColor","navigation","paper","sntPadding","paddingTop","navListRoot","secondary","flexDirection","justifyContent","navList","position","left","right","bottom","overflowY","overflowX","sideNavToolbar","version","padding","paddingLeft","borderTopWidth","borderTopColor","divider","borderTopStyle","&:focus","& .MuiListItemIcon-root","adxLink","hint","sideSwitch","marginBottom","spacing","icon","height","width","amount","typography","pxToRem","SideNav","routerLocation","availableIdentityBalanceMainToken","List","classnames","AdexIconTxt","spinners_LoadingSection","Typography","button","dashboard_SideSwitch","defineProperty","ListItemIcon","Dashboard_default","ListItemText","List_default","Fragment","CampaignIcon","Receipt","MonetizationOn_default","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","alt","marginRight","ButtonMenu","btnStyle","rightIcon","leftIconSrc","anchorEl","setAnchorEl","handleClose","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","maxWidth","overflow","textOverflow","Menu","Boolean","getContentAnchorEl","transformOrigin","Children","child","cloneElement","Translate","_ref$isProp","_ref$args","getAuthLogo","AUTH_TYPES","METAMASK","metamaskLogo","TREZOR","trezorLogo","DEMO","demoLogo","styles","_drawerPaper","_content","marginTop","flexGrow","zIndex","appBar","breakpoints","up","paddingRight","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","toolbarTitle","toolbar","flexFlow","drawerPaper","content","default","marginLeft","down","contentInner","margin","breadcrumbElement","RRMenuItem","MenuItem","RRLink","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","formatAddress","AppBar","Toolbar","Hidden","mdUp","pl","Menu_default","smDown","Breadcrumbs","noWrap","pr","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","MAX_IMG_LOAD_TIME","Img","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","bind","assertThisInitialized","videoSrc","onloadedmetadata","allowVideo","isVideo","VIDEO_IMAGE","Fab","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","classNameImg","fullScreenOnClick","_this$state2","wrapper","img","fullScreenBtn","circular","withStyles","cursor","minHeight","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","objectFit","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","align","textLabels","body","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","progress","MUIDataTableEnhanced","columns","options","Paper","dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","responsive","mapStatusIcons","humanFriendlyStatus","xs","md","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","toLowerCase","cellImg","sliderFilterOptions","_ref$initial","initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","min","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","v","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","gutterBottom","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","_useState3","_useState4","setColumns","selectedData","reloadData","useCallback","buttonProgress","ReloadData","handleReload","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","disabled","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","RRImg","getCols","maxDeposit","customBodyRender","includes","truncateString","commify","sortDirection","formatDate","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceiptsAdvertiser","CampaignsTable","campaignsLoaded","_useTableData","ds","errColor","&$active","stepperWrapper","pagePaper","textAlign","@media(max-width:475px)","mobileStepper","buttonProgressWrapper","errChip","borderColor","& svg","StepperNav","currentPage","window","innerWidth","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","StepLabel","MaterialStepper","_props$initialPage","initialPage","_props$steps","closeDialog","setCurrentPage","canReverse","pageProps","validateId","Comp","validationFn","onValid","stepsId","completeFn","_page$completeBtnTitl","completeBtnTitle","dirtyErrors","dirtyErrs","dirty","msg","errMsg","field","getDirtyValidationErrors","validationSpinner","stepsSpinner","spinner","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","_callee2","_context2","goToNextPage","_callee3","_context3","handleComplete","_callee4","_context4","onKeyPressed","_callee5","_context5","_x2","onKeyPress","mb","stepperNav","MaterialUiStepper_StepperNav","mt","Chip","Error_default","cancelFunction","FormSteps","stepperSteps","setSteps","_useSelector$step","updatedSteps","s","MaterialUiStepper","fullHeight","innerHeight","dialogTitle","wordWrap","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","textTransform","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialogHoc","WithDialog","_props$disableBackdro","disableBackdropClick","iconButton","textButton","fabButton","btnLabelArgs","mini","btnLabel","dialogActions","fullWidth","onBeforeOpen","btnProps","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","Cancel_default","formControl","groupHeader","menuItem","whiteSpace","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","required","noSrcLabel","IconComponent","FormControl","InputLabel","htmlFor","Select","ListSubheader","FormHelperText","TextField","spinners_InputLoading","addUrlUtmTracking","targetUrl","removeFromUrl","URL","protocol","host","newQuery","UTM_PARAMS","AdTypes","AdUnitBasic","description","temp","autoUtmAdded","_useSelector2","errTitle","errDescription","errTargetUrl","errType","updateUtmParameters","withUTM","updateNewUnit","handleUtmButton","Grid","container","maxLength","multiline","rows","dropdown_Dropdown","getCroppedImgUrl","crop","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","y","finalCanvas","floor","Promise","resolve","reject","toBlob","file","createObjectURL","PropBaseComponent","inputRef","PropRow","shrink","disableAnimation","OutlinedInput","notched","readOnly","inputComponent","inputProps","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref8$msgs","msgs","_ref8$color","message","strong","dropzone","border","imgDropzonePreview","dropzoneBtn","uploadActions","ImgForm","additionalInfo","aspect","imgRef","setImgRef","setCrop","_useState5","_useState6","cropMode","setCropMode","_useState7","_useState8","imgName","setImgName","_useState9","mime","_useState10","setMime","_useState11","_useState12","setImgSrc","onLoad","preventBubbling","nativeEvent","stopImmediatePropagation","onRemove","revokeObjectURL","tempUrl","saveCropped","croppedBlob","sent","imgForm","content_PropRow","alignContent","sm","ReactCrop_min_default","imageStyle","onImageLoaded","Save","Clear","dist_es","onDrop","acceptedFiles","rejectedFiles","objectUrl","img_Img","uploadInfo","Crop","CloudUpload","AdUnitMedia","errImg","_getWidAndHightFromTy","getWidAndHightFromType","ImgForm_ImgForm","mediaProps","targetIcon","LocationOnIcon","WcIcon","age","ChildCareIcon","TargetArrayValues","addDivider","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref2$targets","targets","subHeader","dense","subheader","TargetsList_TargetArrayValues","imgPreview","imgPreviewWrapper","AdUnitPreview","targeting","containers_TargetsList_TargetsList","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","validate","handleSelect","selectedItemsIds","newTemp","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange","iconColor","onIconClick","onLiveClick","onNextClick","InputAdornment","Update","NavigateNextRounded","DateTimePicker","calendarIcon","onBackClick","roundHour","utils","InputProps","endAdornment","DateTimePicker_CalendarIconAdor","startAdornment","NavigateBeforeRounded","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","buttonSuccess","dark","fabProgress","SaveBtn","_ref$dirtyProps","dirtyProps","save","Check","card","mediaRoot","basicInfo","flexWrap","buttonRight","buttonLeft","textField","changesLine","changeChip","editIcon","mediaPropChip","changeControls","changeControlsPaper","DirtyProps","returnPropToInitialState","react_router","when","Info","onDelete","deleteIcon","UndoOutlined","ChangeControls","hookProps","Collapse","in","itemCommonNew_DirtyProps","SaveBtn_SaveBtn","ItemSpecProp","prop","_ref2$value","ItemTitle","updateField","setActiveFields","_ref3$activeFields","activeFields","showError","errMsgArgs","Edit","ItemDescription","_ref4$activeFields","ItemAdType","OpenInNewIconBtn","IconButtonWithRef","itemCommonNew_OpenInNewIconBtn","ItemTargetURL","_ref7$targetUrl","anchor_ExternalAnchor","ItemFallbackMediaURL","_ref8$targetUrl","MediaCard","_ref9$mediaUrl","_ref9$mediaMime","_ref9$label","Card","raised","CardMedia","ItemMinPerImpression","_ref10$item","_ref10$activeFields","_selectMainToken","minCPM","mul","ItemWebsite","_ref11$item","_ref11$activeFields","dangerouslySetInnerHTML","__html","useItem","objModel","validateAndUpdateFn","initialItemState","setInitialItemState","setFields","setDirtyProps","setValidateId","storeItem","params","dirtyIndex","findIndex","newDirtyProps","dpValue","splice","fields","dp","some","updateMultipleFields","newValues","dirtyFields","updated","Base","updateObject","isNumberString","MomentUtils","getTotalImpressions","dep","CampaignFinance","invalidFields","validators","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","from","valueOf","errDepAmnt","errMin","errFrom","errTo","errUnitsTargeting","leader","follower","itemCommonNew_ItemSpecProp","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","inputVariant","disablePast","minDate","maxDate","FormGroup","row","FormControlLabel","control","Checkbox","checked","WalletAction","CampaignFormPreview","feesSpinner","openingSpinner","OPENING_CAMPAIGN","_useSelector$temp","feesFormatted","totalSpendFormatted","getCampaignActualFees","checkNetworkCongestion","FormsCommon_WalletAction","AdSlotBasic","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_newItem$minPerImpres","UPDATING_SLOTS_DEMAND","errWebsite","updateSlotsDemandThrottled","updateNewSlot","AdSlotMedia","_temp$useFallback","useFallback","errFallbackUrl","Switch","Autocomplete","multiple","errorText","onInit","selectedItem","getOptionLabel","option","getOptionSelected","renderInput","slider","markLabel","Targets","_ref$source","autocomplete_Autocomplete","openOnClick","updateNewItemTarget","suggestionMatch","showSuggestionsWhenValueIsSet","allowCreate","remove","esm_Cancel","NewItemTargeting","sourcesSelector","SOURCES","SourcesSelect","_temp$targets","_ref3$source","_ref3$target","NewItemTargeting_Targets","Add","getIssue","issue","WebsiteIssues","issues","site","defaultIssues","_getIssue","my","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","AdSlotTargeting","items_NewItemTargeting","AdUnitTargeting","NewUnitStepsWithDialog","stepper_FormSteps","resetNewItem","validateIdBase","validateNewUnitBasics","validateNewUnitMedia","validateNewUnitTargeting","AdUnitFormPreview","completeItem","competeAction","saveUnit","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","darkerBackground","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","validateNewCampaignAdUnits","onInvalid","validateNewCampaignFinance","openCampaign","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","validateNewSlotPassback","saveSlot","descriptionHelperTxt","NewSlotDialog","AdUnitsTable_RRImg","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","_props$selected","itemsLoaded","setSelectorArgs","allRowsSelected","AdSlotsTable_RRImg","AdSlotsTable_RRIconButton","AdSlotsTable","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","tooltips","mode","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","pageBreak","pageBreakAfter","a4","PublisherReceiptTpl","monthBreakdown","cpm","_useSelector3","companyName","firstLastName","country","unix","toHexString","substr","isFinite","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","RRButton","G404","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","PageNotFound_G404","IMG_404_1","IMG_404_2","CampaignReceiptTpl","campaignBreakdown","creator","page_not_found_PageNotFound","CompanyDetails","lg","updateCompanyData","invoice","useRef","useParams","selectedCampaigns","selectedByPropsOrParams","receiptsAdvertiser","setStartDate","setEndDate","setDirty","dates","validateStartDate","validateEndDate","startDateError","endDateError","monthMappingStartPeriod","setDate","monthMappingEndPeriod","fetchingPublisherReceiptsSpinner","FETCHING_PUBLISHER_RECEIPTS","setReceipts","resetSelectedItems","Receipt_CompanyDetails","react_to_print_lib_default","pageStyle","trigger","DateRangeSharp","GetApp","getReceiptData","showEarnings","StatsByCountryTable","noViewColumns","MapChart","setContent","square","index_umd","data-tip","projection","projectionConfig","scale","maxZoom","geography","_ref2$geographies","geographies","geo","_geo$properties","rsmKey","onMouseEnter","onMouseLeave","stroke","outline","pressed","index_es","ALEX_GREY","isArray","CampaignBasic","itemCommonNew_ChangeControls","itemCommonNew_MediaCard","closeCampaign","itemCommonNew_ItemTitle","commonDsProps","lineTension","pointRadius","pointHitRadius","FONT","SimpleStatistics","data1","data2","data3","data4","_ref$data1Active","data1Active","_ref$data2Active","data2Active","_ref$data3Active","data3Active","_ref$data4Active","data4Active","dataSynced","_ref$defaultLabels","defaultLabels","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y4Label","y4Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","_ref$y4Color","y4Color","nowLabel","Chart","pluginService","register","beforeDraw","chart","ctx","tooltip","_active","controller","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","GANDALF_GREY","restore","yAxisID","hidden","pointBackgroundColor","linesOptions","layout","annotation","annotations","scaleID","borderDash","enabled","fontFamily","maintainAspectRatio","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","bodySpacing","caretSize","displayColors","yLabel","formatFloatNumberWithCommas","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","plugins","ChartAnnotation","px","boxShadow","shadows","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","_React$useState","_React$useState2","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","element","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","visibilityIcon","opacity","StatsCard","explain","dataVisible","VIcon","VisibilityOff","dayWrapper","day","customDayHighlight","borderRadius","nonCurrentMonthDay","highlightNonCurrentMonthDay","highlight","firstHighlight","extend","borderTopLeftRadius","borderBottomLeftRadius","endHighlight","borderTopRightRadius","borderBottomRightRadius","dayDisabled","pointerEvents","DatePicker","esm_DatePicker","DatePicker_CalendarIconAdor","DatePicker_DatePicker","WeeklyDatePicker","dayIsFuture","isAfter","renderDay","selectedDate","dayInCurrentMonth","_clsx","_clsx2","dateClone","makeJSDateObject","selectedDateClone","startOfWeek","endOfWeek","dayIsBetween","isWithinInterval","isFirstDay","isSameDay","isLastDay","wrapperClassName","clsx","dayClassName","labelFunc","invalidLabel","isValid","addDays","shouldDisableDate","infoStatsContainer","dashboardCardBody","cardIcon","transform","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","addEventListener","removeEventListener","timeoutMap","hour","week","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","metrics","PRIMARY","ACCENT_TWO","ACCENT_ONE","getDefaultLabels","DatePickerSwitch","views","minutesStep","ImpressionsAlert","_ref3$impressions","updateMissingRevenueDataPointAccepted","BasicStats","SPACE","ARROW_LEFT","ARROW_RIGHT","isAuth","uiSide","setLoop","allChannelsLoaded","advAnalyticsLoaded","missingRevenuePointsAccepted","setData1Active","setData2Active","setData3Active","setData4Active","averageCPM","goNext","updateAnalyticsPeriodPrevNextLive","goPrev","goLive","live","updateAccountAnalyticsThrottled","analyticsLoopCustom","syncAction","_syncAction","t0","abrupt","showRevenueInfo","DashboardStats_StatsCard","updateIdSideAnalyticsChartTimeframe","BasicStats_DatePickerSwitch","updateIdSideAnalyticsChartPeriod","disableFuture","maxDateMessage","strictCompareDates","Mouse","esm_MonetizationOn","Equalizer","BasicStats_ImpressionsAlert","simplified_SimpleStatistics","CampaignStatsByTimeframe","tabIndex","setTabIndex","_useItem","validateAndUpdateCampaign","dataLoaded","updateMemoryUi","scrollButtons","indicatorColor","CampaignBasic_CampaignBasic","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","map_MapChart","Tables_StatsByCountryTable","CampaignStatsByTimeframe_CampaignStatsByTimeframe","Receipt_Receipt","AdvertiserStats","ImgComponent","imgProps","BestEarnersTable","_props$selector","_props$title","PublisherStats","Tables_BestEarnersTable","Unit","validateAndUpdateUnit","py","itemCommonNew_ItemAdType","itemCommonNew_ItemTargetURL","itemCommonNew_ItemDescription","PassbackEdit","updateSlotTargeting","updateSlotPasback","SlotEdits","mapCurrentToNewPassback","SlotBasic","_hookProps$validation","itemCommonNew_ItemFallbackMediaURL","SlotEdits_SlotEdits","itemCommonNew_ItemMinPerImpression","itemCommonNew_ItemWebsite","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","integrationCode","alignSelf","IntegrationCode","_ref$slot","slot","fallbackUnit","isEmailConfirmed","sizes","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","onCopy","addToast","copy","AlertTitle","Slot","validateAndUpdateSlot","SlotBasic_SlotBasic","IntegrationCode_IntegrationCode","WithdrawFromIdentity","amountToWithdraw","withdrawTo","_useSelector4","errAmount","errAddr","errFees","fees","updateNewTransaction","tx","WithdrawAnyTokenFromIdentity","tokenAddress","tokenDecimals","errTokenAddress","errTokenDecimals","IdentityPrivilegeLevel","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPage","username","errUsername","IdentityWithdrawPreview","feesData","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreview","previewWarnMsgs","txId","waitingForWalletAction","_useSelector2$feesDat","_useSelector2$errors","errors","classNameLeft","classNameRight","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","resetNewTransaction","WithdrawTokenFromIdentity","saveBtnLabel","validateIdentityWithdraw","completeTx","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","updateIdentityPrivilege","WithdrawAnyTokenFromIdentityPage","validateIdentityWithdrawAny","identityWithdrawAny","SetAccountENS","validateENSChange","setIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","identityAddress","privileges","canMakeTx","walletAddress","identityEnsName","expanded","setExpanded","disablePadding","disableSticky","AccountInfo_AccountItem","transactions_SetAccountENS","identityAvailable","AccountInfo_RRButton","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","heading","transactions_SetIdentityPrivilege","transactions_WithdrawAnyTokenFromIdentity","popupCenter","w","h","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","documentElement","clientWidth","screen","clientHeight","systemZoom","availWidth","newWindow","focus","copyBtn","userSelect","infoGrid","infoTitle","onRampProvidersDetails","accountId","dest","referenceId","destCurrency","openWyre","WYRE_LOGO","imgAlt","feeInfo","limitInfo","currencies","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","openOnRampNetwork","RAMP_LOGO","addr","rightSideLabel","openPayTrie","PAYTRIE_LOGO","TopUp","disableElevation","endIcon","esm_FileCopy","pb","disableGutters","TopUp_OnRampListItem","OnRampListItem","useColorlibStepIconStyles","transition","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","backgroundImage","CheckCircle","createAdUnitTutorial","confirmAction","fundAccountTutorial","launchFirstCampaign","createAdSlot","placeAdSlot","mobile","stepper","instructions","expansionPanel","& .MuiExpansionPanelSummary-expandIcon","checkmark","getSteps","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","setGettingStartedExpanded","esm_ExpandMore","CheckCircleOutline","ExpansionPanelDetails","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","Campaigns","NewItems_NewCampaignDialog","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","_updateInitialData","loadAccountData","updateInitialData","stopAccountDataUpdate","resolveEnsAddress","updateNav","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","updatePrivilegesWarningAccepted","exact","Account","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","dialogPaper","noBg","backdrop","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","goTo","confirmLogout","toExecute","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","&:first-child","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","balanceEth","tokensBalances","balance","AddressSelect","addresses","waitingAction","actionWaitingLabel","selectLabel","signType","hdWalletAddrPath","addrData","hdWalletAddrIdx","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","isOpera","opr","opera","navigator","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","waitingAddrsData","CHECKING_METAMASK_AUTH","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","checkAuthMetamask","AuthTrezor","_useSelector$addresse","waitingTrezorAction","AUTH_WAITING_TREZOR_ACTION","AUTH_WAITING_ADDRESS_DATA","AuthCommon_AddressSelect","TREZOR_DL_IMG","connectTrezor","AuthMethod","method","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","knowFromSource","QuickInfo","sessionSpinner","CREATING_SESSION","walletMsgs","emailCheck","password","passwordCheck","tosCheck","knowFrom","moreInfo","updateIdentity","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","accessWarningCheck","QuickLogin","getIdentitiesForDropdown","ens","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","owner","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","resetIdentity","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","BackdropProps","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","esm_extends","ConnectedCreateQuickIdentity","JustDialog","validateQuickInfo","final","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","themeMUI","useUtils_cfb96ac9","DateUtils","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","ready","then","registration","unregister","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","UPDATE_UI_BY_IDENTITY_AND_SIDE","UPDATE_MEMORY_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","UPDATE_ANALYTICS_PERIOD","UPDATE_PUBLISHER_RECEIPTS","RESET_SELECTED_ITEMS","UPDATE_ANALYTICS_LAST_CHECKED","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAccount","advancedAnalyticsLoop","campaignsLoop","statsLoop","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","_authType","getMediaSize","checkExactishAspect","video","videoWidth","videoHeight","getVideoSize","getImageSize","widthTarget","heightTarget","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","joinSymbol","substring","parts","number","decPlaces","pow","abbrev","round","string","_MomentUtils","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","clone","isBetween","ammount","unit","hours","period","weeks","utcOffset","locale","localeData","_ref2$locale","dow","doy","defaultLocaleData","getLocaleDate","updateLocale","firstDayOfWeek","firstDayOfYear","hoursToRound","hoursMulti","getHours","nearestSix","setHours","getUTCOffset","setSeconds","isMoment","getTime","adex_constants__WEBPACK_IMPORTED_MODULE_0__","ItemsConstants","ItemsTypes","AdTypesByValue","AdSizesByValue","Looper","_ref$loopName","loopName","stopOn","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","makeStopCheck","startLoop","checkLoop","onSync","_x3","Error","analyticsLoop","Loop","updateAccountAnalytics","_syncAction3","_syncAction4","updateAccountAdvancedAnalytics","signin","passConfirm","publicKey","seedCheck","authenticated","plainObj","addUtmLink","currentItem","Website","web3Transactions","ethNetwork","networkId","gasData","market","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","GETH","limit","GRANT","QUICK","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","QUICK_WALLET_BACKUP","UPLOADING_ACCOUNT_DATA","UPDATING_ACCOUNT_IDENTITY","crypto","getKeyHash","hash","createHash","digest","encrypt","iv","cipher","encr","encrypted","randomBytes","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","_x4","encryptLegacy","crypted","createCipher","_x5","_x6","decryptLegacy","dec","createDecipher","_x7","_x8","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","listen","gtag","page_path","LOOP_TIMEOUT","updateUserCampaigns","accountStatsLoop","updateAccountStats","fillEmptyTime","prevAggr","defaultValue","fillAfterLast","interval","newAggr","getDiff","getUnix","prevAggrInInterval","lastWithValueTime","isNullValue","getTimePeriods","startCopy","addHours","getBorderPeriodStart","_ref4$next","addWeeks","getErrorMsg","updateSpinner","types","updateGlobalUi","category","updateInitialDataLoaded","loaded","updateUiByIdentity","updateIdentitySideUi","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","changeLanguage","get","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","caches","notifyNewTOS","grant","accepted","periodStart","_getTimePeriods","_ref7$next","_ref7$live","_selectIdentitySideAn","isEthAddressERC20","provider","contract","_args","isEthAddress","getEthers","ethers","Contract","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","isConnectionLost","eth","race","getBlockNumber","passwordRegex","validPassword","getAddress","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$username","ensAddress","resolveName","code","handleRequesterErrorRes","res","textObj","_unused","statusText","requester","AdexNodeRequester","baseUrl","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","route","fetch","_ref4$route","_ref4$queryParams","queryParams","_ref4$method","_ref4$headers","headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","demo","getQuery","hdrs","Requester","processResponse","json","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","txnsRaw","signatures","channel","Content-Type","regAccount","bytecode","identityFactoryAddr","baseIdentityAddr","salt","routineAuthorizationsRaw","getQuickWallet","backupWallet","encryptedWallet","getEmail","campaignPut","schemas","validateAddress","updateValidationErrors","newErrors","resetValidationErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","removeAll","handleAfterValidation","validateEmailCheck","validatePassword","_x9","validatePasswordCheck","_callee6","_context6","_x10","_x11","validateTOS","_callee7","_context7","_x12","_x13","validateENS","_callee8","_context8","_x14","validateWallet","_callee9","_context9","_x15","_x16","validateIdentityContractOwner","identityContractOwner","_callee10","_context10","_x17","_x18","validateKnowFrom","_callee11","_context11","_x19","_x20","validateMoreInfo","_callee12","_context12","_x21","_x22","validateAccessWarning","_callee13","_context13","_x23","_x24","validateCampaignMinTargetingScore","_callee14","_context14","_x25","_x26","validateCampaignUnits","_callee15","_context15","_x27","_x28","validateCampaignValidators","_callee16","_context16","feeNum","feeDen","feeAddr","_x29","_x30","validateAmounts","_ref26$maxDeposit","lt","lte","validateFees","feesAmountBN","amountToSpendBN","_ref27$errorMsg","errorMsg","_callee17","_selectAccountStatsRa","availableIdentityBalanceMainTokenRaw","_selectAccountStatsFo","availableIdentityBalanceMainTokenFormatted","amountNeeded","amountNeededFormatted","_context17","_x31","_x32","validateWithdrawAmount","_callee18","_context18","parseUnits","_x33","integerOnly","_ref32","_callee19","_context19","_x34","_x35","validateCampaignAmount","_callee20","isValidNumber","deposit","isValidDeposit","isValidMin","_context20","_x36","_x37","getCampaignDatesValidation","_ref35$created","validateCampaignDates","_callee21","_context21","_x38","_x39","validateCampaignTitle","_callee22","_context22","Joi","_x40","_x41","validateEthAddress","_ref40$nonZeroAddr","_ref40$nonERC","_callee23","_context23","_x42","_x43","validatePrivilegesAddress","_ref43$setAddr","_ref43$walletAddr","_callee24","isCurrentAddress","_context24","_x44","_x45","validatePrivLevel","_callee25","_context25","_x46","_x47","validateSchemaProp","schema","_callee26","_context26","_x48","validateEmail","validateNotExisting","_callee27","existing","_context27","_x49","validateMediaSize","propName","mediaWidth","mediaHeight","dontThrow","getSession","signature","typedData","signerAddress","checkSession","skipErrToast","convertItemToJSON","itemToConvert","getAdUnits","postAdUnit","updateAdUnit","getAdSlots","postAdSlot","updateAdSlot","closeCampaignMarket","getCampaigns","statuses","byEarner","byCreator","cacheBrake","updateCampaign","verifyWebsite","websiteUrl","numStringCPMtoImpression","numStr","div","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","getAllItems","onDataUpdated","resUnits","resSlots","userSlots","userPassbackUnits","slotsWithUnits","slotWithUnitsRes","passbackUnits","passbacks","updateItems","updateItem","_selectRelayerConfig","updatedItem","marketUpdate","t1","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","t2","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","addSig","sig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","getAddresses","_ref3$from","_ref3$to","payload","ethereumGetAddress","signTx","txProps","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","serializeTransaction","sendTransaction","txData","signMessage","_args4","ethereumSignMessage","hex","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t3","getSigner","_getSigner","signer","_signer2","getTypedDataHash","entry","toUtf8Bytes","valuesHash","keccak256","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","random","MAX_SAFE_INTEGER","_signTx","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","getRequesters","validator","getValidatorAuthToken","validatorId","existingAuth","validatorAuthTokens","era","ewt","sendMessage","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","results","authTokens","lastApprovedState","events","identityAnalytics","leaderAuth","segmentByChannel","aggregates","identityAdvancedAnalytics","timeBasedAnalytics","privilegesNames","valueToKey","tokenAvailableBalance","feeToken","getTotalAccountRevenue","withdrawTokens","totalRevenue","revenuePr","revenue","balanceMainToken","minFinal","tokenInMainTokenValue","getWithdrawTokensBalances","getFullBalances","getToken","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","tokenContract","available","balanceData","getAddressBalances","_getAddressBalances","calls","getBalance","serializedPath","formatEther","getAccountStats","_getAccountStats","_ref11$outstandingBal","outstandingBalanceMainToken","getIdentity","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","deployed","catch","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","walletAuthType","getOutstandingBalance","_getOutstandingBalance","withBalance","bigZero","allOutstanding","amounts","ch","outstanding","outstandingAvailable","getAllValidatorsAuthForIdentity","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_tokenInMainTokenValue","_selectMainToken2","valueInMainToken","Interface","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","getIdentityDeployData","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","identityRecoveryAddr","coreAddr","outpace","validUntil","feeTokenAddr","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","withdrawFromIdentity","_withdrawFromIdentity","getFeesOnly","tokenAddr","toWithdraw","withdrawTx","txnsByFeeToken","mtBalance","maxWithdraw","actualWithdrawAmount","functions","transfer","encode","getIdentityTxnsWithNoncesAndFees","amountInMainTokenNeeded","getIdentityTxnsTotalFees","totalBN","sub","processExecuteByFeeTokens","setIdentityPrivilege","_setIdentityPrivilege","MainToken","identityInterface","tx1","setAddrPrivilege","extraData","txnsByTokenWithSaiToDaiSwap","daiAddr","_txns$reduce","withdrawAmountByToken","saiWithdrawAmount","addIdentityENS","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","saiToken","_selectRelayerConfig3","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","totalAmountInMainTokenNeeded","_ref17$sweepTxns","sweepTxns","_ref17$swapAmountsByT","swapAmountsByToken","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","nonce","toNumber","minRecommended","minDeploy","getSweepingTxnsIfNeeded","t4","swapSaiToDaiTxns","swapAmount","t5","t6","Set","_tx$routinesSweepTxCo","routinesSweepTxCount","_tx$extraTxFeesCount","extraTxFeesCount","isSweepTx","txFeeAmount","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","getApproveTxns","_getApproveTxns","approveForAddress","approveAmount","approveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","fee","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","withdrawOtherTokensFromIdentity","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","Core","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","Channel","tokenAmount","getReadyCampaign","newCampaign","getValidUntil","maxPerImpression","eventSubmission","allow","uids","rateLimit","getWithdrawnPerUserOutstanding","withdrawnPerUser","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_channel$status","bTree","BalanceTree","balanceNum","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","eligible","c1","c2","sum","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","routineOpts","RoutineOps","channelWithdraw","executeRoutines","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","getSwapAmountsByToken","swaps","swapsSumInMainToken","swapsByToken","_getSweepingTxnsIfNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","channelOpenTx","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","closeChannel","_closeChannel","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","feeTokens","_aggr$sort$reduce","aggregations","_withdrawTokens$depos","minBalance","currentAggr","currentChannelValue","hasMinBalance","currentTimeValue","feeSubtracted","currentAvailable","currentAdded","points","curInnerAggr","throttle","accountChanged","timeframeIsLive","allAnalytics","updateAnalyticsLastChecked","updateValidatorAuthTokens","newAuth","_selectStatsChartData","aggrByChannelSegments","isAccountChanged","leading","trailing","presentMonths","monthsWanted","monthsNeeded","promises","startDateNeeded","endDateNeeded","resolvedPromises","getMonthTimeStamp","month","log","updateSlotsDemand","demandAnalytics","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","updateGasData","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","isLimitedVolume","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","cfg","getNetworkId","getNetwork","chainId","getNetworkData","network","isMetamaskMatters","doesItMatter","onMetamaskNetworkChange","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","metamaskAccountCheck","selectedAddress","ethereumNetworkId","ethereum","on","accounts","hasBackup","generateSalt","getWalletHash","makeBackup","walletSalt","walletHash","getRecoveryWalletData","_selectWallet","isLocal","updateWallet","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","obj","abort","readAsText","identityData","lookupAddress","login","_selectIdentity","identityTxData","registerAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","updateIdentityWallet","metamaskSigner","trezorSigner","allAddressesData","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","getGasPrice","gasPrice","gasPriceCapGwei","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectNewTransaction3","_selectNewTransaction4","getErrMsg","updateNewItem","updateNewItemAction","Models","itemClassByName","_ref6$target","_newValues","_selectNewItemByTypeA","hasIndex","filtered","isInteger","updateCampaignState","getHumanFriendlyName","_selectAccount","tempValidators","_campaign$temp2","totalSpend","updatedCampaign","getImgObjectUrlFromExternalUrl","imgUrl","adSlotPost","adUnitPost","adSlotPut","getFallbackUnit","imageIpfs","resUnit","passback","marketAdd","_slot$minPerImpressio","_selectNewItemByTypeA2","resItem","mapCurrentToNewTargeting","_selectNewItemByTypeA3","_selectNewItemByTypeA4","isDirty","onValidProp","_selectNewItemByTypeA5","newSlot","checkMinPerImpression","isPassbackUpdated","fallbackData","newUnit","finalValidations","updatedSlot","adUnitPut","_selectNewAdUnit","_selectNewAdUnit2","_selectNewAdUnit2$tar","_selectNewAdUnit3","_selectNewAdUnit3$tem","updatedUnit","uiActions","validationActions","mediaValidations","itemActions","accountActions","identityActions","bidActions","transactionActions","analyticsActions","newItemsActions","campaignActions","slotActions","unitActions","setLogLevel","getEthersResult","adexCore","getAdexCore","standard","getMainToken","identityFactory","getIdentityFactory","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","updateCfg","newCfg","persistReducers","newState","filterActions","newCollection","collectionId","Item","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","setLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","light","lightest","accentOne","accentTwo","lime","contrastThreshold","tonalOffset","disabledBackground","defaultTheme","createMuiTheme","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","overrides","MuiButton","outlined","contained","@media (hover: none)","&$focusVisible","&:active","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","MUIDataTable","MUIDataTableBody","emptyTitle","responsiveFontSizes","factor","alpha","hexToDec","g","stack","isInt","int","shuffleArray","array","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","translations_translate","translations","adexTranslations","translation","tpl","pattern","RegExp","interpolated","isValidElement","interpolate","lng","bg-BG","de-DE","en-US","es-ES","fr-FR","hr-HR","hu-HU","it-IT","nl-NL","pt-BR","pt-PT","ru-RU","se-SE","sr-RS","zh-CN","onlyTranslated","HEADER","base64","alg","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","HDNode","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","semverGreaterThan","versionA","versionB","versionsA","versionsB","isNaN","cache","latestVersion","latestTOS","currentVersion","currentTOS","tosVersion"],"mappings":"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","file":"static/js/main.a6bd0fc1.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n\r\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\t(a = [], b = []) => a.length === b.length\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n// gasPriceCap\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken || {}\r\n)\r\n\r\nexport const selectGasPriceCap = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ gasPriceCap }) => gasPriceCap\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector } from 'selectors'\r\n\r\nexport const selectAccount = state => state.persist.account || {}\r\nexport const selectChannels = state => state.memory.channels\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet || {}\r\n)\r\n\r\nexport const selectEmail = createSelector(\r\n\tselectAccount,\r\n\t({ email }) => email\r\n)\r\n\r\nexport const selectEmailProvider = createSelector(\r\n\tselectEmail,\r\n\temail => (!!email ? email.split('@')[1] : null)\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectWalletAddress = createSelector(\r\n\tselectWallet,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity || {}\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAccountIdentityDeployData = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData = {} }) => relayerData.deployData || {}\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesEligible = createSelector(\r\n\tselectChannels,\r\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesAll = createSelector(\r\n\tselectChannels,\r\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\r\n)\r\n\r\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\r\n)\r\n\r\nexport const selectWalletPrivileges = createSelector(\r\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\r\n\t(privileges = {}, address) => privileges[address] || 0\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectIdentity = state => state.memory.identity\r\n\r\nexport const selectEnsAddresses = state => state.persist.ensAddresses\r\n\r\nexport const selectEnsAddressByAddr = createSelector(\r\n\t[selectEnsAddresses, (_, address) => address],\r\n\t(ensAddresses, address) => ensAddresses[address] || ''\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport dateUtils from 'helpers/dateUtils'\r\n\r\nimport { selectAccountIdentityAddr } from './accountSelectors'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectMemoryUi = state => state.memory.uiMemory\r\nexport const selectGlobalUi = state => state.persist.ui.global\r\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\r\nexport const selectSelectedItems = state => state.memory.selectedItems\r\nexport const selectConfirm = state => state.memory.confirm\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectIdentityUi = createSelector(\r\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\r\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\r\n)\r\n\r\nexport const selectIdentitySideUi = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(identityUi, side) => identityUi[side] || {}\r\n)\r\n\r\nexport const selectCompanyData = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ companyData }) => companyData || {}\r\n)\r\n\r\nexport const selectSpinnerById = createSelector(\r\n\t[selectSpinners, (_, id) => id],\r\n\t(spinners, id) => spinners[id]\r\n)\r\n\r\nexport const selectMultipleSpinnersByIds = createSelector(\r\n\t[selectSpinners, (_, ids) => ids],\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\r\n)\r\n\r\nexport const selectEasterEggsAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowEasterEggs }) => allowEasterEggs\r\n)\r\n\r\nexport const selectPrivilegesWarningAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\r\n)\r\n\r\nexport const selectMissingRevenueDataPointsAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ missingRevenueDataPointsAccepted }) => !!missingRevenueDataPointsAccepted\r\n)\r\n\r\nexport const selectSideSpecificUI = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(ui, side) => ui[side] || {}\r\n)\r\n\r\nexport const selectHideGettingStarted = createSelector(\r\n\t[selectSideSpecificUI],\r\n\t({ hideGettingStarted }) => hideGettingStarted\r\n)\r\n\r\nexport const selectGettingStartedExpanded = createSelector(\r\n\tselectIdentityUi,\r\n\t({ gettingStartedExpanded }) =>\r\n\t\t// NOTE: default is open but cant set initial state\r\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\r\n)\r\n\r\nexport const selectSelectedCampaigns = createSelector(\r\n\tselectSelectedItems,\r\n\t({ campaigns }) => campaigns || []\r\n)\r\n\r\nexport const selectLoginDirectSide = createSelector(\r\n\tselectGlobalUi,\r\n\t({ goToSide }) => goToSide || ''\r\n)\r\n\r\nexport const selectInitialDataLoadedByData = createSelector(\r\n\t[selectMemoryUi, (_, dataType) => dataType],\r\n\t({ initialDataLoaded }, dataType) =>\r\n\t\tinitialDataLoaded === true ||\r\n\t\t(typeof initialDataLoaded === 'object' && initialDataLoaded[dataType])\r\n)\r\nexport const selectInitialDataLoaded = createSelector(\r\n\tselectMemoryUi,\r\n\t({ initialDataLoaded = false }) =>\r\n\t\tinitialDataLoaded === true ||\r\n\t\t(typeof initialDataLoaded === 'object' &&\r\n\t\t\t[\r\n\t\t\t\t'accountIdentityData',\r\n\t\t\t\t'allItems',\r\n\t\t\t\t'stats',\r\n\t\t\t\t'campaigns',\r\n\t\t\t\t'advancedAnalytics',\r\n\t\t\t].every(type => !!initialDataLoaded[type]))\r\n)\r\n\r\nexport const selectCampaignInDetails = createSelector(\r\n\tselectMemoryUi,\r\n\t({ campaignId }) => campaignId\r\n)\r\n\r\nexport const selectAnalyticsDataSide = createSelector(\r\n\t[selectSide, selectCampaignInDetails],\r\n\t(side, campaignId) => (campaignId ? campaignId : side ? `for-${side}` : '')\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsTimeframe = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({ sideAnalyticsTimeframe = 'day' } = {}) => sideAnalyticsTimeframe\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsPeriod = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({\r\n\t\tsideAnalyticsPeriod = {\r\n\t\t\tstart: +dateUtils.startOfDay(dateUtils.date()),\r\n\t\t\tend: +dateUtils.endOfDay(dateUtils.date()),\r\n\t\t},\r\n\t} = {}) => sideAnalyticsPeriod\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createSelector(\r\n\t[\r\n\t\tselectLang,\r\n\t\t(_, val, opts = {}) => {\r\n\t\t\treturn { val, opts }\r\n\t\t},\r\n\t],\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''], components = [] } = opts\r\n\t\treturn translate(val, { isProp, args, components }, lang)\r\n\t}\r\n)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { selectCampaignEventsCount } from 'selectors'\r\nimport url from 'url'\r\nexport const selectItems = state => state.persist.items\r\n\r\nexport const selectItemsByType = createSelector(\r\n\t[selectItems, (_, itemType) => itemType],\r\n\t(items, itemType) => items[itemType] || {}\r\n)\r\n\r\nexport const selectItemByTypeAndId = createSelector(\r\n\t[selectItems, (_, itemType, id) => ({ itemType, id })],\r\n\t(items, { itemType, id }) => (items[itemType] || {})[id] || {}\r\n)\r\n\r\nexport const selectItemsArrayByType = createSelector(\r\n\t[selectItemsByType, (_, itemType) => itemType],\r\n\t(items = {}) => Object.values(items)\r\n)\r\n\r\nexport const selectCampaigns = createSelector(\r\n\tstate => selectItemsByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectCampaignById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => campaigns[id]\r\n)\r\n\r\nexport const selectCampaignUnitsById = createSelector(\r\n\t[selectCampaignById, (_, id) => id],\r\n\t({ adUnits } = {}) => adUnits || []\r\n)\r\n\r\nexport const selectCampaignWithAnalyticsById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => {\r\n\t\tconst campaign = { ...(campaigns[id] || {}) }\r\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\r\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\r\n\t\treturn campaign\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectAdUnits = createSelector(\r\n\tstate => selectItemsByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdUnitById = createSelector(\r\n\t[selectAdUnits, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectAdUnitsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdSlots = createSelector(\r\n\tstate => selectItemsByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotById = createSelector(\r\n\t[selectAdSlots, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectWebsites = createSelector(\r\n\tstate => selectItemsByType(state, 'Website'),\r\n\twebsites => websites\r\n)\r\n\r\nexport const selectWebsitesArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'Website'),\r\n\twebsites => websites\r\n)\r\n\r\nexport const selectWebsiteById = createSelector(\r\n\t[selectWebsites, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectWebsiteByWebsite = createSelector(\r\n\t[selectWebsites, (_, ws) => ws],\r\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n} from 'selectors'\r\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectWebsitesArray,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n} from 'selectors'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\r\n\r\nexport const selectAnalytics = state => state.memory.analytics\r\n\r\nexport const selectAnalyticsData = createSelector(\r\n\t[selectAnalytics, (_, side) => side],\r\n\t(analytics, side) => {\r\n\t\treturn analytics[side] || {}\r\n\t}\r\n)\r\n\r\nexport const selectAdvancedAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\tanalytics => analytics.advanced || {}\r\n)\r\n\r\nexport const selectAnalyticsLastChecked = createSelector(\r\n\tselectAnalytics,\r\n\t({ lastChecked }) => {\r\n\t\treturn lastChecked || Date.now()\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsLiveTimestamp = createSelector(\r\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\r\n\t(timeframe, lastChecked) => {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('hour')\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('day')\r\n\t\t\tcase 'week':\r\n\t\t\t\treturn +dateUtils\r\n\t\t\t\t\t.date(lastChecked)\r\n\t\t\t\t\t.startOf('week')\r\n\t\t\t\t\t.add(23, 'hours')\r\n\t\t\t\t\t.utc()\r\n\t\t\t\t\t.startOf('day')\r\n\t\t\tdefault:\r\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('hour')\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ campaigns }) => campaigns || {}\r\n)\r\n\r\nexport const selectDemandAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ demand }) => demand || {}\r\n)\r\n\r\nexport const selectAdvancedAnalyticsByType = createSelector(\r\n\t[selectAdvancedAnalytics, (_, type) => type],\r\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\r\n)\r\n\r\nexport const selectTotalStatsByAdUnits = createSelector(\r\n\t(state, { type, adUnitId }) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\t{ adUnitId },\r\n\t],\r\n\t([analyticsByChannel, { adUnitId }]) =>\r\n\t\tObject.values(analyticsByChannel.byChannelStats || {}).reduce(\r\n\t\t\t(acc, curr) => acc + curr.reportChannelToAdUnit[adUnitId] || 0,\r\n\t\t\t0\r\n\t\t)\r\n)\r\n\r\nexport const selectPublisherStatsByType = createSelector(\r\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\r\n\t({ publisherStats }) => publisherStats || {}\r\n)\r\nexport const selectPublisherStatsByCountry = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToCountry }) => reportPublisherToCountry || {}\r\n)\r\n\r\nexport const selectPublisherPayStatsByCountry = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToCountryPay }) => reportPublisherToCountryPay || {}\r\n)\r\n\r\nexport const selectPublisherStatsAdUnit = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToAdUnit }) => reportPublisherToAdUnit || {}\r\n)\r\n\r\nexport const selectPublisherStatsAdUnitPay = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToAdUnitPay }) => reportPublisherToAdUnitPay || {}\r\n)\r\n\r\nexport const selectPublisherStatsAdSlot = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToAdSlot }) => reportPublisherToAdSlot || {}\r\n)\r\n\r\nexport const selectPublisherStatsAdSlotPay = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToAdSlotPay }) => reportPublisherToAdSlotPay || {}\r\n)\r\n\r\nexport const selectPublisherAggrStatsByCountry = createSelector(\r\n\t(state, type) => selectPublisherStatsByCountry(state, type),\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)\r\n\r\nexport const selectAllAdUnitsInChannels = createSelector(\r\n\tstate => selectChannelsWithUserBalancesAll(state),\r\n\twithBalanceAll =>\r\n\t\tObject.values(withBalanceAll).reduce((units, { adUnits = [] } = {}) => {\r\n\t\t\tadUnits.forEach(u => {\r\n\t\t\t\tconst id = u.id || u.ipfs\r\n\t\t\t\tif (id && !units[id]) {\r\n\t\t\t\t\tunits[id] = { ...u, id }\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn units\r\n\t\t}, {})\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdUnit = createSelector(\r\n\tstate => [\r\n\t\tselectAllAdUnitsInChannels(state),\r\n\t\tselectPublisherStatsAdUnit(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnit(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\tadUnits,\r\n\t\timpressionsByAdUnit,\r\n\t\tclicksByAdUnit,\r\n\t\timpressionsPayByAdUnit,\r\n\t\tclicksPayByAdUnit,\r\n\t]) =>\r\n\t\tObject.values(adUnits)\r\n\t\t\t.filter(i => impressionsByAdUnit[i.id] !== undefined)\r\n\t\t\t.map(item => ({\r\n\t\t\t\t...item,\r\n\t\t\t\timpressions: impressionsByAdUnit[item.id],\r\n\t\t\t\tclicks: clicksByAdUnit[item.id],\r\n\t\t\t\timpressionsPay: Number(impressionsPayByAdUnit[item.id] || 0),\r\n\t\t\t\tclicksPay: Number(clicksPayByAdUnit[item.id] || 0),\r\n\t\t\t}))\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdSlot = createSelector(\r\n\tstate => [\r\n\t\tselectPublisherStatsAdSlot(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdSlot(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdSlotPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdSlotPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\timpressionsByAdSlot,\r\n\t\tclicksByAdSlot,\r\n\t\timpressionsPayByAdSlot,\r\n\t\tclicksPayByAdSlot,\r\n\t]) => ({\r\n\t\timpressionsByAdSlot,\r\n\t\tclicksByAdSlot,\r\n\t\timpressionsPayByAdSlot,\r\n\t\tclicksPayByAdSlot,\r\n\t})\r\n)\r\n\r\nexport const selectPublisherTotalImpressions = createSelector(\r\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\r\n\t({ reportPublisherToAdUnit }) => {\r\n\t\tconst totalImpressions = reportPublisherToAdUnit\r\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\r\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: 0\r\n\r\n\t\treturn totalImpressions\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\r\n\t(state, { type, campaignId } = {}) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\tcampaignId,\r\n\t],\r\n\t([analyticsByType, campaignId]) =>\r\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountry = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t({ reportChannelToCountry }) => reportChannelToCountry || {}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountryPay = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t({ reportChannelToCountryPay }) => reportChannelToCountryPay || {}\r\n)\r\n\r\nexport const selectCampaignAggrStatsByCountry = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelToCountry(state, { type, campaignId }),\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\r\n\t({ reportChannelToAdUnit }) => reportChannelToAdUnit || {}\r\n)\r\n\r\nexport const selectMaxAdUnitStatByChannel = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t({ reportChannelToAdUnit }) =>\r\n\t\treportChannelToAdUnit\r\n\t\t\t? Math.max.apply(null, Object.values(reportChannelToAdUnit))\r\n\t\t\t: 0\r\n)\r\n\r\nexport const selectAnalyticsDataAggr = createSelector(\r\n\t[\r\n\t\tselectAnalytics,\r\n\t\tselectIdentitySideAnalyticsPeriod,\r\n\t\t(_, opts = {}) => opts,\r\n\t\tselectAnalyticsLiveTimestamp,\r\n\t],\r\n\t(\r\n\t\tanalytics = {},\r\n\t\t{ start },\r\n\t\t{ side, eventType, metric, timeframe },\r\n\t\tliveTimestamp\r\n\t) => {\r\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\r\n\t\t// NOTE: It was working fine with default initial state but\r\n\t\t// when eventType CLICK was added if you were logged and had\r\n\t\t// old analytics the initialState is not applied === boom.\r\n\r\n\t\tconst {\r\n\t\t\t[side]: {\r\n\t\t\t\t[eventType]: {\r\n\t\t\t\t\t[metric]: {\r\n\t\t\t\t\t\t[timeframe]: {\r\n\t\t\t\t\t\t\t[liveTimestamp === start ? 'live' : start]: { aggr } = {},\r\n\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t} = {},\r\n\t\t\t\t} = {},\r\n\t\t\t} = {},\r\n\t\t} = analytics\r\n\r\n\t\treturn aggr\r\n\t}\r\n)\r\n\r\nexport function selectCampaignEventsCount(type, campaignId) {\r\n\treturn Object.values(\r\n\t\t// TODO: fix this selector w/o using getState\r\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\r\n\t\t\ttype,\r\n\t\t\tcampaignId,\r\n\t\t})\r\n\t).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nexport const selectTotalImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalMoney = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalImpressionsWithPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\t],\r\n\t([eventCounts, eventPayouts]) =>\r\n\t\teventCounts && eventPayouts\r\n\t\t\t? eventCounts\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\r\n\t\t\t\t\t\t\t\t.value !== null\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAverageCPM = createSelector(\r\n\t[\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\r\n\t],\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createSelector(\r\n\t[\r\n\t\t(state, { noLastOne, ...rest } = {}) => {\r\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\r\n\t\t},\r\n\t],\r\n\t({ data = [], noLastOne, metric, ...rest }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tmemo.labels.push(formatDateTime(time))\r\n\t\t\t\tmemo.datasets.push(\r\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\r\n\t\t\t\t)\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectChartDatapointsImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\t],\r\n\t([impressions]) => impressions\r\n)\r\n\r\nexport const selectChartDatapointsClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\t],\r\n\t([clicks]) => clicks\r\n)\r\n\r\nexport const selectChartDatapointsPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\t],\r\n\t([payouts]) => payouts\r\n)\r\n\r\nexport const selectChartDatapointsCPM = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\r\n\t],\r\n\t([payouts, impressions]) => {\r\n\t\tconst result = {\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t\tresult.labels = payouts.labels\r\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\r\n\t\t\treturn impressions.datasets[i] !== 0\r\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\r\n\t\t\t\t: n\r\n\t\t})\r\n\t\treturn result\r\n\t}\r\n)\r\n\r\nexport const selectPublisherReceipts = createSelector(\r\n\t[selectAnalytics],\r\n\t({ receipts }) => receipts || {}\r\n)\r\n\r\nexport const selectPublisherReceiptsPresentMonths = createSelector(\r\n\t[selectPublisherReceipts],\r\n\treceipts => Object.keys(receipts).map(r => +r)\r\n)\r\n\r\nexport const selectAnalyticsNowLabel = createSelector(\r\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\r\n\t(timeframe, lastChecked) => {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.date(lastChecked),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(lastChecked), 0),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'week':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.getNearestSixHoursUTC(6, lastChecked),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn dateUtils.format(dateUtils.date(), DEFAULT_DATETIME_FORMAT)\r\n\t\t}\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createSelector(\r\n\t[selectValidations, (_, id) => id],\r\n\t(validations, id) => validations[id]\r\n)\r\n\r\nexport const selectMultipleValidationsByIds = createSelector(\r\n\t[selectValidations, (_, ids) => ids],\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createSelector(\r\n\t[selectNewTransactions, (_, id) => id],\r\n\t(txns, id) => txns[id] || {}\r\n)\r\n","import {\r\n\tCampaign as CampaignModel,\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n} from 'adex-models'\r\nimport initialState from 'store/initialState'\r\n\r\nimport { createSelector } from 'reselect'\r\n\r\nexport const selectNewItems = state => state.memory.newItem\r\n\r\nexport const selectNewItemByType = createSelector(\r\n\t[selectNewItems, (_, type) => type],\r\n\t(items, type) => items[type]\r\n)\r\n\r\n// NOTE: currently used only for existing items update\r\nexport const selectNewItemByTypeAndId = createSelector(\r\n\t[selectNewItems, (_, type, itemId) => ({ type, itemId })],\r\n\t(items, { type, itemId }) =>\r\n\t\titemId ? items[itemId] || { ...initialState.newItem[type] } : items[type]\r\n)\r\n\r\nexport const selectNewCampaign = createSelector(\r\n\tselectNewItems,\r\n\t({ Campaign }) => new CampaignModel(Campaign)\r\n)\r\n\r\nexport const selectNewAdUnit = createSelector(\r\n\tselectNewItems,\r\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\r\n)\r\n\r\nexport const selectNewAdSlot = createSelector(\r\n\tselectNewItems,\r\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport ISOCountries from 'i18n-iso-countries'\r\nimport {\r\n\tt,\r\n\tselectCampaignsArray,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAdSlotsArray,\r\n\tselectAdUnits,\r\n\tcreatArrayOnlyLengthChangeSelector,\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\tselectCampaignEventsCount,\r\n\tselectCampaignAnalyticsByChannelToAdUnit,\r\n\tselectTotalStatsByAdUnits,\r\n\tselectCampaignUnitsById,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\tselectPublisherStatsByCountry,\r\n\tselectCampaignAnalyticsByChannelToCountry,\r\n\tselectCampaignAnalyticsByChannelToCountryPay,\r\n\tselectPublisherAggrStatsByCountry,\r\n\tselectCampaignAggrStatsByCountry,\r\n\tselectPublisherPayStatsByCountry,\r\n\tselectPublisherAdvanceStatsToAdSlot,\r\n} from 'selectors'\r\nimport { formatUnits } from 'ethers/utils'\r\nimport chartCountriesData from 'world-atlas/countries-50m.json'\r\nimport { scaleLinear } from 'd3-scale'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\nimport {\r\n\tPRIMARY_DARKEST,\r\n\tPRIMARY_LIGHTEST,\r\n\tSECONDARY,\r\n\tSECONDARY_LIGHT,\r\n} from 'components/App/themeMUi'\r\nimport { grey } from '@material-ui/core/colors'\r\nconst COUNTRY_NAMES = ISOCountries.getNames('en')\r\n\r\nexport const selectCampaignsTableData = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\r\n\t(campaigns, tokens, side) =>\r\n\t\tcampaigns.map(item => {\r\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\r\n\t\t\tconst { id, spec = {}, adUnits = [] } = item\r\n\r\n\t\t\tconst firstUnit = adUnits[0] || {}\r\n\r\n\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\r\n\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tside,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\r\n\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\r\n\t\t\t\t\toriginalName: item.status.name,\r\n\t\t\t\t},\r\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\r\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\r\n\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', id),\r\n\t\t\t\tclicks: selectCampaignEventsCount('CLICK', id),\r\n\r\n\t\t\t\tctr:\r\n\t\t\t\t\t(selectCampaignEventsCount('CLICK', id) /\r\n\t\t\t\t\t\tselectCampaignEventsCount('IMPRESSION', id)) *\r\n\t\t\t\t\t\t100 || 0,\r\n\r\n\t\t\t\tminPerImpression: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tminPerImpression:\r\n\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\tformatUnits(\r\n\t\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\r\n\t\t\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t) * 1000,\r\n\t\t\t\t},\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\r\n\t\t\t\twithdrawPeriodStart:\r\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tside,\r\n\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tto,\r\n\t\t\t\t\ttoReceipt,\r\n\t\t\t\t\treceiptReady:\r\n\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\r\n\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\r\n\t\t\t\t\t\t\titem.status.name === 'Expired'),\r\n\t\t\t\t},\r\n\t\t\t\tid,\r\n\t\t\t\treceiptAvailable:\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\r\n\tselectCampaignsTableData,\r\n\tdata => data\r\n)\r\n\r\nexport const selectCampaignsMaxImpressions = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxClicks = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxDeposit = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\r\n\t(campaigns, tokens) =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\r\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\r\n\t\t\t})\r\n\t\t)\r\n)\r\n\r\nexport const selectAdSlotsTableData = createSelector(\r\n\t[selectAdSlotsArray, selectPublisherAdvanceStatsToAdSlot, (_, side) => side],\r\n\t(\r\n\t\tslots,\r\n\t\t{\r\n\t\t\timpressionsByAdSlot,\r\n\t\t\tclicksByAdSlot,\r\n\t\t\timpressionsPayByAdSlot,\r\n\t\t\tclicksPayByAdSlot,\r\n\t\t},\r\n\t\tside\r\n\t) =>\r\n\t\tslots.map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/slots/${id}`\r\n\r\n\t\t\tconst clicks = clicksByAdSlot[id]\r\n\t\t\tconst impressions = impressionsByAdSlot[id]\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: item.mediaUrl,\r\n\t\t\t\t\tmediaMime: item.mediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type.replace('legacy_', ''),\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\tearnings:\r\n\t\t\t\t\tNumber(impressionsPayByAdSlot[id] || 0) +\r\n\t\t\t\t\tNumber(clicksPayByAdSlot[id] || 0),\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectAdUnitsTableData = createSelector(\r\n\t[\r\n\t\t(state, { side, campaignId, items }) => ({\r\n\t\t\tside,\r\n\t\t\titems:\r\n\t\t\t\titems ||\r\n\t\t\t\t(campaignId\r\n\t\t\t\t\t? selectCampaignUnitsById(state, campaignId)\r\n\t\t\t\t\t: selectAdUnits(state)),\r\n\t\t\timpressionsByAdUnit: id =>\r\n\t\t\t\tcampaignId\r\n\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\r\n\t\t\t\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t  })[id]\r\n\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\r\n\t\t\t\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\t\t\t\tadUnitId: id,\r\n\t\t\t\t\t  }),\r\n\t\t\tclicksByAdUnit: id =>\r\n\t\t\t\tcampaignId\r\n\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\r\n\t\t\t\t\t\t\ttype: 'CLICK',\r\n\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t  })[id]\r\n\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\r\n\t\t\t\t\t\t\ttype: 'CLICK',\r\n\t\t\t\t\t\t\tadUnitId: id,\r\n\t\t\t\t\t  }),\r\n\t\t}),\r\n\t],\r\n\t({ side, items, impressionsByAdUnit, clicksByAdUnit }) =>\r\n\t\tObject.values(items).map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/units/${id}`\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: item.mediaUrl,\r\n\t\t\t\t\tmediaMime: item.mediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\timpressions: impressionsByAdUnit(id) || 0,\r\n\t\t\t\tclicks: clicksByAdUnit(id) || 0,\r\n\t\t\t\tctr: (clicksByAdUnit(id) / impressionsByAdUnit(id)) * 100 || 0,\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type,\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nconst mapByCountryTableData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n\timpressionsPayByCountry,\r\n\tclicksPayByCountry,\r\n} = {}) => {\r\n\tconst addEarnings = impressionsPayByCountry && clicksPayByCountry\r\n\t// NOTE: assume that there are no click without impressions\r\n\treturn Object.keys(impressionsByCountry).map(key => {\r\n\t\treturn {\r\n\t\t\tcountryName: COUNTRY_NAMES[key],\r\n\t\t\timpressions: impressionsByCountry[key] || 0,\r\n\t\t\tpercentImpressions:\r\n\t\t\t\t((impressionsByCountry[key] || 0) /\r\n\t\t\t\t\t(impressionsAggrByCountry.total || 1)) *\r\n\t\t\t\t100,\r\n\t\t\tclicks: clicksByCountry[key] || 0,\r\n\t\t\tctr:\r\n\t\t\t\t((clicksByCountry[key] || 0) / (impressionsByCountry[key] || 1)) * 100,\r\n\t\t\t...(addEarnings && {\r\n\t\t\t\tearnings:\r\n\t\t\t\t\t(impressionsPayByCountry[key] || 0) + (clicksPayByCountry[key] || 0),\r\n\t\t\t}),\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const selectPublisherStatsByCountryData = createSelector(\r\n\t[\r\n\t\tstate => selectPublisherStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherStatsByCountry(state, 'CLICK'),\r\n\t\tstate => selectPublisherAggrStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'CLICK'),\r\n\t],\r\n\t(\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry\r\n\t) => ({\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t})\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryData = createSelector(\r\n\t(state, { campaignId }) => {\r\n\t\treturn [\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tselectCampaignAggrStatsByCountry(state, {\r\n\t\t\t\tcampaignId,\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t}),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t]\r\n\t},\r\n\t([\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t]) => {\r\n\t\treturn {\r\n\t\t\timpressionsByCountry,\r\n\t\t\tclicksByCountry,\r\n\t\t\timpressionsAggrByCountry,\r\n\t\t\timpressionsPayByCountry,\r\n\t\t\tclicksPayByCountry,\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectPublisherStatsByCountryTableData = createSelector(\r\n\tselectPublisherStatsByCountryData,\r\n\tdata => mapByCountryTableData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryTableData = createSelector(\r\n\t[\r\n\t\t(state, { campaignId }) => {\r\n\t\t\treturn selectCampaignAnalyticsToCountryData(state, { campaignId })\r\n\t\t},\r\n\t],\r\n\tdata => mapByCountryTableData(data)\r\n)\r\n\r\nconst mapByCountryMapChartData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n} = {}) => {\r\n\tconst colorScale = scaleLinear()\r\n\t\t.domain([0, impressionsAggrByCountry.max])\r\n\t\t.range([PRIMARY_LIGHTEST, PRIMARY_DARKEST])\r\n\r\n\tconst hoverColor = SECONDARY\r\n\tconst pressedColor = SECONDARY_LIGHT\r\n\tconst chartData = { ...chartCountriesData }\r\n\r\n\tchartData.objects.countries.geometries = chartCountriesData.objects.countries.geometries.map(\r\n\t\tdata => {\r\n\t\t\tconst id = ISOCountries.numericToAlpha2(data.id)\r\n\t\t\tconst impressions = impressionsByCountry[id] || 0\r\n\t\t\tconst clicks = clicksByCountry[id] || 0\r\n\t\t\tconst name = COUNTRY_NAMES[id] || data.name\r\n\t\t\tconst percentImpressions =\r\n\t\t\t\t((impressions || 0) / impressionsAggrByCountry.total) * 100 || 0\r\n\t\t\tconst ctr = ((clicks || 0) / (impressions || 1)) * 100 || 0\r\n\t\t\tconst tooltipElements = [\r\n\t\t\t\t`${name}:`,\r\n\t\t\t\t`${t('LABEL_IMPRESSIONS')}: ${formatAbbrNum(impressions, 2)}`,\r\n\t\t\t\t`${t('LABEL_CLICKS')}: ${formatAbbrNum(clicks, 2)}`,\r\n\t\t\t\t`${t('LABEL_PERC')}: ${percentImpressions.toFixed(2)} %`,\r\n\t\t\t\t`${t('LABEL_CTR')}: ${ctr.toFixed(4)} %`,\r\n\t\t\t]\r\n\r\n\t\t\tconst fillColor = impressions > 0 ? colorScale(impressions) : grey[400]\r\n\r\n\t\t\tconst properties = {\r\n\t\t\t\tname,\r\n\t\t\t\tfillColor,\r\n\t\t\t\ttooltipElements,\r\n\t\t\t}\r\n\r\n\t\t\treturn { ...data, properties }\r\n\t\t}\r\n\t)\r\n\r\n\treturn { chartData, hoverColor, pressedColor }\r\n}\r\n\r\nexport const selectPublisherStatsByCountryMapChartData = createSelector(\r\n\t[selectPublisherStatsByCountryData],\r\n\tdata => mapByCountryMapChartData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryMapChartData = createSelector(\r\n\t[\r\n\t\t(state, { campaignId }) =>\r\n\t\t\tselectCampaignAnalyticsToCountryData(state, { campaignId }),\r\n\t],\r\n\tdata => mapByCountryMapChartData(data)\r\n)\r\n\r\nexport const selectBestEarnersTableData = createSelector(\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\titems =>\r\n\t\titems.map(item => {\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\timpressionsPay,\r\n\t\t\t\tclicksPay,\r\n\t\t\t} = item\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tmediaMime,\r\n\t\t\t\t},\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\tearnings: impressionsPay + clicksPay,\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignStatsTableData = createSelector(\r\n\t(state, campaignId) => {\r\n\t\treturn {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\t},\r\n\t({ impressions, clicks }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\r\n\t\treturn Object.keys(imprStats).map(key => ({\r\n\t\t\twebsite: key,\r\n\t\t\timpressions: imprStats[key] || 0,\r\n\t\t\tctr: ((clickStats[key] || 0) / (imprStats[key] || 1)) * 100,\r\n\t\t\tearnings: Number(earnStats[key] || 0),\r\n\t\t\tclicks: clickStats[key] || 0,\r\n\t\t}))\r\n\t}\r\n)\r\n\r\nexport const selectCampaignTotalValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalClicks += current.clicks\r\n\t\t\t\tnewResult.totalImpressions += current.impressions\r\n\t\t\t\tnewResult.totalEarnings += current.earnings\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectCampaignStatsMaxValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\tnewResult.maxEarnings = Math.max(\r\n\t\t\t\t\tcurrent.earnings,\r\n\t\t\t\t\tnewResult.maxEarnings\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectAdUnitsStatsMaxValues = createSelector(\r\n\t(state, { side, items, campaignId }) =>\r\n\t\tselectAdUnitsTableData(state, { side, items, campaignId }),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTableData = createSelector(\r\n\t[selectAnalytics, selectMainToken, (_, date) => date],\r\n\t({ receipts }, token, date) => {\r\n\t\tconst result = []\r\n\t\tif (receipts && receipts[date]) {\r\n\t\t\tconst { decimals = 18 } = token || {}\r\n\t\t\tfor (let [key, value] of Object.entries(receipts[date])) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\timpressions: value.impressions,\r\n\t\t\t\t\tpayouts: Number(formatUnits(value.payouts || '0', decimals)),\r\n\t\t\t\t\tdate: +key,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTotalValues = createSelector(\r\n\t[selectPublisherReceiptsStatsByMonthTableData],\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalPayouts += +current.payouts\r\n\t\t\t\tnewResult.totalImpressions += +current.impressions\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalPayouts: 0, totalImpressions: 0 }\r\n\t\t)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\r\n\r\nexport const selectCampaignDoughnutStats = createSelector(\r\n\t(state, { campaignId, chartColors, maxDataSets }) => {\r\n\t\tconst analytics = {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\r\n\t\treturn { ...analytics, chartColors, maxDataSets }\r\n\t},\r\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\r\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\r\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, key, i) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tif (i < maxDataSets) {\r\n\t\t\t\t\t\tnewData.labels.push(key)\r\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\r\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\r\n\r\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\r\n\r\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\r\n\t\t\t)\r\n\r\n\t\tconst data = {\r\n\t\t\tlabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: impressionsData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: clicksData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t}\r\n)\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\r\nimport { createSelector } from 'reselect'\r\nimport { constants } from 'adex-models'\r\nimport { WHERE_YOU_KNOW_US } from 'constants/misc'\r\nimport moment from 'moment'\r\n\r\nexport const selectSlotTypesSourceWithDemands = createSelector(\r\n\t[selectDemandAnalytics, selectMainToken],\r\n\t(demand, { symbol }) => {\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tlabel: type.split('_')[1],\r\n\t\t\t\tdemand: demand[type],\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\r\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\r\n\r\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst current = type\r\n\t\t\t\t\tif (index === 0 && type.demand) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\t!type.demand\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (current.demand) {\r\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\r\n\t\t\t)\r\n\t\treturn source\r\n\t}\r\n)\r\n\r\nexport const selectMonthsRange = createSelector(\r\n\t[\r\n\t\t(startDate, endDate) => ({\r\n\t\t\tstartDate,\r\n\t\t\tendDate,\r\n\t\t}),\r\n\t],\r\n\t({ startDate, endDate }) => {\r\n\t\tconst months = []\r\n\t\tfor (\r\n\t\t\tvar m = moment(startDate).startOf('month');\r\n\t\t\tm.diff(moment(endDate).startOf('month')) <= 0;\r\n\t\t\tm.add(1, 'month')\r\n\t\t) {\r\n\t\t\tmonths.push(+m)\r\n\t\t}\r\n\t\treturn months\r\n\t}\r\n)\r\n\r\nexport const selectReceiptMonths = createSelector(\r\n\t[selectMonthsRange, (_, __, monthsEnd) => monthsEnd],\r\n\t(months, monthsEnd) =>\r\n\t\tmonths.map(monthTimestamp => ({\r\n\t\t\tvalue: monthTimestamp,\r\n\t\t\tlabel: !!monthsEnd\r\n\t\t\t\t? moment(monthTimestamp)\r\n\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t.format('Do MMMM, YYYY')\r\n\t\t\t\t: moment(monthTimestamp).format('Do MMMM, YYYY'),\r\n\t\t}))\r\n)\r\n\r\nexport const selectFromSource = createSelector(\r\n\tlabelValueMapping => labelValueMapping,\r\n\tsource =>\r\n\t\tsource.map(data => {\r\n\t\t\tconst translated = { ...data }\r\n\t\t\ttranslated.label = t(data.label)\r\n\t\t\treturn translated\r\n\t\t})\r\n)\r\n\r\nexport const selectKnowUsFromSource = createSelector(\r\n\t() => selectFromSource(WHERE_YOU_KNOW_US),\r\n\tsource => source\r\n)\r\n\r\nexport const selectTargetingSources = createSelector(\r\n\tsources => sources,\r\n\tsources =>\r\n\t\tObject.entries(sources).map(([key, { collection }], index) => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tkey: key + index,\r\n\t\t\t\t\tsource: key,\r\n\t\t\t\t\tcollection,\r\n\t\t\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\t\t\tlabel: t(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\tplaceholder: t(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t},\r\n\t\t\t\tlabel: t(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(({ name, value } = {}) => ({\r\n\t\tlabel: t(name),\r\n\t\tvalue: value,\r\n\t}))\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => ({\r\n\t\tlabel: t(gender.split('_')[1].toUpperCase()),\r\n\t\tvalue: gender,\r\n\t}))\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(({ _id }) => ({\r\n\t\tlabel: t(_id),\r\n\t\tvalue: _id,\r\n\t}))\r\n}\r\n\r\nexport const slotSources = () => ({\r\n\ttags: { src: autocompleteTagsSingleSelect(), collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags' },\r\n})\r\n\r\nexport const unitSources = () => ({\r\n\tlocations: {\r\n\t\tsrc: autocompleteLocationsSingleSelect(),\r\n\t\tcollection: 'targeting',\r\n\t},\r\n\tgenders: { src: autocompleteGendersSingleSelect(), collection: 'targeting' },\r\n\ttags: { src: autocompleteTagsSingleSelect(), collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n})\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta = {} }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const sectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectAdUnitById,\r\n\tselectAdSlotById,\r\n\tselectSide,\r\n\tt,\r\n} from 'selectors'\r\n\r\nexport const selectLocation = state => state.router.location\r\n\r\nexport const selectSearch = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => search\r\n)\r\n\r\nexport const selectLocationQuery = createSelector(\r\n\tselectLocation,\r\n\t({ query }) => query || {}\r\n)\r\n\r\nexport const selectSearchParams = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => new URLSearchParams(search)\r\n)\r\n\r\nconst ITEMS_SELECTORS = {\r\n\tcampaigns: selectCampaignById,\r\n\treceipt: selectCampaignById,\r\n\tunits: selectAdUnitById,\r\n\tslots: selectAdSlotById,\r\n}\r\n\r\nconst SIDES = {\r\n\tadvertiser: true,\r\n\tpublisher: true,\r\n}\r\n\r\nexport const selectDashboardBreadcrumbs = createSelector(\r\n\t[selectLocation, state => state, selectSide],\r\n\t({ pathname = '' }, state, side) => {\r\n\t\tconst paths = pathname.split('/').filter(x => !!x)\r\n\t\tconst sideDashboard = paths.slice(0, 2)\r\n\r\n\t\t// NOTE: no breadcrumbs if no side dashboard\r\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\tconst sideDashboardBC = {\r\n\t\t\tto: `/${sideDashboard.join('/')}`,\r\n\t\t\tlabel: 'dashboard',\r\n\t\t}\r\n\r\n\t\tconst rest = paths.slice(2)\r\n\r\n\t\tconst restBC = rest.map((x, index) => {\r\n\t\t\tconst prev = rest[index - 1]\r\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\r\n\r\n\t\t\tlet label = x\r\n\r\n\t\t\tif (selector) {\r\n\t\t\t\tconst { title } = selector(state, x) || {}\r\n\t\t\t\tlabel = title || label\r\n\t\t\t}\r\n\r\n\t\t\tconst bc = {\r\n\t\t\t\tlabel,\r\n\t\t\t}\r\n\r\n\t\t\tif (index < rest.length - 1) {\r\n\t\t\t\tconst restCopy = [...rest]\r\n\r\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\r\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\r\n\t\t\t\t// We need a better way\r\n\t\t\t\tif (receiptAt >= 0) {\r\n\t\t\t\t\trestCopy[receiptAt] = side === 'advertiser' ? 'campaigns' : 'receipts'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\r\n\t\t\t\t\t.slice(0, index + 1)\r\n\t\t\t\t\t.join('/')}`\r\n\t\t\t}\r\n\r\n\t\t\treturn bc\r\n\t\t})\r\n\r\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\r\n\t\t\t...b,\r\n\t\t\tlabel:\r\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\r\n\t\t\t\t\t? t(b.label.toUpperCase())\r\n\t\t\t\t\t: b.label,\r\n\t\t}))\r\n\r\n\t\treturn breadcrumbs || []\r\n\t}\r\n)\r\n","export * from './selectors'\r\nexport * from './configSelectors'\r\nexport * from './accountSelectors'\r\nexport * from './identitySelectors'\r\nexport * from './uiSelectors'\r\nexport * from './translationsSelectors'\r\nexport * from './itemsSelectors'\r\nexport * from './analyticsSelectors'\r\nexport * from './validationsSelectors'\r\nexport * from './newTransactionSelectors'\r\nexport * from './newItemsSelectors'\r\nexport * from './tablesDataSelectors'\r\nexport * from './chartsSelectors'\r\nexport * from './dataSelectors'\r\nexport * from './gettingStartedSelectors'\r\nexport * from './locationSelectors'\r\n","import { validations, helpers } from 'adex-models'\r\n\r\nexport const ipfsSrc = src => {\r\n\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t}\r\n\r\n\treturn src\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Snackbar, IconButton } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons'\r\n\r\nimport { Alert } from '@material-ui/lab'\r\nconst typeToSeverity = {\r\n\taccept: 'success',\r\n\tsuccess: 'success',\r\n\twarning: 'warning',\r\n\tinfo: 'info',\r\n\tcancel: 'error',\r\n\terror: 'error',\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tif (!nextToast) {\r\n\t\t\tthis.setState({ active: false, toast: {} })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t}\r\n\t}\r\n\r\n\tclose = id => {\r\n\t\tthis.setState({ active: false })\r\n\t\tsetTimeout(() => this.props.actions.removeToast(id), 100)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\r\n\t\tif (!toast) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tseverity={typeToSeverity[toast.type]}\r\n\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t{toast.action && toast.action}\r\n\t\t\t\t\t\t\t{!toast.unclosable && (\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tkey={`close-${toast.id}`}\r\n\t\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Close />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || [],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Toast)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectConfirm } from 'selectors'\r\n\r\nimport {\r\n\tDialog,\r\n\tButton,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from '@material-ui/core'\r\n\r\nexport function Confirm({ children }) {\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst {\r\n\t\tonConfirm,\r\n\t\tonCancel,\r\n\t\tactive,\r\n\t\tcalledOn,\r\n\t\tnoActionBtns,\r\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\r\n\t} = useSelector(selectConfirm)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpen(!!active)\r\n\t}, [active, calledOn])\r\n\r\n\tconst confirm = () => {\r\n\t\tif (typeof onConfirm === 'function') {\r\n\t\t\tonConfirm()\r\n\t\t}\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\tconst cancel = () => {\r\n\t\tif (typeof onCancel === 'function') {\r\n\t\t\tonCancel()\r\n\t\t}\r\n\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog open={open}>\r\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t\t{children}\r\n\t\t\t</DialogContent>\r\n\t\t\t{!noActionBtns && (\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{cancelLabel && (\r\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{confirmLabel && (\r\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogActions>\r\n\t\t\t)}\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default Confirm\r\n","import React, { forwardRef } from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tforwardedRef,\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\tref={forwardedRef}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\thref={toLocation}\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst WithRouter = withRouter(Decorated)\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithRouter {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport { Link } from '@material-ui/core'\r\nimport { OpenInNew } from '@material-ui/icons'\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({\r\n\thref,\r\n\ttarget,\r\n\tchildren,\r\n\tlabel,\r\n\tunderline,\r\n\texternalIcon,\r\n\tcolor,\r\n\tcomponent,\r\n\t...rest\r\n}) => {\r\n\tconst isExternal = target && target === '_blank'\r\n\tconst url = isExternal ? getUrl(href) : href\r\n\r\n\tconst linkProps = {\r\n\t\tunderline: underline || 'none',\r\n\t\tcolor: color || 'inherit',\r\n\t\tdraggable: 'false',\r\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\r\n\t\ttarget,\r\n\t\thref: url,\r\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\r\n\t\t...(component ? { component } : {}),\r\n\t\t...rest,\r\n\t}\r\n\treturn (\r\n\t\t<Link {...linkProps}>\r\n\t\t\t{!component && (children || label)}\r\n\t\t\t{!component && externalIcon && (\r\n\t\t\t\t<OpenInNew style={{ fontSize: 'small' }} />\r\n\t\t\t)}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport const ExternalAnchor = ({ href, children, style, ...rest }) => (\r\n\t<Anchor\r\n\t\tstyle={{ fontWeight: 'bold' }}\r\n\t\tunderline='always'\r\n\t\ttarget='_blank'\r\n\t\tcolor='primary'\r\n\t\texternalIcon\r\n\t\thref={href}\r\n\t\t{...rest}\r\n\t>\r\n\t\t{children}\r\n\t</Anchor>\r\n)\r\n\r\nexport default Anchor\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Tabs, Tab, Divider } from '@material-ui/core'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst sideIndex = {\r\n\tadvertiser: 0,\r\n\tpublisher: 1,\r\n\t'0': 'advertiser',\r\n\t'1': 'publisher',\r\n}\r\n\r\nconst handleChange = (ev, index) => {\r\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\r\n}\r\n\r\nconst useTabsStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tindicator: {\r\n\t\t\t// NOTE: we use Tab background color as indicator\r\n\t\t\t// There is an animation for the Tabs indicator that looks out of\r\n\t\t\t// sync with Tab background change\r\n\t\t\tbackground: '0',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useTabStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.main\r\n\t\t\t: theme.palette.primary.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tminWidth: 30,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t\tbackgroundColor: activeColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\r\n\t\t\t},\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: activeColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst SideSwitch = ({ side, className }) => {\r\n\tconst tabsClasses = useTabsStyles({ side })\r\n\tconst tabClasses = useTabStyles({ side })\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<Box bgcolor='background.paper'>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tclasses={tabsClasses}\r\n\t\t\t\t\tvalue={sideIndex[side]}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\taria-label='side select'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t<Divider />\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport { Receipt } from '@material-ui/icons'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport Box from '@material-ui/core/Box'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.contrastText\r\n\t\t\t: theme.palette.primary.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.main\r\n\t\t\t: theme.palette.primary.main\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 100,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\t\tcolor: activeColor,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsideSwitch: {\r\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 32,\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tamount: {\r\n\t\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction SideNav(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<div className={classes.navigation}>\r\n\t\t\t<List\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\troot: classes.navListRoot,\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={classes.navList}\r\n\t\t\t\tcomponent='nav'\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tbgcolor='background.paper'\r\n\t\t\t\t\t\tclassName={classnames(classes.sideNavToolbar)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t// @cryptofan\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AdexIconTxt className={classes.icon} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant='button'\r\n\t\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t[classes.active]: location === items,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/receipts' }}\r\n\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'receipts',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<Receipt />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('RECEIPTS')} />\r\n\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/topup' }}\r\n\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t[classes.active]: location === 'topup',\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<MonetizationOnIcon color='secondary' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('TOP_UP')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t</div>\r\n\t\t\t</List>\r\n\t\t\t<div className={classes.version}>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx Network OÜ\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md.'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState, Children, cloneElement } from 'react'\r\nimport { Menu, Button } from '@material-ui/core'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t\taria-controls={id}\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tgetContentAnchorEl={null}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={handleClose}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{Children.map(children, child =>\r\n\t\t\t\t\tcloneElement(child, {\r\n\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\ttypeof child.props.onClick === 'function' && child.props.onClick()\r\n\t\t\t\t\t\t\thandleClose()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","const drawerWidth = 250\r\nconst lastRowRightReserved = 169\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tmarginTop: 69,\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\theight: 'calc(100vh - 69px)',\r\n\t\t\twidth: '100vw',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tpaddingRight: theme.spacing(2),\r\n\t\t\tpaddingLeft: theme.spacing(2),\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: lastRowRightReserved,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 69,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t\tpadding: theme.spacing(2),\r\n\t\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\t},\r\n\r\n\t\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1420,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// Because of the floating button and table paging\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tpaddingBottom: 146 + theme.spacing(2),\r\n\t\t\t},\r\n\t\t},\r\n\t\tbreadcrumbElement: {\r\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\r\n\t\t\t\t\tdrawerWidth +\r\n\t\t\t\t\tlastRowRightReserved}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tBreadcrumbs,\r\n\tIconButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tLink,\r\n\tMenuItem,\r\n\tBox,\r\n\tHidden,\r\n} from '@material-ui/core'\r\n\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { selectAccount, selectDashboardBreadcrumbs } from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst RRLink = withReactRouterLink(Link)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst account = useSelector(selectAccount)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t<Box pl={1}>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t<Box display='flex' flexGrow='1' pl={2}>\r\n\t\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\r\n\t\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\r\n\t\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</RRLink>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\r\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Breadcrumbs>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center' pr={1}>\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\nclass Img extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null,\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\thandleToggle = ev => {\r\n\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: ipfsSrc(src),\r\n\t\t\t\tfallback: ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: ipfsSrc(src),\r\n\t\t\t\tfallback: ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = nextProps => {\r\n\t\tconst nextSrc = ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = (fallback, image) => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null,\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback, image)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\r\n\t\t\tthis,\r\n\t\t\tfallback\r\n\t\t)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image,\r\n\t\t\t\tvideoSrc: null,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image,\r\n\t\t\t\timgSrc: null,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<video\r\n\t\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t></video>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\talt,\r\n\t\t\tallowFullscreen,\r\n\t\t\tclassName,\r\n\t\t\tclassNameImg,\r\n\t\t\tclasses,\r\n\t\t\tfullScreenOnClick,\r\n\t\t\tonClick,\r\n\t\t} = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn imgSrc || videoSrc ? (\r\n\t\t\t<div className={classnames(className, classes.wrapper)}>\r\n\t\t\t\t{!!imgSrc ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.imgLoading,\r\n\t\t\t\t\t\t\tclasses.img,\r\n\t\t\t\t\t\t\tclassNameImg\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, classes.img)}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\r\n\t\t\t\t\t></video>\r\n\t\t\t\t)}\r\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t<span className={classes.circular}>\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tobjectFit: 'contain',\r\n\t},\r\n\twrapper: {\r\n\t\theight: '100%',\r\n\t\twidth: '100%',\r\n\t},\r\n})\r\n","import React, { Fragment } from 'react'\r\nimport MUIDataTable from 'mui-datatables'\r\nimport { LinearProgress, Paper } from '@material-ui/core'\r\nimport { t } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst generalTableOptions = {\r\n\trowsPerPage: 5,\r\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\r\n\tsetTableProps: () => {\r\n\t\treturn {\r\n\t\t\tpadding: 'default',\r\n\t\t\tsize: 'small',\r\n\t\t\twidth: '100%',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t},\r\n\ttextLabels: {\r\n\t\tbody: {\r\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\r\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\r\n\t\t\tcolumnHeaderTooltip: column =>\r\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\r\n\t\t\t\t\targs: [column.label || column],\r\n\t\t\t\t})}`,\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tnext: t('TABLE_NEXT'),\r\n\t\t\tprevious: t('TABLE_PREV'),\r\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\r\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tsearch: t('TABLE_SEARCH'),\r\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\r\n\t\t\tprint: t('TABLE_PRINT'),\r\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\r\n\t\t\tfilterTable: t('TABLE_FILTER'),\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tall: t('TABLE_FILTER_ALL'),\r\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\r\n\t\t\treset: t('TABLE_FILTER_RESET'),\r\n\t\t},\r\n\t\tviewColumns: {\r\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\r\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\r\n\t\t},\r\n\t\tselectedRows: {\r\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\r\n\t\t\tdelete: t('TABLE_DELETE'),\r\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\r\n\t\t},\r\n\t},\r\n}\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport default function MUIDataTableEnhanced(props) {\r\n\tconst { title, data, columns, options, loading } = props\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<MUIDataTable\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...generalTableOptions,\r\n\t\t\t\t\t...options,\r\n\t\t\t\t\televation: 0,\r\n\t\t\t\t\tvariant: 'outlined',\r\n\t\t\t\t\tsearch: !props.noSearch,\r\n\t\t\t\t\tdownload: !props.noDownload,\r\n\t\t\t\t\tprint: !props.noPrint,\r\n\t\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\r\n\t\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\r\n\t\t\t\t\tresponsive: 'stacked',\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\n\r\nconst mapStatusIcons = (humanFriendlyStatus, status = '', size) => {\r\n\tconst icon = {\r\n\t\txs: { fontSize: 10 },\r\n\t\tmd: { fontSize: 15 },\r\n\t\tls: { fontSize: 20 },\r\n\t}\r\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\r\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\r\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\r\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\r\n\t\treturn waitIcon\r\n\tswitch (status.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn doneIcon\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn waitIcon\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn warningIcon\r\n\t\tcase 'withdraw':\r\n\t\t\treturn cashIcon\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nexport { mapStatusIcons }\r\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\t// Fixed width to avoid col resizing while loading\r\n\t\theight: 46,\r\n\t\twidth: 69,\r\n\t\tcursor: 'pointer',\r\n\t\tdisplay: 'flex',\r\n\t},\r\n})\r\n","import React from 'react'\r\nimport { Typography, Slider, Box } from '@material-ui/core'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\n\r\nconst getSliderStep = (min, max, steps, precision = 2) => {\r\n\tconst diff = max - min\r\n\tconst step = diff / steps\r\n\tconst fixed = parseFloat(step.toFixed(precision))\r\n\r\n\treturn fixed\r\n}\r\n\r\nexport const sliderFilterOptions = ({\r\n\tinitial = [],\r\n\tfilterTitle = '',\r\n\tstepsCount = 20,\r\n\tstepsPrecision = 2,\r\n}) => {\r\n\tconst min = initial[0] || 0\r\n\tconst max = initial[1] || 100\r\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\r\n\treturn {\r\n\t\tfilter: true,\r\n\t\tdisplay: 'true',\r\n\t\tfilterType: 'custom',\r\n\t\tcustomFilterListOptions: {\r\n\t\t\trender: v =>\r\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\r\n\t\t\tupdate: (filterList, filterPos, index) => {\r\n\t\t\t\tfilterList[index] = []\r\n\t\t\t\treturn filterList\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tfilterOptions: {\r\n\t\t\tnames: [],\r\n\t\t\tlogic: (rowNumber, filters) => {\r\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\r\n\t\t\t\tif (filters.length > 0) {\r\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\tdisplay: (filterList, onChange, index, column) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\r\n\t\t\t\t\t\t\t{filterTitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\r\n\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\t\tmarks={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: min,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\r\n\t\t\t\t\t\t\t\tstep={step}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\r\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\r\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectInitialDataLoaded } from 'selectors'\r\n\r\nexport function useTableData({ selector, selectorArgs, getColumns }) {\r\n\tconst initialDataLoaded = useSelector(selectInitialDataLoaded)\r\n\tconst [data, setData] = useState([])\r\n\tconst [columns, setColumns] = useState([])\r\n\r\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\r\n\r\n\tconst reloadData = useCallback(() => {\r\n\t\tsetData(selectedData)\r\n\t\tsetColumns(getColumns())\r\n\t}, [getColumns, selectedData])\r\n\r\n\tuseEffect(() => {\r\n\t\treloadData()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedData.length, selector, selectorArgs, initialDataLoaded])\r\n\r\n\treturn { data, columns, reloadData }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tIconButton,\r\n\tTooltip,\r\n\tBox,\r\n\tButton,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\r\nimport { t, selectSpinnerById } from 'selectors'\r\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport function ReloadData({ handleReload }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleReload}>\r\n\t\t\t\t\t<Refresh />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\r\n\t\t\t\t\t<Receipt />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\r\n\tconst classes = useStyles()\r\n\tconst receiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\r\n\t\t\t\t<Box ml={2} mr={2}>\r\n\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{receiptsSpinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility, Receipt } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectCampaignsTableData,\r\n\tselectMainToken,\r\n\tselectSide,\r\n\tselectCampaignsMaxImpressions,\r\n\tselectCampaignsMaxClicks,\r\n\tselectCampaignsMaxDeposit,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { commify } from 'ethers/utils'\r\nimport { execute, handlePrintSelectedReceiptsAdvertiser } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString, formatDate } from 'helpers/formatters'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData, PrintAllReceipts } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tsymbol,\r\n\tmaxImpressions,\r\n\tmaxDeposit,\r\n\tmaxClicks,\r\n}) => [\r\n\t{\r\n\t\tname: 'id',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'receiptAvailable',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tdownload: false,\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'status',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tfilterOptions: {\r\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\r\n\t\t\t\tlogic: (status, filters) => {\r\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName, id }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t{humanFriendlyName}{' '}\r\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t\t// TODO: Sorting issue\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'depositAmount',\r\n\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: depositAmount => (\r\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxDeposit],\r\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'fundsDistributedRatio',\r\n\t\tlabel: t('PROP_SERVED'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\r\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'minPerImpression',\r\n\t\tlabel: t('PROP_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ({ minPerImpression, id }) => (\r\n\t\t\t\t<Fragment key={id}>{`${minPerImpression.toFixed(\r\n\t\t\t\t\t2\r\n\t\t\t\t)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'activeFrom',\r\n\t\tlabel: t('PROP_STARTS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'withdrawPeriodStart',\r\n\t\tlabel: t('PROP_ENDS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\r\n\t\t\t\tformatDateTime(withdrawPeriodStart),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\treceiptReady\r\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\r\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\r\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\t\tto={toReceipt}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='receip'\r\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'disabled'} />\r\n\t\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0],\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2],\r\n\t\t\ti.data[3].humanFriendlyName,\r\n\t\t\t`${i.data[4]} ${symbol}`,\r\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\r\n\t\t\ti.data[6],\r\n\t\t\ti.data[7],\r\n\t\t\ti.data[8],\r\n\t\t\tformatDateTime(i.data[9]),\r\n\t\t\tformatDateTime(i.data[10]),\r\n\t\t\tformatDateTime(i.data[11]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst selectedItems = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[0])\r\n\t\treturn (\r\n\t\t\t<PrintAllReceipts\r\n\t\t\t\thandlePrintAllReceipts={() =>\r\n\t\t\t\t\texecute(handlePrintSelectedReceiptsAdvertiser(selectedItems))\r\n\t\t\t\t}\r\n\t\t\t\tdisabled={selectedItems.length === 0}\r\n\t\t\t/>\r\n\t\t)\r\n\t},\r\n})\r\n\r\nfunction CampaignsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\r\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\r\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst campaignsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'campaigns')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tdecimals,\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ decimals, symbol, reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable\r\n\t\t\ttoolbarEnabled\r\n\t\t\tloading={!campaignsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CampaignsTable\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tStepper as StepperMUI,\r\n\tMobileStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tPaper,\r\n\tBox,\r\n\tChip,\r\n\tCircularProgress,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { styles } from './styles'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ steps, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<Box\r\n\t\t\t\tflex\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Typography align='center'>\r\n\t\t\t\t\t\t\t{(steps[currentPage] || {}).title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\t\tsteps={steps.length}\r\n\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\tvariant='text'\r\n\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t\t></MobileStepper>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{steps.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tinitialPage = 0,\r\n\t\tsteps = [],\r\n\t\tcloseDialog,\r\n\t\t// ...rest\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\r\n\tconst canReverse = steps.length > currentPage && currentPage > 0\r\n\r\n\tconst page = steps[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst {\r\n\t\tvalidationFn,\r\n\t\tonValid,\r\n\t\tstepsId,\r\n\t\tcompleteFn,\r\n\t\tcompleteBtnTitle = '',\r\n\t} = page\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\r\n\tconst validationSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, validateId)\r\n\t)\r\n\r\n\tconst stepsSpinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\r\n\tconst spinner = validationSpinner || stepsSpinner\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tif (validationFn) {\r\n\t\t\tvalidationFn({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [\r\n\t\tcurrentPage,\r\n\t\tgoToPage,\r\n\t\tisValidPage,\r\n\t\tonValid,\r\n\t\tvalidationFn,\r\n\t\tstepsId,\r\n\t\tvalidateId,\r\n\t])\r\n\r\n\tconst handleComplete = useCallback(async () => {\r\n\t\tawait completeFn({\r\n\t\t\tstepsId,\r\n\t\t\tvalidateId,\r\n\t\t\tonValid: () => typeof closeDialog === 'function' && closeDialog(),\r\n\t\t})\r\n\t}, [closeDialog, completeFn, stepsId, validateId])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (validationFn) {\r\n\t\t\tvalidationFn({ stepsId, validateId, dirty: false })\r\n\t\t}\r\n\t}, [currentPage, validationFn, stepsId, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={classes.stepperWrapper}\r\n\t\t\tonKeyPress={onKeyPressed}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='space-between'\r\n\t\t>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\televation={0}\r\n\t\t\t\t>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tsteps={steps}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t\televation={0}\r\n\t\t\t>\r\n\t\t\t\t{!!Comp && <Comp {...pageProps} />}\r\n\t\t\t</Paper>\r\n\r\n\t\t\t{!!dirtyErrors.length && (\r\n\t\t\t\t<Box color='error.main' mt={2}>\r\n\t\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\r\n\t\t\t<Box mt={2}>\r\n\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t{canReverse && (\r\n\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t{typeof page.cancelFunction === 'function' && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\ttypeof closeDialog === 'function' && closeDialog()\r\n\t\t\t\t\t\t\t\tpage.cancelFunction(stepsId)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t{typeof completeFn === 'function' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={handleComplete}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(completeBtnTitle || 'DO_IT_NOW')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tsteps: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst ds = theme.spacing(2)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\theight: 0,\r\n\t\t\tpadding: ds,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: errColor,\r\n\t\t\t},\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { forwardRef, useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport { t, selectLocationQuery } from 'selectors'\r\n\r\nfunction FormSteps({ cancelFunction, stepsId, steps, closeDialog, ...rest }) {\r\n\tconst [stepperSteps, setSteps] = useState([])\r\n\tconst { step = 0 } = useSelector(selectLocationQuery)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst updatedSteps = steps.map((s, index) => ({\r\n\t\t\t...s,\r\n\t\t\tstepsId,\r\n\t\t\ttitle: t(s.title),\r\n\t\t\tcancelFunction,\r\n\t\t\tprops: { ...rest, stepsId, validateId: stepsId + '-' + index },\r\n\t\t}))\r\n\r\n\t\tsetSteps(updatedSteps)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [stepsId])\r\n\r\n\treturn (\r\n\t\t<MaterialStepper\r\n\t\t\tinitialPage={step}\r\n\t\t\tsteps={stepperSteps}\r\n\t\t\tcloseDialog={closeDialog}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tsteps: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n\t<FormSteps {...props} forwardedRef={ref} />\r\n))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(2)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${spacing}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${spacing}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tpadding: 0,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: spacing,\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\t'& svg': {\r\n\t\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\t},\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tmarginBottom: 0,\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: 'auto',\r\n\t\t\t\tleft: 'auto',\r\n\t\t\t\tbottom: spacing,\r\n\t\t\t\tright: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t},\r\n\t\tfullContentMessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction='up' ref={ref} {...props} />\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function WithDialogHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\tdisableBackdropClick = false,\r\n\t\t\tforwardedRef,\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\tonBeforeOpen,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tvariant,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst handleClick = async ev => {\r\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\t\tawait handleToggle()\r\n\t\t\tif (onClick) await onClick()\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = null\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t} else {\r\n\t\t\tButtonComponent = Button\r\n\t\t\tbtnProps.fullWidth = fullWidth\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = btnLabel\r\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={ev => handleClick(ev)}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle\r\n\t\t\t\t\t\tdisableTypography\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography variant='subtitle1'>{t(title)}</Typography>\r\n\t\t\t\t\t\t<IconButton onClick={handleToggle}>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithDialog {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tTextField,\r\n\tListSubheader,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tFormHelperText,\r\n\tFormControl,\r\n\tSelect,\r\n} from '@material-ui/core'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { t } from 'selectors'\r\n\r\nexport const styles = theme => ({\r\n\tformControl: {\r\n\t\tminWidth: 120,\r\n\t},\r\n\tgroupHeader: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tmenuItem: {\r\n\t\twhiteSpace: 'break-spaces',\r\n\t\twordBreak: 'break-word',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dropdown(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst {\r\n\t\tonChange,\r\n\t\tlabel = '',\r\n\t\tvalue,\r\n\t\tsource = [],\r\n\t\thtmlId = 'some-id',\r\n\t\tdisabled = false,\r\n\t\terror = false,\r\n\t\thelperText,\r\n\t\tfullWidth = false,\r\n\t\tclassName,\r\n\t\trequired,\r\n\t\tloading,\r\n\t\tnoSrcLabel,\r\n\t\tvariant,\r\n\t\tIconComponent,\r\n\t} = props\r\n\r\n\tconst handleChange = event => {\r\n\t\tonChange(event.target.value)\r\n\t}\r\n\r\n\t// TODO: add native renderer for mobile devices when supported\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tvariant={variant}\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tIconComponent={IconComponent}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\t\treturn src.group ? (\r\n\t\t\t\t\t\t\t\t<ListSubheader\r\n\t\t\t\t\t\t\t\t\tclassName={classes.groupHeader}\r\n\t\t\t\t\t\t\t\t\tkey={src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tclassName={classes.menuItem}\r\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t\t\t</FormControl>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\tvalue={loading ? t('LOADING_DATA') : noSrcLabel}\r\n\t\t\t\t\t\thelperText={helperText}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{!!loading && <InputLoading />}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n\tIconComponent: PropTypes.elementType,\r\n}\r\n\r\nexport default Dropdown\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({\r\n\ttargetUrl,\r\n\tcampaign,\r\n\tcontent,\r\n\tremoveFromUrl,\r\n}) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(key === 'utm_campaign' &&\r\n\t\t\t\t\t\t\t![campaign, UTM_PARAMS['utm_campaign']].includes(value)) ||\r\n\t\t\t\t\t\t(key === 'utm_content' &&\r\n\t\t\t\t\t\t\t![content, UTM_PARAMS['utm_content']].includes(value)) ||\r\n\t\t\t\t\t\t(!['utm_campaign', 'utm_content'].includes(key) &&\r\n\t\t\t\t\t\t\tUTM_PARAMS[key] &&\r\n\t\t\t\t\t\t\tUTM_PARAMS[key] !== value)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import React, { useCallback, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField, Button } from '@material-ui/core'\r\n\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\n\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\nimport { execute, updateNewUnit } from 'actions'\r\nimport { t, selectValidationsById, selectNewAdUnit } from 'selectors'\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nfunction AdUnitBasic({ validateId }) {\r\n\tconst { title, description, targetUrl, type, temp } = useSelector(\r\n\t\tselectNewAdUnit\r\n\t)\r\n\tconst { autoUtmAdded } = temp\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\ttargetUrl: errTargetUrl,\r\n\t\ttype: errType,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tconst updateUtmParameters = useCallback(\r\n\t\tremoveFromUrl => {\r\n\t\t\tif (targetUrl) {\r\n\t\t\t\tconst withUTM = addUrlUtmTracking({\r\n\t\t\t\t\ttargetUrl,\r\n\t\t\t\t\tcampaign: title,\r\n\t\t\t\t\tcontent: type,\r\n\t\t\t\t\tremoveFromUrl,\r\n\t\t\t\t})\r\n\r\n\t\t\t\texecute(updateNewUnit('targetUrl', withUTM))\r\n\t\t\t}\r\n\t\t},\r\n\t\t[targetUrl, title, type]\r\n\t)\r\n\r\n\tconst handleUtmButton = useCallback(() => {\r\n\t\tif (targetUrl) {\r\n\t\t\texecute(updateNewUnit('temp', { ...temp, autoUtmAdded: !autoUtmAdded }))\r\n\t\t\tupdateUtmParameters(autoUtmAdded)\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [autoUtmAdded, targetUrl, title, type])\r\n\r\n\tuseEffect(() => {\r\n\t\tautoUtmAdded && updateUtmParameters()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [title, type])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={ev => execute(updateNewUnit('title', ev.target.value))}\r\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewUnit('description', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewUnit('targetUrl', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty\r\n\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\r\n\t\t\t\t\t\t\t\t: t('TARGETIRL_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonClick={handleUtmButton}\r\n\t\t\t\t\t\tcolor={!autoUtmAdded ? 'primary' : 'secondary'}\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!autoUtmAdded ? t('ADD_UTM_LINK') : t('REMOVE_UTM_LINK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={value => execute(updateNewUnit('type', value))}\r\n\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t: t('UNIT_TYPE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitBasic\r\n","/**\r\n * @param {HTMLImageElement} image - Image File Object\r\n * @param {Object} crop - crop Object from react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n * @param {Object} size - { width, height } - for image scale\r\n */\r\nexport const getCroppedImgUrl = (image, crop, fileName, size) => {\r\n\tconst canvas = document.createElement('canvas')\r\n\tconst scaleX = image.naturalWidth / image.width\r\n\tconst scaleY = image.naturalHeight / image.height\r\n\tcanvas.width = crop.width\r\n\tcanvas.height = crop.height\r\n\tconst ctx = canvas.getContext('2d')\r\n\r\n\tctx.drawImage(\r\n\t\timage,\r\n\t\tcrop.x * scaleX,\r\n\t\tcrop.y * scaleY,\r\n\t\tcrop.width * scaleX,\r\n\t\tcrop.height * scaleY,\r\n\t\t0,\r\n\t\t0,\r\n\t\tcrop.width,\r\n\t\tcrop.height\r\n\t)\r\n\r\n\tlet finalCanvas = canvas\r\n\r\n\tif (size && size.width && size.height) {\r\n\t\tfinalCanvas = document.createElement('canvas')\r\n\t\tfinalCanvas.width = size.width\r\n\t\tfinalCanvas.height = size.height\r\n\r\n\t\tconst sctx = finalCanvas.getContext('2d')\r\n\r\n\t\tsctx.drawImage(\r\n\t\t\tcanvas,\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tMath.floor(crop.width),\r\n\t\t\tMath.floor(crop.height),\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tsize.width,\r\n\t\t\tsize.height\r\n\t\t)\r\n\t}\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfinalCanvas.toBlob(\r\n\t\t\tfile => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t},\r\n\t\t\t'image/jpeg',\r\n\t\t\t1\r\n\t\t)\r\n\t})\r\n}\r\n","import React from 'react'\r\n\r\nimport {\r\n\tCircularProgress,\r\n\tOutlinedInput,\r\n\tInputLabel,\r\n\tFormControl,\r\n\tTypography,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\nconst PropBaseComponent = ({ value, inputRef, ...rest }) => (\r\n\t<Box {...rest}>{value}</Box>\r\n)\r\n\r\n// TODO: Make it common named PropView\r\n// TODO: Use it with Grid in previews - we can have more than one in row\r\nexport const PropRow = ({ left, right }) => (\r\n\t<Box p={1}>\r\n\t\t<FormControl variant='outlined' fullWidth>\r\n\t\t\t<InputLabel shrink disableAnimation>\r\n\t\t\t\t{left}\r\n\t\t\t</InputLabel>\r\n\r\n\t\t\t<OutlinedInput\r\n\t\t\t\tfullWidth\r\n\t\t\t\tnotched\r\n\t\t\t\treadOnly\r\n\t\t\t\tname={left}\r\n\t\t\t\tlabel={left}\r\n\t\t\t\tinputComponent={PropBaseComponent}\r\n\t\t\t\tinputProps={{ style: { height: 'auto', wordWrap: 'break-word' } }}\r\n\t\t\t\tvalue={right}\r\n\t\t\t/>\r\n\t\t</FormControl>\r\n\t</Box>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\tclassName={className}\r\n\t>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<Box flexGrow={1} className={className}>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nconst fullContentMessage = ({\r\n\tchildren,\r\n\tmsgs = [],\r\n\tspinner,\r\n\tcolor = 'primary',\r\n}) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\talignItems='center'\r\n\t\tjustifyContent='center'\r\n\t\tbgcolor={`${color}.main`}\r\n\t\tcolor={`${color}.contrastText`}\r\n\t>\r\n\t\t{spinner && (\r\n\t\t\t<Box p={4}>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tcolor={`${color}.contrastText`}\r\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\r\n\t\t\t\t\tsize={69}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t{children}\r\n\t\t{msgs\r\n\t\t\t.filter(x => !!x && x.message)\r\n\t\t\t.map((msg, index) => {\r\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={index} component='div'>\r\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t</Box>\r\n)\r\n\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport { Button, Typography, Grid, Box } from '@material-ui/core'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport {\r\n\tCrop as CropIcon,\r\n\tClear as ClearIcon,\r\n\tSave as SaveIcon,\r\n\tCloudUpload as FileUploadIcon,\r\n} from '@material-ui/icons'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { t } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction ImgForm(props) {\r\n\tconst classes = useStyles()\r\n\tconst { size, onChange, label, additionalInfo, errMsg } = props\r\n\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\tconst [imgRef, setImgRef] = useState(null)\r\n\tconst [crop, setCrop] = useState({ aspect })\r\n\tconst [cropMode, setCropMode] = useState(false)\r\n\tconst [imgName, setImgName] = useState('')\r\n\tconst [mime, setMime] = useState(props.mime)\r\n\tconst [imgSrc, setImgSrc] = useState(props.imgSrc)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCrop({ aspect })\r\n\t}, [aspect])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMime(props.mime)\r\n\t\tsetImgSrc(props.imgSrc)\r\n\t}, [props.mime, props.imgSrc])\r\n\r\n\tconst onLoad = useCallback(img => {\r\n\t\tsetImgRef(img)\r\n\t}, [])\r\n\r\n\tconst onDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\t\tsetImgSrc(objectUrl)\r\n\t\tsetImgName(file.name)\r\n\t\tsetMime(file.type)\r\n\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tonChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t}\r\n\r\n\tconst preventBubbling = e => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tconst onRemove = e => {\r\n\t\tpreventBubbling(e)\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tsetImgSrc('')\r\n\t\t\tsetImgName('')\r\n\t\t\tonChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tconst saveCropped = async () => {\r\n\t\tif (imgRef && crop.width > 1 && crop.height > 1) {\r\n\t\t\tconst croppedBlob = await getCroppedImgUrl(\r\n\t\t\t\timgRef,\r\n\t\t\t\tcrop,\r\n\t\t\t\t`cropped-${imgName}`,\r\n\t\t\t\tsize\r\n\t\t\t)\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tsetImgSrc(croppedBlob)\r\n\t\t\tsetCropMode(false)\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// TODO: Error\r\n\t\t}\r\n\t}\r\n\r\n\tconst UploadInfo = () => {\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tpreventBubbling(e)\r\n\t\t\t\t\t\t\t\t\tsetCropMode(true)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tconst videoSrc = isVideoMedia(mime)\r\n\treturn (\r\n\t\t<div className={classes.imgForm}>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={\r\n\t\t\t\t\timgSrc && imgName\r\n\t\t\t\t\t\t? `${label || 'Image'}: ${imgName}`\r\n\t\t\t\t\t\t: label || 'Upload image'\r\n\t\t\t\t}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t\t\t<div className={classes.dropzone} onClick={preventBubbling}>\r\n\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '30vh',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonImageLoaded={onLoad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={c => setCrop(c)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={saveCropped}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setCropMode(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\t\t\tonDrop={onDrop}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{videoSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img src={imgSrc} alt={'name'} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<UploadInfo />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nImgForm.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default ImgForm\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tdropzone: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `1px dashed ${theme.palette.grey.main}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\theight: 320,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: '30vh',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport { Grid } from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport { updateNewUnit, execute } from 'actions'\r\nimport { t, selectNewAdUnit, selectValidationsById } from 'selectors'\r\n\r\nfunction AdUnitMedia({ validateId }) {\r\n\tconst { type, temp } = useSelector(selectNewAdUnit)\r\n\tconst { temp: errImg } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\tconst { tempUrl, mime } = temp\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\timgSrc={tempUrl || ''}\r\n\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewUnit('temp', {\r\n\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitMedia\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\nimport { t } from 'selectors'\r\n\r\nconst targetIcon = {\r\n\tlocation: LocationOnIcon,\r\n\tgender: WcIcon,\r\n\tage: ChildCareIcon,\r\n}\r\n\r\nconst getTargetType = tag => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nconst TargetArrayValues = ({ target, addDivider, selected }) => {\r\n\tconst type = getTargetType(target.tag)\r\n\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ListItem selected={selected}>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText primary={t(target.tag, { isTarget: true })} />\r\n\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst TargetsList = ({ targets = [], subHeader }) => (\r\n\t<List\r\n\t\tdense\r\n\t\tsubheader={subHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null}\r\n\t>\r\n\t\t{targets.map((target, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<TargetArrayValues\r\n\t\t\t\t\tselected={index % 2 === 0}\r\n\t\t\t\t\ttarget={target}\r\n\t\t\t\t\tkey={target.tag + target.score + index}\r\n\t\t\t\t\taddDivider={targets.length - 1 > index}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})}\r\n\t</List>\r\n)\r\n\r\nTargetsList.propTypes = {\r\n\ttargets: PropTypes.array,\r\n\tsubHeader: PropTypes.string,\r\n}\r\n\r\nexport default TargetsList\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Img from 'components/common/img/Img'\r\nimport TargetsList from 'components/dashboard/containers/TargetsList'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { Grid } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { t, selectNewAdUnit, selectAccountIdentityAddr } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AdUnitPreview() {\r\n\tconst classes = useStyles()\r\n\tconst { type, title, description, temp, targeting, targetUrl } = useSelector(\r\n\t\tselectNewAdUnit\r\n\t)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tright={targetUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<TargetsList\r\n\t\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdUnitPreview\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsArray,\r\n\tselectAdUnits,\r\n\tselectNewCampaign,\r\n} from 'selectors'\r\nimport { updateNewCampaign, execute } from 'actions'\r\n\r\nfunction CampaignUnits(props) {\r\n\tconst { temp } = useSelector(selectNewCampaign)\r\n\tconst { selectedUnits } = temp\r\n\tconst allAdUnits = useSelector(selectAdUnits)\r\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\r\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\r\n\r\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\r\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\r\n\t\t\treturn allAdUnits[value]\r\n\t\t})\r\n\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.selectedUnits = selectedIndexes\r\n\r\n\t\texecute(updateNewCampaign('adUnits', units))\r\n\t\texecute(updateNewCampaign('temp', newTemp))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\tselected={selectedUnits}\r\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\r\n\t\t\t\t\t\t\t\tvalidate={props.validate}\r\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\r\n\t\t\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\trowSelectable\r\n\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CampaignUnits\r\n","import React from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRange,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport utils from 'helpers/dateUtils'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRange />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonLiveClick,\r\n\tonNextClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport function DateTimePicker({\r\n\tcalendarIcon,\r\n\ticon,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n\tonBackClick,\r\n\troundHour,\r\n\t...rest\r\n}) {\r\n\tconst now = utils.date(Date.now())\r\n\tconst date = roundHour ? utils.setMinutes(now, 0) : now\r\n\treturn (\r\n\t\t<MuiDateTimePicker\r\n\t\t\tvalue={date}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null,\r\n\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t) : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { CircularProgress, Fab } from '@material-ui/core'\r\nimport { Check, Save } from '@material-ui/icons'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: theme.palette.success.main,\r\n\t\tcolor: theme.palette.success.contrastText,\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: theme.palette.success.dark,\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: -5,\r\n\t\tleft: -5,\r\n\t\tzIndex: 1,\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const SaveBtn = ({\r\n\tspinner,\r\n\tsuccess,\r\n\tdirtyProps = [],\r\n\tsave,\r\n\tdisabled,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t!!dirtyProps.length && (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tsize='medium'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tonClick={save}\r\n\t\t\t\t\tdisabled={disabled || spinner || !dirtyProps.length}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t{success ? <Check /> : <Save />}\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\tsize={58}\r\n\t\t\t\t\t\tclassName={classes.fabProgress}\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { Fragment, forwardRef } from 'react'\r\nimport { Prompt } from 'react-router'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tChip,\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tCard,\r\n\tCardMedia,\r\n\tTextField,\r\n\tBox,\r\n\tPaper,\r\n\tCollapse,\r\n} from '@material-ui/core'\r\nimport { Info, Edit, UndoOutlined, OpenInNew } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { styles } from './styles'\r\nimport { SaveBtn } from './SaveBtn'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const DirtyProps = ({ dirtyProps = [], returnPropToInitialState }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Prompt when={!!dirtyProps.length} message={t('UNSAVED_CHANGES_ALERT')} />\r\n\t\t\t{!!dirtyProps.length && (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexGrow={1}\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\tmr={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Info color='secondary' className={classes.changeChip} />\r\n\t\t\t\t\t<span className={classes.changeChip}>{t('UNSAVED_CHANGES')}:</span>\r\n\t\t\t\t\t{dirtyProps.map(p => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\tlabel={t(p.name || p, { isProp: true })}\r\n\t\t\t\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\t\t\t\treturnPropToInitialState(p)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdeleteIcon={<UndoOutlined />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport const ChangeControls = hookProps => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<div className={classes.changeControls}>\r\n\t\t\t<Collapse timeout={69} in={!!hookProps.dirtyProps.length}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.changeControlsPaper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DirtyProps {...hookProps} />\r\n\t\t\t\t\t\t<SaveBtn {...hookProps} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Collapse>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const ItemSpecProp = ({\r\n\tprop,\r\n\tlabel,\r\n\tvalue = '',\r\n\thelperText,\r\n\tInputProps,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid={prop}\r\n\t\t\tlabel={label}\r\n\t\t\ttype='text'\r\n\t\t\tmargin='dense'\r\n\t\t\tname={prop}\r\n\t\t\tvalue={value || ''}\r\n\t\t\t// disabled\r\n\t\t\treadOnly\r\n\t\t\thelperText={helperText}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={InputProps}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemTitle = ({\r\n\ttitle,\r\n\terrTitle,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.title\r\n\tconst showError = !!errTitle && errTitle.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-title'\r\n\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='title'\r\n\t\t\tvalue={title || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('title', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError ? t(errTitle.errMsg, { args: errTitle.errMsgArgs }) : ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('title')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('title', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemDescription = ({\r\n\tdescription,\r\n\terrDescription,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.description\r\n\tconst showError = !!errDescription && errDescription.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-description'\r\n\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='description'\r\n\t\t\tvalue={description || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('description', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tmaxLength={1024}\r\n\t\t\tmultiline\r\n\t\t\trows={2}\r\n\t\t\tdisabled={!activeFields.description}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError\r\n\t\t\t\t\t? t(errDescription.errMsg, {\r\n\t\t\t\t\t\t\targs: errDescription.errMsgArgs,\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('description')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('description', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemAdType = ({ type }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-type'\r\n\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='type'\r\n\t\t\tvalue={type || ''}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst OpenInNewIconBtn = ({ forwardedRef, ...props }) => {\r\n\treturn (\r\n\t\t<IconButton {...props}>\r\n\t\t\t<OpenInNew />\r\n\t\t</IconButton>\r\n\t)\r\n}\r\n\r\nconst IconButtonWithRef = forwardRef((props, ref) => (\r\n\t<OpenInNewIconBtn {...props} forwardedRef={ref} />\r\n))\r\n\r\nexport const ItemTargetURL = ({ targetUrl = '', label }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t(label || 'PROP_TARGETURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemFallbackMediaURL = ({ targetUrl = '' }) => {\r\n\t// TODO: need to take it from fallbackUnit\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t('PROP_FALLBACKADURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const MediaCard = ({ mediaUrl = '', mediaMime = '', label = '' }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false} variant='outlined'>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\talt={label || t('MEDIA')}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\tallowVideo\r\n\t\t\t\t/>\r\n\t\t\t\t{label && (\r\n\t\t\t\t\t<Chip size='small' className={classes.mediaPropChip} label={label} />\r\n\t\t\t\t)}\r\n\t\t\t</CardMedia>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport const ItemMinPerImpression = ({\r\n\titem = {},\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst { minPerImpression } = item\r\n\tconst active = !!activeFields.minPerImpression\r\n\tconst { minPerImpression: error } = validations\r\n\tconst showError = !!error && error.dirty\r\n\tconst minCPM =\r\n\t\ttypeof minPerImpression === 'object'\r\n\t\t\t? formatTokenAmount(\r\n\t\t\t\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\ttrue\r\n\t\t\t  )\r\n\t\t\t: minPerImpression\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-minPerImpression'\r\n\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\ttype='text'\r\n\t\t\tname='minPerImpression'\r\n\t\t\tvalue={minCPM || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('minPerImpression', ev.target.value.trim())\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={showError ? t(error.errMsg, { args: error.errMsgArgs }) : ' '}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('minPerImpression')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('minPerImpression', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemWebsite = ({\r\n\titem = {},\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { website } = item\r\n\tconst active = !!activeFields.website\r\n\tconst { website: error } = validations\r\n\tconst showError = !!error && error.dirty\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-website'\r\n\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\ttype='text'\r\n\t\t\tname='website'\r\n\t\t\tvalue={website || ' '}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('website', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError && activeFields.website ? (\r\n\t\t\t\t\tt(error.errMsg, { args: error.errMsgArgs })\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{activeFields.website && (\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('website')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('website', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.palette.grey.main,\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing / 2,\r\n\t\t\tmarginTop: spacing / 2,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t\tmediaPropChip: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: spacing,\r\n\t\t\tleft: spacing,\r\n\t\t},\r\n\t\tchangeControls: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tchangeControlsPaper: {\r\n\t\t\tborderColor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tmarginBottom: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tselectItemByTypeAndId,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { execute } from 'actions'\r\nimport { Base } from 'adex-models'\r\n\r\nexport function useItem({ itemType, match, objModel, validateAndUpdateFn }) {\r\n\tconst [item, setItem] = useState({})\r\n\tconst [initialItemState, setInitialItemState] = useState({})\r\n\tconst [activeFields, setFields] = useState({})\r\n\tconst [dirtyProps, setDirtyProps] = useState([])\r\n\tconst [validateId, setValidateId] = useState('update-default')\r\n\r\n\tconst storeItem = useSelector(state =>\r\n\t\tselectItemByTypeAndId(state, itemType, match.params.itemId)\r\n\t)\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tuseEffect(() => {\r\n\t\tconst initial = new objModel(storeItem)\r\n\t\tsetItem(initial)\r\n\t\tsetInitialItemState(initial)\r\n\t\tsetValidateId(`update-${item.id}`)\r\n\t}, [item.id, objModel, storeItem])\r\n\r\n\tconst setActiveFields = useCallback(\r\n\t\t(field, value) => {\r\n\t\t\tsetFields({ ...activeFields, [field]: value })\r\n\t\t},\r\n\t\t[activeFields]\r\n\t)\r\n\r\n\tconst validate = useCallback(\r\n\t\tdirty =>\r\n\t\t\texecute(validateAndUpdateFn({ item, validateId, dirty, dirtyProps })),\r\n\t\t[dirtyProps, item, validateAndUpdateFn, validateId]\r\n\t)\r\n\r\n\tconst save = useCallback(() => {\r\n\t\texecute(\r\n\t\t\tvalidateAndUpdateFn({\r\n\t\t\t\titem,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tupdate: true,\r\n\t\t\t\tdirtyProps,\r\n\t\t\t})\r\n\t\t)\r\n\t\tsetDirtyProps([])\r\n\t\tsetFields({})\r\n\t}, [dirtyProps, item, validateAndUpdateFn, validateId])\r\n\r\n\tconst returnPropToInitialState = useCallback(\r\n\t\tprop => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tconst dirtyIndex = dirtyProps.findIndex(\r\n\t\t\t\tp => (p.name || p) === (prop.name || prop)\r\n\t\t\t)\r\n\r\n\t\t\tif (dirtyIndex > -1) {\r\n\t\t\t\tconst newDirtyProps = [...dirtyProps]\r\n\t\t\t\tconst dpValue = newDirtyProps[dirtyIndex]\r\n\t\t\t\tnewDirtyProps.splice(dirtyIndex, 1)\r\n\r\n\t\t\t\tif (dpValue.fields) {\r\n\t\t\t\t\tdpValue.fields.forEach(\r\n\t\t\t\t\t\tprop => (newItem[prop] = initialItemState[prop])\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewItem[dpValue] = initialItemState[prop]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetItem(newItem)\r\n\t\t\t\tsetDirtyProps(newDirtyProps)\r\n\t\t\t\tsetActiveFields(prop.name || prop, false)\r\n\t\t\t\tvalidate(false)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[dirtyProps, initialItemState, item, objModel, setActiveFields, validate]\r\n\t)\r\n\r\n\tconst updateField = useCallback(\r\n\t\t(field, value, dpValue) => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[field] = value\r\n\r\n\t\t\tsetItem(newItem)\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (!dp.some(p => (p.name || p) === (dpValue ? dpValue.name : field))) {\r\n\t\t\t\tdp.push(field)\r\n\t\t\t}\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\tconst updateMultipleFields = useCallback(\r\n\t\t(newValues, dirtyFields = []) => {\r\n\t\t\tconst updated = Base.updateObject({ item, newValues, objModel })\r\n\r\n\t\t\tsetItem(new objModel(updated))\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\t\t\tdirtyFields.forEach(field => {\r\n\t\t\t\tif (!dp.some(p => (p.name || p) === (field.name || field))) {\r\n\t\t\t\t\tdp.push(field)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\treturn {\r\n\t\titem,\r\n\t\tactiveFields,\r\n\t\tsetActiveFields,\r\n\t\tdirtyProps,\r\n\t\treturnPropToInitialState,\r\n\t\tvalidate,\r\n\t\tvalidateId,\r\n\t\tvalidations,\r\n\t\tupdateField,\r\n\t\tupdateMultipleFields,\r\n\t\tspinner,\r\n\t\tsave,\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tFormGroup,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tCheckbox,\r\n\tTextField,\r\n} from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectMainToken,\r\n\tselectNewCampaign,\r\n\tselectValidationsById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\nimport { validations } from 'adex-models'\r\nconst { isNumberString } = validations\r\n\r\nconst moment = new MomentUtils()\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\r\n\ttry {\r\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\r\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\r\n\t\tif (!dep) {\r\n\t\t\treturn t('DEPOSIT_NOT_SET')\r\n\t\t} else if (!min) {\r\n\t\t\treturn t('CPM_NOT_SET')\r\n\t\t} else {\r\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\r\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nfunction CampaignFinance({ validateId }) {\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst campaign = useSelector(selectNewCampaign)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// depositAsset,\r\n\t\tactiveFrom,\r\n\t\twithdrawPeriodStart,\r\n\t\tminTargetingScore,\r\n\t\ttemp = {},\r\n\t} = campaign\r\n\r\n\tconst { maxChannelFees, maxDepositFormatted } = temp\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst from = activeFrom || undefined\r\n\tconst to = withdrawPeriodStart || undefined\r\n\tconst now = moment.date().valueOf()\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdepositAmount: errDepAmnt,\r\n\t\tminPerImpression: errMin,\r\n\t\tactiveFrom: errFrom,\r\n\t\twithdrawPeriodStart: errTo,\r\n\t\tminTargetingScore: errUnitsTargeting,\r\n\t} = invalidFields\r\n\r\n\tconst impressions = getTotalImpressions({\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t})\r\n\r\n\tconst leader = validators[0] || {}\r\n\tconst follower = validators[1] || {}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='leader-validator'\r\n\t\t\t\t\t\t\tvalue={leader.url || ''}\r\n\t\t\t\t\t\t\thelperText={leader.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='follower-validator'\r\n\t\t\t\t\t\t\tvalue={follower.url || ''}\r\n\t\t\t\t\t\t\thelperText={follower.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty ? errDepAmnt.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl error={errUnitsTargeting && errUnitsTargeting.dirty}>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('minTargetingScore', { isProp: true })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t{errUnitsTargeting && !!errUnitsTargeting.dirty ? (\r\n\t\t\t\t\t\t\t\t\t<Alert severity='error' variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t\t{t('ERR_MIN_TARGETING_SCORE_ALERT')}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignFinance\r\n","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Grid, CircularProgress } from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectNewCampaign,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, getCampaignActualFees, checkNetworkCongestion } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES, OPENING_CAMPAIGN } from 'constants/spinners'\r\n\r\nfunction CampaignFormPreview() {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst mainToken = useSelector(selectMainToken)\r\n\tconst { symbol } = mainToken\r\n\tconst feesSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst openingSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, OPENING_CAMPAIGN)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\t// targeting,\r\n\t\tadUnits,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// maxPerImpression,\r\n\t\t// depositAsset,\r\n\t\twithdrawPeriodStart,\r\n\t\tactiveFrom,\r\n\t\tminTargetingScore,\r\n\t\t// nonce\r\n\t\ttemp = {},\r\n\t} = useSelector(selectNewCampaign)\r\n\r\n\tconst { feesFormatted, totalSpendFormatted } = temp\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getCampaignActualFees())\r\n\t\texecute(checkNetworkCongestion())\r\n\t}, [])\r\n\r\n\treturn feesSpinner ? (\r\n\t\t<FullContentSpinner />\r\n\t) : (\r\n\t\t<ContentBox>\r\n\t\t\t{openingSpinner ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('FEES')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\tfeesFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\tright={t(minTargetingScore ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\t\titems={adUnits}\r\n\t\t\t\t\t\t\t\t\tnoSearch\r\n\t\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default CampaignFormPreview\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectSlotTypesSourceWithDemands,\r\n} from 'selectors'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tvalidateNumberString,\r\n\tupdateNewSlot,\r\n\texecute,\r\n} from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst newItem = useSelector(selectNewAdSlot)\r\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\r\n\tconst {\r\n\t\ttitle = '',\r\n\t\tdescription = '',\r\n\t\twebsite = '',\r\n\t\ttype = '',\r\n\t\tminPerImpression = '',\r\n\t} = newItem\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\twebsite: errWebsite,\r\n\t\ttype: errType,\r\n\t\tminPerImpression: errMin,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateSlotsDemandThrottled())\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst { symbol } = selectMainToken\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\t\t\t\t\tname='website'\r\n\t\t\t\t\t\t\tvalue={website}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\r\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\r\n\t\t\t\t\t\t\tsource={adTypesSource}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tCollapse,\r\n\tFormControlLabel,\r\n\tFormHelperText,\r\n\tSwitch,\r\n} from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport { t, selectNewItemByTypeAndId, selectValidationsById } from 'selectors'\r\nimport { updateNewSlot, execute } from 'actions'\r\n\r\nfunction AdSlotMedia({ validateId, itemId }) {\r\n\tconst { type, targetUrl, temp } = useSelector(state =>\r\n\t\tselectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\t)\r\n\r\n\tconst { useFallback = false, tempUrl, mime } = temp\r\n\r\n\tconst { temp: errImg, targetUrl: errFallbackUrl } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\r\n\t\t\t\t\t\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\tuseFallback: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\titemId\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewSlot('targetUrl', ev.target.value, null, itemId)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\timgSrc={tempUrl || ''}\r\n\t\t\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\r\n\t\t\t\t\t\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\titemId\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Collapse>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotMedia\r\n","import React, { useEffect, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\r\n\r\nfunction Autocomplete({\r\n\tsource,\r\n\tmultiple,\r\n\tlabel,\r\n\tvariant,\r\n\terror,\r\n\terrorText,\r\n\tonInit,\r\n\tvalue,\r\n\tonChange,\r\n\tfullWidth,\r\n}) {\r\n\tuseEffect(() => {\r\n\t\ttypeof onInit === 'function' && onInit()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst handleChange = item => {\r\n\t\tconst selectedItem = item ? item.value || item.label : item\r\n\t\tonChange(selectedItem)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<AutocompleteMUI\r\n\t\t\t\tmultiple={multiple}\r\n\t\t\t\toptions={source}\r\n\t\t\t\tvalue={value || null}\r\n\t\t\t\tgetOptionLabel={option => option.label || option}\r\n\t\t\t\tgetOptionSelected={(a, b = '') => {\r\n\t\t\t\t\treturn [JSON.stringify(b), b, b.value].includes(a.value)\r\n\t\t\t\t}}\r\n\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\r\n\t\t\t\trenderInput={params => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t{error && (\r\n\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t{errorText}\r\n\t\t\t\t</FormHelperText>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tsource: PropTypes.array.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tmultiple: PropTypes.bool,\r\n\tvariant: PropTypes.string,\r\n}\r\n\r\nexport default Autocomplete\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tGrid,\r\n\tSlider,\r\n\tIconButton,\r\n\tBox,\r\n\tTypography,\r\n\tTextField,\r\n} from '@material-ui/core'\r\nimport { Cancel as CancelIcon, Add as AddIcon } from '@material-ui/icons'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Dropdown from 'components/common/dropdown'\r\n\r\nimport { t, selectTargetingSources, selectNewItemByTypeAndId } from 'selectors'\r\nimport { execute, updateNewItemTarget } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}))\r\n\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst Targets = ({\r\n\tsource = [],\r\n\tcollection,\r\n\tplaceholder,\r\n\tlabel,\r\n\tindex,\r\n\ttarget,\r\n\t// classes,\r\n\t// invalidFields,\r\n\titemId,\r\n\titemType,\r\n}) => {\r\n\tconst id = `target-${index}`\r\n\treturn (\r\n\t\t<Grid container spacing={2} alignItems='center'>\r\n\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t{source.length ? (\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t// error={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\t// errorText={\r\n\t\t\t\t\t\t// \tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t// \t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t// \t\t: null\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tonChange={tag => {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewItemTarget({\r\n\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\ttarget: { target: { ...target, tag } },\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewItemTarget({\r\n\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\ttarget: { target: { ...target, tag: ev.target.value } },\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box flexGrow={1}>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t// classes={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-label={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, score) =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewItemTarget({\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\t\ttarget: { target: { ...target, score } },\r\n\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewItemTarget({\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t\tremove: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst NewItemTargeting = ({ itemType, itemId, sourcesSelector }) => {\r\n\tconst SOURCES = useSelector(sourcesSelector)\r\n\tconst SourcesSelect = useSelector(() => selectTargetingSources(SOURCES))\r\n\tconst classes = useStyles()\r\n\r\n\tconst { temp } = useSelector(state =>\r\n\t\tselectNewItemByTypeAndId(state, itemType, itemId)\r\n\t)\r\n\tconst { targets = [] } = temp\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={1}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\t{ source = '', collection, label, placeholder, target = {} } = {},\r\n\t\t\t\t\t\tindex\r\n\t\t\t\t\t) => (\r\n\t\t\t\t\t\t<Targets\r\n\t\t\t\t\t\t\tkey={`${collection}-${index}`}\r\n\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\r\n\t\t\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewItemTarget({\r\n\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\t\t\tcollection: target.collection,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\tvalue={''}\r\n\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\tname='adType'\r\n\t\t\t\t\tIconComponent={AddIcon}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nNewItemTargeting.propTypes = {\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nexport default NewItemTargeting\r\n","import React, { Fragment } from 'react'\r\nimport { Box } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectWebsiteByWebsite, t } from 'selectors'\r\n\r\nconst getIssue = issue => {\r\n\tconst data = {\r\n\t\tlabel: issue,\r\n\t\targs: [],\r\n\t}\r\n\tswitch (issue) {\r\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\r\n\t\tdefault:\r\n\t\t\treturn data\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessage: {\r\n\t\tdisplay: 'block',\r\n\t},\r\n}))\r\n\r\nexport function WebsiteIssues({ issues, website }) {\r\n\tconst classes = useStyles()\r\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\r\n\tconst defaultIssues = !website ? ['SLOT_ISSUE_NO_WEBSITE'] : []\r\n\tconst data = issues || site.issues || defaultIssues\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{data.map((x = {}, index) => {\r\n\t\t\t\tconst { label, args } = getIssue(x)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box key={label} my={index !== 0 && index < data.length ? 1 : 0}>\r\n\t\t\t\t\t\t<Alert severity='warning' variant='outlined' classes={classes}>\r\n\t\t\t\t\t\t\t{t(label, {\r\n\t\t\t\t\t\t\t\targs: args.map((a, index) =>\r\n\t\t\t\t\t\t\t\t\ta.type === 'anchor' ? (\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\r\n\t\t\t\t\t\t\t\t\t\t\t{` ${t(a.label)}`}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tt(a)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Typography, Grid } from '@material-ui/core'\r\nimport Img from 'components/common/img/Img'\r\nimport TargetsList from 'components/dashboard/containers/TargetsList'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from '../styles'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAccountIdentityAddr,\r\n} from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst SlotFallback = ({ img, targetUrl }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdSlotPreview = () => {\r\n\tconst {\r\n\t\ttype,\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\twebsite,\r\n\t\ttemp,\r\n\t\ttags,\r\n\t\ttargetUrl,\r\n\t\tminPerImpression,\r\n\t} = useSelector(selectNewAdSlot)\r\n\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\r\n\t\t\t\t\t\t\tright={`${minPerImpression || 0} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{temp.hostname && temp.issues && temp.issues.length && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow right={<WebsiteIssues issues={temp.issues} />} />\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t{temp.useFallback ? (\r\n\t\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PropRow left={t('FALLBACK_DATA')} right={t('NO')} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\t\tright={<TargetsList targets={tags} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdSlotPreview\r\n","import React from 'react'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport NewItemTargeting from './NewItemTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateNewUnitBasics,\r\n\tvalidateNewCampaignFinance,\r\n\tvalidateNewCampaignAdUnits,\r\n\tvalidateNewSlotBasics,\r\n\tvalidateNewSlotPassback,\r\n\tvalidateNewUnitMedia,\r\n\tvalidateNewUnitTargeting,\r\n\tcompleteItem,\r\n\tresetNewItem,\r\n\tsaveUnit,\r\n\tsaveSlot,\r\n\topenCampaign,\r\n} from 'actions'\r\n\r\nimport { slotSources, unitSources } from 'selectors'\r\n\r\nexport const AdSlotTargeting = props => (\r\n\t<NewItemTargeting\r\n\t\t{...props}\r\n\t\titemType='AdSlot'\r\n\t\tsourcesSelector={slotSources}\r\n\t/>\r\n)\r\n\r\nconst AdUnitTargeting = props => (\r\n\t<NewItemTargeting\r\n\t\t{...props}\r\n\t\titemType='AdUnit'\r\n\t\tsourcesSelector={unitSources}\r\n\t/>\r\n)\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdUnit'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdUnit'\r\n\t\tstepsId='new-adunit-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdUnitBasic,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitBasics(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_MEDIA_STEP',\r\n\t\t\t\tcomponent: AdUnitMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitMedia(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_TARGETS_STEP',\r\n\t\t\t\tcomponent: AdUnitTargeting,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitTargeting(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdUnitFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\tcompeteAction: saveUnit,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon color='primary' />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('Campaign'))}\r\n\t\tvalidateIdBase='new-Campaign-'\r\n\t\titemType='Campaign'\r\n\t\tstepsId='new-campaign-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\r\n\t\t\t\tcomponent: CampaignUnits,\r\n\t\t\t\tvalidationFn: props => execute(validateNewCampaignAdUnits(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\r\n\t\t\t\tcomponent: CampaignFinance,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignFinance({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'OPEN_CAMPAIGN',\r\n\t\t\t\tcomponent: CampaignFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t\t\t\tcompeteAction: openCampaign,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdSlot'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdSlot'\r\n\t\tstepsId='new-slot-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdSlotBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewSlotBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewSlotPassback(props)),\r\n\t\t\t},\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', component: AdSlotTargeting },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdSlotPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t\t\t\tcompeteAction: saveSlot,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n","import React, { useEffect, useState, useCallback, Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { commify } from 'ethers/utils'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectSide,\r\n\tselectAdUnitsStatsMaxValues,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tnoActions,\r\n\tnoClone,\r\n\tmaxImpressions,\r\n\tmaxClicks,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR.toFixed(2)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Fragment key={item.id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { side, campaignId })\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, campaignId, items })\r\n\t}, [side, campaignId, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { commify } from 'ethers/utils'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectAdSlotsTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={420}\r\n\t\t\theight={420}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas((earnings || 0).toFixed(2))} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 25,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCompanyData,\r\n\tselectPublisherReceiptsStatsByMonthTableData,\r\n\tselectPublisherReceiptsStatsByMonthTotalValues,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatDate,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport moment from 'moment'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function PublisherReceiptTpl({ date } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\tconst monthBreakdown = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTableData(state, date)\r\n\t)\r\n\r\n\tconst { totalPayouts, totalImpressions } = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTotalValues(state, date)\r\n\t)\r\n\tconst cpm = ((totalPayouts / totalImpressions) * 1000).toFixed(2)\r\n\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t//Unique receipt number made from identity address and the month of the receipt\r\n\t\t\t\t\t\t\tformatAddress(\r\n\t\t\t\t\t\t\t\t`${bigNumberify(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.unix() * 1000\r\n\t\t\t\t\t\t\t\t).toHexString()}${identityAddr.substr(5)}`,\r\n\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{formatDate(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_EARNED')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(totalImpressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_AVG_CPM')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${isFinite(cpm) ? cpm : Number(0).toFixed(2)}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t{monthBreakdown.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_DATE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{`${t('RECEIPT_EARNED')} (${symbol})`}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{monthBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => a.date - b.date)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatDateTime(stats.date, 'YYYY-MM-DD')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.payouts.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tmt={2}\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\talignContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography>{t('NO_REVENUE_THIS_MONTH')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nPublisherReceiptTpl.propTypes = {\r\n\tdate: PropTypes.any.isRequired,\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404_1 from 'resources/404-no.png'\r\nimport IMG_404_2 from 'resources/404-yes.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst G404 = ({ size }) => (\r\n\t<Grid item xs={size}>\r\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\r\n\t\t\t{t('404')}\r\n\t\t</Typography>\r\n\t</Grid>\r\n)\r\n\r\nclass PageNotFound extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\r\n\t\t\t\t\t\t\t{t(title || '404')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={4} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\t\t\t\t\t<G404 size={1} />\r\n\t\t\t\t\t<G404 size={5} />\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits, commify } from 'ethers/utils'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function CampaignReceiptTpl({ campaignId } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_PAID')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${\r\n\t\t\t\t\t\t\tcampaign.status.fundsDistributedRatio && campaign.depositAmount\r\n\t\t\t\t\t\t\t\t? commify(\r\n\t\t\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\t\t\tformatUnits(campaign.depositAmount || '\t0', decimals)\r\n\t\t\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: Number(0).toFixed(2)\r\n\t\t\t\t\t\t} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${t('WEBSITE_EARNINGS')} (${symbol})`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.breakAll)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{stats.website}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nCampaignReceiptTpl.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper, Typography, TextField, Grid } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={1}>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom variant='h5'>\r\n\t\t\t\t\t\t\t\t{t('COMPANY_DETAIL_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Button, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport { Print, DateRangeSharp, GetApp } from '@material-ui/icons'\r\nimport { PublisherReceiptTpl } from './PublisherReceiptTpl'\r\nimport { CampaignReceiptTpl } from './CampaignReceiptTpl'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tt,\r\n\tselectSelectedCampaigns,\r\n\tselectSide,\r\n\tselectSpinnerById,\r\n\tselectAccountIdentityDeployData,\r\n\tselectReceiptMonths,\r\n} from 'selectors'\r\nimport { execute, resetSelectedItems, getReceiptData } from 'actions'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst side = useSelector(selectSide)\r\n\t// Advertiser Receipt variables\r\n\tconst { itemId } = useParams()\r\n\tconst selectedCampaigns = useSelector(state => selectSelectedCampaigns(state))\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receiptsAdvertiser = selectedByPropsOrParams\r\n\t\t? [selectedByPropsOrParams]\r\n\t\t: selectedCampaigns\r\n\r\n\t// Publisher Receipt variables\r\n\tconst { created } = useSelector(state =>\r\n\t\tselectAccountIdentityDeployData(state)\r\n\t)\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [endDate, setEndDate] = useState('')\r\n\tconst [dirty, setDirty] = useState(false)\r\n\tconst dates = useSelector(() => selectReceiptMonths(startDate, endDate))\r\n\tconst validateStartDate =\r\n\t\tstartDate <= endDate && startDate !== '' && endDate !== ''\r\n\tconst validateEndDate =\r\n\t\tendDate >= startDate && startDate !== '' && endDate !== ''\r\n\tconst startDateError = !validateStartDate && dirty\r\n\tconst endDateError = !validateEndDate && dirty\r\n\tconst monthMappingStartPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), false)\r\n\t)\r\n\tconst monthMappingEndPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), true)\r\n\t)\r\n\r\n\tconst fetchingPublisherReceiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, FETCHING_PUBLISHER_RECEIPTS)\r\n\t)\r\n\r\n\t// Receipts\r\n\tconst [receipts, setReceipts] = useState(receiptsAdvertiser || [])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\texecute(resetSelectedItems())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getReceipts = () => {\r\n\t\tsetDirty(true)\r\n\t\tif (validateStartDate && validateEndDate) {\r\n\t\t\texecute(getReceiptData(startDate, endDate))\r\n\t\t\tsetReceipts(dates.map(item => item.value))\r\n\t\t}\r\n\t}\r\n\r\n\tif (side === 'advertiser' && receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\toverflow='hidden'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\tpageStyle={\r\n\t\t\t\t\t\t\t'@page { size: A4 portrait; marks: none; } @media print { body { -webkit-print-color-adjust: exact; } }'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' &&\r\n\t\t\t\t\t\t\t\t\t(receipts.length === 0 || fetchingPublisherReceiptsSpinner)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\talignItems='flex-start'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingStartPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetStartDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={startDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tstartDateError && startDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('START_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_START_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('START_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='startDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='start-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingEndPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetEndDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={endDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tendDateError && endDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('END_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_END_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('END_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='end-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstyle={{ minHeight: 54.63 }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tstartIcon={<GetApp />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => getReceipts()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GET_RECEIPTS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{fetchingPublisherReceiptsSpinner && (\r\n\t\t\t\t\t\t\t<LinearProgress className={classes.progress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box mt={2} display='flex' alignItems='center' justifyContent='center'>\r\n\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box ref={invoice}>\r\n\t\t\t\t\t\t\t\t\t{receipts.map(item =>\r\n\t\t\t\t\t\t\t\t\t\tside === 'advertiser' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<CampaignReceiptTpl campaignId={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tfetchingPublisherReceiptsSpinner === false && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PublisherReceiptTpl date={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { Receipt }\r\n","import React from 'react'\r\nimport { commify } from 'ethers/utils'\r\nimport PropTypes from 'prop-types'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { Box } from '@material-ui/core'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst getCols = ({ showEarnings, symbol }) => [\r\n\t{\r\n\t\tname: 'countryName',\r\n\t\tlabel: t('PROP_COUNTRY'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'percentImpressions',\r\n\t\tlabel: t('LABEL_PERC'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: percentImpressions =>\r\n\t\t\t\t`${percentImpressions.toFixed(2)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t...(showEarnings\r\n\t\t? [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'earnings',\r\n\t\t\t\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t\t\t\t`${commify(earnings.toFixed(2))} ${symbol}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t  ]\r\n\t\t: []),\r\n]\r\n\r\nconst getOptions = ({ reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\trowsPerPage: 10,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n})\r\n\r\nfunction StatsByCountryTable(props) {\r\n\tconst { selector, selected = [], showEarnings } = props\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t\tshowEarnings,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ selected, reloadData })\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<MUIDataTableEnhanced\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tnoSearch\r\n\t\t\t\tnoPrint\r\n\t\t\t\tnoViewColumns\r\n\t\t\t\t{...props}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsByCountryTable.propTypes = {\r\n\tselector: PropTypes.func.isRequired,\r\n\tshowEarnings: PropTypes.bool,\r\n}\r\n\r\nexport default StatsByCountryTable\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tZoomableGroup,\r\n\tComposableMap,\r\n\tGeographies,\r\n\tGeography,\r\n} from 'react-simple-maps'\r\nimport { Paper } from '@material-ui/core'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { ALEX_GREY } from 'components/App/themeMUi'\r\n\r\nconst MapChart = ({ selector }) => {\r\n\tconst { chartData, hoverColor, pressedColor } = useSelector(selector)\r\n\r\n\tconst [content, setContent] = useState('')\r\n\r\n\treturn (\r\n\t\t<Paper elevation={2} variant='outlined' square>\r\n\t\t\t<ComposableMap\r\n\t\t\t\tdata-tip='chart-map'\r\n\t\t\t\tprojection='geoMercator'\r\n\t\t\t\tprojectionConfig={{\r\n\t\t\t\t\tscale: 100,\r\n\t\t\t\t}}\r\n\t\t\t\twidth={666}\r\n\t\t\t\theight={420}\r\n\t\t\t>\r\n\t\t\t\t<ZoomableGroup maxZoom={3}>\r\n\t\t\t\t\t<Geographies geography={chartData}>\r\n\t\t\t\t\t\t{({ geographies = [] }) => {\r\n\t\t\t\t\t\t\treturn geographies.map(geo => {\r\n\t\t\t\t\t\t\t\tconst { tooltipElements, fillColor } = geo.properties\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Geography\r\n\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\r\n\t\t\t\t\t\t\t\t\t\tgeography={geo}\r\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent(tooltipElements)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent('')\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tfill={fillColor}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstroke: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\thover: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: hoverColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tpressed: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: pressedColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</Geographies>\r\n\t\t\t\t</ZoomableGroup>\r\n\t\t\t</ComposableMap>\r\n\t\t\t{/* TODO: use material-ui tooltip ot popover */}\r\n\t\t\t{!!content && (\r\n\t\t\t\t<ReactTooltip border={false} backgroundColor={ALEX_GREY}>\r\n\t\t\t\t\t{Array.isArray(content)\r\n\t\t\t\t\t\t? content.map((x, i) => <div key={i}>{x}</div>)\r\n\t\t\t\t\t\t: content}\r\n\t\t\t\t</ReactTooltip>\r\n\t\t\t)}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default MapChart\r\n","import React, { Fragment } from 'react'\r\nimport { Paper, Grid, Box, InputAdornment, Button } from '@material-ui/core'\r\n\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport {\r\n\tItemTitle,\r\n\tMediaCard,\r\n\tItemSpecProp,\r\n\tChangeControls,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { execute, closeCampaign } from 'actions'\r\n\r\nexport const CampaignBasic = ({ item, ...hookProps }) => {\r\n\tconst { title, adUnits = [], humanFriendlyName } = item\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\tconst { title: errTitle } = hookProps.validations\r\n\r\n\tconst { mediaUrl, mediaMime } = adUnits[0] || {}\r\n\tconst status = item.status || {}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard mediaUrl={mediaUrl} mediaMime={mediaMime} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t{['Ready', 'Active', 'Withdraw', 'Unhealthy'].includes(\r\n\t\t\t\t\t\t\t\tstatus.name\r\n\t\t\t\t\t\t\t) && (\r\n\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\texecute(closeCampaign({ campaign: item }))\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={humanFriendlyName === 'Closed'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\tprop={'id'}\r\n\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'CAMPAIGN_MIN_TARGETING'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0 ? t('YES') : t('NO')}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'humanFriendlyName'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'fundsDistributedRatio'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={((status.fundsDistributedRatio || 0) / 10).toFixed(\r\n\t\t\t\t\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'depositAmount'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'CPM'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression || 0).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { GANDALF_GREY, ALEX_GREY } from 'components/App/themeMUi'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectMainToken, selectAnalyticsNowLabel } from 'selectors'\r\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\r\nimport * as ChartAnnotation from 'chartjs-plugin-annotation'\r\nimport { t } from 'selectors'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0,\r\n\tborderWidth: 3,\r\n\tpointRadius: 3,\r\n\tpointHitRadius: 13,\r\n}\r\n\r\nconst DEFAULT_FONT_SIZE = 16.9\r\nconst FONT = 'Roboto'\r\nconst DASH_SIZE = 4\r\nconst DASH_WIDTH = 2\r\n\r\nexport const SimpleStatistics = ({\r\n\tdata1,\r\n\tdata2,\r\n\tdata3,\r\n\tdata4,\r\n\tdata1Active = true,\r\n\tdata2Active = true,\r\n\tdata3Active = true,\r\n\tdata4Active = true,\r\n\tdataSynced,\r\n\tdefaultLabels = [],\r\n\toptions = {},\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty3Label = 'DATA3',\r\n\ty4Label = 'DATA4',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n\ty3Color = CHARTS_COLORS[3],\r\n\ty4Color = CHARTS_COLORS[4],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst nowLabel = useSelector(selectAnalyticsNowLabel)\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tbeforeDraw: function(chart) {\r\n\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\r\n\t\t\t\t\tif (chartScalesy1) {\r\n\t\t\t\t\t\tconst topY = chartScalesy1.top\r\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\r\n\t\t\t\t\t\tctx.save()\r\n\t\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\t\tctx.lineWidth = DASH_WIDTH\r\n\t\t\t\t\t\tctx.setLineDash([DASH_SIZE, DASH_SIZE])\r\n\t\t\t\t\t\tctx.strokeStyle = GANDALF_GREY // color of the vertical line\r\n\t\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\t\tctx.restore()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: dataSynced ? data1.labels : defaultLabels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: dataSynced ? data1.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t\thidden: !data1Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: dataSynced ? data2.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t\thidden: !data2Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tlabel: y3Label,\r\n\t\t\t\tdata: dataSynced ? data3.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-3',\r\n\t\t\t\thidden: !data3Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tpointBackgroundColor: y4Color,\r\n\t\t\t\tlabel: y4Label,\r\n\t\t\t\tdata: dataSynced ? data4.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-4',\r\n\t\t\t\thidden: !data4Active,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tanimation: false,\r\n\t\tresponsive: true,\r\n\t\tlayout: {\r\n\t\t\tpadding: {\r\n\t\t\t\ttop: 16,\r\n\t\t\t},\r\n\t\t},\r\n\t\tannotation: {\r\n\t\t\tannotations: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\tmode: 'vertical',\r\n\t\t\t\t\tscaleID: 'x-axis-0',\r\n\r\n\t\t\t\t\tvalue: nowLabel,\r\n\t\t\t\t\tborderColor: ALEX_GREY,\r\n\t\t\t\t\tborderWidth: DASH_WIDTH,\r\n\t\t\t\t\tborderDash: [DASH_SIZE, DASH_SIZE],\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tcontent: t('NOW'),\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\tcornerRadius: 0,\r\n\t\t\t\t\t\tbackgroundColor: ALEX_GREY,\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: false,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\tlegend: {\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontFamily: FONT,\r\n\t\t\ttitleFontFamily: FONT,\r\n\t\t\txPadding: 8,\r\n\t\t\tyPadding: 8,\r\n\t\t\tcornerRadius: 0,\r\n\t\t\tbodySpacing: 4,\r\n\t\t\tcaretSize: 8,\r\n\t\t\tdisplayColors: true,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y3Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel =\r\n\t\t\t\t\t\txLabel === y3Label\r\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\r\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: true,\r\n\t\t\t\t\t\tdrawTicks: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tautoSkip: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 2,\r\n\t\t\t\t\t\tmaxRotation: 0,\r\n\t\t\t\t\t\tpadding: -24,\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: false,\r\n\t\t\t\t\t\tdrawTicks: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 11,\r\n\t\t\t\t\t\tstepSize: 1,\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 10,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-dummy-grid-lines',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-3',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t// Hax - force to shift the data veridically\r\n\t\t\t\t\t\t// because chance for overlapping with -1 is very big\r\n\t\t\t\t\t\t// At same CPM impressions are the same curve as the sped one\r\n\t\t\t\t\t\tmaxTicksLimit: 3,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-4',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Line\r\n\t\t\t\t\theight={420}\r\n\t\t\t\t\tdata={chartData}\r\n\t\t\t\t\toptions={linesOptions}\r\n\t\t\t\t\tplugins={[ChartAnnotation]}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tpx={1}\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Typography component='div' align='left'>\r\n\t\t\t\t\t{defaultLabels[0]}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component='div' align='center'>\r\n\t\t\t\t\t{t(xLabel || 'TIMEFRAME')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component='div' align='right'>\r\n\t\t\t\t\t{defaultLabels[1]}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport { Info, Visibility, VisibilityOff } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tvisibilityIcon: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: theme.spacing(0.3),\r\n\t\t\tright: theme.spacing(0.5),\r\n\t\t\topacity: 0.69,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t\tdataVisible,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor, dataVisible })\r\n\r\n\tconst VIcon = dataVisible ? Visibility : VisibilityOff\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\toverflow='hidden'\r\n\t\t\tp={1}\r\n\t\t\tvariant='outlined'\r\n\t\t\tclassName={classnames(classes.root, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='center'\r\n\t\t\talignContent='stretch'\r\n\t\t\tflexWrap='wrap'\r\n\t\t\tflexGrow={1}\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tpr={3}\r\n\t\t\t\t>\r\n\t\t\t\t\t{onClick && <VIcon className={classes.visibilityIcon} size='large' />}\r\n\t\t\t\t\t{title && (\r\n\t\t\t\t\t\t<Typography variant='h6' noWrap>\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{subtitle &&\r\n\t\t\t\t\t(explain ? (\r\n\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t<Typography component='div' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t\t\t\t{subtitle} <Info style={{ fontSize: 12 }} />\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Typography component='div'>{subtitle}</Typography>\r\n\t\t\t\t\t))}\r\n\t\t\t\t{children}\r\n\t\t\t</Box>\r\n\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdayWrapper: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tday: {\r\n\t\t\twidth: 36,\r\n\t\t\theight: 36,\r\n\t\t\tfontSize: theme.typography.caption.fontSize,\r\n\t\t\tmargin: '0 2px',\r\n\t\t\tcolor: 'inherit',\r\n\t\t},\r\n\t\tcustomDayHighlight: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: '2px',\r\n\t\t\tright: '2px',\r\n\t\t\tborder: `1px solid ${theme.palette.secondary.main}`,\r\n\t\t\tborderRadius: '50%',\r\n\t\t},\r\n\t\tnonCurrentMonthDay: {\r\n\t\t\tcolor: theme.palette.text.disabled,\r\n\t\t},\r\n\t\thighlightNonCurrentMonthDay: {\r\n\t\t\tcolor: '#676767',\r\n\t\t},\r\n\t\thighlight: {\r\n\t\t\tbackground: theme.palette.primary.main,\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tfirstHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopLeftRadius: '50%',\r\n\t\t\tborderBottomLeftRadius: '50%',\r\n\t\t},\r\n\t\tendHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopRightRadius: '50%',\r\n\t\t\tborderBottomRightRadius: '50%',\r\n\t\t},\r\n\t\tdayDisabled: {\r\n\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\r\n\t\t\tpointerEvents: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { DatePicker as MuiDatePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRangeSharp,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport utils, { makeJSDateObject } from 'helpers/dateUtils'\r\nimport clsx from 'clsx'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRangeSharp />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DatePicker extends Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tcalendarIcon,\r\n\t\t\ticon,\r\n\t\t\ticonColor,\r\n\t\t\tonIconClick,\r\n\t\t\tonNextClick,\r\n\t\t\tonLiveClick,\r\n\t\t\tonBackClick,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDatePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DatePicker\r\n\r\nconst datePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DatePickerContrast = withStyles(styles)(datePickerStyled)\r\n\r\nfunction WeekSelectDatePicker({ classes, ...rest }) {\r\n\tconst formatWeekSelectLabel = (date, invalidLabel) => {\r\n\t\tlet dateClone = makeJSDateObject(date)\r\n\r\n\t\treturn dateClone && utils.isValid(dateClone)\r\n\t\t\t? `${utils.format(dateClone, 'MMM DD \"YY')} - ${utils.format(\r\n\t\t\t\t\tutils.addDays(dateClone, 6),\r\n\t\t\t\t\t'MMM DD \"YY'\r\n\t\t\t  )}`\r\n\t\t\t: invalidLabel\r\n\t}\r\n\r\n\tconst dayIsFuture = date => utils.isAfter(date, utils.date())\r\n\r\n\tconst renderWrappedWeekDay = (date, selectedDate, dayInCurrentMonth) => {\r\n\t\tlet dateClone = makeJSDateObject(date)\r\n\t\tlet selectedDateClone = makeJSDateObject(selectedDate)\r\n\r\n\t\tconst start = utils.startOfWeek(selectedDateClone)\r\n\t\tconst end = utils.endOfWeek(selectedDateClone)\r\n\r\n\t\tconst dayIsBetween = utils.isWithinInterval(dateClone, { start, end })\r\n\t\tconst isFirstDay = utils.isSameDay(dateClone, start)\r\n\t\tconst isLastDay = utils.isSameDay(dateClone, end)\r\n\r\n\t\tconst wrapperClassName = clsx({\r\n\t\t\t[classes.highlight]: dayIsBetween,\r\n\t\t\t[classes.firstHighlight]: isFirstDay,\r\n\t\t\t[classes.endHighlight]: isLastDay,\r\n\t\t})\r\n\r\n\t\tconst dayClassName = clsx(classes.day, {\r\n\t\t\t[classes.nonCurrentMonthDay]: !dayInCurrentMonth,\r\n\t\t\t[classes.highlightNonCurrentMonthDay]: !dayInCurrentMonth && dayIsBetween,\r\n\t\t\t[classes.dayDisabled]: dayIsFuture(dateClone),\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassName}>\r\n\t\t\t\t<IconButton className={dayClassName}>\r\n\t\t\t\t\t<span> {utils.format(dateClone, 'D')} </span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tlabel='Week Picker'\r\n\t\t\trenderDay={renderWrappedWeekDay}\r\n\t\t\tlabelFunc={formatWeekSelectLabel}\r\n\t\t\tshouldDisableDate={date => dayIsFuture(date)}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const WeeklyDatePicker = withStyles(styles)(WeekSelectDatePicker)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t\tcardIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: '-33px',\r\n\t\t\tright: '-33px',\r\n\t\t\tfontSize: '120px',\r\n\t\t\topacity: '0.13',\r\n\t\t\ttransform: 'rotate(-45deg)',\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useKeyPress(targetKey) {\r\n\tconst [keyPressed, setKeyPressed] = useState(false)\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst downHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst upHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', downHandler)\r\n\t\twindow.addEventListener('keyup', upHandler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', downHandler)\r\n\t\t\twindow.removeEventListener('keyup', upHandler)\r\n\t\t}\r\n\t}, [downHandler, upHandler])\r\n\r\n\treturn keyPressed\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tVisibility,\r\n\tMonetizationOn,\r\n\tMouse,\r\n\tEqualizer,\r\n} from '@material-ui/icons'\r\nimport { Box } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { WeeklyDatePicker, DatePicker } from 'components/common/DatePicker'\r\nimport Anchor from 'components/common/anchor/anchor'\r\n\r\nimport {\r\n\tPRIMARY,\r\n\tSECONDARY,\r\n\tACCENT_ONE,\r\n\tACCENT_TWO,\r\n\tALEX_GREY,\r\n} from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas, formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\texecute,\r\n\tupdateIdSideAnalyticsChartTimeframe,\r\n\tupdateIdSideAnalyticsChartPeriod,\r\n\tupdateAnalyticsPeriodPrevNextLive,\r\n\tupdateAccountAnalyticsThrottled,\r\n\tupdateMissingRevenueDataPointAccepted,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectTotalClicks,\r\n\tselectChartDatapointsCPM,\r\n\tselectChartDatapointsImpressions,\r\n\tselectChartDatapointsClicks,\r\n\tselectChartDatapointsPayouts,\r\n\tselectSide,\r\n\tselectAnalyticsDataSide,\r\n\tselectAuth,\r\n\tselectInitialDataLoadedByData,\r\n\tselectMissingRevenueDataPointsAccepted,\r\n} from 'selectors'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { useKeyPress } from 'hooks/useKeyPress'\r\nimport { analyticsLoopCustom } from 'services/store-data/analytics'\r\n\r\nconst min = 60 * 1000\r\n\r\nconst timeoutMap = {\r\n\thour: min,\r\n\tday: 10 * min,\r\n\tweek: 30 * min,\r\n}\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = t(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst metrics = {\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_TWO,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_ONE,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n}\r\n\r\nconst getDefaultLabels = ({ start, end }) => [\r\n\tformatDateTime(start),\r\n\tformatDateTime(end),\r\n]\r\n\r\nconst DatePickerSwitch = ({ timeframe, ...rest }) => {\r\n\tswitch (timeframe) {\r\n\t\tcase 'week':\r\n\t\t\treturn <WeeklyDatePicker {...rest} />\r\n\t\tcase 'day':\r\n\t\t\treturn (\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tlabelFunc={val => dateUtils.format(dateUtils.date(val), 'MMM DD \"YY')}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'hour':\r\n\t\t\treturn (\r\n\t\t\t\t<DateTimePicker\r\n\t\t\t\t\tviews={['date', 'hours']}\r\n\t\t\t\t\troundHour\r\n\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\tlabelFunc={val =>\r\n\t\t\t\t\t\t`${dateUtils.format(\r\n\t\t\t\t\t\t\tdateUtils.date(val),\r\n\t\t\t\t\t\t\t'MMM DD \"YY - (HH:mm'\r\n\t\t\t\t\t\t)} - ${dateUtils.format(\r\n\t\t\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(val), 59),\r\n\t\t\t\t\t\t\t'HH:mm)'\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tdefault:\r\n\t\t\treturn <DatePicker {...rest} />\r\n\t}\r\n}\r\n\r\nconst ImpressionsAlert = ({ impressions = 0 }) => (\r\n\t<Alert\r\n\t\tvariant='outlined'\r\n\t\tseverity='info'\r\n\t\tonClose={() => {\r\n\t\t\texecute(updateMissingRevenueDataPointAccepted(true))\r\n\t\t}}\r\n\t>\r\n\t\t<div>\r\n\t\t\t{t('IMPRESSIONS_AND_REVINUE_INFO', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\timpressions,\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tkey='publisher-revenue-notice'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tunderline='always'\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012130399-Why-are-there-impressions-but-no-revenue-'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<strong>{t('LEARN_MORE')}</strong>}\r\n\t\t\t\t\t</Anchor>,\r\n\t\t\t\t],\r\n\t\t\t})}\r\n\t\t</div>\r\n\t</Alert>\r\n)\r\n\r\nexport function BasicStats() {\r\n\tconst useStyles = makeStyles(styles)\r\n\tconst classes = useStyles()\r\n\tconst SPACE = useKeyPress(' ')\r\n\tconst ARROW_LEFT = useKeyPress('ArrowLeft')\r\n\tconst ARROW_RIGHT = useKeyPress('ArrowRight')\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst isAuth = useSelector(state => selectAuth(state))\r\n\tconst { start, end } = useSelector(selectIdentitySideAnalyticsPeriod)\r\n\tconst timeframe = useSelector(selectIdentitySideAnalyticsTimeframe)\r\n\tconst uiSide = useSelector(selectSide)\r\n\tconst side = useSelector(selectAnalyticsDataSide)\r\n\tconst [loop, setLoop] = useState()\r\n\tconst allChannelsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allChannels')\r\n\t)\r\n\tconst advAnalyticsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\tconst initialDataLoaded =\r\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\r\n\tconst missingRevenuePointsAccepted = useSelector(\r\n\t\tselectMissingRevenueDataPointsAccepted\r\n\t)\r\n\tconst [data1Active, setData1Active] = useState(true)\r\n\tconst [data2Active, setData2Active] = useState(true)\r\n\tconst [data3Active, setData3Active] = useState(true)\r\n\tconst [data4Active, setData4Active] = useState(true)\r\n\r\n\tconst defaultLabels = getDefaultLabels({ start, end })\r\n\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalClicks = useSelector(state =>\r\n\t\tselectTotalClicks(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst impressions = useSelector(state =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst clicks = useSelector(state =>\r\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst cpm = useSelector(state =>\r\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst goNext = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: true }))\r\n\t}\r\n\r\n\tconst goPrev = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: false }))\r\n\t}\r\n\r\n\tconst goLive = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ live: true }))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tSPACE && goLive()\r\n\t\tARROW_RIGHT && goNext()\r\n\t\tARROW_LEFT && goPrev()\r\n\t}, [ARROW_LEFT, ARROW_RIGHT, SPACE])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side && timeframe && start) {\r\n\t\t\texecute(updateAccountAnalyticsThrottled())\r\n\t\t}\r\n\t}, [initialDataLoaded, side, timeframe, start])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side) {\r\n\t\t\tgoLive()\r\n\t\t}\r\n\t}, [initialDataLoaded, side])\r\n\r\n\tuseEffect(() => {\r\n\t\tinitialDataLoaded && loop && loop.start()\r\n\t\treturn () => {\r\n\t\t\tloop && loop.stop()\r\n\t\t}\r\n\t}, [initialDataLoaded, loop])\r\n\r\n\tuseEffect(() => {\r\n\t\tloop && loop.stop()\r\n\t\tsetLoop(\r\n\t\t\tanalyticsLoopCustom({\r\n\t\t\t\ttimeout: timeoutMap[timeframe],\r\n\t\t\t\tsyncAction: async () => {\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\tasync () =>\r\n\t\t\t\t\t\t\tisAuth && (await execute(updateAccountAnalyticsThrottled())),\r\n\t\t\t\t\t\ttimeoutMap[timeframe] -\r\n\t\t\t\t\t\t\t(Date.now() % timeoutMap[timeframe]) +\r\n\t\t\t\t\t\t\t5 * 1000\r\n\t\t\t\t\t)\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [timeframe, isAuth])\r\n\r\n\tconst dataSynced =\r\n\t\t!!initialDataLoaded &&\r\n\t\t[\r\n\t\t\timpressions.labels[impressions.labels.length - 1],\r\n\t\t\tpayouts.labels[payouts.labels.length - 1],\r\n\t\t].every(x => !!x && x === clicks.labels[clicks.labels.length - 1]) &&\r\n\t\t[totalImpressions, totalMoney, averageCPM, totalClicks].every(\r\n\t\t\tx => x !== null\r\n\t\t)\r\n\r\n\tconst showRevenueInfo =\r\n\t\t!missingRevenuePointsAccepted &&\r\n\t\tuiSide === 'publisher' &&\r\n\t\tdataSynced &&\r\n\t\t!!totalImpressions\r\n\r\n\treturn (\r\n\t\tuiSide && (\r\n\t\t\t<Box>\r\n\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap' m={1}>\r\n\t\t\t\t\t<StatsCard>\r\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t<Box m={1} flexGrow='1'>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\t\t\t// helperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\t//TODO: fix change of timeframe, set default period as well\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartTimeframe(val))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} flexGrow='1'>\r\n\t\t\t\t\t\t\t\t<DatePickerSwitch\r\n\t\t\t\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\t\t\t\tvalue={start}\r\n\t\t\t\t\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartPeriod(val))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisableFuture\r\n\t\t\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\t\t\tlabel={t('ANALYTICS_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tmax={Date.now()}\r\n\t\t\t\t\t\t\t\t\t// Only when picking future hours as they can't be disabled\r\n\t\t\t\t\t\t\t\t\tmaxDateMessage={t('MAX_DATE_ERROR')}\r\n\t\t\t\t\t\t\t\t\tstrictCompareDates\r\n\t\t\t\t\t\t\t\t\tonBackClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\t\tgoPrev()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonLiveClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\t\tgoLive()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonNextClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\t\tgoNext()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tonClick={() => setData1Active(!data1Active)}\r\n\t\t\t\t\t\tdataVisible={data1Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Visibility className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='secondary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\r\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\r\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\r\n\t\t\t\t\t\tonClick={() => setData2Active(!data2Active)}\r\n\t\t\t\t\t\tdataVisible={data2Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Mouse className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t{uiSide === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\r\n\t\t\t\t\t\t\tdataVisible={data3Active}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{uiSide === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\r\n\t\t\t\t\t\t\tdataVisible={data3Active}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t\tonClick={() => setData4Active(!data4Active)}\r\n\t\t\t\t\t\tdataVisible={data4Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Equalizer className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{showRevenueInfo && (\r\n\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t<ImpressionsAlert impressions={totalImpressions} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\t\tstart={start}\r\n\t\t\t\t\t\tend={end}\r\n\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\ttitle:\r\n\t\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdefaultLabels={defaultLabels}\r\n\t\t\t\t\t\tdata1={impressions}\r\n\t\t\t\t\t\tdata2={clicks}\r\n\t\t\t\t\t\tdata3={payouts}\r\n\t\t\t\t\t\tdata4={cpm}\r\n\t\t\t\t\t\tdata1Active={data1Active}\r\n\t\t\t\t\t\tdata2Active={data2Active}\r\n\t\t\t\t\t\tdata3Active={data3Active}\r\n\t\t\t\t\t\tdata4Active={data4Active}\r\n\t\t\t\t\t\tdataSynced={dataSynced}\r\n\t\t\t\t\t\ty1Label={metrics[uiSide][0].label}\r\n\t\t\t\t\t\ty1Color={metrics[uiSide][0].color}\r\n\t\t\t\t\t\ty2Label={metrics[uiSide][1].label}\r\n\t\t\t\t\t\ty2Color={metrics[uiSide][1].color}\r\n\t\t\t\t\t\ty3Label={metrics[uiSide][2].label}\r\n\t\t\t\t\t\ty3Color={metrics[uiSide][2].color}\r\n\t\t\t\t\t\ty4Label={metrics[uiSide][3].label}\r\n\t\t\t\t\t\ty4Color={metrics[uiSide][3].color}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Paper, Grid, Box } from '@material-ui/core'\r\n\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport { BasicStats } from 'components/dashboard/containers/DashboardStats/BasicStats'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { t } from 'selectors'\r\n\r\nexport const CampaignStatsByTimeframe = ({ item }) => {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper elevation={2} variant='outlined'>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Grid container spacing={0}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<BasicStats campaignId={item.id} />\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { useState, Fragment, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tPaper,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tTypography,\r\n\tTabs,\r\n\tTab,\r\n\tLinearProgress,\r\n} from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { Campaign as CampaignModel } from 'adex-models'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\r\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tselectCampaignAnalyticsToCountryTableData,\r\n\tselectCampaignAnalyticsToCountryMapChartData,\r\n\tselectInitialDataLoadedByData,\r\n\tt,\r\n} from 'selectors'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { CampaignBasic } from './CampaignBasic'\r\nimport { validateAndUpdateCampaign, updateMemoryUi, execute } from 'actions'\r\nimport { useItem } from 'components/dashboard/containers/ItemCommon/'\r\nimport { CampaignStatsByTimeframe } from './CampaignStatsByTimeframe'\r\n\r\nfunction Campaign({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'Campaign',\r\n\t\tmatch,\r\n\t\tobjModel: CampaignModel,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateCampaign,\r\n\t})\r\n\tconst dataLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\r\n\tconst campaign = new CampaignModel(item)\r\n\tconst { humanFriendlyName } = campaign.status || {}\r\n\tconst leader = campaign.spec.validators[0]\r\n\tconst follower = campaign.spec.validators[1]\r\n\tconst campaignId = campaign.id\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateMemoryUi('campaignId', campaignId))\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(updateMemoryUi('campaignId', undefined))\r\n\t\t}\r\n\t}, [campaignId])\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_MAIN')} />\r\n\t\t\t\t\t<Tab label={t('WEBSITE_STATS')} />\r\n\t\t\t\t\t<Tab label={t('COUNTRY_STATS')} />\r\n\t\t\t\t\t<Tab label={t('TIMEFRAME_STATS')} />\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t<Tab label={t('VALIDATORS')} />\r\n\t\t\t\t\t{['Closed', 'Completed'].includes(humanFriendlyName) && (\r\n\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Paper>\r\n\t\t\t<Box my={1}>\r\n\t\t\t\t{tabIndex === 0 && <CampaignBasic item={item} {...hookProps} />}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box flexGrow='1' order={{ xs: 2, md: 2, lg: 1 }}>\r\n\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={campaignId} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2} order={{ xs: 1, md: 1, lg: 2 }}>\r\n\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={campaignId} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t<Grid container spacing={1} alignItems='flex-start'>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\r\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\tselector={state =>\r\n\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryMapChartData(state, {\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\tselector={state =>\r\n\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryTableData(state, {\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tshowEarnings\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{tabIndex === 3 && <CampaignStatsByTimeframe item={item} />}\r\n\t\t\t\t{tabIndex === 4 && <AdUnitsTable campaignId={campaignId} noClone />}\r\n\t\t\t\t{tabIndex === 5 && (\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 6 && <Receipt itemId={campaignId} />}\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Campaign\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Paper, Tabs, Tab } from '@material-ui/core'\r\nimport { BasicStats } from './BasicStats'\r\nimport { t } from 'selectors'\r\n\r\nexport function AdvertiserStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CHARTS')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Paper>\r\n\t\t\t<Box my={1}>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<BasicStats side='advertiser' />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { useCallback } from 'react'\r\nimport classnames from 'classnames'\r\nimport { commify } from 'ethers/utils'\r\nimport Img from 'components/common/img/Img'\r\nimport { useSelector } from 'react-redux'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectBestEarnersTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = to ? RRImg : Img\r\n\t\t\t\tconst imgProps = to ? { to } : { fullScreenOnClick: true }\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...imgProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [i.data[0].id, i.data[1].replace('legacy_', ''), i.data[2]],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n\trowsPerPage: 5,\r\n})\r\n\r\nfunction BestEarnersTable(props) {\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t\tselector = selectBestEarnersTableData,\r\n\t\ttitle = '',\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst dataLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t(title)}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!dataLoaded}\r\n\t\t\tnoSearch\r\n\t\t\tnoDownload\r\n\t\t\tnoPrint\r\n\t\t\tnoViewColumns\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default BestEarnersTable\r\n","import React, { Fragment, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tGrid,\r\n\tPaper,\r\n\tTypography,\r\n\tTab,\r\n\tTabs,\r\n\tLinearProgress,\r\n} from '@material-ui/core'\r\nimport BestEarnersTable from 'components/dashboard/containers/Tables/BestEarnersTable'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { BasicStats } from './BasicStats'\r\nimport {\r\n\tt,\r\n\tselectPublisherStatsByCountryTableData,\r\n\tselectPublisherStatsByCountryMapChartData,\r\n\tselectBestEarnersTableData,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\n\r\nexport function PublisherStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst dataLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper position='static' variant='outlined'>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CHARTS')} />\r\n\t\t\t\t\t<Tab label={t('COUNTRY_DATA')} />\r\n\t\t\t\t\t<Tab label={t('TABLE_BEST_EARNERS_UNITS_TITLE')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Paper>\r\n\t\t\t<Box my={1}>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<BasicStats side='publisher' />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\r\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<MapChart selector={selectPublisherStatsByCountryMapChartData} />\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryTableData}\r\n\t\t\t\t\t\t\t\t// TODO: uncomment after 26.04.2020\r\n\t\t\t\t\t\t\t\t// showEarnings\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t<BestEarnersTable\r\n\t\t\t\t\t\tselector={selectBestEarnersTableData}\r\n\t\t\t\t\t\ttitle='TABLE_BEST_EARNERS_UNITS_TITLE'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default PublisherStats\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Paper, Box } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemTargetURL,\r\n\tMediaCard,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { AdUnit } from 'adex-models'\r\nimport TargetsList from 'components/dashboard/containers/TargetsList'\r\nimport { validateAndUpdateUnit } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Unit({ match }) {\r\n\tconst { item, validations, validateId, validate, ...hookProps } = useItem({\r\n\t\titemType: 'AdUnit',\r\n\t\tmatch,\r\n\t\tobjModel: AdUnit,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateUnit,\r\n\t})\r\n\r\n\tconst { title, description, mediaUrl, mediaMime, type, targetUrl } = item\r\n\tconst { title: errTitle, description: errDescription } = validations\r\n\r\n\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\tlabel={t('UNIT_MEDIA_IMG_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTargetURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<TargetsList\r\n\t\t\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nUnit.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Unit\r\n","import React from 'react'\r\nimport { Box } from '@material-ui/core'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { AdSlotTargeting } from 'components/dashboard/forms/items/NewItems'\r\nimport AdSlotMedia from 'components/dashboard/forms/items/AdSlot/AdSlotMedia'\r\nimport {\r\n\texecute,\r\n\tresetNewItem,\r\n\tupdateSlotTargeting,\r\n\tupdateSlotPasback,\r\n\tmapCurrentToNewTargeting,\r\n\tmapCurrentToNewPassback,\r\n} from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\n// TODO: Targeting will be changed, but this will be used for campaigns targeting update\r\nexport const TargetingSteps = ({ updateField, itemId, ...props }) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('AdSlot', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase='new-AdUnit-'\r\n\t\t\titemType='AdSlot'\r\n\t\t\tstepsId='new-slot-'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SLOT_TAGS_STEP',\r\n\t\t\t\t\tcomponent: AdSlotTargeting,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(updateSlotTargeting({ updateField, itemId, ...props })),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={AdSlot}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst TargetEdit = WithDialog(TargetingSteps)\r\n\r\nexport const PassbackSteps = ({ updateMultipleFields, itemId, ...props }) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('AdSlot', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase='new-AdUnit-'\r\n\t\t\titemType='AdSlot'\r\n\t\t\tstepsId='new-slot-'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateSlotPasback({ updateMultipleFields, itemId, ...props })\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={AdSlot}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst PassbackEdit = WithDialog(PassbackSteps)\r\n\r\nexport const SlotEdits = ({ item, ...hookProps }) => {\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t<PassbackEdit\r\n\t\t\t\tfullWidth\r\n\t\t\t\tsize='large'\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='UPDATE_PASSBACK'\r\n\t\t\t\ttitle='UPDATE_SLOT_PASSBACK'\r\n\t\t\t\titemId={item.id}\r\n\t\t\t\tdisableBackdropClick\r\n\t\t\t\tupdateMultipleFields={hookProps.updateMultipleFields}\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tmapCurrentToNewPassback({\r\n\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{/* // TODO: Will use it for campaign targeting editing */}\r\n\t\t\t{/* <TargetEdit\r\n\t\t\t\tbtnLabel='UPDATE_TAGS'\r\n\t\t\t\ttitle='UPDATE_SLOT_TAGS'\r\n\t\t\t\titemId={item.id}\r\n\t\t\t\tdisableBackdropClick\r\n\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tmapCurrentToNewTargeting({\r\n\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t} \r\n\t\t\t /> */}\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Paper, Grid, Box } from '@material-ui/core'\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport TargetsList from 'components/dashboard/containers/TargetsList'\r\nimport { SlotEdits } from './SlotEdits'\r\nimport {\r\n\tChangeControls,\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemFallbackMediaURL,\r\n\tMediaCard,\r\n\tItemMinPerImpression,\r\n\tItemWebsite,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { t } from 'selectors'\r\n\r\nexport const SlotBasic = ({ item, ...hookProps }) => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\tmediaUrl,\r\n\t\tmediaMime,\r\n\t\ttype,\r\n\t\ttargetUrl,\r\n\t\twebsite,\r\n\t} = item\r\n\tconst { title: errTitle, description: errDescription } = hookProps.validations\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<Paper elevation={2} variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemFallbackMediaURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<SlotEdits item={item} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<TargetsList targets={item.tags} subHeader={'PROP_TAGS'} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemMinPerImpression item={item} {...hookProps} />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemWebsite item={item} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<WebsiteIssues website={website} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport copy from 'copy-to-clipboard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { Paper, IconButton, Box, Typography } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\n\r\nimport { execute, addToast } from 'actions'\r\n\r\nimport url from 'url'\r\nimport {\r\n\tselectRoutineWithdrawTokensAddresses,\r\n\tselectHasConfirmedEmail,\r\n\tselectAccountIdentityAddr,\r\n\tt,\r\n} from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const IntegrationCode = ({ slot = {} }) => {\r\n\tconst classes = useStyles()\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst isEmailConfirmed = useSelector(selectHasConfirmedEmail)\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\r\n\t// \t<Alert severity='warning' variant='outlined'>\r\n\t// \t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t// \t<div\r\n\t// \t\tdangerouslySetInnerHTML={{\r\n\t// \t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t// \t\t}}\r\n\t// \t/>\r\n\t// </Alert>\r\n\treturn isEmailConfirmed ? (\r\n\t\t<Box overflow='hidden'>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tpx={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography>{t('INTEGRATION_CODE')}</Typography>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t) : (\r\n\t\t<Alert severity='warning' variant='outlined'>\r\n\t\t\t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t\t\t<div\r\n\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Alert>\r\n\t)\r\n}\r\n\r\nIntegrationCode.propTypes = {\r\n\tslot: PropTypes.object.isRequired,\r\n}\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { AdSlot } from 'adex-models'\r\nimport { Box, Tabs, Tab, Paper } from '@material-ui/core'\r\nimport { useItem } from 'components/dashboard/containers/ItemCommon/'\r\nimport { SlotBasic } from './SlotBasic'\r\nimport { IntegrationCode } from './IntegrationCode'\r\nimport { validateAndUpdateSlot } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Slot({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'AdSlot',\r\n\t\tmatch,\r\n\t\tobjModel: AdSlot,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateSlot,\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('SLOT_MAIN')} />\r\n\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\r\n\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Paper>\r\n\t\t\t<Box my={1}>\r\n\t\t\t\t{tabIndex === 0 && <SlotBasic item={item} {...hookProps} />}\r\n\t\t\t\t{tabIndex === 1 && <IntegrationCode slot={item} />}\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nSlot.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Slot\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { TextField, Button, Box, Typography } from '@material-ui/core'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectAccountStatsFormatted,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\r\n\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t<Alert variant='outlined' severity='error'>\r\n\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst WithdrawAnyTokenFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst {\r\n\t\tamountToWithdraw,\r\n\t\twithdrawTo,\r\n\t\ttokenAddress,\r\n\t\ttokenDecimals,\r\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\ttokenAddress: errTokenAddress,\r\n\t\ttokenDecimals: errTokenDecimals,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\tname='tokenAddress'\r\n\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'tokenAddress',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errTokenAddress && !!errTokenAddress.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\terrTokenAddress && !!errTokenAddress.dirty\r\n\t\t\t\t\t\t? errTokenAddress.errMsg\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<TextField\r\n\t\t\t\ttype='text'\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\tfullWidth\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\r\n\t\t\t\tname='tokenDecimals'\r\n\t\t\t\tvalue={tokenDecimals || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'tokenDecimals',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errTokenDecimals && !!errTokenDecimals.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\terrTokenDecimals && !!errTokenDecimals.dirty\r\n\t\t\t\t\t\t? errTokenDecimals.errMsg\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\tname='withdrawTo'\r\n\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\tfullWidth\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\thelperText={errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t<Alert variant='outlined' severity='error'>\r\n\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawAnyTokenFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTextField,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tCheckbox,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\r\n\treturn {\r\n\t\tvalue,\r\n\t\tlabel: t(`PRIV_${value}_LABEL`),\r\n\t\tinfo: t(`PRIV_${value}_INFO`),\r\n\t}\r\n})\r\n\r\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\r\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\r\n\t\tstate => selectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsetAddr: errAddr,\r\n\t\tsetAddrWarning: warning,\r\n\t\tprivLevel: errPrivLvl,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'privLevel',\r\n\t\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\r\n\t\t\t\t\t\t\t? errPrivLvl.errMsg\r\n\t\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tkey={x.value}\r\n\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t))}\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{(warning || warningAccepted || warningMsg) && (\r\n\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue='warningAccepted'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t<Alert variant='outlined' severity='error'>\r\n\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SeAddressPrivilege\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { TextField, InputAdornment, Box, Typography } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\r\n\r\nfunction SetAccountENSPage({ stepsId, validateId } = {}) {\r\n\tconst { username } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst { username: errUsername, fees: errFees } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SET_ENS_MAIN_INFO')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\r\n\t\t\t\t\tname='username'\r\n\t\t\t\t\tvalue={username || ''}\r\n\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'username',\r\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\terror={errUsername && !!errUsername.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrUsername && !!errUsername.dirty ? errUsername.errMsg : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t<Alert variant='outlined' severity='error'>\r\n\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nSetAccountENSPage.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SetAccountENSPage\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tt,\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetENSPreview = ({\r\n\tt,\r\n\tusername,\r\n\taddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='addr'\r\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\r\n\t\t\tright={(address || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='username'\r\n\t\t\tleft={t('username', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tfeesData.fees,\r\n\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tSetENSPreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\n\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst { previewWarnMsgs, stepsId } = props\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { address } = account.identity\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\tamountToWithdraw,\r\n\t\twaitingForWalletAction,\r\n\t\tsetAddr,\r\n\t\tusername,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = useSelector(state => selectNewTransactionById(state, txId))\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{waitingForWalletAction ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setENS' && (\r\n\t\t\t\t\t\t\t<SetENSPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\tusername={username}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nexport default TransactionPreview\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport SetAccountENSPage from './SetAccountENSPage'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport {\r\n\tidentityWithdraw,\r\n\tsetIdentityENS,\r\n\tvalidatePrivilegesChange,\r\n\tidentityWithdrawAny,\r\n\tvalidateIdentityWithdraw,\r\n\tcompleteTx,\r\n\texecute,\r\n\tresetNewTransaction,\r\n\tupdateIdentityPrivilege,\r\n\tvalidateENSChange,\r\n\tvalidateIdentityWithdrawAny,\r\n} from 'actions'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst cancelFunction = stepsId => {\r\n\texecute(resetNewTransaction({ tx: stepsId }))\r\n}\r\n\r\nconst txCommon = {\r\n\tcancelFunction,\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawFromIdentity,\r\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdraw(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdraw,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = ({ SaveBtn, ...props }) => {\r\n\treturn (\r\n\t\t<FormStepsWithDialog\r\n\t\t\t{...props}\r\n\t\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\r\n\t\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\t\tstepsId='setIdentityPrivilege'\r\n\t\t\t{...txCommon}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\t\tcomponent: SeAddressPrivilege,\r\n\t\t\t\t\tvalidationFn: props => execute(validatePrivilegesChange(props)),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\t\tcompeteAction: updateIdentityPrivilege,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdrawAny(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdrawAny,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetAccountENS = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\r\n\t\tstepsId='setENS'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\r\n\t\t\t\tcomponent: SetAccountENSPage,\r\n\t\t\t\tvalidationFn: props => execute(validateENSChange(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: setIdentityENS,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n","import React, { useState, Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tWithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n\tSetAccountENS,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tDivider as ListDivider,\r\n\tListSubheader,\r\n\tButton,\r\n\tBox,\r\n\tExpansionPanel,\r\n\tExpansionPanelSummary,\r\n\tTypography,\r\n\tIconButton,\r\n\tPaper,\r\n} from '@material-ui/core'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectMainToken,\r\n\tselectEasterEggsAllowed,\r\n\tselectEnsAddressByAddr,\r\n\tselectSide,\r\n} from 'selectors'\r\nimport { execute, addToast } from 'actions'\r\nimport { formatAddress } from 'helpers/formatters'\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nconst AccountItem = props => (\r\n\t<ListItem>\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexWrap={'wrap'}\r\n\t\t\tflex='1'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\talignItems='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow='8'\r\n\t\t\t\tflexBasis='700px'\r\n\t\t\t\tmr={1}\r\n\t\t\t\tflexWrap={'nowrap'}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t>\r\n\t\t\t\t<Box flex='1'>{props.left}</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box flexGrow='1' flexBasis='17em'>\r\n\t\t\t\t{props.right}\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t</ListItem>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType = '' } = useSelector(selectWallet)\r\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst side = useSelector(selectSide)\r\n\tconst canMakeTx = privileges > 1\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst identityEnsName = useSelector(state =>\r\n\t\tselectEnsAddressByAddr(state, identityAddress)\r\n\t)\r\n\r\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\r\n\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<List className={classes.root} disablePadding>\r\n\t\t\t\t\t<ListSubheader disableSticky>{t('ADEX_ACCOUNT')}</ListSubheader>\r\n\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t{...(identityEnsName && {\r\n\t\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\r\n\t\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{...(!identityEnsName && {\r\n\t\t\t\t\t\t\t\t\t\tprimary: identityAddress,\r\n\t\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t!!identityAddress && (\r\n\t\t\t\t\t\t\t\t<SetAccountENS\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/topup`}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t\t{t('TOP_UP')}\r\n\t\t\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\ttoken={symbol}\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</List>\r\n\t\t\t</Paper>\r\n\t\t\t<Box mt={1}>\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={handleExpandChange}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\r\n\t\t\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t></AccountItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t{allowEasterEggs && (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t\tflexGrow: 0,\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","export const popupCenter = ({ url, title, w, h }) => {\r\n\t// Fixes dual-screen position                             Most browsers      Firefox\r\n\tconst dualScreenLeft =\r\n\t\twindow.screenLeft !== undefined ? window.screenLeft : window.screenX\r\n\tconst dualScreenTop =\r\n\t\twindow.screenTop !== undefined ? window.screenTop : window.screenY\r\n\r\n\tconst width = window.innerWidth\r\n\t\t? window.innerWidth\r\n\t\t: document.documentElement.clientWidth\r\n\t\t? document.documentElement.clientWidth\r\n\t\t: window.screen.width\r\n\tconst height = window.innerHeight\r\n\t\t? window.innerHeight\r\n\t\t: document.documentElement.clientHeight\r\n\t\t? document.documentElement.clientHeight\r\n\t\t: window.screen.height\r\n\r\n\tconst systemZoom = width / window.screen.availWidth\r\n\tconst left = (width - w) / 2 / systemZoom + dualScreenLeft\r\n\tconst top = (height - h) / 2 / systemZoom + dualScreenTop\r\n\tconst newWindow = window.open(\r\n\t\turl,\r\n\t\ttitle,\r\n\t\t`\r\n\t\ttoolbar=no,scrollbars=no,resizable=no\r\n\t\twidth=${w / systemZoom}, \r\n\t\theight=${h / systemZoom}, \r\n\t\ttop=${top}, \r\n\t\tleft=${left},\r\n\t\t`\r\n\t)\r\n\r\n\tif (window.focus) newWindow.focus()\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tBox,\r\n\tPaper,\r\n\tTypography,\r\n\tButton,\r\n\tList,\r\n\tListItem,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { FileCopy } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectMainToken,\r\n\tselectEmail,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Img from 'components/common/img/Img'\r\nimport { useSelector } from 'react-redux'\r\nimport copy from 'copy-to-clipboard'\r\nimport { openWyre, openPayTrie, openOnRampNetwork } from 'services/onramp'\r\nimport RAMP_LOGO from 'resources/ramp.svg'\r\nimport WYRE_LOGO from 'resources/wyre.svg'\r\nimport PAYTRIE_LOGO from 'resources/paytrie.svg'\r\nimport { styles } from './styles'\r\nimport { execute, addToast } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\nconst onRampProvidersDetails = [\r\n\t{\r\n\t\ttitle: t('CREDIT_CARD'),\r\n\t\tonClick: props => openWyre(props),\r\n\t\timgSrc: WYRE_LOGO,\r\n\t\timgAlt: t('WYRE'),\r\n\t\tfeeInfo: t('WYRE_FEES'),\r\n\t\tlimitInfo: t('WYRE_LIMITS'),\r\n\t\tcurrencies: t('WYRE_CURRENCIES'),\r\n\t},\r\n\t{\r\n\t\ttitle: t('BANK_TRANSFER'),\r\n\t\tonClick: props => openOnRampNetwork(props),\r\n\t\timgSrc: RAMP_LOGO,\r\n\t\timgAlt: t('RAMP'),\r\n\t\tfeeInfo: t('RAMP_FEES'),\r\n\t\tlimitInfo: t('RAMP_LIMITS'),\r\n\t\tcurrencies: t('RAMP_CURRENCIES'),\r\n\t},\r\n\t{\r\n\t\ttitle: t('BANK_TRANSFER'),\r\n\t\tonClick: props => openPayTrie(props),\r\n\t\timgSrc: PAYTRIE_LOGO,\r\n\t\timgAlt: t('PAYTRIE'),\r\n\t\tfeeInfo: t('PAYTRIE_FEES'),\r\n\t\tlimitInfo: t('PAYTRIE_LIMITS'),\r\n\t\tcurrencies: t('PAYTRIE_CURRENCIES'),\r\n\t},\r\n]\r\n\r\nexport default function TopUp() {\r\n\tconst classes = useStyles()\r\n\tconst accountId = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst email = useSelector(selectEmail)\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item lg={4} md={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('DAI')}</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(accountId)\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.copyBtn}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tendIcon={<FileCopy fontSize='small' color='disabled' />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{accountId}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('DAI_DIRECT_DEPOSIT_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item lg={4} md={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tpb={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>\r\n\t\t\t\t\t\t\t\t{t('FIAT_CURRENCY')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('CREDIT_CARD_BANK_TRANSFER')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('ONRAMP_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<List disablePadding>\r\n\t\t\t\t\t\t\t\t{onRampProvidersDetails.map((item, key) => (\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\tdisableGutters\r\n\t\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => item.onClick({ accountId, symbol, email })}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<OnRampListItem\r\n\t\t\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\t\timgSrc={item.imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\timgAlt={item.imgAlt}\r\n\t\t\t\t\t\t\t\t\t\t\tfeeInfo={item.feeInfo}\r\n\t\t\t\t\t\t\t\t\t\t\tlimitInfo={item.limitInfo}\r\n\t\t\t\t\t\t\t\t\t\t\tcurrencies={item.currencies}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item lg={4} md={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('BTC')}</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('BTC_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('COMING_SOON')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst OnRampListItem = ({\r\n\timgSrc,\r\n\timgAlt,\r\n\ttitle,\r\n\tfeeInfo,\r\n\tlimitInfo,\r\n\tcurrencies,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Button size='large' fullWidth disableElevation className={classes.copyBtn}>\r\n\t\t\t<Box p={1} width='100%'>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tdirection='row'\r\n\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12} sm={4} md={4}>\r\n\t\t\t\t\t\t<Img className={classes.img} alt={imgAlt} src={imgSrc} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={8} md={8} className={classes.infoGrid}>\r\n\t\t\t\t\t\t<Typography className={classes.infoTitle}>{title}</Typography>\r\n\t\t\t\t\t\t{[feeInfo, limitInfo, currencies].map((item, key) => (\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tkey={`info-${key}`}\r\n\t\t\t\t\t\t\t\tclassName={classes.info}\r\n\t\t\t\t\t\t\t\tcomponent='p'\r\n\t\t\t\t\t\t\t\tcolor='textSecondary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Button>\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tcopyBtn: {\r\n\t\t\tbackgroundColor: '#E2EAED',\r\n\t\t\toverflowWrap: 'anywhere',\r\n\t\t\tuserSelect: 'text',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tfontSize: '2rem',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tfontSize: '1rem',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfo: {\r\n\t\t\tfontSize: '10px',\r\n\t\t},\r\n\t\tinfoGrid: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t},\r\n\t\tinfoTitle: {\r\n\t\t\tfontSize: '12px',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport { popupCenter } from 'helpers/popupHelper'\r\nimport url from 'url'\r\nimport { t } from 'selectors'\r\n\r\nconst PAYTRIE_PARTNER_URL = 'https://partner.paytrie.com/?app=876454'\r\nconst WYRE_URL = 'https://pay.sendwyre.com/purchase?'\r\n\r\n//https://docs.sendwyre.com/docs/wyre-widget-v2\r\nexport const openWyre = ({ accountId, symbol, ...rest }) => {\r\n\tconst URL = url.parse(WYRE_URL, true)\r\n\tURL.search = null\r\n\tif (accountId) {\r\n\t\tURL.query = {\r\n\t\t\t...URL.query,\r\n\t\t\tdest: accountId ? `ethereum:${accountId}` : null,\r\n\t\t\treferenceId: accountId,\r\n\t\t\tdestCurrency: symbol,\r\n\t\t\t...rest,\r\n\t\t}\r\n\t\tpopupCenter({\r\n\t\t\turl: url.format(URL),\r\n\t\t\ttitle: t('WYRE_DEPOSIT'),\r\n\t\t\tw: 450,\r\n\t\t\th: 700,\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.error('WYRE_DEPOSIT_MISSING_DEST_PARAM')\r\n\t}\r\n}\r\n\r\n//https://paytrie.com/developer\r\nexport const openPayTrie = ({ accountId, email, symbol, ...rest }) => {\r\n\tconst URL = url.parse(PAYTRIE_PARTNER_URL, true)\r\n\tURL.search = null\r\n\tURL.query = {\r\n\t\t...URL.query,\r\n\t\taddr: accountId,\r\n\t\temail,\r\n\t\trightSideLabel: symbol,\r\n\t\t...rest,\r\n\t}\r\n\tpopupCenter({\r\n\t\t//TODO: Change testwyre to production\r\n\t\turl: url.format(URL),\r\n\t\ttitle: t('PAYTRIE_DEPOSIT'),\r\n\t\tw: 450,\r\n\t\th: 700,\r\n\t})\r\n}\r\n\r\nexport const openOnRampNetwork = ({ accountId, symbol }) => {\r\n\tconst widget = new RampInstantSDK({\r\n\t\thostAppName: 'AdExNetwork',\r\n\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\tvariant: 'auto',\r\n\t\tswapAsset: symbol,\r\n\t\tuserAddress: accountId,\r\n\t})\r\n\twidget.domNodes.overlay.style.zIndex = 1000\r\n\twidget.show()\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { CheckCircle } from '@material-ui/icons'\r\nimport { PRIMARY, ACCENT_TWO } from 'components/App/themeMUi'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text[500]}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${PRIMARY} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${ACCENT_TWO}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: ACCENT_TWO,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, #fff 50%), ${\r\n\t\t\ttheme.palette.text[500]\r\n\t\t}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 5}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <CheckCircle className={clsx(classes.star)} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { confirmAction, execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nexport const createAdUnitTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 8; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const fundAccountTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const launchFirstCampaign = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 5; i++) {\r\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const createAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 7; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const placeAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 2; i++) {\r\n\t\tsteps.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://webcusp.com/iframe-wordpress-plugins-and-tutorials/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { ACCENT_TWO } from 'components/App/themeMUi'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tStepButton,\r\n\tMobileStepper,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tTypography,\r\n\tHidden,\r\n\tLink,\r\n\tExpansionPanel,\r\n\tExpansionPanelDetails,\r\n\tExpansionPanelSummary,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n\tKeyboardArrowLeft,\r\n\tKeyboardArrowRight,\r\n\tExpandMore,\r\n\tClose,\r\n\tCheckCircleOutline,\r\n\tCheckCircle,\r\n} from '@material-ui/icons'\r\nimport EmailEddie from 'resources/getting-started/GS-email-ic.png'\r\nimport FundEddie from 'resources/getting-started/GS-fund-ic.png'\r\nimport CreateEddie from 'resources/getting-started/GS-create-ic.png'\r\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic.png'\r\nimport PlaceEddie from 'resources/getting-started/GS-place-ic.png'\r\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic.png'\r\nimport {\r\n\tt,\r\n\tsectStepsData,\r\n\tselectHideGettingStarted,\r\n\tselectGettingStartedExpanded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\r\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\r\nimport {\r\n\tcreateAdUnitTutorial,\r\n\tfundAccountTutorial,\r\n\tlaunchFirstCampaign,\r\n\tcreateAdSlot,\r\n\tplaceAdSlot,\r\n} from './Tutorials'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst stepperBackgroundColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.background.paper\r\n\t\t\t: theme.palette.background.paper\r\n\r\n\treturn {\r\n\t\tmobile: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tstepper: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinstructions: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t\texpansionPanel: {\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t\tbackgroundColor: stepperBackgroundColor,\r\n\t\t\t'& .MuiExpansionPanelSummary-expandIcon': {\r\n\t\t\t\tcolor: theme.palette.primary.main,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcheckmark: {\r\n\t\t\tcolor: ACCENT_TWO,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst getSteps = ({\r\n\thasCreatedAdUnit,\r\n\thasCreatedCampaign,\r\n\thasCreatedAdSlot,\r\n\thasConfirmedEmail,\r\n\thasFundedAccount,\r\n\thasImpressions,\r\n\thas5000Impressions,\r\n}) => ({\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: (\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdUnit,\r\n\t\t\ttutorial: createAdUnitTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\r\n\t\t\ticon: FundEddie,\r\n\t\t\tcheck: hasFundedAccount,\r\n\t\t\ttutorial: fundAccountTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasCreatedCampaign,\r\n\t\t\ttutorial: launchFirstCampaign,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: (\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdSlot,\r\n\t\t\ttutorial: createAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: PlaceEddie,\r\n\t\t\tcheck: hasImpressions,\r\n\t\t\ttutorial: placeAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: has5000Impressions,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n})\r\n\r\nexport default function GettingStarted(props) {\r\n\tconst { side } = props\r\n\tconst classes = useStyles({ side })\r\n\r\n\tconst stepsData = useSelector(sectStepsData)\r\n\r\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\r\n\tconst expanded = useSelector(selectGettingStartedExpanded)\r\n\tconst [steps, setSteps] = useState({})\r\n\r\n\tconst [activeStep, setActiveStep] = React.useState(0)\r\n\r\n\tconst sideSteps = steps[side] || []\r\n\tconst currentStep = sideSteps[activeStep] || {}\r\n\r\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\r\n\r\n\tconst handleStep = step => () => {\r\n\t\tsetActiveStep(step)\r\n\t}\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep(activeStep + 1)\r\n\t}\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep(activeStep - 1)\r\n\t}\r\n\r\n\tconst handleDismiss = () => {\r\n\t\tsetActiveStep(0)\r\n\t\texecute(hideGettingStarted(side))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSteps(getSteps(stepsData))\r\n\t}, [stepsData])\r\n\tuseEffect(() => {\r\n\t\tsetActiveStep(\r\n\t\t\tindexOfFirstIncompleteStep !== -1\r\n\t\t\t\t? indexOfFirstIncompleteStep\r\n\t\t\t\t: sideSteps.length - 1\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [steps, indexOfFirstIncompleteStep])\r\n\t// TODO: wait for the data to be loaded before displaying the getting started\r\n\treturn (\r\n\t\t!isGettingStartedHidden &&\r\n\t\t!!sideSteps.length && (\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\r\n\t\t\t\t\t\tclasses={{ root: classes.expansionPanel }}\r\n\t\t\t\t\t\taria-controls='expand-getting-started'\r\n\t\t\t\t\t\tid='getting-started-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\r\n\t\t\t\t\t\t\t\t{`${t('GETTING_STARTED_HEADING')} (${\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' ? t('PUBLISHER') : t('ADVERTISER')\r\n\t\t\t\t\t\t\t\t})`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\r\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = check ? CheckCircle : CheckCircleOutline\r\n\t\t\t\t\t\t\t\t\tconst color = ACCENT_TWO\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={label} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon className={classes.checkmark} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\r\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\r\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\r\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\r\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\r\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\r\n\t\t\t\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tnextButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbackButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\r\n\t\t\t\t\t\t\t\t\tnonLinear\r\n\t\t\t\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\r\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tPublisherStats,\r\n\tAdvertiserStats,\r\n} from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport TopUp from 'components/dashboard/deposit/TopUp'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tCampaignsTable,\r\n\tAdSlotsTable,\r\n\tAdUnitsTable,\r\n} from 'components/dashboard/containers/Tables'\r\nimport { Drawer, Box, Hidden, Paper } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Add } from '@material-ui/icons'\r\nimport { styles } from './styles'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\texecute,\r\n\tresolveEnsAddress,\r\n\tupdatePrivilegesWarningAccepted,\r\n\tloadAccountData,\r\n\tstopAccountDataUpdate,\r\n\tupdateNav,\r\n\tupdateMemoryUi,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectPrivilegesWarningAccepted,\r\n\tselectInitialDataLoaded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport GettingStarted from '../getting-started/GettingStarted'\r\n\r\nconst Campaigns = () => {\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst disabled = privileges <= 1\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<NewCampaignDialog\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tfabButton\r\n\t\t\t\tvariant='extended'\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t\tsize='medium'\r\n\t\t\t\ticon={<Add />}\r\n\t\t\t/>\r\n\r\n\t\t\t<CampaignsTable />\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst AdUnits = () => (\r\n\t<Box>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<AdUnitsTable />\r\n\t</Box>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<Box>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<AdSlotsTable />\r\n\t</Box>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\tconst address = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\r\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tconst dataLoaded = useSelector(selectInitialDataLoaded)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function updateInitialData() {\r\n\t\t\texecute(loadAccountData())\r\n\t\t}\r\n\r\n\t\tupdateInitialData()\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(stopAccountDataUpdate())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(resolveEnsAddress({ address }))\r\n\t}, [address])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t{showTxPrivLevelWarning && (\r\n\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\r\n\t\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/receipts'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route exact path={'/dashboard/:side/topup'} component={TopUp} />\r\n\t\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser'\r\n\t\t\t\t\t\t\t\tcomponent={AdvertiserStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher'\r\n\t\t\t\t\t\t\t\tcomponent={PublisherStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet, identity } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\tlogOut()\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\r\n\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto='/side-select'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\tcolor: theme.palette.common.black,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\tcolor: theme.palette.common.black,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { List, ListItem, ListItemText } from '@material-ui/core'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { selectWalletAddress, execute } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const AddressSelect = ({\r\n\taddresses,\r\n\taddress,\r\n\twaitingAction,\r\n\tactionWaitingLabel,\r\n\tselectLabel,\r\n\tsignType,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\tclasses,\r\n}) => {\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentStickyTop>\r\n\t\t\t\t{waitingAction ? <TopLoading msg={actionWaitingLabel} /> : selectLabel}\r\n\t\t\t</ContentStickyTop>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t{addresses.map((addrData, hdWalletAddrIdx) => (\r\n\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\tkey={addrData.address}\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tselectWalletAddress({\r\n\t\t\t\t\t\t\t\t\t\taddrData,\r\n\t\t\t\t\t\t\t\t\t\thdWalletAddrPath,\r\n\t\t\t\t\t\t\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\t\t\t\t\t\t\tsignType,\r\n\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tselected={address === addrData.address}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddrItem stats={addrData} address={addrData.address} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport { checkAuthMetamask, execute } from 'actions'\r\nimport { getEthereumProvider } from 'services/smart-contracts/ethers'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\nimport { CHECKING_METAMASK_AUTH } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthMetamask() {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\r\n\tconst { address } = wallet\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tconst waitingAddrsData = useSelector(state =>\r\n\t\tselectSpinnerById(state, CHECKING_METAMASK_AUTH)\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProvider()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'metamask logo'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => execute(checkAuthMetamask())}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthMetamask\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { AddressSelect } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport {\r\n\tAUTH_WAITING_ADDRESS_DATA,\r\n\tAUTH_WAITING_TREZOR_ACTION,\r\n} from 'constants/spinners'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\nimport { connectTrezor, execute } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthTrezor() {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, addresses = [], hdWalletAddrPath } = useSelector(\r\n\t\tselectIdentity\r\n\t)\r\n\tconst { address } = wallet\r\n\r\n\tconst waitingTrezorAction = useSelector(state =>\r\n\t\tselectSpinnerById(state, AUTH_WAITING_TREZOR_ACTION)\r\n\t)\r\n\r\n\tconst waitingAddrsData = useSelector(state =>\r\n\t\tselectSpinnerById(state, AUTH_WAITING_ADDRESS_DATA)\r\n\t)\r\n\r\n\treturn addresses.length ? (\r\n\t\t<AddressSelect\r\n\t\t\twaitingAction={waitingTrezorAction}\r\n\t\t\tactionWaitingLabel={t('TREZOR_WAITING_ACTION')}\r\n\t\t\tselectLabel={t('SELECT_ADDR_TREZOR')}\r\n\t\t\taddress={address}\r\n\t\t\taddresses={addresses}\r\n\t\t\tsignType={AUTH_TYPES.TREZOR.signType}\r\n\t\t\tauthType={AUTH_TYPES.TREZOR.name}\r\n\t\t\thdWalletAddrPath={hdWalletAddrPath}\r\n\t\t\tclasses={classes}\r\n\t\t/>\r\n\t) : (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingAddrsData ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingTrezorAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\r\n\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\r\n\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\r\n\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{!waitingAddrsData && !waitingTrezorAction && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => execute(connectTrezor())}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthTrezor\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocationQuery } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod(props) {\r\n\tconst classes = useStyles()\r\n\tconst query = useSelector(selectLocationQuery)\r\n\tconst method = query['external']\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{method === 'metamask' && <AuthMetamask {...props} />}\r\n\t\t\t\t{method === 'trezor' && <AuthTrezor {...props} />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n} from 'selectors'\r\nimport { execute, updateIdentity } from 'actions'\r\n\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\n\r\nconst QuickInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\r\n\t]\r\n\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\tpassword,\r\n\t\tpasswordCheck,\r\n\t\ttosCheck,\r\n\t\tknowFrom,\r\n\t\tmoreInfo,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner || sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\r\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n} from 'selectors'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\n\r\nconst FulInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet = {} } = identity\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\ttosCheck,\r\n\t\taccessWarningCheck,\r\n\t\tknowFrom,\r\n\t\tmoreInfo,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{walletAddress}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\r\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\r\n\t]\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { push } from 'connected-react-router'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\texecute,\r\n\tupdateIdentity,\r\n\townerIdentities as updateOwnerIdentities,\r\n} from 'actions'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectIdentity,\r\n\tt,\r\n\tselectSearchParams,\r\n\tselectRegistrationAllowed,\r\n} from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: id.ens\r\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\r\n\t\t\t\t  })\r\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\r\n\t\t\t\t  }),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst {\r\n\t\twalletAddr,\r\n\t\twallet = {},\r\n\t\townerIdentities,\r\n\t\tidentityContractAddress,\r\n\t} = identity\r\n\tconst walletAddress = wallet.address || walletAddr\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\r\n\t)\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\r\n\tconst searchParams = useSelector(selectSearchParams)\r\n\tsearchParams.set('step', '1')\r\n\r\n\tconst search = searchParams.toString()\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(\r\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\r\n\t\t)\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{showRegistration && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React from 'react'\r\nimport AuthMethod from './ownerAuth/AuthMethod'\r\nimport QuickInfo from './QuickInfo'\r\nimport FullInfo from './FullInfo'\r\nimport QuickLogin from './QuickLogin'\r\nimport FullLogin from './FullLogin'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateFullInfo,\r\n\tvalidateContractOwner,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tcomponent: FullLogin,\r\n\t\t\t\t\tvalidationFn: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-create'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'FULL_INFO',\r\n\t\t\t\t\tcomponent: FullInfo,\r\n\t\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tcomponent: QuickInfo,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tcomponent: QuickLogin,\r\n\t\t\t\tvalidationFn: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<FormSteps {...props} {...common} steps={[]} />\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\r\n\t</g>,\r\n\r\n\t'AdexPublisher',\r\n\t'0 0 114 110'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\r\n\t</g>,\r\n\t'AdexAdvertiser',\r\n\t'0 0 109 94'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({\r\n\tsalePoints = [],\r\n\tlinkTitle,\r\n\ticon,\r\n\ttitle,\r\n\tdisabled,\r\n\tclasses,\r\n\t...other\r\n}) => (\r\n\t<div\r\n\t\t{...other}\r\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\r\n\t>\r\n\t\t<div className={classes.icon}>{icon}</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function(point, key) {\r\n\t\t\t\treturn <li key={key}> {point} </li>\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<AdvertiserLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<PublisherLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1,\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n\tupdateEasterEggsAllowed,\r\n\thandleRedirectParams,\r\n\thandleSignupLink,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\tLoginStandardIdentity,\r\n\tCreateStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedCreateStandardIdentity = ConnectHoc(\r\n\tJustDialog(CreateStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = async wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tawait migrateLegacyWallet({ email, password })\r\n\t\tawait removeLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getRelayerConfig())\r\n\t\texecute(metamaskChecks())\r\n\t\texecute(handleRedirectParams(location.search))\r\n\t\texecute(handleSignupLink(location.search))\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t\texecute(updateEasterEggsAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\r\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/quick'\r\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/full'\r\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<PageNotFound />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import React, { Component } from 'react'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI } from './themeMUi'\r\nimport { DateUtils } from 'helpers/dateUtils'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\n\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={DateUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\r\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\r\nexport const UPDATE_UI_BY_IDENTITY_AND_SIDE = 'UPDATE_UI_BY_IDENTITY_AND_SIDE'\r\nexport const UPDATE_MEMORY_UI = 'UPDATE_MEMORY_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\r\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\r\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\r\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\r\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\r\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\r\nexport const UPDATE_ANALYTICS_PERIOD = 'UPDATE_ANALYTICS_PERIOD'\r\nexport const UPDATE_PUBLISHER_RECEIPTS = 'UPDATE_PUBLISHER_RECEIPTS'\r\nexport const RESET_SELECTED_ITEMS = 'RESET_SELECTED_ITEMS'\r\nexport const UPDATE_ANALYTICS_LAST_CHECKED = 'UPDATE_ANALYTICS_LAST_CHECKED'\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n\tresetChannelsWithBalanceAll,\r\n\tresetChannelsWithOutstandingBalance,\r\n\tresetAllNewTransaction,\r\n\tupdateMemoryUi,\r\n} from 'actions'\r\n\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport { advancedAnalyticsLoop } from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\n\r\nexport const logOut = skipRedirect => {\r\n\texecute(updateMemoryUi('initialDataLoaded', false))\r\n\texecute(resetAccount())\r\n\tadvancedAnalyticsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAnalytics())\r\n\texecute(resetChannelsWithBalanceAll())\r\n\texecute(resetChannelsWithOutstandingBalance())\r\n\texecute(resetAllNewTransaction())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport AdExENSManager from './abi/AdExENSManager.json'\r\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExENSManager: {\r\n\t\taddress: process.env.ADEX_ENS_ADDR,\r\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\r\n\t\tabi: AdExENSManager,\r\n\t},\r\n\tReverseRegistrar: {\r\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\r\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\r\n\t\tabi: ReverseRegistrar,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n//TODO: use dateUtils\r\n\r\nexport const DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\nexport const DEFAULT_DATE_FORMAT = 'YYYY-MM-DD'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatDate = (timestamp, format = DEFAULT_DATE_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString = '0',\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\t// We want truncated not rounded\r\n\t\treturn parseFloat(formatted)\r\n\t\t\t.toFixed(toFixed + 4)\r\n\t\t\t.slice(0, -4)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '', joinSymbol = '...') => {\r\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n\r\nexport const formatFloatNumberWithCommas = x => {\r\n\tconst parts = x.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n\treturn parts.join('.')\r\n}\r\n\r\nexport const formatNumberWithoutCommas = x => {\r\n\treturn x\r\n\t\t.toString()\r\n\t\t.split(',')\r\n\t\t.join('')\r\n}\r\n\r\nexport const formatAbbrNum = (number, decPlaces) => {\r\n\t// 2 decimal places => 100, 3 => 1000, etc\r\n\tdecPlaces = Math.pow(10, decPlaces)\r\n\r\n\t// Enumerate number abbreviations\r\n\tvar abbrev = ['k', 'm', 'b', 't']\r\n\r\n\t// Go through the array backwards, so we do the largest first\r\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\r\n\t\t// Convert array index to \"1000\", \"1000000\", etc\r\n\t\tvar size = Math.pow(10, (i + 1) * 3)\r\n\r\n\t\t// If the number is bigger or equal do the abbreviation\r\n\t\tif (size <= number) {\r\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\r\n\t\t\t// This gives us nice rounding to a particular decimal place.\r\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\r\n\r\n\t\t\t// Handle special case where we round up to the next abbreviation\r\n\t\t\tif (number === 1000 && i < abbrev.length - 1) {\r\n\t\t\t\tnumber = 1\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\r\n\t\t\t// Add the letter for the abbreviation\r\n\t\t\tnumber += abbrev[i]\r\n\r\n\t\t\t// We are done... stop\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn number\r\n}\r\n\r\nexport const truncateString = (string, maxLength = 50) => {\r\n\tif (!string) return ''\r\n\tif (string.length <= maxLength) return string\r\n\treturn `${string.substring(0, maxLength).trim()}...`\r\n}\r\n","import MomentUtils from '@date-io/moment'\r\nimport moment from 'moment'\r\nimport 'moment/min/locales'\r\n\r\n// We can't use the new version of @date-io/moment or @date-io/date-fns\r\n// because the datepickers will crash, but we need some more functionality\r\n// as adding hours and start / end of weeks. This is why I have created an\r\n// extention class. We use this as MuiPickersUtilsProvider as well\r\nexport class DateUtils extends MomentUtils {\r\n\tstartOfWeek(date) {\r\n\t\treturn date.clone().startOf('week')\r\n\t}\r\n\r\n\tendOfWeek(date) {\r\n\t\treturn date.clone().endOf('week')\r\n\t}\r\n\r\n\tisWithinInterval(date, { start, end }) {\r\n\t\treturn date.clone().isBetween(start, end, null, '[]')\r\n\t}\r\n\r\n\tadd(date, ammount, unit) {\r\n\t\treturn date.add(ammount, unit)\r\n\t}\r\n\r\n\taddHours(date, hours) {\r\n\t\treturn date.clone().add(hours, 'hour')\r\n\t}\r\n\r\n\tstartOf(date, period) {\r\n\t\treturn date.clone().startOf(period)\r\n\t}\r\n\r\n\tendOf(date, period) {\r\n\t\treturn date.clone().endOf(period)\r\n\t}\r\n\r\n\taddWeeks(date, weeks) {\r\n\t\treturn date.clone().add(weeks, 'week')\r\n\t}\r\n\r\n\tgetUTCOffset(date = this.moment()) {\r\n\t\treturn this.moment(date).utcOffset() / 60\r\n\t}\r\n\r\n\tgetUnix(date) {\r\n\t\treturn date.unix()\r\n\t}\r\n\tgetLocaleDate(locale) {\r\n\t\treturn this.moment.localeData(locale)\r\n\t}\r\n\r\n\tupdateLocale({ locale = 'en', dow, doy }) {\r\n\t\tconst defaultLocaleData = this.getLocaleDate(locale)\r\n\t\tthis.moment.updateLocale(locale, {\r\n\t\t\tweek: {\r\n\t\t\t\tdow: dow || defaultLocaleData.firstDayOfWeek(),\r\n\t\t\t\tdoy: doy || defaultLocaleData.firstDayOfYear(),\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tgetNearestSixHoursUTC(hoursToRound, date) {\r\n\t\tconst now = dateUtils.date(date)\r\n\t\tconst hoursMulti = Math.floor(dateUtils.getHours(now) / hoursToRound)\r\n\t\tconst nearestSix = dateUtils.setHours(\r\n\t\t\tnow,\r\n\t\t\thoursMulti * hoursToRound + dateUtils.getUTCOffset(now)\r\n\t\t)\r\n\t\treturn dateUtils.setMinutes(dateUtils.setSeconds(nearestSix, 0), 0)\r\n\t}\r\n}\r\n\r\nexport function makeJSDateObject(date) {\r\n\tif (moment.isMoment(date)) {\r\n\t\treturn date.clone()\r\n\t}\r\n\r\n\tif (date instanceof Date) {\r\n\t\treturn new Date(date.getTime())\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nconst dateUtils = new DateUtils()\r\ndateUtils.updateLocale({\r\n\tdow: dateUtils\r\n\t\t.getLocaleDate(window.navigator.language.toLowerCase())\r\n\t\t.firstDayOfWeek(),\r\n})\r\n\r\nexport default dateUtils\r\n","import { items as ItemsConstants } from 'adex-constants'\r\n\r\nconst { ItemsTypes, AdTypesByValue, AdSizesByValue } = ItemsConstants\r\n\r\nexport const sortCollections = items => {\r\n\tlet collections = {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tchannels: [],\r\n\t\tadSlots: [],\r\n\t}\r\n\r\n\tfor (let i = 0; i < items.length; i++) {\r\n\t\tlet item = items[i]\r\n\t\tif (item._type === ItemsTypes.Campaign) collections.campaigns.push(item)\r\n\t\tif (item._type === ItemsTypes.AdUnit) collections.adUnits.push(item)\r\n\t\tif (item._type === ItemsTypes.Channel) collections.channel.push(item)\r\n\t\tif (item._type === ItemsTypes.AdSlot) collections.adSlots.push(item)\r\n\t}\r\n\r\n\treturn collections\r\n}\r\n\r\nexport const cloneObject = obj => {\r\n\treturn Object.assign(Object.create(obj), obj)\r\n}\r\n\r\nexport const getTypeName = id => {\r\n\tfor (var key in ItemsTypes) {\r\n\t\tif (ItemsTypes.hasOwnProperty(key)) {\r\n\t\t\tif (ItemsTypes[key].id === id) {\r\n\t\t\t\treturn ItemsTypes[key].name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const groupItemsForCollection = ({ collectionId, allItems = {} }) => {\r\n\tlet grouped = Object.values(allItems).reduce(\r\n\t\t(memo, item, index) => {\r\n\t\t\tif (item._items.indexOf(collectionId) > -1) {\r\n\t\t\t\tmemo.items.push(item)\r\n\t\t\t} else {\r\n\t\t\t\tmemo.otherItems.push(item)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t},\r\n\t\t{ items: [], otherItems: [] }\r\n\t)\r\n\r\n\treturn grouped\r\n}\r\n\r\nexport const itemAdTypeLabel = ({ adType }) => {\r\n\treturn (AdTypesByValue[adType] || {}).label\r\n}\r\n\r\nexport const itemAdSizeLabel = ({ size, t }) => {\r\n\tconst adSize = AdSizesByValue[size] || {}\r\n\treturn t(adSize.label, { args: adSize.labelArgs || [] })\r\n}\r\n\r\nexport const getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t\tthis.loopName = loopName\r\n\t\tthis.stopOn = stopOn\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tthis.makeStopCheck()\r\n\t\tawait this.syncAction()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tmakeStopCheck = () => {\r\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\r\n\t\t\tthis.stop()\r\n\t\t}\r\n\t}\r\n\r\n\tstart = async onSync => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tawait this.startLoop()\r\n\t\tthis.makeStopCheck()\r\n\t\tif (typeof onSync === 'function') {\r\n\t\t\tonSync()\r\n\t\t}\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import Loop from './loop'\r\nimport {\r\n\texecute,\r\n\tupdateAccountAnalytics,\r\n\tupdateAccountAdvancedAnalytics,\r\n} from 'actions'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\r\n\tloopName: '_ANALYTICS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nconst analyticsLoopCustom = ({ timeout, syncAction, stopOn }) =>\r\n\tnew Loop({\r\n\t\ttimeout: timeout,\r\n\t\tsyncAction: async () => syncAction(),\r\n\t\tloopName: '_ANALYTICS_CUSTOM',\r\n\t\tstopOn: () => !selectAuth(getState()) || stopOn,\r\n\t})\r\n\r\nconst advancedAnalyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAdvancedAnalytics())),\r\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { analyticsLoop, advancedAnalyticsLoop, analyticsLoopCustom }\r\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj(),\r\n\t},\r\n\tcurrentItem: {},\r\n\tselectedItems: {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tslots: [],\r\n\t},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t\tWebsite: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {\r\n\t\tglobal: {},\r\n\t\tbyIdentity: {},\r\n\t},\r\n\tuiMemory: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: {},\r\n\tchannels: {\r\n\t\twithBalanceAll: {},\r\n\t\twithOutstandingBalance: [],\r\n\t},\r\n\tensAddresses: {},\r\n}\r\n\r\nexport default initialState\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\r\n\t'IMPRESSION', //\r\n\t'CLICK',\r\n]\r\n\r\n// TEMP: disable long periods\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t// { label: 'LABEL_MONTH', value: 'month' },\r\n\t// { label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const WHERE_YOU_KNOW_US = [\r\n\t{ label: 'LABEL_GOOGLE', value: 'search_engine' },\r\n\t{ label: 'LABEL_TWITTER', value: 'twitter' },\r\n\t{ label: 'LABEL_FACEBOOK', value: 'facebook' },\r\n\t{ label: 'LABEL_REDDIT', value: 'reddit' },\r\n\t{ label: 'LABEL_EVENT', value: 'event' },\r\n\t{ label: 'LABEL_FRIEND', value: 'friend' },\r\n\t{ label: 'LABEL_OTHER', value: 'other' },\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n\r\nexport const WALLET_ACTIONS_MSGS = {\r\n\t[AUTH_TYPES.METAMASK.name]: [\r\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\r\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\r\n\t],\r\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.QUICK.name]: [\r\n\t\t{ message: 'QUICK_WAITING_MSG' },\r\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\r\n\t],\r\n\t[AUTH_TYPES.GRANT.name]: [\r\n\t\t{ message: 'GRANT_WAITING_MSG' },\r\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\r\n\t],\r\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\r\n}\r\n","export const CREATING_SESSION = 'CREATING_SESSION'\r\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\r\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\r\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\r\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\r\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\r\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\r\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\r\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\r\nexport const FETCHING_PUBLISHER_RECEIPTS = 'FETCHING_PUBLISHER_RECEIPTS'\r\nexport const CHECKING_METAMASK_AUTH = 'CHECKING_METAMASK_AUTH'\r\nexport const AUTH_WAITING_TREZOR_ACTION = 'AUTH_WAITING_TREZOR_ACTION'\r\nexport const AUTH_WAITING_ADDRESS_DATA = 'AUTH_WAITING_ADDRESS_DATA'\r\n","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = async (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = async (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","import { createHashHistory } from 'history'\r\n\r\nconst history = createHashHistory()\r\n\r\nhistory.listen(location => {\r\n\twindow.gtag &&\r\n\t\twindow.gtag('config', process.env.GA_CODE, {\r\n\t\t\tpage_path: location.pathname + location.search,\r\n\t\t})\r\n})\r\n\r\nexport default history\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\n// 30 seconds = market statusLoopTick\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\r\n\tloopName: '_CAMPAIGNS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { campaignsLoop }\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport default accountStatsLoop\r\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import dateUtils from 'helpers/dateUtils'\r\n\r\nexport const fillEmptyTime = (\r\n\tprevAggr,\r\n\ttimeframe,\r\n\tdefaultValue = 0,\r\n\tfillAfterLast = 0,\r\n\tperiod\r\n) => {\r\n\tconst now = Date.now()\r\n\tconst time = {\r\n\t\tinterval: period,\r\n\t\tstep: { ammount: 1, unit: 'minute' },\r\n\t}\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\treturn prevAggr\r\n\t}\r\n\tconst newAggr = []\r\n\r\n\tfor (\r\n\t\tvar m = dateUtils.date(time.interval.start);\r\n\t\tdateUtils.getDiff(m, time.interval.end) <= 0;\r\n\t\tdateUtils.add(m, time.step.ammount, time.step.unit)\r\n\t) {\r\n\t\tnewAggr.push({ value: defaultValue, time: dateUtils.getUnix(m) * 1000 })\r\n\t}\r\n\r\n\tconst prevAggrInInterval = prevAggr\r\n\t\t.filter(a => {\r\n\t\t\tconst m = dateUtils.date(a.time)\r\n\t\t\treturn (\r\n\t\t\t\tdateUtils.getDiff(m, time.interval.start) >= 0 &&\r\n\t\t\t\tdateUtils.getDiff(m, time.interval.end) <= 0\r\n\t\t\t)\r\n\t\t})\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\r\n\tconst lastWithValueTime = (prevAggrInInterval[0] || {}).time || now\r\n\r\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\r\n\t\tconst newData = { ...data }\r\n\t\tconst isNullValue = a.value === null || data[a.time] === null\r\n\t\tconst value =\r\n\t\t\ta.time <= lastWithValueTime\r\n\t\t\t\t? isNullValue\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: data[a.time] || a.value || defaultValue\r\n\t\t\t\t: fillAfterLast\r\n\r\n\t\tnewData[a.time] = a.time <= now ? value : null\r\n\r\n\t\treturn newData\r\n\t}, {})\r\n\r\n\tconst result = Object.entries(data)\r\n\t\t.map(([key, value]) => ({\r\n\t\t\tvalue,\r\n\t\t\ttime: +key,\r\n\t\t}))\r\n\t\t.sort((a, b) => a.time - b.time)\r\n\r\n\treturn result\r\n}\r\n\r\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\n\r\nexport const getTimePeriods = ({ timeframe, start }) => {\r\n\tlet end = null\r\n\tconst startCopy = start\r\n\tconst startOfWeek = dateUtils.date(startCopy).startOf('week')\r\n\tconst endOfWeek = dateUtils.date(startCopy).endOf('week')\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tstart = +dateUtils.date(startCopy).startOf('hour')\r\n\t\t\tend = +dateUtils.date(startCopy).endOf('hour')\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tstart = +dateUtils.date(startCopy).startOf('day')\r\n\t\t\tend = +dateUtils.date(startCopy).endOf('day')\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tstart = +dateUtils.addHours(\r\n\t\t\t\tstartOfWeek,\r\n\t\t\t\tdateUtils.getUTCOffset(startOfWeek)\r\n\t\t\t)\r\n\t\t\tend = +dateUtils.addHours(endOfWeek, dateUtils.getUTCOffset(endOfWeek))\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tstart = +start\r\n\r\n\treturn { start, end }\r\n}\r\n\r\nexport const getBorderPeriodStart = ({ timeframe, start, next = false }) => {\r\n\tconst startCopy = start\r\n\tconst direction = next ? 1 : -1\r\n\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tstart = +dateUtils.addHours(dateUtils.date(start), direction)\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tstart = +dateUtils.addDays(dateUtils.date(start), direction)\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tstart = +dateUtils.addWeeks(dateUtils.date(start), direction)\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tstart = +dateUtils.addDays(dateUtils.date(start), direction)\r\n\t\t\tbreak\r\n\t}\r\n\tif (dateUtils.isAfter(dateUtils.date(start), dateUtils.date())) {\r\n\t\tstart = startCopy\r\n\t}\r\n\r\n\treturn start\r\n}\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport {\r\n\tselectCompanyData,\r\n\tselectAccountIdentityAddr,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectSide,\r\n\tselectMemoryUi,\r\n\tt,\r\n} from 'selectors'\r\nimport { getTimePeriods, getBorderPeriodStart } from 'helpers/timeHelpers'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGlobalUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateMemoryUi(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateInitialDataLoaded(dataType, loaded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst { initialDataLoaded } = selectMemoryUi(getState())\r\n\t\tif (initialDataLoaded !== true) {\r\n\t\t\tconst newData = { ...(initialDataLoaded || {}) }\r\n\t\t\tnewData[dataType] = loaded\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\t\titem: 'initialDataLoaded',\r\n\t\t\t\tvalue: newData,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateUiByIdentity(item, value, category) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\r\n\t\t\tidentity,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateIdentitySideUi(item, value) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst identity = selectAccountIdentityAddr(state)\r\n\t\tconst side = selectSide(state)\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n\t\t\tidentity,\r\n\t\t\titem,\r\n\t\t\tvalue,\r\n\t\t\tside,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{\r\n\t\tconfirmLabel = '',\r\n\t\tcancelLabel = '',\r\n\t\ttitle = '',\r\n\t\ttext = '',\r\n\t\tnoCancel = false,\r\n\t\tnoConfirm = false,\r\n\t} = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn async function(dispatch) {\r\n\t\treturn await dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tnoCancel: noCancel,\r\n\t\t\t\t\tnoConfirm: noConfirm,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateCompanyData(newData) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst companyData = selectCompanyData(getState())\r\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\r\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_COMPANY_DATA'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateSelectedItems(collection, selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\r\n\t\t\tselectedItems,\r\n\t\t\tcollection,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSelectedItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SELECTED_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateSelectedCampaigns(selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version }) {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (caches) {\r\n\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('REFRESH')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: t('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\targs: [version],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function notifyNewTOS() {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: t('NOTIFICATION_NEW_TOS', {\r\n\t\t\t\t\targs: [t('TOS_CHECK')],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function handleRedirectParams(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('confirm-email')\r\n\t\tconst identity = searchParams.get('confirm-identity')\r\n\t\tconst grant = searchParams.get('confirm-grant')\r\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\r\n\r\n\t\tif (email && identity && !grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL', {\r\n\t\t\t\t\targs: [email, identity],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} else if (email && identity && grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL_GRANT', {\r\n\t\t\t\t\targs: [email, identity, grant],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateEasterEggsAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (\r\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\r\n\t\t\tprocess.env.EASTER_EGGS_VALUE\r\n\t\t) {\r\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updatePrivilegesWarningAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateMissingRevenueDataPointAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('missingRevenueDataPointsAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function hideGettingStarted(side) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('hideGettingStarted', true, side)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setGettingStartedExpanded(expanded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartPeriod(periodStart) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst { start, end } = getTimePeriods({ timeframe, start: periodStart })\r\n\t\tupdateIdentitySideUi('sideAnalyticsPeriod', { start, end })(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsPeriodPrevNextLive({\r\n\tnext = false,\r\n\tlive = false,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(getState())\r\n\t\t\tlet { start } = selectIdentitySideAnalyticsPeriod(getState())\r\n\r\n\t\t\tif (live) {\r\n\t\t\t\tstart = +dateUtils.date()\r\n\t\t\t} else {\r\n\t\t\t\tstart = getBorderPeriodStart({ timeframe, start, next })\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdSideAnalyticsChartPeriod(start)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS_PREV_PERIOD', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_ANALYTICS_PREV_PERIOD', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartTimeframe(timeframe) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateIdentitySideUi('sideAnalyticsTimeframe', timeframe)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t\tupdateAnalyticsPeriodPrevNextLive({ live: true })(dispatch, getState)\r\n\t}\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\n\r\nexport const isEthAddressERC20 = async (addr = '', authType) => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({\r\n\taddr = '',\r\n\tbalanceFor = '',\r\n\tauthType,\r\n}) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(authType)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst notEthAddress = !addr || !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else {\r\n\t\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n\r\nexport const freeAdExENS = async ({ username = '', authType }) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tif (username === '') {\r\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\r\n\t\t} else {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst ensAddress = await provider.resolveName(\r\n\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`\r\n\t\t\t)\r\n\r\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error.code === 'INVALID_ARGUMENT') {\r\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\r\n\t\t} else {\r\n\t\t\tmsg = 'ERR_ENS_CHECK'\r\n\t\t}\r\n\t}\r\n\treturn { msg }\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\nimport { t } from 'selectors'\r\n\r\nexport const handleRequesterErrorRes = ({ res, text }) => {\r\n\tlet message = text\r\n\ttry {\r\n\t\tconst textObj = JSON.parse(text)\r\n\t\tmessage =\r\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\r\n\t} catch {}\r\n\r\n\tthrow new Error(\r\n\t\tt('SERVICE_ERROR_MSG', {\r\n\t\t\targs: [res.url, res.status, res.statusText, message],\r\n\t\t})\r\n\t)\r\n}\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\nexport * from './requester'\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tknowFrom,\r\n\tmoreInfo,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast, updateSpinner } from './uiActions'\r\nimport { bigNumberify, parseUnits } from 'ethers/utils'\r\nimport { validations, Joi, schemas, constants } from 'adex-models'\r\nimport { validPassword } from 'helpers/validators'\r\nimport {\r\n\tt,\r\n\tselectAuthType,\r\n\tselectAccountStatsRaw,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getEmail } from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst { campaignPut, account } = schemas\r\nconst { isNumberString } = validations\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst authType = selectAuthType(getState())\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (validate) {\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport const handleAfterValidation = async ({\r\n\tisValid,\r\n\tonValid,\r\n\tonInvalid,\r\n}) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tawait onValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tawait onInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateENS({ username, dirty, validateId, authType }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { msg } = await freeAdExENS({\r\n\t\t\tusername,\r\n\t\t\tauthType,\r\n\t\t})\r\n\t\tconst isValid = !msg\r\n\t\tvalidate(validateId, 'username', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateWallet(validateId, wallet, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!wallet && !!wallet.address\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateIdentityContractOwner(\r\n\tvalidateId,\r\n\tidentityContractOwner,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!identityContractOwner\r\n\t\tvalidate(validateId, 'identityContractOwner', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateKnowFrom(validateId, knowFrom, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!knowFrom\r\n\t\tvalidate(validateId, 'knowFrom', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_DROPDOWN_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateMoreInfo(validateId, knowFrom, moreInfo, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tknowFrom === 'other' || knowFrom === 'event' ? !!moreInfo : true\r\n\t\tvalidate(validateId, 'moreInfo', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_MOREINFO_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateAccessWarning(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'accessWarningCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignMinTargetingScore({\r\n\tvalidateId,\r\n\tadUnits,\r\n\tminTargetingScore,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!minTargetingScore ||\r\n\t\t\t(adUnits.length && adUnits.every(u => !!u.targeting.length))\r\n\t\tvalidate(validateId, 'minTargetingScore', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_MIN_TARGETING_SCORE' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignUnits({ validateId, adUnits, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!adUnits && adUnits.length\r\n\t\tvalidate(validateId, 'adUnits', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!!validators &&\r\n\t\t\tvalidators.length === 2 &&\r\n\t\t\t!!validators[0] &&\r\n\t\t\t!!validators[1] &&\r\n\t\t\t!!validators[0].id &&\r\n\t\t\t!!validators[0].url &&\r\n\t\t\tvalidators[0].feeNum !== undefined &&\r\n\t\t\tvalidators[0].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined &&\r\n\t\t\t!!validators[1].id &&\r\n\t\t\t!!validators[1].url &&\r\n\t\t\tvalidators[1].feeNum !== undefined &&\r\n\t\t\tvalidators[1].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined\r\n\r\n\t\tvalidate(validateId, 'validators', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst validateAmounts = ({\r\n\tmaxDeposit = bigNumberify(0),\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n}) => {\r\n\tlet error = null\r\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\r\n\t\t\tprop: 'depositAmount',\r\n\t\t}\r\n\t}\r\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t}\r\n\tif (depositAmount.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t}\r\n\tif (minPerImpression.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateFees({\r\n\tvalidateId,\r\n\tfeesAmountBN,\r\n\tamountToSpendBN,\r\n\terrorMsg = '',\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = true\r\n\t\tlet msg = errorMsg\r\n\t\tlet args = []\r\n\t\tconst state = getState()\r\n\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\t\tconst amountNeeded = bigNumberify(feesAmountBN).add(\r\n\t\t\tbigNumberify(amountToSpendBN)\r\n\t\t)\r\n\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\r\n\t\tif (amountNeeded.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))) {\r\n\t\t\tconst amountNeededFormatted = formatTokenAmount(\r\n\t\t\t\tamountNeeded,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tnull,\r\n\t\t\t\t2\r\n\t\t\t)\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_TX_INSUFFICIENT_BALANCE'\r\n\t\t\targs = [\r\n\t\t\t\tamountNeededFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'fees', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateWithdrawAmount({\r\n\tvalidateId,\r\n\tamountToWithdraw,\r\n\tavailableIdentityBalanceMainTokenRaw,\r\n\tavailableIdentityBalanceMainTokenFormatted,\r\n\tdecimals,\r\n\tsymbol,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch) {\r\n\t\tlet isValid = isNumberString(amountToWithdraw)\r\n\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet args = []\r\n\t\tconst amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\r\n\t\tif (isValid && amount.isZero()) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\r\n\t\t} else if (\r\n\t\t\tisValid &&\r\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'amountToWithdraw', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateNumberString({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\tintegerOnly,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = isNumberString(value)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid && integerOnly) {\r\n\t\t\tconst int = parseInt(value, 10)\r\n\t\t\tif (int.toString() !== value.toString()) {\r\n\t\t\t\tisValid = false\r\n\t\t\t\tmsg = 'ERR_INVALID_INTEGER_NUMBER'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args: [value] },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAmount({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\terrMsg,\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n\tmaxDeposit,\r\n\tdecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValidNumber = isNumberString(value)\r\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\r\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\r\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\r\n\r\n\t\t\tconst isValidDeposit = isNumberString(deposit)\r\n\t\t\tconst isValidMin = isNumberString(min)\r\n\r\n\t\t\tif (isValidDeposit && isValidMin) {\r\n\t\t\t\tconst result = validateAmounts({\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\r\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\r\n\t\t\t\t})\r\n\r\n\t\t\t\tisValid = !result.error\r\n\t\t\t\tmsg = result.error ? result.error.message : ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\r\n\r\nconst getCampaignDatesValidation = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\r\n\t} else if (\r\n\t\twithdrawPeriodStart &&\r\n\t\tactiveFrom &&\r\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\r\n\t) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\r\n\t\t\targs: ['1', 'HOUR'],\r\n\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t}\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateCampaignDates({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n\tcreated,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst withdraw =\r\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\r\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\r\n\r\n\t\tconst result = getCampaignDatesValidation({\r\n\t\t\twithdrawPeriodStart: withdraw,\r\n\t\t\tactiveFrom: from,\r\n\t\t\tcreated,\r\n\t\t})\r\n\r\n\t\tvalidate(validateId, 'activeFrom', {\r\n\t\t\tisValid: !!from,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\r\n\t\t\terr: {\r\n\t\t\t\tmsg: result.error ? result.error.message : '',\r\n\t\t\t\targs: result.error && (result.error.args || []),\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignTitle({ validateId, title, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst result = Joi.validate(title, campaignPut.title)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tvalidate(validateId, 'title', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEthAddress({\r\n\tvalidateId,\r\n\tprop,\r\n\taddr,\r\n\tnonZeroAddr = true,\r\n\tnonERC20 = true,\r\n\tdirty,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { msg } = await validEthAddress({\r\n\t\t\taddr,\r\n\t\t\tnonZeroAddr,\r\n\t\t\tnonERC20,\r\n\t\t\tauthType,\r\n\t\t})\r\n\r\n\t\tconst isValid = !msg\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesAddress({\r\n\tvalidateId,\r\n\tsetAddr = '',\r\n\twalletAddr = '',\r\n\tprivLevel,\r\n\tauthType,\r\n\twarningAccepted,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isCurrentAddress =\r\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\r\n\t\tlet isValid = warningAccepted || !isCurrentAddress\r\n\r\n\t\tlet msg = ''\r\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\r\n\t\tif (isCurrentAddress && privLevel === 0) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\r\n\t\t} else if (isCurrentAddress && privLevel === 1) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\r\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\r\n\t\t\tisValid = true\r\n\t\t} else if (!isCurrentAddress) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'setAddrWarning', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn { isValid, msg }\r\n\t}\r\n}\r\n\r\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\r\n\t\tawait validate(validateId, 'privLevel', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(value, schema)\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(email, account.email)\r\n\t\tlet isValid = !result.error\r\n\t\tlet msg = result.error ? result.error.message : ''\r\n\r\n\t\tif (validateNotExisting && isValid) {\r\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\r\n\t\t\tisValid = existing === false\r\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import { validate } from 'actions'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport function validateMediaSize({\r\n\tvalidateId,\r\n\tmedia,\r\n\tpropName,\r\n\tdirty,\r\n\twidthTarget,\r\n\theightTarget,\r\n\tmsg,\r\n\texact,\r\n\trequired,\r\n} = {}) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { mime, tempUrl } = media\r\n\t\tlet isValid = mime && tempUrl\r\n\t\tlet args = [widthTarget, heightTarget, 'px']\r\n\r\n\t\tif (!required && !media.tempUrl) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tif (required && isValid) {\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\t\t\tconst mediaWidth = size.width\r\n\t\t\tconst mediaHeight = size.height\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, propName, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow, skipRedirect) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut(skipRedirect)\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\thandleRequesterErrorRes({ res, text })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdUnitById = ({ unitId }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${unitId}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserCampaigns = ({ authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({\r\n\tall,\r\n\tstatuses,\r\n\tbyEarner,\r\n\tbyCreator,\r\n\tcacheBrake,\r\n} = {}) => {\r\n\tconst queryParams = {\r\n\t\t...(all && { all: true }),\r\n\t\t...(statuses && { status: statuses.join(',') }),\r\n\t\tbyEarner,\r\n\t\tbyCreator,\r\n\t\t...(cacheBrake && { cacheBrake: Date.now() }),\r\n\t}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const verifyWebsite = ({ websiteUrl }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/verify-website',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { parseUnits, bigNumberify } from 'ethers/utils'\r\n\r\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\r\n\tif (numStr === null || numStr === undefined) {\r\n\t\treturn numStr\r\n\t}\r\n\r\n\treturn parseUnits(numStr, decimals)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tuploadImage,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n} from 'services/adex-market/actions'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\n\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\r\n\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport { selectRelayerConfig, selectAccount, selectAuth } from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nexport const getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function getAllItems(onDataUpdated) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\r\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\r\n\t\t\tconst userSlots = resSlots.slots || []\r\n\t\t\tconst userPassbackUnits = (resSlots.passbackUnits || []).reduce(\r\n\t\t\t\t(passbacks, u) => {\r\n\t\t\t\t\tconst { id, mediaMime, mediaUrl, targetUrl } = u\r\n\t\t\t\t\tpassbacks[id] = { mediaMime, mediaUrl, targetUrl }\r\n\r\n\t\t\t\t\treturn passbacks\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t)\r\n\r\n\t\t\tconst slotsWithUnits = userSlots.map(async s => ({\r\n\t\t\t\t...s,\r\n\t\t\t\t...(s.fallbackUnit ? userPassbackUnits[s.fallbackUnit] : {}),\r\n\t\t\t}))\r\n\r\n\t\t\tconst slotWithUnitsRes = await Promise.all(slotsWithUnits)\r\n\t\t\tif (selectAuth(getState())) {\r\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: slotWithUnitsRes,\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tupdateItems({ items: resSlots.websites || [], itemType: 'Website' })(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tif (typeof onDataUpdated === 'function') {\r\n\t\t\t\t\tonDataUpdated()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, itemType } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { id } = item\r\n\t\tupdateSpinner('update' + id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { mainToken } = selectRelayerConfig()\r\n\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tif (typeof newItem.temp.minPerImpression === 'string') {\r\n\t\t\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\t\tnumStr: newItem.temp.minPerImpression,\r\n\t\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof newItem.temp.website === 'string') {\r\n\t\t\t\t\t\tnewItem.website = newItem.temp.website\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// In case newItem.website is null (very few slots)\r\n\t\t\t\t\tnewItem.website = newItem.website || ''\r\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\r\n\t\t\t\t\t\t.campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\r\n\t\terrMsg: 'ERR_RESTORING_ITEM',\r\n\t})\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tthis._provider = provider\r\n\t\tthis._opts = opts\r\n\t}\r\n\r\n\tgetWallet = async () => {\r\n\t\tif (this._wallet) {\r\n\t\t\treturn this._wallet\r\n\t\t} else {\r\n\t\t\tconst { email, password, authType } = this._opts\r\n\t\t\tconst walletData = await getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\r\n\t\t\treturn this._wallet\r\n\t\t}\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn await this.getWallet().address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = await this.getWallet().sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst wallet = await this.getWallet()\r\n\r\n\t\tconst signature = await wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n\tsegmentByChannel,\r\n\tstart,\r\n\tend,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tlimit,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\teventType,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn { aggregates, metric }\r\n}\r\n\r\nexport const identityAdvancedAnalytics = async ({ leaderAuth, eventType }) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/advanced`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n\r\nexport const campaignAnalytics = ({\r\n\tcampaign,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n}) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${campaign.id}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const timeBasedAnalytics = async ({\r\n\tleaderAuth,\r\n\tlimit,\r\n\ttimeframe,\r\n\teventType,\r\n\tmetric,\r\n\tstart,\r\n\tend,\r\n\tsegmentByChannel,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst result = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tlimit,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\teventType,\r\n\t\t\t\tmetric,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\treturn result\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { bigNumberify, formatEther } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\r\n\r\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\r\n\treturn isAvailable ? balance : bigNumberify(0)\r\n}\r\n\r\nexport const getTotalAccountRevenue = async ({ all }) => {\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst totalRevenue = await Object.values(all).reduce(\r\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\r\n\t\t\tconst revenue = await revenuePr\r\n\r\n\t\t\tconst token = withdrawTokens[depositAsset]\r\n\r\n\t\t\tconst hasMinBalance = bigNumberify(balance).gt(\r\n\t\t\t\tbigNumberify(token.minFinal)\r\n\t\t\t)\r\n\r\n\t\t\tconst balanceMainToken = hasMinBalance\r\n\t\t\t\t? await tokenInMainTokenValue({\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t  })\r\n\t\t\t\t: bigNumberify(0)\r\n\r\n\t\t\treturn revenue.add(balanceMainToken)\r\n\t\t},\r\n\t\tPromise.resolve(bigNumberify(0))\r\n\t)\r\n\r\n\treturn totalRevenue\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({\r\n\tauthType,\r\n\taddress,\r\n\tgetFullBalances,\r\n}) => {\r\n\tconst { getToken } = await getEthers(authType)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = getFullBalances\r\n\t\t\t? balance\r\n\t\t\t: tokenAvailableBalance({\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmainToken,\r\n\t\t\t\t\tbalance,\r\n\t\t\t  })\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, balanceData) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\tbalanceData.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (balanceData.token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\r\n\t\t\tmainTokenBalance: bigNumberify(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({\r\n\taddress,\r\n\tauthType,\r\n\tgetFullBalances,\r\n}) {\r\n\tconst { provider } = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({\r\n\t\t\tauthType,\r\n\t\t\taddress: address.address,\r\n\t\t\tgetFullBalances,\r\n\t\t}),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: bigNumberify('0'),\r\n\t\tavailable: bigNumberify('0'),\r\n\t},\r\n\tall,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(authType)\r\n\tconst { decimals } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ authType, address }),\r\n\t\tprivilegesAction,\r\n\t\tgetTotalAccountRevenue({ all }),\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t\ttotalRevenue,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken ||\r\n\t\tbigNumberify(0)\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t\ttotalRevenue,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalRevenue: formatTokenAmount(\r\n\t\t\traw.totalRevenue || '0',\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(\r\n\t\t\tbigNumberify(outstandingAvailable)\r\n\t\t)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst saiDaiConversion = async ({ token, balance }) => balance\r\n\r\nconst valueInMainTokenConversions = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\r\n\t\t// DAI\r\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\r\n\t},\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\r\n\t\t// SAI\r\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\r\n\t},\r\n}\r\n\r\nexport async function tokenInMainTokenValue({ token, balance }) {\r\n\tconst { address } = selectMainToken()\r\n\r\n\tif (address === token.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst valueInMainToken = await valueInMainTokenConversions[\r\n\t\taddress.toLowerCase()\r\n\t][token.address.toLowerCase()]({\r\n\t\ttoken,\r\n\t\tbalance,\r\n\t})\r\n\r\n\treturn valueInMainToken\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract } from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\tgetAddress,\r\n\tInterface,\r\n\tkeccak256,\r\n\tid,\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n\tt,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nconst { AdExENSManager, ReverseRegistrar } = contracts\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\r\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\r\n\tif (fees.totalBN.gt(mtBalance)) {\r\n\t\tthrow new Error(\r\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t`${formatTokenAmount(\r\n\t\t\t\t\t\tmtBalance.toString(),\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t)} ${symbol}`,\r\n\t\t\t\t\t`${fees.total} ${symbol}`,\r\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttotalBN: fees.totalBN,\r\n\t\t\tactualWithdrawAmount,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\tconst { total, totalBN } = await getIdentityTxnsTotalFees({\r\n\t\t\ttxnsByFeeToken,\r\n\t\t})\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\r\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\r\n\t\t\t\ttx,\r\n\t\t\t]\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: AdExENSManager.address,\r\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\r\n\t\t\tAdExENSManager.publicResolver,\r\n\t\t\tid(username),\r\n\t\t\tidentityAddr,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: ReverseRegistrar.address,\r\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\r\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({\r\n\t\ttxnsByFeeToken,\r\n\t\tmainToken,\r\n\t})\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\r\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\tconst feesForMainTxns = txns.length\r\n\t\t? bigNumberify(\r\n\t\t\t\t!initialNonce\r\n\t\t\t\t\t? mainTokenWithFees.minDeploy\r\n\t\t\t\t\t: mainTokenWithFees.minRecommended\r\n\t\t  ).add(\r\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\r\n\t\t\t\t\tbigNumberify(txns.length - 1)\r\n\t\t\t\t)\r\n\t\t  )\r\n\t\t: bigNumberify(0)\r\n\r\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\r\n\t\tbigNumberify(amountInMainTokenNeeded)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\r\n\r\n\t\taccount,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\r\n\r\n\t\t\tconst minFeeAmount = bigNumberify(\r\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\r\n\t\t\t)\r\n\r\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.minRecommended)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = minFeeAmount\r\n\t\t\t\t.add(sweepRoutinesFeeAmount)\r\n\t\t\t\t.add(extraFeesAmount)\r\n\t\t\t\t.toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\r\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\r\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = bigNumberify('0')\r\n\tconst feesData = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\r\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\r\n\r\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\r\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\r\n\t\t\t\t).add(txFeeAmount)\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{ total: bigZero, byToken: {} }\r\n\t\t)\r\n\r\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst fees = {\r\n\t\t// TODO: change to return total as BN and add totalFormatted\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\tfeesData.total.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalBN: feesData.total,\r\n\t\tbyToken,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\r\n\t\t\tprocess.env.NODE_ENV === 'development'\r\n\t\t) {\r\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n\r\nexport async function withdrawOtherTokensFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\tconst decimals = parseInt(tokenDecimals, 10)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tto: tokenAddress,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import crypto from 'crypto'\r\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tgetAddress,\r\n} from 'ethers/utils'\r\nimport {\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n\tselectMainToken,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\r\nimport { getState } from 'store'\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst IdentityInterface = new Interface(IdentityABI)\r\n\r\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\r\nconst VALID_UNTIL_COEFFICIENT = 0.5\r\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\r\nconst OUTSTANDING_STATUSES = {\r\n\tActive: true,\r\n\tReady: true,\r\n\tExhausted: true,\r\n\tOffline: true,\r\n\tUnhealthy: true,\r\n\tWithdraw: true,\r\n}\r\n\r\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - activeFrom\r\n\tconst validUntil =\r\n\t\twithdrawPeriodStart +\r\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(\r\n\t\tnewCampaign.activeFrom,\r\n\t\tnewCampaign.withdrawPeriodStart\r\n\t)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = parseUnits(\r\n\t\tnewCampaign.depositAmount || '0',\r\n\t\tmainToken.decimals\r\n\t).toString()\r\n\r\n\tconst validators = newCampaign.validators.map(v => {\r\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\r\n\t\tconst fee = deposit\r\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\r\n\t\t\t.div(bigNumberify(v.feeDen || 1))\r\n\t\t\t.toString()\r\n\r\n\t\tconst validator = {\r\n\t\t\tid: v.id,\r\n\t\t\turl: v.url,\r\n\t\t\tfee,\r\n\t\t}\r\n\r\n\t\tif (v.feeAddr) {\r\n\t\t\tvalidator.feeAddr = v.feeAddr\r\n\t\t}\r\n\r\n\t\treturn validator\r\n\t})\r\n\r\n\tnewCampaign.validators = validators\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(\r\n\t\tnewCampaign.minPerImpression || '0',\r\n\t\tmainToken.decimals\r\n\t)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Active',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tAdExCore,\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\treturn bigNumberify(balance).sub(\r\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\r\n\t)\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\r\n\tconst { authType } = wallet\r\n\tconst channels = await getCampaigns({ all: true, byEarner: identityAddr })\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst allChannels = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ bTree }) => {\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(\r\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\r\n\t\t\t\t\t//  mTree,\r\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\tAdExCore,\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tconst outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t\toutstanding,\r\n\t\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\r\n\tconst all = Object.assign(\r\n\t\t{},\r\n\t\t...allChannels.map(c => {\r\n\t\t\tconst { channel, balance } = c\r\n\t\t\tconst { id, depositAmount, depositAsset, status, spec } = channel\r\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\treturn {\r\n\t\t\t\t[c.channel.id.toLowerCase()]: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tdepositAsset,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\tstatus: status.name,\r\n\t\t\t\t\tadUnits: spec.adUnits, //TODO: add only what needed\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n\r\n\tconst withOutstandingBalance = allChannels.filter(x => {\r\n\t\treturn (\r\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\r\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\r\n\t\t\t\tDate.now() &&\r\n\t\t\tx.outstanding.gt(\r\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\r\n\t\t\t) &&\r\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\r\n\t\t)\r\n\t})\r\n\r\n\treturn { all, withOutstandingBalance }\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\r\n\tconst { eligible } = withBalance\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\r\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\r\n\t\t\t)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\tlastApprovedBalances,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\r\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction is41identity(routineAuthTuple) {\r\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\r\n\r\n\treturn is41\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\tis41identity(routineAuthTuple) &&\r\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { wallet, identity } = account\r\n\t// TODO: pass withBalance as prop\r\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\r\n\r\n\tconst { AdExCore } = await getEthers(wallet.authType)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twithBalance,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\toutstanding,\r\n\t\t\t// outstandingAvailable,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\t// TODO: currently work only for SAI to DAI swap\r\n\t\t\tif (\r\n\t\t\t\tbalance.token.address !== mainToken.address &&\r\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\r\n\t\t\t\tbalance.token.address === saiToken.address\r\n\t\t\t) {\r\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\t\tbalance.balanceMainToken\r\n\t\t\t\t)\r\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\t}\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: bigNumberify(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\r\n\tconst {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\r\n\r\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\r\n\r\n\tconst txns = []\r\n\r\n\tif (hasIdentityChannelOpen) {\r\n\t\tconst identityChannelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: identityAddr,\r\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\r\n\t\t\t\tAdExCore.address,\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t\textraTxFeesCount: 1,\r\n\t\t}\r\n\t\ttxns.push(identityChannelOpenTx)\r\n\t} else {\r\n\t\tconst approveTxns = await getApproveTxns({\r\n\t\t\tgetToken,\r\n\t\t\ttoken: mainToken,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tapproveForAddress: AdExCore.address,\r\n\t\t\tapproveAmount: depositAmount,\r\n\t\t})\r\n\r\n\t\tconst channelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\r\n\t\t}\r\n\t\ttxns.push(...approveTxns, channelOpenTx)\r\n\t}\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\r\n\tconst bigZero = bigNumberify(0)\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\r\n\t\t? bigZero\r\n\t\t: mtBalance.sub(totalBN)\r\n\tconst maxAvailableFormatted = formatTokenAmount(\r\n\t\tmaxAvailable.toString(),\r\n\t\tmainToken.decimals || 18,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfeesFormatted: total,\r\n\t\t\tfees: totalBN,\r\n\t\t\tmaxAvailable,\r\n\t\t\tmaxAvailableFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\tconst storeCampaign = { ...readyCampaign }\r\n\tstoreCampaign.spec = { ...openReady.spec }\r\n\treturn {\r\n\t\tresult,\r\n\t\tstoreCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\r\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n\r\nimport { getCampaigns } from './actions'\r\n\r\nexport async function getUnitsStatsByType() {\r\n\tconst { decimals } = selectMainToken()\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst allChannels = await getCampaigns()\r\n\r\n\tconst channels = allChannels.filter(\r\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\r\n\t)\r\n\r\n\tconst unitsByType = channels.reduce((units, channel) => {\r\n\t\tconst byType = { ...units }\r\n\t\tchannel.spec.adUnits.forEach(unit => {\r\n\t\t\tbyType[unit.type] = byType[unit.type] || []\r\n\t\t\tbyType[unit.type].push(channel)\r\n\t\t})\r\n\r\n\t\treturn byType\r\n\t}, {})\r\n\r\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\r\n\t\tasync (prevStats, key) => {\r\n\t\t\tconst stats = await prevStats\r\n\t\t\tconst channelsByType = unitsByType[key]\r\n\r\n\t\t\tlet totalPerImpression = bigNumberify('0')\r\n\t\t\tlet totalVolume = bigNumberify('0')\r\n\r\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\r\n\t\t\t\tconst channel = channelsByType[index]\r\n\r\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\r\n\t\t\t\t})\r\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\r\n\t\t\t\t})\r\n\r\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\r\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\r\n\t\t\t}\r\n\r\n\t\t\tconst avgPerImpression = totalPerImpression.div(\r\n\t\t\t\tbigNumberify(channelsByType.length)\r\n\t\t\t)\r\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\r\n\r\n\t\t\tconst statsByType = { ...stats }\r\n\t\t\tstatsByType[key] = {}\r\n\t\t\tstatsByType[key].raw = {\r\n\t\t\t\ttotalVolume,\r\n\t\t\t\tavgPerImpression,\r\n\t\t\t\tavgCPM,\r\n\t\t\t}\r\n\r\n\t\t\tstatsByType[key].formatted = {\r\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\r\n\t\t\t\tavgPerImpression: formatTokenAmount(\r\n\t\t\t\t\tavgPerImpression,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\r\n\t\t\t}\r\n\r\n\t\t\treturn statsByType\r\n\t\t},\r\n\t\tPromise.resolve({})\r\n\t)\r\n\r\n\treturn unitsByTypeStats\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport throttle from 'lodash.throttle'\r\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n\tidentityAdvancedAnalytics,\r\n\ttimeBasedAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { fillEmptyTime } from 'helpers/timeHelpers'\r\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAnalyticsDataSide,\r\n\tselectAccount,\r\n\tselectStatsChartData,\r\n\tselectAnalyticsLiveTimestamp,\r\n\tselectPublisherReceiptsPresentMonths,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectMonthsRange,\r\n} from 'selectors'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport moment from 'moment'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = ({ timeframe, side }) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t\t...(side === 'for-publisher' &&\r\n\t\t\t\t\tmetric === 'eventPayouts' && { segmentByChannel: true }),\r\n\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\nconst analyticsCampaignsParams = () => {\r\n\tconst callsParams = []\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tcallsParams.push({ eventType })\r\n\t)\r\n\treturn callsParams\r\n}\r\n\r\nfunction aggrByChannelsSegments({\r\n\taggr,\r\n\tallChannels,\r\n\tfeeTokens,\r\n\twithdrawTokens,\r\n}) {\r\n\tif (!Object.keys(allChannels).length) {\r\n\t\treturn []\r\n\t}\r\n\t// NOTE: No need to sort them again because fillEmptyTime\r\n\t// is sorting by time after adding the empty time values\r\n\tconst { aggregations, all } = aggr\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\t\t.reduce(\r\n\t\t\t(data, a) => {\r\n\t\t\t\tconst { time } = a\r\n\t\t\t\tconst { aggregations, channels, all } = data\r\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\r\n\r\n\t\t\t\tconst { depositAmount, balanceNum, depositAsset, status } =\r\n\t\t\t\t\tallChannels[channelId] || {}\r\n\r\n\t\t\t\tconst { minPlatform, minFinal } = withdrawTokens[depositAsset]\r\n\t\t\t\tconst { min } = feeTokens[depositAsset]\r\n\t\t\t\tconst isExpired = status === 'Expired'\r\n\t\t\t\tconst minBalance = isExpired ? minFinal : minPlatform\r\n\r\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\r\n\r\n\t\t\t\tconst value = bigNumberify(a.value || 0)\r\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\r\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\r\n\r\n\t\t\t\tcurrent.aggr.push({ value, time })\r\n\r\n\t\t\t\tconst currentAggr = aggregations[time] || {\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t}\r\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\r\n\r\n\t\t\t\tconst hasMinBalance = currentChannelValue.gt(bigNumberify(minBalance))\r\n\t\t\t\tconst currentTimeValue = currentAggr.value\r\n\r\n\t\t\t\tcurrent.value = currentChannelValue\r\n\r\n\t\t\t\tif (hasMinBalance && !current.feeSubtracted) {\r\n\t\t\t\t\tcurrent.feeSubtracted = true\r\n\t\t\t\t\tconst currentAvailable = currentChannelValue.sub(bigNumberify(min))\r\n\t\t\t\t\tconst currentAdded = bigNumberify(0)\r\n\t\t\t\t\tconst points = current.aggr\r\n\r\n\t\t\t\t\tfor (let index = points.length - 1; index >= 0; index--) {\r\n\t\t\t\t\t\tconst point = points[index]\r\n\t\t\t\t\t\tcurrentAdded.add(point.value)\r\n\r\n\t\t\t\t\t\tconst curInnerAggr = aggregations[point.time] || {\r\n\t\t\t\t\t\t\ttime,\r\n\t\t\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (currentAdded.lt(currentAvailable)) {\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(point.value)\r\n\t\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(\r\n\t\t\t\t\t\t\t\tcurrentAdded.sub(currentAvailable)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (hasMinBalance && current.feeSubtracted) {\r\n\t\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchannels[channelId] = current\r\n\t\t\t\taggregations[time] = currentAggr\r\n\t\t\t\tall[time] = a.value || all[time]\r\n\r\n\t\t\t\treturn { aggregations, channels, all }\r\n\t\t\t},\r\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\r\n\t\t)\r\n\r\n\t// NOTE: force to null values when value under limits but not naturally 0\r\n\tconst aggrWithNullValues = Object.values(aggregations).map(\r\n\t\t({ time, value }) => {\r\n\t\t\tconst isNull =\r\n\t\t\t\tall[time] === undefined ||\r\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\r\n\t\t\treturn { time, value: isNull ? null : value }\r\n\t\t}\r\n\t)\r\n\r\n\treturn aggrWithNullValues\r\n}\r\n\r\nexport const updateAccountAnalyticsThrottled = () => (dispatch, getState) => {\r\n\treturn updateAccountAnalytics(dispatch, getState)\r\n}\r\n\r\nexport const updateAccountAnalytics = throttle(\r\n\tasync function(dispatch, getState) {\r\n\t\tupdateAnalyticsLastChecked()(dispatch)\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst side = selectAnalyticsDataSide(state)\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\r\n\t\tconst { start, end } = selectIdentitySideAnalyticsPeriod(state)\r\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\r\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams({ timeframe, side })\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst liveTimestamp = selectAnalyticsLiveTimestamp(state)\r\n\t\t\tconst timeframeIsLive = liveTimestamp === start\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tconst { datasets, labels } = selectStatsChartData(state, {\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (timeframeIsLive || datasets.length === 0 || labels.length === 0) {\r\n\t\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(({ aggregates, metric }) => {\r\n\t\t\t\t\t\t\tconst aggrByChannelSegments =\r\n\t\t\t\t\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts'\r\n\r\n\t\t\t\t\t\t\tlet aggr = aggrByChannelSegments\r\n\t\t\t\t\t\t\t\t? aggrByChannelsSegments({\r\n\t\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\r\n\t\t\t\t\t\t\t\t\t\tallChannels,\r\n\t\t\t\t\t\t\t\t\t\tfeeTokens,\r\n\t\t\t\t\t\t\t\t\t\twithdrawTokens,\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t: aggregates.aggr\r\n\t\t\t\t\t\t\tconst fillAfterLast = aggrByChannelSegments ? null : 0\r\n\r\n\t\t\t\t\t\t\taggregates.aggr = fillEmptyTime(\r\n\t\t\t\t\t\t\t\taggr,\r\n\t\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tfillAfterLast,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\t\tend,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\t\ttimestamp: liveTimestamp === start ? 'live' : start,\r\n\t\t\t\t\t\t\t\t\tvalue: { ...aggregates }, // ADD TIME as well\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t},\r\n\t1000,\r\n\t{ leading: false, trailing: true }\r\n)\r\n\r\nexport function updateAccountAdvancedAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsCampaignsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = await identityAdvancedAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\treturn { opts, value }\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tconst data = await Promise.all(allAnalytics)\r\n\r\n\t\t\tif (!accountChanged) {\r\n\t\t\t\tdata\r\n\t\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t\t.forEach(({ opts, value }) =>\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\r\n\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getReceiptData(startDate, endDate) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { account } = state.persist\r\n\t\ttry {\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, true)(dispatch)\r\n\t\t\tconst presentMonths = selectPublisherReceiptsPresentMonths(state)\r\n\t\t\tconst monthsWanted = selectMonthsRange(startDate, endDate)\r\n\t\t\tconst monthsNeeded = monthsWanted\r\n\t\t\t\t.filter(val => !presentMonths.includes(val))\r\n\t\t\t\t.sort()\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tif (monthsNeeded.length > 0) {\r\n\t\t\t\tconst timeframe = 'month'\r\n\t\t\t\tconst limit = 500\r\n\t\t\t\tconst promises = []\r\n\t\t\t\tconst startDateNeeded = monthsNeeded[0]\r\n\t\t\t\tconst endDateNeeded = monthsNeeded[monthsNeeded.length - 1]\r\n\t\t\t\t//limit of request is 500 days\r\n\t\t\t\tfor (\r\n\t\t\t\t\tvar m = moment(startDateNeeded);\r\n\t\t\t\t\tm.diff(endDateNeeded) <= 0;\r\n\t\t\t\t\tm.add(limit, 'day')\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromises.push(\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventCounts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventPayouts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst resolvedPromises = await Promise.all(promises)\r\n\t\t\t\tlet impressions = []\r\n\t\t\t\tlet payouts = []\r\n\t\t\t\tfor (let i = 0; i < resolvedPromises.length; i += 2) {\r\n\t\t\t\t\timpressions = [...impressions, ...resolvedPromises[i].aggr]\r\n\t\t\t\t\tpayouts = [...payouts, ...resolvedPromises[i + 1].aggr]\r\n\t\t\t\t}\r\n\t\t\t\tconst result = {}\r\n\t\t\t\t// add wanted dates\r\n\t\t\t\tconst getMonthTimeStamp = date => +moment(date).startOf('month')\r\n\t\t\t\tmonthsNeeded.forEach(date => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(date)\r\n\t\t\t\t\tif (!result[month]) {\r\n\t\t\t\t\t\tresult[month] = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\timpressions.forEach((item, i) => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(item.time)\r\n\t\t\t\t\tif (result[month]) {\r\n\t\t\t\t\t\tresult[month][item.time] = {\r\n\t\t\t\t\t\t\timpressions: item.value,\r\n\t\t\t\t\t\t\tpayouts: payouts[i].value,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: types.UPDATE_PUBLISHER_RECEIPTS,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t...result,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsLastChecked() {\r\n\treturn async function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ANALYTICS_LAST_CHECKED,\r\n\t\t\tvalue: Date.now(),\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateSlotsDemand = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\r\n\t\t\t\tvalue: demandAnalytics,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateSlotsDemandThrottled = () => dispatch => {\r\n\treturn updateSlotsDemand(dispatch)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner, updateGlobalUi } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport {\r\n\taddToast,\r\n\tconfirmAction,\r\n\tupdateMemoryUi,\r\n\tupdateInitialDataLoaded,\r\n} from './uiActions'\r\nimport { getAllItems } from './itemActions'\r\nimport { updateSlotsDemandThrottled } from './analyticsActions'\r\nimport {\r\n\tgetEthers,\r\n\tgetEthereumProvider,\r\n\tethereumNetworkId,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectSearchParams,\r\n\tselectAuthType,\r\n\tselectAccountIdentity,\r\n\tselectLoginDirectSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n\tCREATING_SESSION,\r\n\tQUICK_WALLET_BACKUP,\r\n\tUPDATING_ACCOUNT_IDENTITY,\r\n} from 'constants/spinners'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tadvancedAnalyticsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithBalanceAll(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithBalanceAll() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithOutstandingBalance(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithOutstandingBalance() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nexport function isAccountChanged(getState, account) {\r\n\tconst hasAuth = selectAuth(getState())\r\n\tconst accountCheck = selectAccount(getState())\r\n\tconst accountChanged =\r\n\t\t!hasAuth ||\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tconst { identity, wallet } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t\twallet,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tupdateChannelsWithBalanceAll(all)(dispatch)\r\n\t\t\t\tupdateInitialDataLoaded('allChannels', true)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twallet,\r\n\t\t\t\taddress,\r\n\t\t\t\twithBalance: withOutstandingBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t\tall,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tawait updateAccount({\r\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountIdentityData(onDataUpdated) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t\tconst identity = selectAccountIdentity(getState())\r\n\r\n\t\ttry {\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identity.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst updatedIdentity = { ...identity }\r\n\r\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\r\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\r\n\t\t\tupdatedIdentity.relayerData = relayerData\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { identity: updatedIdentity },\r\n\t\t\t})(dispatch)\r\n\t\t\tif (typeof onDataUpdated === 'function') {\r\n\t\t\t\tonDataUpdated()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tawait removeLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst side = selectLoginDirectSide(getState())\r\n\t\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\r\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\r\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(push('/side-select'))\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function getNetworkId() {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\treturn networkId\r\n}\r\n\r\nasync function getNetworkData({ id }) {\r\n\tconst networkId = id || (await getNetworkId())\r\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\r\n\r\n\treturn network\r\n}\r\n\r\nasync function isMetamaskMatters(getState) {\r\n\tconst state = getState()\r\n\tconst searchParams = selectSearchParams(state)\r\n\tconst authType = selectAuthType(state)\r\n\r\n\tconst doesItMatter =\r\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t(!authType &&\r\n\t\t\tsearchParams.get('external') === 'metamask' &&\r\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name)\r\n\r\n\treturn doesItMatter\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (\r\n\t\t\t(await isMetamaskMatters(getState)) &&\r\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = (accountAddress = '') => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address = '' } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress ||\r\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tif (await isMetamaskMatters(getState)) {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\r\n\t\t\t// NOTE: using provider with ethereum.enable() seems to work\r\n\t\t\tonMetamaskAccountChange(provider.provider.selectedAddress)(_, getState)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(_, getState) {\r\n\t\tmetamaskNetworkCheck()(_, getState)\r\n\t\tmetamaskAccountCheck()(_, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('networkChanged', network => {\r\n\t\t\t\tconsole.log('networkChanged', network)\r\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = await getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = await getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function loadAccountData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\t\tconst account = selectAccount(getState())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await updateAccountIdentityData(() =>\r\n\t\t\t\tupdateInitialDataLoaded('accountIdentityData', true)(dispatch, getState)\r\n\t\t\t)(dispatch, getState))\r\n\r\n\t\tconst items = getAllItems(() =>\r\n\t\t\tupdateInitialDataLoaded('allItems', true)(dispatch, getState)\r\n\t\t)(dispatch, getState)\r\n\r\n\t\tconst advancedAnalytics = advancedAnalyticsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('advancedAnalytics', true)(dispatch, getState)\r\n\t\t)\r\n\t\tconst campaigns = campaignsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('campaigns', true)(dispatch, getState)\r\n\t\t)\r\n\t\tconst demand = updateSlotsDemandThrottled()(dispatch, getState)\r\n\r\n\t\tawait Promise.all[(items, advancedAnalytics, campaigns, demand)]\r\n\r\n\t\tawait statsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('stats', true)(dispatch, getState)\r\n\t\t)\r\n\r\n\t\tupdateMemoryUi('initialDataLoaded', true)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function stopAccountDataUpdate() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\t\tanalyticsLoop.stop()\r\n\t\tadvancedAnalyticsLoop.stop()\r\n\t\tcampaignsLoop.stop()\r\n\t\tstatsLoop.stop()\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { createSession } from './accountActions'\r\nimport { getIdentityDeployData } from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport { selectIdentity, selectAuthType, t } from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tvalidateWallet,\r\n\tvalidateIdentityContractOwner,\r\n\tvalidateAccessWarning,\r\n\tvalidateKnowFrom,\r\n\tvalidateMoreInfo,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tGETTING_OWNER_IDENTITIES,\r\n\tUPLOADING_ACCOUNT_DATA,\r\n\tCHECKING_METAMASK_AUTH,\r\n\tAUTH_WAITING_TREZOR_ACTION,\r\n\tAUTH_WAITING_ADDRESS_DATA,\r\n} from 'constants/spinners'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(t('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: t('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = err => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(err)\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(t('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner, authType }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst data = Object.entries(identityData).map(\r\n\t\t\t\tasync ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tens,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail: email.toLowerCase(),\r\n\t\t\t\t\tknowFrom,\r\n\t\t\t\t\tmoreInfo,\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\taddress: relayerData.deployData._id,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\r\n\t\t\tawait createSession({\r\n\t\t\t\tidentity,\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = await getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = await getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, wallet } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\r\n\t\t\tif (!identityAddr && wallet && !!email) {\r\n\t\t\t\tconst walletAddr = wallet.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_FULL_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, password } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && email && password\r\n\r\n\t\t\tif (!identityAddr && email && password) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = await createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\r\n\t\t\t\tconst identityAddr = txData.identityAddr\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityAddr,\r\n\t\t\t\t})\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = !!identityAddr\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tmoreInfo,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\twallet,\r\n\t\t\tidentityContractOwner,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tmoreInfo,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t// validate wallet again in case of step skip\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\r\n\t\t\t// validate step fields\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateFullDeploy({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tskipSpinnerUpdate: true,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateContractOwner({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityContractOwner, wallet } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityWallet({\r\n\taddress,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\thdWalletAddrIdx,\r\n\tpath,\r\n\tchainId,\r\n\tsignType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst wallet = {\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}\r\n\r\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\r\n\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handleSignupLink(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('signup-email')\r\n\r\n\t\tif (email) {\r\n\t\t\tupdateIdentity('email', email)(dispatch)\r\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resolveEnsAddress({ address }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst authType = selectAuthType(state)\r\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst name = await provider.lookupAddress(address)\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\r\n\t\t\t\titem: address,\r\n\t\t\t\tvalue: name,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_RESOLVING_ENS_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function checkAuthMetamask() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: authType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tauthType,\r\n\t\t\t\tgetFullBalances: true,\r\n\t\t\t})\r\n\r\n\t\t\tupdateIdentity('stats', stats)(dispatch, getState)\r\n\r\n\t\t\tupdateIdentityWallet({\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_AUTH_METAMASK', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function connectTrezor() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t}\r\n\r\n\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\tconst { payload, success } = await trezorSigner.getAddresses({\r\n\t\t\t\tfrom: 0,\r\n\t\t\t\tto: 19,\r\n\t\t\t})\r\n\r\n\t\t\tif (success && !payload.error) {\r\n\t\t\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\r\n\r\n\t\t\t\tconst allAddressesData = payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\tupdateIdentity('addresses', results)(dispatch, getState)\r\n\t\t\t\tupdateIdentity('hdWalletAddrPath', trezorSigner.path)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t} else throw new Error(payload.error || 'TREZOR_ERR')\r\n\r\n\t\t\tupdateSpinner('AUTH_WAITING_ADDRESS_DATA', false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_AUTH_TREZOR', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\r\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function selectWalletAddress({\r\n\taddrData,\r\n\thdWalletAddrIdx,\r\n\thdWalletAddrPath,\r\n\tsignType,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tupdateIdentityWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\tsignType,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nexport const getGasPrice = async (authType, format = 'wei') => {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst gasPrice = await provider.getGasPrice()\r\n\treturn formatUnits(gasPrice.toNumber(), format)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tupdateAccountIdentityData,\r\n\tvalidateEthAddress,\r\n\tvalidatePrivilegesAddress,\r\n\tvalidatePrivLevel,\r\n\tvalidateWithdrawAmount,\r\n\taddToast,\r\n\tvalidateFees,\r\n\tvalidateENS,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport {\r\n\tselectNewTransactionById,\r\n\tselectWalletAddress,\r\n\tselectAuthType,\r\n\tselectAccount,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountStatsRaw,\r\n\tselectMainToken,\r\n\tselectGasPriceCap,\r\n\tt,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getGasPrice } from 'services/gas/actions'\r\nimport { formatUnits } from 'ethers/utils'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n\taddIdentityENS,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewTransaction() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function checkNetworkCongestion() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst gasPriceCap = selectGasPriceCap(state)\r\n\t\tconst gasPriceCapGwei = formatUnits(gasPriceCap, 'gwei')\r\n\t\tconst authType = selectAuthType(state)\r\n\t\tconst gasPrice = await getGasPrice(authType, 'gwei')\r\n\t\tif (+gasPriceCapGwei < +gasPrice) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: t('WARNING_NETWORK_CONGESTED'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\ttxId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identityData = updateAccountIdentityData()(dispatch, getState)\r\n\t\tif (dirty) {\r\n\t\t\tawait identityData\r\n\t\t}\r\n\r\n\t\tconst state = getState()\r\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: setAddr,\r\n\t\t\t\tprop: 'setAddr',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidatePrivLevel({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst validation = await validatePrivilegesAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\twalletAddr,\r\n\t\t\t\twarningAccepted,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t\tauthType,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tisValid = validation.isValid\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'warningMsg',\r\n\t\t\t\tvalue: validation.msg,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tconst feesData = await setIdentityPrivilege({\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'feesData',\r\n\t\t\t\tvalue: feesData,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tisValid = await validateFees({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\tamountToSpendBN: '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdraw({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\r\n\t\t// const walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateWithdrawAmount({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tlet feesData = null\r\n\r\n\t\tif (isValid) {\r\n\t\t\ttry {\r\n\t\t\t\tfeesData = await withdrawFromIdentity({\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewTransaction({\r\n\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\tkey: 'feesData',\r\n\t\t\t\t\tvalue: feesData,\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\tisValid = await validateFees({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdrawAny({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst {\r\n\t\t\tamountToWithdraw,\r\n\t\t\twithdrawTo,\r\n\t\t\ttokenAddress,\r\n\t\t\ttokenDecimals,\r\n\t\t} = selectNewTransactionById(state, stepsId)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: tokenAddress,\r\n\t\t\t\tprop: 'tokenAddress',\r\n\t\t\t\tnonERC20: false,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'amountToWithdraw',\r\n\t\t\t\tvalue: amountToWithdraw,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'tokenDecimals',\r\n\t\t\t\tvalue: tokenDecimals,\r\n\t\t\t\tintegerOnly: true,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tlet feesData = null\r\n\r\n\t\tif (isValid) {\r\n\t\t\ttry {\r\n\t\t\t\tfeesData = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewTransaction({\r\n\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\tkey: 'feesData',\r\n\t\t\t\t\tvalue: feesData,\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\tisValid = await validateFees({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function identityWithdrawAny({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t\ttokenDecimals,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateENSChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identityData = updateAccountIdentityData()(dispatch, getState)\r\n\t\tif (dirty) {\r\n\t\t\tawait identityData\r\n\t\t}\r\n\r\n\t\tconst state = getState()\r\n\t\tconst { username } = selectNewTransactionById(state, stepsId)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateENS({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tauthType,\r\n\t\t\t\tusername,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tconst feesData = await addIdentityENS({\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'feesData',\r\n\t\t\t\tvalue: feesData,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tisValid = await validateFees({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\tamountToSpendBN: '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function setIdentityENS({ username }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tawait addIdentityENS({\r\n\t\t\t\tusername,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('ENS_SETUP_NOTIFICATION', { args: [username] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_SETTING_ENS', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function completeTx({\r\n\tstepsId,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: true,\r\n\t\t})(dispatch)\r\n\r\n\t\tlet isValid = false\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\r\n\t\t\tconst transaction = selectNewTransactionById(state, stepsId)\r\n\r\n\t\t\tawait competeAction({ ...transaction })(dispatch, getState)\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_TRANSACTION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: false,\r\n\t\t})(dispatch)\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t// TODO: reset tx if OK\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport { selectNewItemByTypeAndId } from 'selectors'\r\nimport { Base, Models } from 'adex-models'\r\nimport { updateSpinner, handleAfterValidation } from 'actions'\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel, itemId) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(itemType, itemId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_NEW_ITEM,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNewItemAction(type, prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst currentItem = selectNewItemByTypeAndId(state, type, itemId)\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentItem,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\ttype,\r\n\t\t\tModels.itemClassByName[type],\r\n\t\t\titemId\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewSlot(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('AdSlot', prop, value, newValues, itemId)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewUnit(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('AdUnit', prop, value, newValues)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewCampaign(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('Campaign', prop, value, newValues)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewItemTarget({\r\n\tcollection,\r\n\titemType,\r\n\titemId,\r\n\ttarget = {},\r\n\tindex,\r\n\tremove,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp } = selectNewItemByTypeAndId(state, itemType, itemId)\r\n\t\t// We are keeping the state in temp because it dirty with extra data\r\n\t\tconst targets = [...(temp.targets || [])]\r\n\t\tconst hasIndex = Number.isInteger(index)\r\n\r\n\t\tif (hasIndex && !remove) {\r\n\t\t\t// NOTE: when updated with index target has only { target: { tag, score }}\r\n\t\t\ttargets[index] = { ...(targets[index] || {}), ...target }\r\n\t\t} else if (hasIndex && remove) {\r\n\t\t\ttargets.splice(index, 1)\r\n\t\t} else {\r\n\t\t\t// NOTE: when updated w/o index target has no key\r\n\t\t\ttargets.push({ ...target, key: targets.length })\r\n\t\t}\r\n\r\n\t\t// The actual targets added to the spec\r\n\t\tconst filtered = targets.filter(x => x.target.tag).map(x => x.target)\r\n\r\n\t\tconst newValues = {\r\n\t\t\t[collection]: filtered,\r\n\t\t\ttemp: { ...temp, targets },\r\n\t\t}\r\n\r\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function completeItem({\r\n\titemType,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tawait competeAction()(dispatch, getState)\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ITEM', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tif (isValid) {\r\n\t\t\tresetNewItem(itemType)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport {\r\n\texecute,\r\n\taddToast,\r\n\tupdateSpinner,\r\n\tupdateItems,\r\n\tupdateValidatorAuthTokens,\r\n\tupdateNewCampaign,\r\n\thandleAfterValidation,\r\n\tvalidateCampaignValidators,\r\n\tvalidateCampaignAmount,\r\n\tvalidateCampaignTitle,\r\n\tvalidateCampaignDates,\r\n\tvalidateCampaignUnits,\r\n\tvalidateSchemaProp,\r\n\tvalidateCampaignMinTargetingScore,\r\n\tconfirmAction,\r\n\tupdateSelectedItems,\r\n} from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { schemas, Campaign } from 'adex-models'\r\nimport { parseUnits } from 'ethers/utils'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\nimport {\r\n\tcloseCampaignMarket,\r\n\tupdateCampaign,\r\n} from 'services/adex-market/actions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectAccount,\r\n\tselectNewCampaign,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tOPENING_CAMPAIGN,\r\n\tGETTING_CAMPAIGNS_FEES,\r\n\tPRINTING_CAMPAIGNS_RECEIPTS,\r\n} from 'constants/spinners'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nconst { campaignPut } = schemas\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\r\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\r\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\r\n\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\r\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\r\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\r\n\r\nexport function openCampaign() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { storeCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: storeCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\r\n\t\t\t\t\targs: [storeCampaign.id],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\r\n\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t}\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Pending':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\treturn 'Active'\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\treturn 'Completed'\r\n\t\tdefault:\r\n\t\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst { identity } = selectAccount(state)\r\n\t\tconst { address } = identity\r\n\r\n\t\tif (hasAuth && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({\r\n\t\t\t\t\tall: true,\r\n\t\t\t\t\tbyCreator: address,\r\n\t\t\t\t\tcacheBrake: true,\r\n\t\t\t\t})\r\n\t\t\t\tlet campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: campaignsMapped,\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\r\n\t\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.status = {\r\n\t\t\t\t...newCampaign.status,\r\n\t\t\t\thumanFriendlyName: 'Closed',\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t\tawait updateUserCampaigns(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\r\n\t},\r\n]\r\n\r\nexport function validateNewCampaignAdUnits({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst campaign = selectNewCampaign(state)\r\n\t\tconst { adUnits } = campaign\r\n\r\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })(\r\n\t\t\tdispatch\r\n\t\t)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewCampaignFinance({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst {\r\n\t\t\t\tvalidators,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\ttitle,\r\n\t\t\t\tactiveFrom,\r\n\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\tcreated,\r\n\t\t\t\tminTargetingScore,\r\n\t\t\t\tadUnits,\r\n\t\t\t\ttemp = {},\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\r\n\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\r\n\t\t\tif (!validators || !validators.length) {\r\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\r\n\t\t\t\tnewCampaign.validators = tempValidators\r\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\tvalue: depositAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'activeFrom',\r\n\t\t\t\t\tvalue: activeFrom,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t\t\t\tvalue: withdrawPeriodStart,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignMinTargetingScore({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tminTargetingScore,\r\n\t\t\t\t\tadUnits,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (typeof maxChannelFees !== 'string') {\r\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\r\n\t\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesFormatted,\r\n\t\t\t\t\tmaxAvailable,\r\n\t\t\t\t\tmaxAvailableFormatted,\r\n\t\t\t\t} = await openChannel({\r\n\t\t\t\t\tcampaign: { ...newCampaign },\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\tgetMaxFees: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst newTemp = { ...temp }\r\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\r\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\r\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getCampaignActualFees() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst mainToken = selectMainToken(state)\r\n\t\t\tconst { temp = {}, depositAmount } = campaign\r\n\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\tconst { feesFormatted, fees } = await openChannel({\r\n\t\t\t\tcampaign: { ...campaign },\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\r\n\r\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\r\n\t\t\t\ttotalSpend.toString(),\r\n\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\tfalse,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.feesFormatted = feesFormatted\r\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\r\n\r\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handlePrintSelectedReceiptsAdvertiser(selected) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\r\n\t\tconfirmAction(\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSelectedItems('campaigns', selected)(dispatch)\r\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\tconfirmLabel: t('OK'),\r\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\r\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\r\n\t\t\t}\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateCampaign({ validateId, dirty, item, update }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title } = item\r\n\r\n\t\t\tconst campaign = new Campaign(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: campaign,\r\n\t\t\t\t\tprop: 'campaign',\r\n\t\t\t\t\tschema: campaignPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedCampaign = (await updateCampaign({\r\n\t\t\t\t\tcampaign,\r\n\t\t\t\t\tid,\r\n\t\t\t\t})).campaign\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new Campaign(updatedCampaign).plainObj(),\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['Campaign', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","export const getImgObjectUrlFromExternalUrl = async imgUrl => {\r\n\tconst res = await fetch(imgUrl)\r\n\tconst blob = await res.blob()\r\n\tconst objectUrl = URL.createObjectURL(blob)\r\n\r\n\treturn objectUrl\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateNumberString,\r\n\tvalidateMediaSize,\r\n\tupdateNewSlot,\r\n\taddToast,\r\n\tvalidate,\r\n\tgetImgsIpfsFromBlob,\r\n\tupdateNewItem,\r\n} from 'actions'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport {\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAuthSig,\r\n\tt,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAdSlotById,\r\n} from 'selectors'\r\nimport { schemas, AdSlot, AdUnit } from 'adex-models'\r\nimport {\r\n\tverifyWebsite,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n} from 'services/adex-market/actions'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\r\nimport { getImgObjectUrlFromExternalUrl } from 'services/images/blob'\r\n\r\nconst { adSlotPost, adUnitPost, adSlotPut } = schemas\r\n\r\nasync function getFallbackUnit({\r\n\tmediaMime,\r\n\ttempUrl,\r\n\ttargetUrl,\r\n\ttype,\r\n\tauthSig,\r\n\ttitle,\r\n\tdescription,\r\n}) {\r\n\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\ttempUrl,\r\n\t\tauthSig,\r\n\t})).ipfs\r\n\r\n\tconst unit = new AdUnit({\r\n\t\ttype,\r\n\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\ttargetUrl,\r\n\t\tmediaMime,\r\n\t\tcreated: Date.now(),\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\ttargeting: [],\r\n\t\ttags: [],\r\n\t\tpassback: true,\r\n\t})\r\n\r\n\tconst resUnit = await postAdUnit({\r\n\t\tunit: unit.marketAdd,\r\n\t\tauthSig,\r\n\t})\r\n\r\n\treturn resUnit\r\n}\r\n\r\nexport function validateNewSlotBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewAdSlot(state)\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\ttype,\r\n\t\t\t\twebsite,\r\n\t\t\t\tminPerImpression = null,\r\n\t\t\t\ttemp,\r\n\t\t\t} = slot\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adSlotPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tvalue: minPerImpression || '0',\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tisValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && minPerImpression) {\r\n\t\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\tnumStr: minPerImpression || null,\r\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tconst { hostname, issues } = isValid\r\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\r\n\t\t\t\t: {}\r\n\t\t\tconst newTemp = { ...temp, hostname, issues }\r\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\r\n\t\t\t// bet this doesn't matter at that point\r\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewSlotPassback({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n\titemId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttargetUrl,\r\n\t\t\ttemp: { useFallback, tempUrl, mime },\r\n\t\t} = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateMediaSize({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tpropName: 'temp',\r\n\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\t\t\ttempUrl,\r\n\t\t\t\t\t\t\t\tmime,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'temp', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'targetUrl', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveSlot() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdSlot(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tfallbackUnit = (await getFallbackUnit({\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t})).ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tif (newItem.minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', { args: ['AdSlot', newItem.title] }),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['AdSlot', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewTargeting({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectAdSlotById(state, itemId)\r\n\t\tconst { temp } = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst targets = dirtyProps.includes('tags')\r\n\t\t\t? temp.targets\r\n\t\t\t: [...item.tags].map((tag, key) => ({\r\n\t\t\t\t\tkey,\r\n\t\t\t\t\tcollection: 'tags',\r\n\t\t\t\t\tsource: 'custom',\r\n\t\t\t\t\tlabel: t(`TARGET_LABEL_TAGS`),\r\n\t\t\t\t\tplaceholder: t(`TARGET_LABEL_TAGS`),\r\n\t\t\t\t\ttarget: { ...tag },\r\n\t\t\t  }))\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\t{ temp: { ...temp, targets } },\r\n\t\t\t'AdSlot',\r\n\t\t\tAdSlot,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateSlotTargeting({ updateField, itemId, onValid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { tags } = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\t\tupdateField('tags', tags)\r\n\t\tonValid()\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewPassback({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectAdSlotById(state, itemId)\r\n\t\tconst newItem = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst isDirty = ['mediaUrl', 'mediaMime', 'targetUrl'].some(prop =>\r\n\t\t\tdirtyProps.includes(prop)\r\n\t\t)\r\n\r\n\t\tconst { mediaUrl, mediaMime, targetUrl } = item\r\n\t\tconst newValues = {}\r\n\t\tif (isDirty) {\r\n\t\t\tnewValues.temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t}\r\n\t\t\tnewValues.targetUrl = newItem.targetUrl\r\n\t\t} else {\r\n\t\t\tconst tempUrl = mediaUrl\r\n\t\t\t\t? await getImgObjectUrlFromExternalUrl(ipfsSrc(mediaUrl))\r\n\t\t\t\t: mediaUrl\r\n\r\n\t\t\tnewValues.temp = {\r\n\t\t\t\t...item.temp,\r\n\t\t\t\ttempUrl,\r\n\t\t\t\tmime: mediaMime,\r\n\t\t\t\tuseFallback: !!(mediaUrl || mediaMime || targetUrl),\r\n\t\t\t}\r\n\t\t\tnewValues.targetUrl = targetUrl\r\n\t\t}\r\n\r\n\t\tupdateNewItem(item, newValues, 'AdSlot', AdSlot, item.id)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateSlotPasback({\r\n\tupdateMultipleFields,\r\n\titemId,\r\n\tonValid: onValidProp,\r\n\tvalidateId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp, targetUrl } = selectNewItemByTypeAndId(\r\n\t\t\tstate,\r\n\t\t\t'AdSlot',\r\n\t\t\titemId\r\n\t\t)\r\n\t\tconst { tempUrl, mime, useFallback } = temp\r\n\r\n\t\tconst newValues = {\r\n\t\t\ttargetUrl: useFallback ? targetUrl : '',\r\n\t\t\tmediaUrl: useFallback ? tempUrl : '',\r\n\t\t\tmediaMime: useFallback ? mime : '',\r\n\t\t}\r\n\r\n\t\tconst onValid = () => {\r\n\t\t\tupdateMultipleFields(newValues, [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'passbackData',\r\n\t\t\t\t\tfields: ['targetUrl', 'mediaUrl', 'mediaMime'],\r\n\t\t\t\t},\r\n\t\t\t])\r\n\t\t\tonValidProp()\r\n\t\t}\r\n\r\n\t\tawait validateNewSlotPassback({\r\n\t\t\tvalidateId,\r\n\t\t\tdirty: true,\r\n\t\t\tonValid,\r\n\t\t\titemId,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateSlot({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tdirtyProps,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\ttype,\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\twebsite,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttargetUrl,\r\n\t\t\t} = item\r\n\r\n\t\t\tconst newSlot = new AdSlot(item)\r\n\t\t\tconst checkMinPerImpression = typeof minPerImpression === 'string'\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPut.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tcheckMinPerImpression\r\n\t\t\t\t\t? validateNumberString({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t  })(dispatch)\r\n\t\t\t\t\t: true,\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && checkMinPerImpression) {\r\n\t\t\t\tnewSlot.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: minPerImpression || null,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst isPassbackUpdated = ['mediaUrl', 'targetUrl'].some(prop =>\r\n\t\t\t\tdirtyProps.includes(prop)\r\n\t\t\t)\r\n\r\n\t\t\tconst fallbackData = {\r\n\t\t\t\tmediaMime,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\ttargetUrl,\r\n\t\t\t}\r\n\r\n\t\t\tlet newUnit = null\r\n\t\t\tif (isPassbackUpdated && update) {\r\n\t\t\t\tif (mediaUrl && mediaMime && targetUrl) {\r\n\t\t\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\t\t\tnewUnit = await getFallbackUnit({\r\n\t\t\t\t\t\tmediaMime,\r\n\t\t\t\t\t\ttempUrl: mediaUrl,\r\n\t\t\t\t\t\ttargetUrl,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tauthSig,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tnewSlot.fallbackUnit = newUnit.ipfs\r\n\t\t\t\t\tfallbackData.mediaMime = newUnit.mediaMime\r\n\t\t\t\t\tfallbackData.mediaUrl = newUnit.mediaUrl\r\n\t\t\t\t\tfallbackData.targetUrl = newUnit.targetUrl\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewSlot.fallbackUnit = null\r\n\t\t\t\t\tfallbackData.mediaMime = ''\r\n\t\t\t\t\tfallbackData.mediaUrl = ''\r\n\t\t\t\t\tfallbackData.targetUrl = ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst slot = newSlot.marketUpdate\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst finalValidations = await Promise.all([\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: newSlot.minPerImpression,\r\n\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\tschema: adSlotPut.minPerImpression,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: slot,\r\n\t\t\t\t\t\tprop: 'slot',\r\n\t\t\t\t\t\tschema: adSlotPut,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t])\r\n\r\n\t\t\t\tisValid = finalValidations.every(v => v === true)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedSlot = (await updateAdSlot({ slot, id })).slot\r\n\r\n\t\t\t\tif (newUnit) {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\t\t\titem: new AdUnit(newUnit).plainObj(),\r\n\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdSlot({ ...updatedSlot, ...fallbackData }).plainObj(),\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['AdSlot', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateMediaSize,\r\n\tvalidate,\r\n\taddToast,\r\n\tgetImgsIpfsFromBlob,\r\n} from 'actions'\r\nimport { selectNewAdUnit, selectAuthSig, t } from 'selectors'\r\nimport { schemas, AdUnit } from 'adex-models'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nimport { postAdUnit, updateAdUnit } from 'services/adex-market/actions'\r\n\r\nconst { adUnitPost, adUnitPut } = schemas\r\n\r\nexport function validateNewUnitBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { title, description, type, targetUrl } = selectNewAdUnit(state)\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adUnitPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewUnitTargeting({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { targeting = [] } = selectNewAdUnit(state)\r\n\r\n\t\t\tconst isValid = !!targeting.length\r\n\r\n\t\t\tawait validate(validateId, 'targeting', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_TARGETING_NOT_SELECTED' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewUnitMedia({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttemp: { tempUrl, mime },\r\n\t\t} = selectNewAdUnit(state)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateMediaSize({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'temp',\r\n\t\t\t\twidthTarget: width,\r\n\t\t\t\theightTarget: height,\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\texact: true,\r\n\t\t\t\trequired: true,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t},\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveUnit() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdUnit(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateUnit({ validateId, dirty, item, update }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title, description } = item\r\n\r\n\t\t\tconst unit = new AdUnit(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: unit,\r\n\t\t\t\t\tprop: 'unit',\r\n\t\t\t\t\tschema: adUnitPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedUnit = (await updateAdUnit({ unit, id })).unit\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdUnit(updatedUnit).plainObj(),\r\n\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as uiActions from './uiActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as mediaValidations from './mediaValidations'\r\nimport * as itemActions from './itemActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as analyticsActions from './analyticsActions'\r\nimport * as newItemsActions from './newItemsActions'\r\nimport * as campaignActions from './campaignActions'\r\nimport * as slotActions from './slotActions'\r\nimport * as unitActions from './unitActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...uiActions,\r\n\t...validationActions,\r\n\t...mediaValidations,\r\n\t...itemActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...analyticsActions,\r\n\t...newItemsActions,\r\n\t...campaignActions,\r\n\t...slotActions,\r\n\t...unitActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './validationActions'\r\nexport * from './mediaValidations'\r\nexport * from './uiActions'\r\nexport * from './itemActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './analyticsActions'\r\nexport * from './newItemsActions'\r\nexport * from './campaignActions'\r\nexport * from './slotActions'\r\nexport * from './unitActions'\r\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","import { ethers, Contract } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\nethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst localWeb3 = () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(\r\n\t\tprocess.env.WEB3_NODE_ADDR\r\n\t)\r\n\treturn getEthersResult(provider)\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3,\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst injectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3\r\n\tlet provider = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait ethereum.enable()\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\t// TODO: we just have to throw or show notification\r\n\t// At the moment if it throws it will show error toast but not always.\r\n\telse if (web3) {\r\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = async () => {\r\n\t// console.log('getLocalWeb3')\r\n\treturn localWeb3()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3()\r\n\t} else {\r\n\t\treturn getLocalWeb3()\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (ethereum) {\r\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProvider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport { getEthers, ethereumNetworkId, getEthereumProvider }\r\n","module.exports = __webpack_public_path__ + \"static/media/GS-email-ic.7f647acc.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic.8de20f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-launch-ic.b4a8f505.png\";","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport uiMemory from './uiMemoryReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport channels from './channelsReducer'\r\nimport selectedItems from './selectedItemsReducer'\r\nimport ensAddresses from './ensReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttags,\r\n\tethNetwork,\r\n\tconfig,\r\n\tensAddresses,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tuiMemory,\r\n\tchannels,\r\n\tanalytics,\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tselectedItems,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_GLOBAL_UI,\r\n\tUPDATE_UI_BY_IDENTITY,\r\n\tUPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI_BY_IDENTITY:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...newState.byIdentity[action.identity],\r\n\t\t\t}\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\r\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\r\n\t\t\t\t}\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\r\n\t\t\t\t\taction.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_UI_BY_IDENTITY_AND_SIDE:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...(newState.byIdentity || {}) }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity][action.side] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side][action.item] =\r\n\t\t\t\taction.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_GLOBAL_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.global = { ...newState.global }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState.global[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.global[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tADD_ITEM_TO_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase ADD_ITEM_TO_ITEM:\r\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, {})\r\n\r\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TAGS:\r\n\t\t\tnewState = { ...state, ...action.tags }\r\n\t\t\treturn newState\r\n\t\tcase ADD_NEW_TAG:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.tag] = action.tag\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_GAS_DATA:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.gasData = { ...action.gasData }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function ensReducer(state = initialState.ensAddresses, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_MEMORY_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiMemoryReducer(state = initialState.uiMemory, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_MEMORY_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\r\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function channelsReducer(state = initialState.channels, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = { ...action.channels }\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance =\r\n\t\t\t\tinitialState.channels.withOutstandingBalance\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n\tUPDATE_ANALYTICS_PERIOD,\r\n\tUPDATE_ANALYTICS_LAST_CHECKED,\r\n\tUPDATE_PUBLISHER_RECEIPTS,\r\n\tUPDATE_ADVANCED_ANALYTICS,\r\n\tUPDATE_DEMAND_ANALYTICS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_LAST_CHECKED:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.lastChecked = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric][\r\n\t\t\t\t\taction.timeframe\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][action.timeframe][\r\n\t\t\t\taction.timestamp\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.advanced = { ...newState.advanced }\r\n\t\t\tnewState.advanced[action.eventType] = {\r\n\t\t\t\t...action.value,\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_DEMAND_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.demand = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_PUBLISHER_RECEIPTS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.receipts = { ...newState.receipts, ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_PERIOD:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.period = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tif (action.itemId) {\r\n\t\t\t\tnewState[action.itemId] = newItem\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.itemType] = newItem\r\n\t\t\t}\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.itemType] }\r\n\t\t\tif (action.itemId) {\r\n\t\t\t\tnewState[action.itemId] = newItem\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.itemType] = newItem\r\n\t\t\t}\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tconst newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_SELECTED_ITEMS,\r\n\tRESET_SELECTED_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...initialState.selectedItems }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n\tRESET_ALL_NEW_TRANSACTIONS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\r\n\t\t\tnewState = initialState.newTransactions\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/lib/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst persistConfig = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t]\r\n\r\n\tif (process.env.BUILD_TYPE === 'staging') {\r\n\t\tmiddlewares.push(logger)\r\n\t}\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\r\nimport { lime, grey } from '@material-ui/core/colors'\r\n\r\nconst WHITE = '#fff'\r\nexport const PRIMARY = '#1B75BC'\r\nexport const PRIMARY_LIGHT = '#5fa3ef'\r\nexport const PRIMARY_LIGHTEST = '#96d4ff'\r\nexport const PRIMARY_DARK = '#004a8b'\r\nexport const PRIMARY_DARKEST = '#00235d'\r\n\r\nexport const SECONDARY = '#1BC69F'\r\nexport const SECONDARY_LIGHT = '#65fad0'\r\nexport const SECONDARY_DARK = '#009471'\r\n\r\nexport const ALEX_GREY = '#3C3C3C'\r\nexport const ALEX_GREY_LIGHT = '#666'\r\nexport const ALEX_GREY_DARK = '#161616'\r\n\r\nexport const GANDALF_GREY = '#C4C4C4'\r\n\r\nexport const ACCENT_ONE = '#FF6942'\r\nexport const ACCENT_ONE_LIGHT = '#FF9B6F'\r\nexport const ACCENT_ONE_DARK = '#c53616'\r\n\r\nexport const ACCENT_TWO = '#FFAC00'\r\nexport const ACCENT_TWO_LIGHT = '#ffde4b'\r\nexport const ACCENT_TWO_DARK = '#c67d00'\r\n\r\nexport const ERROR_COLOR = '#FF4269'\r\nexport const ERROR_LIGHT = '#ff7a97'\r\nexport const ERROR_DARK = '#c6003f'\r\n\r\nconst primary = {\r\n\tmain: PRIMARY,\r\n\tdark: PRIMARY_DARK,\r\n\tlight: PRIMARY_LIGHT,\r\n\tlightest: PRIMARY_LIGHTEST,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\nconst secondary = {\r\n\tmain: SECONDARY,\r\n\tdark: SECONDARY_DARK,\r\n\tlight: SECONDARY_LIGHT,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\nexport const palette = {\r\n\tprimary,\r\n\tsecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: {\r\n\t\tmain: ALEX_GREY,\r\n\t\tcontrastText: WHITE,\r\n\t\tlight: ACCENT_ONE_LIGHT,\r\n\t\tdark: ALEX_GREY_DARK,\r\n\t},\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: {\r\n\t\tmain: ERROR_COLOR,\r\n\t\tlight: ACCENT_TWO_LIGHT,\r\n\t\tdark: ACCENT_TWO_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\twarning: {\r\n\t\tmain: ACCENT_TWO,\r\n\t\tlight: ERROR_LIGHT,\r\n\t\tdark: ERROR_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tinfo: primary,\r\n\tsuccess: secondary,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n\taction: {\r\n\t\tdisabledBackground: grey[300],\r\n\t\tdisabled: grey[600],\r\n\t},\r\n}\r\n\r\nconst defaultTheme = createMuiTheme()\r\n\r\nexport const theme = createMuiTheme({\r\n\ttypography: {\r\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\t\tfontSize: 13,\r\n\t},\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t\tborderColor: ALEX_GREY,\r\n\t\t\t},\r\n\t\t\tcontained: {\r\n\t\t\t\tbackgroundColor: ALEX_GREY,\r\n\t\t\t\tcolor: WHITE,\r\n\t\t\t\tboxShadow: 0,\r\n\t\t\t\t'&:hover': {\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\t'@media (hover: none)': {\r\n\t\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t'&$focusVisible': {\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\t\t\t\t},\r\n\t\t\t\t'&:active': {\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: { borderRadius: 0 },\r\n\t\t},\r\n\t\tMuiSelect: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiInputLabel: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiOutlinedInput: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAlert: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlinedSuccess: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedInfo: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedWarning: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedError: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// },\r\n\t\tMuiTableFooter: {\r\n\t\t\troot: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflex: 0,\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAppBar: {\r\n\t\t\tcolorDefault: {\r\n\t\t\t\tbackgroundColor: palette.appBar.main,\r\n\t\t\t\tcolor: palette.appBar.contrastText,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTablePagination: {\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableFilter: {\r\n\t\t\troot: {\r\n\t\t\t\tmaxWidth: '400px',\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Think of accessing an element not a class\r\n\t\tMuiGridListTile: {\r\n\t\t\troot: {\r\n\t\t\t\twidth: '100% !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBodyCell: {\r\n\t\t\tstackedCommon: {\r\n\t\t\t\t[defaultTheme.breakpoints.down('sm')]: {\r\n\t\t\t\t\tdisplay: 'inline-flex',\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\tborderBottom: 'none',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTable: {\r\n\t\t\troot: {\r\n\t\t\t\tborder: '1px solid black',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBody: {\r\n\t\t\temptyTitle: {\r\n\t\t\t\tpadding: defaultTheme.spacing(2),\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport const themeMUI = responsiveFontSizes(theme, {\r\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","import adexTranslations from 'adex-translations'\r\nimport { removeTags } from 'helpers/sanitizer'\r\nimport { isValidElement, cloneElement } from 'react'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\r\n\tconst parts = tpl.split(pattern)\r\n\r\n\tconst interpolated = parts.map((p, i) => {\r\n\t\tconst element = args[p] || p\r\n\t\tif (isValidElement(element) && !element.key) {\r\n\t\t\tconst withKey = cloneElement(element, { key: i })\r\n\r\n\t\t\treturn withKey\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t})\r\n\r\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\r\n\t\treturn interpolated.join('')\r\n\t}\r\n\r\n\treturn interpolated\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''] } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = removeTags(translations[language][key] || val)\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\tconst translatedArgs = args.map(a => {\r\n\t\t\tif (typeof a === 'string') {\r\n\t\t\t\treturn translations[language][a] || a\r\n\t\t\t} else {\r\n\t\t\t\treturn a\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","export const removeTags = dirty => {\r\n\tif (!dirty || typeof dirty !== 'string') return ''\r\n\r\n\treturn (\r\n\t\tdirty\r\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\r\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\r\n\t\t\t// Strip any remaining HTML tags\r\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\r\n\t\t\t// Replace {strong} ... with <strong> ...\r\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\r\n\t)\r\n}\r\n","// No automatic generation: we don't want to depend on fs, as we want to keep this universal\n// ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\": require(\\\"./$line\\\"),\\n\"; done\nmodule.exports = function () {\n  return {\n    \"bg-BG\": require(\"./bg-BG.json\"),\n    \"de-DE\": require(\"./de-DE.json\"),\n    \"en-US\": require(\"./en-US.json\"),\n    \"es-ES\": require(\"./es-ES.json\"),\n    \"fr-FR\": require(\"./fr-FR.json\"),\n    \"hr-HR\": require(\"./hr-HR.json\"),\n    \"hu-HU\": require(\"./hu-HU.json\"),\n    \"it-IT\": require(\"./it-IT.json\"),\n    \"nl-NL\": require(\"./nl-NL.json\"),\n    \"pt-BR\": require(\"./pt-BR.json\"),\n    \"pt-PT\": require(\"./pt-PT.json\"),\n    \"ru-RU\": require(\"./ru-RU.json\"),\n    \"se-SE\": require(\"./se-SE.json\"),\n    \"sr-RS\": require(\"./sr-RS.json\"),\n    \"zh-CN\": require(\"./zh-CN.json\")\n  };\n}; // ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\",\\n\"; done\n\n\nmodule.exports.all = [\"bg-BG\", \"da-DK\", \"de-DE\", \"en-US\", \"es-ES\", \"fr-FR\", \"he-IL\", \"hr-HR\", \"hu-HU\", \"it-IT\", \"nl-NL\", \"pt-BR\", \"pt-PT\", \"ru-RU\", \"se-SE\", \"sr-RS\", \"zh-CN\"];\nmodule.exports.onlyTranslated = [\"en-US\", \"es-ES\"];","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tpbkdf2.pbkdf2(\r\n\t\t\tpass,\r\n\t\t\tsalt,\r\n\t\t\titerations,\r\n\t\t\tkeylen,\r\n\t\t\tdigiset,\r\n\t\t\t(err, derivedKey) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn reject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst res = derivedKey.toString(encoding)\r\n\r\n\t\t\t\treturn resolve(res)\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}\r\n\r\nasync function getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport async function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path,\r\n\t}\r\n}\r\n\r\nasync function encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn await encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport async function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\r\n\t\treturn legacyEncrypted\r\n\t} else {\r\n\t\tconst encrypted = await encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t\treturn encrypted\r\n\t}\r\n}\r\n\r\nexport async function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = await decrypt(\r\n\t\t\tdata,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport async function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = await generateWallet(mnemonic)\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst data = await encrData({ data: walletData, email, password, authType })\r\n\tawait saveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = await getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = await encrKey({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\r\n\t\t})\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport async function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = await encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport async function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = await encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport async function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport async function getLocalWallet({\r\n\temail,\r\n\tpassword,\r\n\tauthType,\r\n\tgetEncrypted,\r\n}) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst walletKeys = Object.keys(wallet)\r\n\r\n\t\tconst decrypts = walletKeys.map(async key => {\r\n\t\t\t// props[key] = await decrData({\r\n\t\t\t// \tdata: wallet[key],\r\n\t\t\t// \temail,\r\n\t\t\t// \tpassword,\r\n\t\t\t// \tauthType,\r\n\t\t\t// })\r\n\r\n\t\t\tconst decryptedData = await decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn decryptedData\r\n\t\t})\r\n\r\n\t\tconst decryptedData = await Promise.all(decrypts)\r\n\r\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\r\n\t\t\tprops[key] = decryptedData[index]\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn decryptedWallet\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport async function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/ramp.1b4e7993.svg\";","module.exports = __webpack_public_path__ + \"static/media/wyre.88a9c74f.svg\";","module.exports = __webpack_public_path__ + \"static/media/paytrie.d5796d80.svg\";","module.exports = __webpack_public_path__ + \"static/media/GS-fund-ic.a3c1ce2c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MWE5YjZhZS0zYjg3LWZlNDAtYjc2Zi05ZWQwZGY2M2IzOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjAyOTAwYy1mYWQxLTZkNDctYmMyZi0wZDg0ZTg5MDgzZDUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTk2YjBhMi02OWJjLTVjNGUtOTIxZS1hNjcwMGNjZjIzYjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowODoxMSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq0lBPoAABGCSURBVHja7d0JlBT1ncDx8TauuyYRdxVdTXY3Hk9WfZrEczUx3jMwI/c9HIJBOQSCQECQWwGVQ2PkUkCQYNQowWON0c0q66pI9OGiAkEuueWQ4Zb/VrUzzdycAz09n99739cw0wNidX1e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\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute, notifyNewTOS } from 'actions'\r\nglobal.meta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA = '', versionB = '') => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = global.meta || {}\r\n\t\t\t\tconst shouldForceRefresh =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestVersion, currentVersion)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst shouldNotifyNewTOS =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestTOS, currentTOS)\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n"],"sourceRoot":""}